(self.webpackChunksingle_web_page=self.webpackChunksingle_web_page||[]).push([[179],{8255:wt=>{function je(X){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+X+"'");throw l.code="MODULE_NOT_FOUND",l})}je.keys=()=>[],je.resolve=je,je.id=8255,wt.exports=je},7716:(wt,je,X)=>{"use strict";X.d(je,{deG:()=>Ks,tb:()=>Ey,AFp:()=>cd,ip1:()=>Tp,CZH:()=>ah,hGG:()=>Mw,z2F:()=>V4,sBO:()=>I9,Sil:()=>j6,_Vd:()=>M4,EJc:()=>Sp,SBq:()=>Ua,qLn:()=>g2,vpe:()=>ja,gxx:()=>Ko,tBr:()=>Sr,XFs:()=>ct,OlP:()=>St,zs3:()=>gr,ZZ4:()=>U8,aQg:()=>j5,soG:()=>ld,YKP:()=>S9,v3s:()=>By,h0i:()=>I4,PXZ:()=>Mm,R0b:()=>fo,FiY:()=>Qr,Lbi:()=>xp,g9A:()=>wy,Qsj:()=>w9,FYo:()=>F8,JOm:()=>ra,Tiy:()=>A9,q3G:()=>pn,tp0:()=>pi,EAV:()=>Zy,Rgc:()=>j8,dDg:()=>Ny,DyG:()=>vl,q4F:()=>U5,GfV:()=>H8,s_b:()=>Z5,ifc:()=>lt,eFA:()=>Tm,G48:()=>Ry,Gpc:()=>ae,X6Q:()=>hd,_c5:()=>ww,VLi:()=>sw,c2e:()=>My,zSh:()=>mr,wAp:()=>kt,vHH:()=>Te,EiD:()=>_u,mCW:()=>To,qzn:()=>ys,JVY:()=>_3,pB0:()=>b3,eBb:()=>A0,L6k:()=>Al,LAX:()=>Rh,cg1:()=>_6,Tjo:()=>Cw,kL8:()=>Bg,yhl:()=>f2,dqk:()=>bn,sIi:()=>tt,CqO:()=>v4,QGY:()=>Gu,F4k:()=>z7,RDi:()=>Zc,AaK:()=>me,z3N:()=>vs,qOj:()=>gf,TTD:()=>Z4,_Bn:()=>y9,xp6:()=>zd,uIk:()=>Le,ekj:()=>Af,Suo:()=>nd,Xpm:()=>pt,lG2:()=>vo,Yz7:()=>rn,cJS:()=>Xn,oAB:()=>wi,Yjl:()=>Ei,Y36:()=>d6,_UZ:()=>T8,qZA:()=>b5,TgZ:()=>_5,EpF:()=>P7,n5z:()=>c0,Ikx:()=>I5,LFG:()=>Tn,$8M:()=>ou,NdJ:()=>C5,CRH:()=>nh,oxw:()=>x8,ALo:()=>O4,xi3:()=>ty,Hsn:()=>Cg,F$t:()=>w5,Q6J:()=>y5,DdM:()=>dp,VKq:()=>Y8,kEZ:()=>J9,iGM:()=>em,MAs:()=>T7,CHM:()=>t1,oJD:()=>w1,LSH:()=>fc,kYT:()=>Os,YNc:()=>m4,_uU:()=>Z7,Oqu:()=>Tf,hij:()=>N8,Gf:()=>yt});var l=X(9765),B=X(5319),V=X(7574),he=X(6682),De=X(8819);function ge(i){for(let o in i)if(i[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function Re(i,o){for(const c in o)o.hasOwnProperty(c)&&!i.hasOwnProperty(c)&&(i[c]=o[c])}function me(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(me).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function pe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const F=ge({__forward_ref__:ge});function ae(i){return i.__forward_ref__=ae,i.toString=function(){return me(this())},i}function te(i){return se(i)?i():i}function se(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===ae}class Te extends Error{constructor(o,c){super(function(i,o){return`${i?`NG0${i}: `:""}${o}`}(o,c)),this.code=o}}function Ie(i){return"string"==typeof i?i:null==i?"":String(i)}function Oe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ie(i)}function Bt(i,o){const c=o?` in ${o}`:"";throw new Te("201",`No provider for ${Oe(i)} found${c}`)}function mt(i,o){null==i&&function(i,o,c,f){throw new Error(`ASSERTION ERROR: ${i}`+(null==f?"":` [Expected=> ${c} ${f} ${o} <=Actual]`))}(o,i,null,"!=")}function rn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function ir(i){return ji(i,Kt)||ji(i,wr)}function ji(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ka(i){return i&&(i.hasOwnProperty(zt)||i.hasOwnProperty(kn))?i[zt]:null}const Kt=ge({\u0275prov:ge}),zt=ge({\u0275inj:ge}),wr=ge({ngInjectableDef:ge}),kn=ge({ngInjectorDef:ge});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let en;function An(i){const o=en;return en=i,o}function Ls(i,o,c){const f=ir(i);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&ct.Optional?null:void 0!==o?o:void Bt(me(i),"Injector")}function qi(i){return{toString:i}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const Pt="undefined"!=typeof globalThis&&globalThis,Sn="undefined"!=typeof window&&window,go="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=Pt||"undefined"!=typeof global&&global||Sn||go,Mn={},ie=[],re=ge({\u0275cmp:ge}),ve=ge({\u0275dir:ge}),K=ge({\u0275pipe:ge}),Q=ge({\u0275mod:ge}),ce=ge({\u0275loc:ge}),_e=ge({\u0275fac:ge}),He=ge({__NG_ELEMENT_ID__:ge});let Ke=0;function pt(i){return qi(()=>{const c={},f={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ie,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||lt.Emulated,id:"c",styles:i.styles||ie,_:null,setInput:null,schemas:i.schemas||null,tView:null},g=i.directives,y=i.features,w=i.pipes;return f.id+=Ke++,f.inputs=_r(i.inputs,c),f.outputs=_r(i.outputs),y&&y.forEach(A=>A(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(dn):null,f.pipeDefs=w?()=>("function"==typeof w?w():w).map(un):null,f})}function dn(i){return Mr(i)||function(i){return i[ve]||null}(i)}function un(i){return function(i){return i[K]||null}(i)}const or={};function wi(i){return qi(()=>{const o={type:i.type,bootstrap:i.bootstrap||ie,declarations:i.declarations||ie,imports:i.imports||ie,exports:i.exports||ie,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(or[i.id]=i.type),o})}function Os(i,o){return qi(()=>{const c=yo(i,!0);c.declarations=o.declarations||ie,c.imports=o.imports||ie,c.exports=o.exports||ie})}function _r(i,o){if(null==i)return Mn;const c={};for(const f in i)if(i.hasOwnProperty(f)){let g=i[f],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),c[g]=f,o&&(o[g]=y)}return c}const vo=pt;function Ei(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Mr(i){return i[re]||null}function yo(i,o){const c=i[Q]||null;if(!c&&!0===o)throw new Error(`Type ${me(i)} does not have '\u0275mod' property.`);return c}function er(i){return Array.isArray(i)&&"object"==typeof i[1]}function _o(i){return Array.isArray(i)&&!0===i[1]}function Bc(i){return 0!=(8&i.flags)}function Yn(i){return 2==(2&i.flags)}function W1(i){return 1==(1&i.flags)}function as(i){return null!==i.template}function bo(i){return 0!=(512&i[2])}function Ti(i,o){return i.hasOwnProperty(_e)?i[_e]:null}class ol{constructor(o,c,f){this.previousValue=o,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function Z4(){return Gc}function Gc(i){return i.type.prototype.ngOnChanges&&(i.setInput=W4),$4}function $4(){const i=r3(this),o=null==i?void 0:i.current;if(o){const c=i.previous;if(c===Mn)i.previous=o;else for(let f in o)c[f]=o[f];i.current=null,this.ngOnChanges(o)}}function W4(i,o,c,f){const g=r3(i)||function(i,o){return i[e1]=o}(i,{previous:Mn,current:null}),y=g.current||(g.current={}),w=g.previous,A=this.declaredInputs[c],x=w[A];y[A]=new ol(x&&x.currentValue,o,w===Mn),i[f]=o}Z4.ngInherit=!0;const e1="__ngSimpleChanges__";function r3(i){return i[e1]||null}let al;function Zc(i){al=i}function cl(){return void 0!==al?al:"undefined"!=typeof document?document:void 0}function on(i){return!!i.listen}const Lt={createRenderer:(i,o)=>cl()};function Pn(i){for(;Array.isArray(i);)i=i[0];return i}function va(i,o){return Pn(o[i])}function $i(i,o){return Pn(o[i.index])}function Fs(i,o){return i.data[o]}function Hs(i,o){return i[o]}function Ii(i,o){const c=o[i];return er(c)?c:c[0]}function wo(i){return 4==(4&i[2])}function Q4(i){return 128==(128&i[2])}function Us(i,o){return null==o?null:i[o]}function xi(i){i[18]=0}function ya(i,o){i[5]+=o;let c=i,f=i[3];for(;null!==f&&(1===o&&1===c[5]||-1===o&&0===c[5]);)f[5]+=o,c=f,f=f[3]}const Nt={lFrame:Di(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function X4(){return Nt.bindingsEnabled}function Ze(){return Nt.lFrame.lView}function sn(){return Nt.lFrame.tView}function t1(i){return Nt.lFrame.contextLView=i,i[8]}function Qn(){let i=Bs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Bs(){return Nt.lFrame.currentTNode}function ui(i,o){const c=Nt.lFrame;c.currentTNode=i,c.isParent=o}function Yc(){return Nt.lFrame.isParent}function js(){Nt.lFrame.isParent=!1}function r1(){return Nt.isInCheckNoChangesMode}function _a(i){Nt.isInCheckNoChangesMode=i}function zn(){const i=Nt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function us(){return Nt.lFrame.bindingIndex++}function Jc(i,o){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=i,Rr(o)}function Rr(i){Nt.lFrame.currentDirectiveIndex=i}function tu(){return Nt.lFrame.currentQueryIndex}function X1(i){Nt.lFrame.currentQueryIndex=i}function s3(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function e0(i,o,c){if(c&ct.SkipSelf){let g=o,y=i;for(;!(g=g.parent,null!==g||c&ct.Host||(g=s3(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;o=g,i=y}const f=Nt.lFrame=qs();return f.currentTNode=o,f.lView=i,!0}function e2(i){const o=qs(),c=i[1];Nt.lFrame=o,o.currentTNode=c.firstChild,o.lView=i,o.tView=c,o.contextLView=i,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function qs(){const i=Nt.lFrame,o=null===i?null:i.child;return null===o?Di(i):o}function Di(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function t0(){const i=Nt.lFrame;return Nt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Gs=t0;function fs(){const i=t0();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function nr(){return Nt.lFrame.selectedIndex}function hs(i){Nt.lFrame.selectedIndex=i}function ar(){const i=Nt.lFrame;return Fs(i.tView,i.selectedIndex)}function Ho(i,o){for(let c=o.directiveStart,f=o.directiveEnd;c<f;c++){const y=i.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:k,ngOnDestroy:P}=y;w&&(i.contentHooks||(i.contentHooks=[])).push(-c,w),A&&((i.contentHooks||(i.contentHooks=[])).push(c,A),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(c,A)),x&&(i.viewHooks||(i.viewHooks=[])).push(-c,x),k&&((i.viewHooks||(i.viewHooks=[])).push(c,k),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(c,k)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(c,P)}}function ba(i,o,c){Ca(i,o,3,c)}function X2(i,o,c,f){(3&i[2])===c&&Ca(i,o,c,f)}function nu(i,o){let c=i[2];(3&c)===o&&(c&=2047,c+=1,i[2]=c)}function Ca(i,o,c,f){const y=null!=f?f:-1,w=o.length-1;let A=0;for(let x=void 0!==f?65535&i[18]:0;x<w;x++)if("number"==typeof o[x+1]){if(A=o[x],null!=f&&A>=f)break}else o[x]<0&&(i[18]+=65536),(A<y||-1==y)&&(o1(i,c,o,x),i[18]=(4294901760&i[18])+x+2),x++}function o1(i,o,c,f){const g=c[f]<0,y=c[f+1],A=i[g?-c[f]:c[f]];if(g){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{y.call(A)}finally{}}}else try{y.call(A)}finally{}}class ec{constructor(o,c,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function fl(i,o,c){const f=on(i);let g=0;for(;g<c.length;){const y=c[g];if("number"==typeof y){if(0!==y)break;g++;const w=c[g++],A=c[g++],x=c[g++];f?i.setAttribute(o,A,x,w):o.setAttributeNS(w,A,x)}else{const w=y,A=c[++g];Eo(w)?f&&i.setProperty(o,w,A):f?i.setAttribute(o,w,A):o.setAttribute(w,A),g++}}return g}function f3(i){return 3===i||4===i||6===i}function Eo(i){return 64===i.charCodeAt(0)}function tc(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let c=-1;for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?c=g:0===c||t2(i,c,g,null,-1===c||2===c?o[++f]:null)}}return i}function t2(i,o,c,f,g){let y=0,w=i.length;if(-1===o)w=-1;else for(;y<i.length;){const A=i[y++];if("number"==typeof A){if(A===o){w=-1;break}if(A>o){w=y-1;break}}}for(;y<i.length;){const A=i[y];if("number"==typeof A)break;if(A===c){if(null===f)return void(null!==g&&(i[y+1]=g));if(f===i[y+1])return void(i[y+2]=g)}y++,null!==f&&y++,null!==g&&y++}-1!==w&&(i.splice(w,0,o),y=w+1),i.splice(y++,0,c),null!==f&&i.splice(y++,0,f),null!==g&&i.splice(y++,0,g)}function iu(i){return-1!==i}function Uo(i){return 32767&i}function On(i,o){let c=function(i){return i>>16}(i),f=o;for(;c>0;)f=f[15],c--;return f}let hl=!0;function Ao(i){const o=hl;return hl=i,o}let pl=0;function ps(i,o){const c=Xt(i,o);if(-1!==c)return c;const f=o[1];f.firstCreatePass&&(i.injectorIndex=o.length,wa(f.data,i),wa(o,null),wa(f.blueprint,null));const g=n2(i,o),y=i.injectorIndex;if(iu(g)){const w=Uo(g),A=On(g,o),x=A[1].data;for(let k=0;k<8;k++)o[y+k]=A[w+k]|x[w+k]}return o[y+8]=g,y}function wa(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Xt(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function n2(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let c=0,f=null,g=o;for(;null!==g;){const y=g[1],w=y.type;if(f=2===w?y.declTNode:1===w?g[6]:null,null===f)return-1;if(c++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function rr(i,o,c){!function(i,o,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(He)&&(f=c[He]),null==f&&(f=c[He]=pl++);const g=255&f;o.data[i+(g>>5)]|=1<<g}(i,o,c)}function ml(i,o,c){if(c&ct.Optional)return i;Bt(o,"NodeInjector")}function xt(i,o,c,f){if(c&ct.Optional&&void 0===f&&(f=null),0==(c&(ct.Self|ct.Host))){const g=i[9],y=An(void 0);try{return g?g.get(o,f,c&ct.Optional):Ls(o,f,c&ct.Optional)}finally{An(y)}}return ml(f,o,c)}function a0(i,o,c,f=ct.Default,g){if(null!==i){const y=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(He)?i[He]:void 0;return"number"==typeof o?o>=0?255&o:$s:o}(c);if("function"==typeof y){if(!e0(o,i,f))return f&ct.Host?ml(g,c,f):xt(o,c,f,g);try{const w=y(f);if(null!=w||f&ct.Optional)return w;Bt(c)}finally{Gs()}}else if("number"==typeof y){let w=null,A=Xt(i,o),x=-1,k=f&ct.Host?o[16][6]:null;for((-1===A||f&ct.SkipSelf)&&(x=-1===A?n2(i,o):o[A+8],-1!==x&&Pr(f,!1)?(w=o[1],A=Uo(x),o=On(x,o)):A=-1);-1!==A;){const P=o[1];if(ht(y,A,P.data)){const q=cr(A,o,c,w,f,k);if(q!==jn)return q}x=o[A+8],-1!==x&&Pr(f,o[1].data[A+8]===k)&&ht(y,A,o)?(w=P,A=Uo(x),o=On(x,o)):A=-1}}}return xt(o,c,f,g)}const jn={};function $s(){return new ki(Qn(),Ze())}function cr(i,o,c,f,g,y){const w=o[1],A=w.data[i+8],P=u1(A,w,c,null==f?Yn(A)&&hl:f!=w&&0!=(3&A.type),g&ct.Host&&y===A);return null!==P?l1(o,w,P,A):jn}function u1(i,o,c,f,g){const y=i.providerIndexes,w=o.data,A=1048575&y,x=i.directiveStart,P=y>>20,W=g?A+P:i.directiveEnd;for(let oe=f?A:A+P;oe<W;oe++){const fe=w[oe];if(oe<x&&c===fe||oe>=x&&fe.type===c)return oe}if(g){const oe=w[x];if(oe&&as(oe)&&oe.type===c)return x}return null}function l1(i,o,c,f){let g=i[c];const y=o.data;if(function(i){return i instanceof ec}(g)){const w=g;w.resolving&&function(i,o){throw new Te("200",`Circular dependency in DI detected for ${i}`)}(Oe(y[c]));const A=Ao(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?An(w.injectImpl):null;e0(i,f,ct.Default);try{g=i[c]=w.factory(void 0,y,i,f),o.firstCreatePass&&c>=f.directiveStart&&function(i,o,c){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:y}=o.type.prototype;if(f){const w=Gc(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(i,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(i,w)}g&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-i,g),y&&((c.preOrderHooks||(c.preOrderHooks=[])).push(i,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(i,y))}(c,y[c],o)}finally{null!==x&&An(x),Ao(A),w.resolving=!1,Gs()}}return g}function ht(i,o,c){return!!(c[o+(i>>5)]&1<<i)}function Pr(i,o){return!(i&ct.Self||i&ct.Host&&o)}class ki{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,f){return a0(this._tNode,this._lView,o,f,c)}}function c0(i){return qi(()=>{const o=i.prototype.constructor,c=o[_e]||u0(o),f=Object.prototype;let g=Object.getPrototypeOf(i.prototype).constructor;for(;g&&g!==f;){const y=g[_e]||u0(g);if(y&&y!==c)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function u0(i){return se(i)?()=>{const o=u0(te(i));return o&&o()}:Ti(i)}function ou(i){return function(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const c=i.attrs;if(c){const f=c.length;let g=0;for(;g<f;){const y=c[g];if(f3(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<f&&"string"==typeof c[g];)g++;else{if(y===o)return c[g+1];g+=2}}}return null}(Qn(),i)}const f1="__parameters__";function Ws(i,o,c){return qi(()=>{const f=function(i){return function(...c){if(i){const f=i(...c);for(const g in f)this[g]=f[g]}}}(o);function g(...y){if(this instanceof g)return f.apply(this,y),this;const w=new g(...y);return A.annotation=w,A;function A(x,k,P){const q=x.hasOwnProperty(f1)?x[f1]:Object.defineProperty(x,f1,{value:[]})[f1];for(;q.length<=P;)q.push(null);return(q[P]=q[P]||[]).push(w),x}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=i,g.annotationCls=g,g})}class St{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ks=new St("AnalyzeForEntryComponents"),vl=Function;function Li(i,o){void 0===o&&(o=i);for(let c=0;c<i.length;c++){let f=i[c];Array.isArray(f)?(o===i&&(o=i.slice(0,c)),Li(f,o)):o!==i&&o.push(f)}return o}function Vr(i,o){i.forEach(c=>Array.isArray(c)?Vr(c,o):o(c))}function Ys(i,o,c){o>=i.length?i.push(c):i.splice(o,0,c)}function Ma(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Ta(i,o){const c=[];for(let f=0;f<i;f++)c.push(o);return c}function Qi(i,o,c){let f=o2(i,o);return f>=0?i[1|f]=c:(f=~f,function(i,o,c,f){let g=i.length;if(g==o)i.push(c,f);else if(1===g)i.push(f,i[0]),i[0]=c;else{for(g--,i.push(i[g-1],i[g]);g>o;)i[g]=i[g-2],g--;i[o]=c,i[o+1]=f}}(i,f,o,c)),f}function Ji(i,o){const c=o2(i,o);if(c>=0)return i[1|c]}function o2(i,o){return function(i,o,c){let f=0,g=i.length>>c;for(;g!==f;){const y=f+(g-f>>1),w=i[y<<c];if(o===w)return y<<c;w>o?g=y:f=y+1}return~(g<<c)}(i,o,1)}const a2={},oc="__NG_DI_FLAG__",hi="ngTempTokenPath",c2=/\n/gm,du="__source",g1=ge({provide:String,useValue:ge});let Bo;function jo(i){const o=Bo;return Bo=i,o}function Js(i,o=ct.Default){if(void 0===Bo)throw new Error("inject() must be called from an injection context");return null===Bo?Ls(i,void 0,o):Bo.get(i,o&ct.Optional?null:void 0,o)}function Tn(i,o=ct.Default){return(en||Js)(te(i),o)}function v1(i){const o=[];for(let c=0;c<i.length;c++){const f=te(i[c]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let g,y=ct.Default;for(let w=0;w<f.length;w++){const A=f[w],x=bl(A);"number"==typeof x?-1===x?g=A.token:y|=x:g=A}o.push(Tn(g,y))}else o.push(Tn(f))}return o}function di(i,o){return i[oc]=o,i.prototype[oc]=o,i}function bl(i){return i[oc]}function v0(i,o,c,f){const g=i[hi];throw o[du]&&g.unshift(o[du]),i.message=function(i,o,c,f=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let g=me(o);if(Array.isArray(o))g=o.map(me).join(" -> ");else if("object"==typeof o){let y=[];for(let w in o)if(o.hasOwnProperty(w)){let A=o[w];y.push(w+":"+("string"==typeof A?JSON.stringify(A):me(A)))}g=`{${y.join(", ")}}`}return`${c}${f?"("+f+")":""}[${g}]: ${i.replace(c2,"\n  ")}`}("\n"+i.message,g,c,f),i.ngTokenPath=g,i[hi]=null,i}const Sr=di(Ws("Inject",i=>({token:i})),-1),Qr=di(Ws("Optional"),8),pi=di(Ws("SkipSelf"),4);let Jr,y1;function Xr(i){var o;return(null===(o=function(){if(void 0===Jr&&(Jr=null,bn.trustedTypes))try{Jr=bn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Jr}())||void 0===o?void 0:o.createHTML(i))||i}function ac(i){var o;return(null===(o=function(){if(void 0===y1&&(y1=null,bn.trustedTypes))try{y1=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return y1}())||void 0===o?void 0:o.createHTML(i))||i}class Go{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class E0 extends Go{getTypeName(){return"HTML"}}class Da extends Go{getTypeName(){return"Style"}}class vu extends Go{getTypeName(){return"Script"}}class yu extends Go{getTypeName(){return"URL"}}class ei extends Go{getTypeName(){return"ResourceURL"}}function vs(i){return i instanceof Go?i.changingThisBreaksApplicationSecurity:i}function ys(i,o){const c=f2(i);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function f2(i){return i instanceof Go&&i.getTypeName()||null}function _3(i){return new E0(i)}function Al(i){return new Da(i)}function A0(i){return new vu(i)}function Rh(i){return new yu(i)}function b3(i){return new ei(i)}class cc{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Xr(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Fr{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Xr(o),c;const f=this.inertDocument.createElement("body");return f.innerHTML=Xr(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const c=o.attributes;for(let g=c.length-1;0<g;g--){const w=c.item(g).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&o.removeAttribute(w)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const _s=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function To(i){return(i=String(i)).match(_s)||i.match(_1)?i:"unsafe:"+i}function mi(i){const o={};for(const c of i.split(","))o[c]=!0;return o}function Zo(...i){const o={};for(const c of i)for(const f in c)c.hasOwnProperty(f)&&(o[f]=!0);return o}const T0=mi("area,br,col,hr,img,wbr"),h2=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C3=mi("rp,rt"),Na=Zo(T0,Zo(h2,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zo(C3,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zo(C3,h2)),b1=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Io=mi("srcset"),bs=Zo(b1,Io,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xl=mi("script,style,template");class E3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let g=this.checkClobberedElement(c,c.nextSibling);if(g){c=g;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Na.hasOwnProperty(c))return this.sanitizedSomething=!0,!xl.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=o.attributes;for(let g=0;g<f.length;g++){const y=f.item(g),w=y.name,A=w.toLowerCase();if(!bs.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let x=y.value;b1[A]&&(x=To(x)),Io[A]&&(i=x,x=(i=String(i)).split(",").map(o=>To(o.trim())).join(", ")),this.buf.push(" ",w,'="',uc(x),'"')}var i;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Na.hasOwnProperty(c)&&!T0.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(uc(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const ea=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C1=/([^\#-~ |!])/g;function uc(i){return i.replace(/&/g,"&amp;").replace(ea,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(C1,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hr;function _u(i,o){let c=null;try{Hr=Hr||function(i){const o=new Fr(i);return function(){try{return!!(new window.DOMParser).parseFromString(Xr(""),"text/html")}catch(i){return!1}}()?new cc(o):o}(i);let f=o?String(o):"";c=Hr.getInertBodyElement(f);let g=5,y=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=y,y=c.innerHTML,c=Hr.getInertBodyElement(f)}while(f!==y);return Xr((new E3).sanitizeChildren($o(c)||c))}finally{if(c){const f=$o(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function $o(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function w1(i){const o=ka();return o?ac(o.sanitize(pn.HTML,i)||""):ys(i,"HTML")?ac(vs(i)):_u(cl(),Ie(i))}function fc(i){const o=ka();return o?o.sanitize(pn.URL,i)||"":ys(i,"URL")?vs(i):To(Ie(i))}function ka(){const i=Ze();return i&&i[12]}const S0="__ngContext__";function ri(i,o){i[S0]=o}function xo(i){const o=function(i){return i[S0]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Ll(i){return i.ngOriginalError}function Uh(i,...o){i.error(...o)}class g2{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),f=this._findContext(o),g=(i=o)&&i.ngErrorLogger||Uh;var i;g(this._console,"ERROR",o),c&&g(this._console,"ORIGINAL ERROR",c),f&&g(this._console,"ERROR CONTEXT",f)}_findContext(o){return o?o.ngDebugContext||this._findContext(Ll(o)):null}_findOriginalError(o){let c=o&&Ll(o);for(;c&&Ll(c);)c=Ll(c);return c||null}}const Ol=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function na(i){return i instanceof Function?i():i}var ra=(()=>((ra=ra||{})[ra.Important=1]="Important",ra[ra.DashCase=2]="DashCase",ra))();function _2(i,o){return undefined(i,o)}function A1(i){const o=i[3];return _o(o)?o[3]:o}function Rl(i){return vc(i[13])}function Pl(i){return vc(i[4])}function vc(i){for(;null!==i&&!_o(i);)i=i[4];return i}function yc(i,o,c,f,g){if(null!=f){let y,w=!1;_o(f)?y=f:er(f)&&(w=!0,f=f[0]);const A=Pn(f);0===i&&null!==c?null==g?j(o,c,A):O(o,c,A,g||null,!0):1===i&&null!==c?O(o,c,A,g||null,!0):2===i?function(i,o,c){const f=ne(i,o);f&&function(i,o,c,f){on(i)?i.removeChild(o,c,f):o.removeChild(c)}(i,f,o,c)}(o,A,w):3===i&&o.destroyNode(A),null!=y&&function(i,o,c,f,g){const y=c[7];y!==Pn(c)&&yc(o,i,f,y,g);for(let A=10;A<c.length;A++){const x=c[A];_c(x[1],x,i,o,f,y)}}(o,i,y,c,g)}}function P0(i,o,c){return on(i)?i.createElement(o,c):null===c?i.createElement(o):i.createElementNS(c,o)}function Eu(i,o){const c=i[9],f=c.indexOf(o),g=o[3];1024&o[2]&&(o[2]&=-1025,ya(g,-1)),c.splice(f,1)}function z3(i,o){if(i.length<=10)return;const c=10+o,f=i[c];if(f){const g=f[17];null!==g&&g!==i&&Eu(g,f),o>0&&(i[c-1][4]=f[4]);const y=Ma(i,10+o);!function(i,o){_c(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const w=y[19];null!==w&&w.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function p(i,o){if(!(256&o[2])){const c=o[11];on(c)&&c.destroyNode&&_c(i,o,c,3,null,null),function(i){let o=i[13];if(!o)return d(i[1],i);for(;o;){let c=null;if(er(o))c=o[13];else{const f=o[10];f&&(c=f)}if(!c){for(;o&&!o[4]&&o!==i;)er(o)&&d(o[1],o),o=o[3];null===o&&(o=i),er(o)&&d(o[1],o),c=o&&o[4]}o=c}}(o)}}function d(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(i,o){let c;if(null!=i&&null!=(c=i.destroyHooks))for(let f=0;f<c.length;f+=2){const g=o[c[f]];if(!(g instanceof ec)){const y=c[f+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const A=g[y[w]],x=y[w+1];try{x.call(A)}finally{}}else try{y.call(g)}finally{}}}}(i,o),function(i,o){const c=i.cleanup,f=o[7];let g=-1;if(null!==c)for(let y=0;y<c.length-1;y+=2)if("string"==typeof c[y]){const w=c[y+1],A="function"==typeof w?w(o):Pn(o[w]),x=f[g=c[y+2]],k=c[y+3];"boolean"==typeof k?A.removeEventListener(c[y],x,k):k>=0?f[g=k]():f[g=-k].unsubscribe(),y+=2}else{const w=f[g=c[y+1]];c[y].call(w)}if(null!==f){for(let y=g+1;y<f.length;y++)f[y]();o[7]=null}}(i,o),1===o[1].type&&on(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&_o(o[3])){c!==o[3]&&Eu(c,o);const f=o[19];null!==f&&f.detachView(i)}}}function T(i,o,c){return function(i,o,c){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return c[0];if(2&f.flags){const g=i.data[f.directiveStart].encapsulation;if(g===lt.None||g===lt.Emulated)return null}return $i(f,c)}(i,o.parent,c)}function O(i,o,c,f,g){on(i)?i.insertBefore(o,c,f,g):o.insertBefore(c,f,g)}function j(i,o,c){on(i)?i.appendChild(o,c):o.appendChild(c)}function Z(i,o,c,f,g){null!==f?O(i,o,c,f,g):j(i,o,c)}function ne(i,o){return on(i)?i.parentNode(o):o.parentNode}function Pe(i,o,c){return rt(i,o,c)}let rt=function(i,o,c){return 40&i.type?$i(i,c):null};function Xe(i,o,c,f){const g=T(i,f,o),y=o[11],A=Pe(f.parent||o[6],f,o);if(null!=g)if(Array.isArray(c))for(let x=0;x<c.length;x++)Z(y,g,c[x],A,!1);else Z(y,g,c,A,!1)}function Gn(i,o){if(null!==o){const c=o.type;if(3&c)return $i(o,i);if(4&c)return ia(-1,i[o.index]);if(8&c){const f=o.child;if(null!==f)return Gn(i,f);{const g=i[o.index];return _o(g)?ia(-1,g):Pn(g)}}if(32&c)return _2(o,i)()||Pn(i[o.index]);{const f=no(i,o);return null!==f?Array.isArray(f)?f[0]:Gn(A1(i[16]),f):Gn(i,o.next)}}return null}function no(i,o){return null!==o?i[16][6].projection[o.projection]:null}function ia(i,o){const c=10+i+1;if(c<o.length){const f=o[c],g=f[1].firstChild;if(null!==g)return Gn(f,g)}return o[7]}function M1(i,o,c,f,g,y,w){for(;null!=c;){const A=f[c.index],x=c.type;if(w&&0===o&&(A&&ri(Pn(A),f),c.flags|=4),64!=(64&c.flags))if(8&x)M1(i,o,c.child,f,g,y,!1),yc(o,i,g,A,y);else if(32&x){const k=_2(c,f);let P;for(;P=k();)yc(o,i,g,P,y);yc(o,i,g,A,y)}else 16&x?V3(i,o,f,c,g,y):yc(o,i,g,A,y);c=w?c.projectionNext:c.next}}function _c(i,o,c,f,g,y){M1(c,f,i.firstChild,o,g,y,!1)}function V3(i,o,c,f,g,y){const w=c[16],x=w[6].projection[f.projection];if(Array.isArray(x))for(let k=0;k<x.length;k++)yc(o,i,g,x[k],y);else M1(i,o,x,w[3],g,y,!0)}function vi(i,o,c){on(i)?i.setAttribute(o,"style",c):o.style.cssText=c}function Oa(i,o,c){on(i)?""===c?i.removeAttribute(o,"class"):i.setAttribute(o,"class",c):o.className=c}function F3(i,o,c){let f=i.length;for(;;){const g=i.indexOf(o,c);if(-1===g)return g;if(0===g||i.charCodeAt(g-1)<=32){const y=o.length;if(g+y===f||i.charCodeAt(g+y)<=32)return g}c=g+1}}const V0="ng-template";function Hl(i,o,c){let f=0;for(;f<i.length;){let g=i[f++];if(c&&"class"===g){if(g=i[f],-1!==F3(g.toLowerCase(),o,0))return!0}else if(1===g){for(;f<i.length&&"string"==typeof(g=i[f++]);)if(g.toLowerCase()===o)return!0;return!1}}return!1}function Ul(i){return 4===i.type&&i.value!==V0}function Mu(i,o,c){return o===(4!==i.type||c?i.value:V0)}function H3(i,o,c){let f=4;const g=i.attrs||[],y=function(i){for(let o=0;o<i.length;o++)if(f3(i[o]))return o;return i.length}(g);let w=!1;for(let A=0;A<o.length;A++){const x=o[A];if("number"!=typeof x){if(!w)if(4&f){if(f=2|1&f,""!==x&&!Mu(i,x,c)||""===x&&1===o.length){if(So(f))return!1;w=!0}}else{const k=8&f?x:o[++A];if(8&f&&null!==i.attrs){if(!Hl(i.attrs,k,c)){if(So(f))return!1;w=!0}continue}const q=Pd(8&f?"class":x,g,Ul(i),c);if(-1===q){if(So(f))return!1;w=!0;continue}if(""!==k){let W;W=q>y?"":g[q+1].toLowerCase();const oe=8&f?W:null;if(oe&&-1!==F3(oe,k,0)||2&f&&k!==W){if(So(f))return!1;w=!0}}}}else{if(!w&&!So(f)&&!So(x))return!1;if(w&&So(x))continue;w=!1,f=x|1&f}}return So(f)||w}function So(i){return 0==(1&i)}function Pd(i,o,c,f){if(null===o)return-1;let g=0;if(f||!c){let y=!1;for(;g<o.length;){const w=o[g];if(w===i)return g;if(3===w||6===w)y=!0;else{if(1===w||2===w){let A=o[++g];for(;"string"==typeof A;)A=o[++g];continue}if(4===w)break;if(0===w){g+=4;continue}}g+=y?1:2}return-1}return function(i,o){let c=i.indexOf(4);if(c>-1)for(c++;c<i.length;){const f=i[c];if("number"==typeof f)return-1;if(f===o)return c;c++}return-1}(o,i)}function Pi(i,o,c=!1){for(let f=0;f<o.length;f++)if(H3(i,o[f],c))return!0;return!1}function $h(i,o){e:for(let c=0;c<o.length;c++){const f=o[c];if(i.length===f.length){for(let g=0;g<i.length;g++)if(i[g]!==f[g])continue e;return!0}}return!1}function B3(i,o){return i?":not("+o.trim()+")":o}function j3(i){let o=i[0],c=1,f=2,g="",y=!1;for(;c<i.length;){let w=i[c];if("string"==typeof w)if(2&f){const A=i[++c];g+="["+w+(A.length>0?'="'+A+'"':"")+"]"}else 8&f?g+="."+w:4&f&&(g+=" "+w);else""!==g&&!So(w)&&(o+=B3(y,g),g=""),f=w,y=y||!So(f);c++}return""!==g&&(o+=B3(y,g)),o}const Vt={};function zd(i){G3(sn(),Ze(),nr()+i,r1())}function G3(i,o,c,f){if(!f)if(3==(3&o[2])){const y=i.preOrderCheckHooks;null!==y&&ba(o,y,c)}else{const y=i.preOrderHooks;null!==y&&X2(o,y,0,c)}hs(c)}function b2(i,o){return i<<17|o<<2}function oa(i){return i>>17&32767}function bc(i){return 2|i}function T1(i){return(131068&i)>>2}function Tu(i,o){return-131069&i|o<<2}function C2(i){return 1|i}function Kl(i,o){const c=i.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const g=c[f],y=c[f+1];if(-1!==y){const w=i.data[y];X1(g),w.contentQueries(2,o[y],y)}}}function E2(i,o,c,f,g,y,w,A,x,k){const P=o.blueprint.slice();return P[0]=g,P[2]=140|f,xi(P),P[3]=P[15]=i,P[8]=c,P[10]=w||i&&i[10],P[11]=A||i&&i[11],P[12]=x||i&&i[12]||null,P[9]=k||i&&i[9]||null,P[6]=y,P[16]=2==o.type?i[16]:P,P}function I1(i,o,c,f,g){let y=i.data[o];if(null===y)y=function(i,o,c,f,g){const y=Bs(),w=Yc(),x=i.data[o]=function(i,o,c,f,g,y){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,c,o,f,g);return null===i.firstChild&&(i.firstChild=x),null!==y&&(w?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}(i,o,c,f,g),Nt.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=c,y.value=f,y.attrs=g;const w=function(){const i=Nt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return ui(y,!0),y}function wc(i,o,c,f){if(0===c)return-1;const g=o.length;for(let y=0;y<c;y++)o.push(f),i.blueprint.push(f),i.data.push(null);return g}function Su(i,o,c){e2(o);try{const f=i.viewQuery;null!==f&&Zn(1,f,c);const g=i.template;null!==g&&Ql(i,o,g,1,c),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Kl(i,o),i.staticViewQueries&&Zn(2,i.viewQuery,c);const y=i.components;null!==y&&function(i,o){for(let c=0;c<o.length;c++)a8(i,o[c])}(o,y)}catch(f){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),f}finally{o[2]&=-5,fs()}}function Pa(i,o,c,f){const g=o[2];if(256==(256&g))return;e2(o);const y=r1();try{xi(o),function(i){Nt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==c&&Ql(i,o,c,2,f);const w=3==(3&g);if(!y)if(w){const k=i.preOrderCheckHooks;null!==k&&ba(o,k,null)}else{const k=i.preOrderHooks;null!==k&&X2(o,k,0,null),nu(o,0)}if(function(i){for(let o=Rl(i);null!==o;o=Pl(o)){if(!o[2])continue;const c=o[9];for(let f=0;f<c.length;f++){const g=c[f],y=g[3];0==(1024&g[2])&&ya(y,1),g[2]|=1024}}}(o),function(i){for(let o=Rl(i);null!==o;o=Pl(o))for(let c=10;c<o.length;c++){const f=o[c],g=f[1];Q4(f)&&Pa(g,f,g.template,f[8])}}(o),null!==i.contentQueries&&Kl(i,o),!y)if(w){const k=i.contentCheckHooks;null!==k&&ba(o,k)}else{const k=i.contentHooks;null!==k&&X2(o,k,1),nu(o,1)}!function(i,o){const c=i.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)hs(~g);else{const y=g,w=c[++f],A=c[++f];Jc(w,y),A(2,o[y])}}}finally{hs(-1)}}(i,o);const A=i.components;null!==A&&function(i,o){for(let c=0;c<o.length;c++)K0(i,o[c])}(o,A);const x=i.viewQuery;if(null!==x&&Zn(2,x,f),!y)if(w){const k=i.viewCheckHooks;null!==k&&ba(o,k)}else{const k=i.viewHooks;null!==k&&X2(o,k,2),nu(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),y||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,ya(o[3],-1))}finally{fs()}}function J3(i,o,c,f){const g=o[10],y=!r1(),w=wo(o);try{y&&!w&&g.begin&&g.begin(),w&&Su(i,o,f),Pa(i,o,c,f)}finally{y&&!w&&g.end&&g.end()}}function Ql(i,o,c,f,g){const y=nr(),w=2&f;try{hs(-1),w&&o.length>20&&G3(i,o,20,r1()),c(f,g)}finally{hs(y)}}function A2(i,o,c){!X4()||(function(i,o,c,f){const g=c.directiveStart,y=c.directiveEnd;i.firstCreatePass||ps(c,o),ri(f,o);const w=c.initialInputs;for(let A=g;A<y;A++){const x=i.data[A],k=as(x);k&&Kd(o,c,x);const P=l1(o,i,A,c);ri(P,o),null!==w&&Yd(0,A-g,P,x,0,w),k&&(Ii(c.index,o)[8]=P)}}(i,o,c,$i(c,o)),128==(128&c.flags)&&function(i,o,c){const f=c.directiveStart,g=c.directiveEnd,w=c.index,A=Nt.lFrame.currentDirectiveIndex;try{hs(w);for(let x=f;x<g;x++){const k=i.data[x],P=o[x];Rr(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Z0(k,P)}}finally{hs(-1),Rr(A)}}(i,o,c))}function n8(i,o,c=$i){const f=o.localNames;if(null!==f){let g=o.index+1;for(let y=0;y<f.length;y+=2){const w=f[y+1],A=-1===w?c(o,i):i[w];i[g++]=A}}}function Gd(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=x1(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function x1(i,o,c,f,g,y,w,A,x,k){const P=20+f,q=P+g,W=function(i,o){const c=[];for(let f=0;f<o;f++)c.push(f<i?null:Vt);return c}(P,q),oe="function"==typeof k?k():k;return W[1]={type:i,blueprint:W,template:c,queries:null,viewQuery:A,declTNode:o,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:oe,incompleteFirstPass:!1}}function Jl(i,o,c,f){const g=T2(o);null===c?g.push(f):(g.push(c),i.firstCreatePass&&I2(i).push(f,g.length-1))}function Ec(i,o,c){for(let f in i)if(i.hasOwnProperty(f)){const g=i[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(o,g):c[f]=[o,g]}return c}function Do(i,o,c,f,g,y,w,A){const x=$i(o,c);let P,k=o.inputs;!A&&null!=k&&(P=k[f])?(c8(i,c,P,f,g),Yn(o)&&function(i,o){const c=Ii(o,i);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(f=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(f),g=null!=w?w(g,o.value||"",f):g,on(y)?y.setProperty(x,f,g):Eo(f)||(x.setProperty?x.setProperty(f,g):x[f]=g))}function t4(i,o,c,f){let g=!1;if(X4()){const y=function(i,o,c){const f=i.directiveRegistry;let g=null;if(f)for(let y=0;y<f.length;y++){const w=f[y];Pi(c,w.selectors,!1)&&(g||(g=[]),rr(ps(c,o),i,w.type),as(w)?(n4(i,c),g.unshift(w)):g.push(w))}return g}(i,o,c),w=null===f?null:{"":-1};if(null!==y){g=!0,rf(c,i.data.length,y.length);for(let P=0;P<y.length;P++){const q=y[P];q.providersResolver&&q.providersResolver(q)}let A=!1,x=!1,k=wc(i,o,y.length,null);for(let P=0;P<y.length;P++){const q=y[P];c.mergedAttrs=tc(c.mergedAttrs,q.hostAttrs),s8(i,c,o,k,q),nf(k,q,w),null!==q.contentQueries&&(c.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(c.flags|=128);const W=q.type.prototype;!A&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(c.index),A=!0),!x&&(W.ngOnChanges||W.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(c.index),x=!0),k++}!function(i,o){const f=o.directiveEnd,g=i.data,y=o.attrs,w=[];let A=null,x=null;for(let k=o.directiveStart;k<f;k++){const P=g[k],q=P.inputs,W=null===y||Ul(o)?null:io(q,y);w.push(W),A=Ec(q,k,A),x=Ec(P.outputs,k,x)}null!==A&&(A.hasOwnProperty("class")&&(o.flags|=16),A.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=w,o.inputs=A,o.outputs=x}(i,c)}w&&function(i,o,c){if(o){const f=i.localNames=[];for(let g=0;g<o.length;g+=2){const y=c[o[g+1]];if(null==y)throw new Te("301",`Export of name '${o[g+1]}' not found!`);f.push(o[g],y)}}}(c,f,w)}return c.mergedAttrs=tc(c.mergedAttrs,c.attrs),g}function M2(i,o,c,f,g,y){const w=y.hostBindings;if(w){let A=i.hostBindingOpCodes;null===A&&(A=i.hostBindingOpCodes=[]);const x=~o.index;(function(i){let o=i.length;for(;o>0;){const c=i[--o];if("number"==typeof c&&c<0)return c}return 0})(A)!=x&&A.push(x),A.push(f,g,w)}}function Z0(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function n4(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function nf(i,o,c){if(c){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)c[o.exportAs[f]]=i;as(o)&&(c[""]=i)}}function rf(i,o,c){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+c,i.providerIndexes=o}function s8(i,o,c,f,g){i.data[f]=g;const y=g.factory||(g.factory=Ti(g.type)),w=new ec(y,as(g),null);i.blueprint[f]=w,c[f]=w,M2(i,o,0,f,wc(i,c,g.hostVars,Vt),g)}function Kd(i,o,c){const f=$i(o,i),g=Gd(c),y=i[10],w=Ou(i,E2(i,g,null,c.onPush?64:16,f,o,y,y.createRenderer(f,c),null,null));i[o.index]=w}function ws(i,o,c,f,g,y){const w=$i(i,o);!function(i,o,c,f,g,y,w){if(null==y)on(i)?i.removeAttribute(o,g,c):o.removeAttribute(g);else{const A=null==w?Ie(y):w(y,f||"",g);on(i)?i.setAttribute(o,g,A,c):c?o.setAttributeNS(c,g,A):o.setAttribute(g,A)}}(o[11],w,y,i.value,c,f,g)}function Yd(i,o,c,f,g,y){const w=y[o];if(null!==w){const A=f.setInput;for(let x=0;x<w.length;){const k=w[x++],P=w[x++],q=w[x++];null!==A?f.setInput(c,q,k,P):c[P]=q}}}function io(i,o){let c=null,f=0;for(;f<o.length;){const g=o[f];if(0!==g)if(5!==g){if("number"==typeof g)break;i.hasOwnProperty(g)&&(null===c&&(c=[]),c.push(g,i[g],o[f+1])),f+=2}else f+=2;else f+=4}return c}function S1(i,o,c,f){return new Array(i,!0,!1,o,null,0,f,c,null,null)}function K0(i,o){const c=Ii(o,i);if(Q4(c)){const f=c[1];80&c[2]?Pa(f,c,f.template,c[8]):c[5]>0&&D1(c)}}function D1(i){for(let f=Rl(i);null!==f;f=Pl(f))for(let g=10;g<f.length;g++){const y=f[g];if(1024&y[2]){const w=y[1];Pa(w,y,w.template,y[8])}else y[5]>0&&D1(y)}const c=i[1].components;if(null!==c)for(let f=0;f<c.length;f++){const g=Ii(c[f],i);Q4(g)&&g[5]>0&&D1(g)}}function a8(i,o){const c=Ii(o,i),f=c[1];(function(i,o){for(let c=o.length;c<i.blueprint.length;c++)o.push(i.blueprint[c])})(f,c),Su(f,c,c[8])}function Ou(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Y0(i){for(;i;){i[2]|=64;const o=A1(i);if(bo(i)&&!o)return i;i=o}return null}function N1(i,o,c){const f=o[10];f.begin&&f.begin();try{Pa(i,o,i.template,c)}catch(g){throw za(o,g),g}finally{f.end&&f.end()}}function o4(i){!function(i){for(let o=0;o<i.components.length;o++){const c=i.components[o],f=xo(c),g=f[1];J3(g,f,g.template,c)}}(i[8])}function Zn(i,o,c){X1(0),o(i,c)}const Qd=(()=>Promise.resolve(null))();function T2(i){return i[7]||(i[7]=[])}function I2(i){return i.cleanup||(i.cleanup=[])}function za(i,o){const c=i[9],f=c?c.get(g2,null):null;f&&f.handleError(o)}function c8(i,o,c,f,g){for(let y=0;y<c.length;){const w=c[y++],A=c[y++],x=o[w],k=i.data[w];null!==k.setInput?k.setInput(x,g,f,A):x[A]=g}}function x2(i,o,c){const f=va(o,i);!function(i,o,c){on(i)?i.setValue(o,c):o.textContent=c}(i[11],f,c)}function Pu(i,o,c){let f=c?i.styles:null,g=c?i.classes:null,y=0;if(null!==o)for(let w=0;w<o.length;w++){const A=o[w];"number"==typeof A?y=A:1==y?g=pe(g,A):2==y&&(f=pe(f,A+": "+o[++w]+";"))}c?i.styles=f:i.stylesWithoutHost=f,c?i.classes=g:i.classesWithoutHost=g}const Ko=new St("INJECTOR",-1);class sf{get(o,c=a2){if(c===a2){const f=new Error(`NullInjectorError: No provider for ${me(o)}!`);throw f.name="NullInjectorError",f}return c}}const mr=new St("Set Injector scope."),s4={},zu={};let u8;function Xd(){return void 0===u8&&(u8=new sf),u8}function af(i,o=null,c=null,f){return new l8(i,c,o||Xd(),f)}class l8{constructor(o,c,f,g=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];c&&Vr(c,A=>this.processProvider(A,o,c)),Vr([o],A=>this.processInjectorType(A,[],y)),this.records.set(Ko,S2(void 0,this));const w=this.records.get(mr);this.scope=null!=w?w.value:null,this.source=g||("object"==typeof o?null:me(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=a2,f=ct.Default){this.assertNotDestroyed();const g=jo(this),y=An(void 0);try{if(!(f&ct.SkipSelf)){let A=this.records.get(o);if(void 0===A){const x=("function"==typeof(i=o)||"object"==typeof i&&i instanceof St)&&ir(o);A=x&&this.injectableDefInScope(x)?S2(cf(o),s4):null,this.records.set(o,A)}if(null!=A)return this.hydrate(o,A)}return(f&ct.Self?Xd():this.parent).get(o,c=f&ct.Optional&&c===a2?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[hi]=w[hi]||[]).unshift(me(o)),g)throw w;return v0(w,o,"R3InjectorError",this.source)}throw w}finally{An(y),jo(g)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,g)=>o.push(me(g))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,c,f){if(!(o=te(o)))return!1;let g=Ka(o);const y=null==g&&o.ngModule||void 0,w=void 0===y?o:y,A=-1!==f.indexOf(w);if(void 0!==y&&(g=Ka(y)),null==g)return!1;if(null!=g.imports&&!A){let P;f.push(w);try{Vr(g.imports,q=>{this.processInjectorType(q,c,f)&&(void 0===P&&(P=[]),P.push(q))})}finally{}if(void 0!==P)for(let q=0;q<P.length;q++){const{ngModule:W,providers:oe}=P[q];Vr(oe,fe=>this.processProvider(fe,W,oe||ie))}}this.injectorDefTypes.add(w);const x=Ti(w)||(()=>new w);this.records.set(w,S2(x,s4));const k=g.providers;if(null!=k&&!A){const P=o;Vr(k,q=>this.processProvider(q,P,k))}return void 0!==y&&void 0!==o.providers}processProvider(o,c,f){let g=Vu(o=te(o))?o:te(o&&o.provide);const y=Es(i=o)?S2(void 0,i.useValue):S2(f8(i),s4);var i;if(Vu(o)||!0!==o.multi)this.records.get(g);else{let w=this.records.get(g);w||(w=S2(void 0,s4,!0),w.factory=()=>v1(w.multi),this.records.set(g,w)),g=o,w.multi.push(o)}this.records.set(g,y)}hydrate(o,c){return c.value===s4&&(c.value=zu,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(i=c.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var i}injectableDefInScope(o){if(!o.providedIn)return!1;const c=te(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function cf(i){const o=ir(i),c=null!==o?o.factory:Ti(i);if(null!==c)return c;if(i instanceof St)throw new Error(`Token ${me(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const o=i.length;if(o>0){const f=Ta(o,"?");throw new Error(`Can't resolve all parameters for ${me(i)}: (${f.join(", ")}).`)}const c=function(i){const o=i&&(i[Kt]||i[wr]);if(o){const c=function(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(i);return null!==c?()=>c.factory(i):()=>new i}(i);throw new Error("unreachable")}function f8(i,o,c){let f;if(Vu(i)){const g=te(i);return Ti(g)||cf(g)}if(Es(i))f=()=>te(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))f=()=>i.useFactory(...v1(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))f=()=>Tn(te(i.useExisting));else{const g=te(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ti(g)||cf(g);f=()=>new g(...v1(i.deps))}return f}function S2(i,o,c=!1){return{factory:i,value:o,multi:c?[]:void 0}}function Es(i){return null!==i&&"object"==typeof i&&g1 in i}function Vu(i){return"function"==typeof i}const c4=function(i,o,c){return function(i,o=null,c=null,f){const g=af(i,o,c,f);return g._resolveInjectorDefTypes(),g}({name:c},o,i,c)};let gr=(()=>{class i{static create(c,f){return Array.isArray(c)?c4(c,f,""):c4(c.providers,c.parent,c.name||"")}}return i.THROW_IF_NOT_FOUND=a2,i.NULL=new sf,i.\u0275prov=rn({token:i,providedIn:"any",factory:()=>Tn(Ko)}),i.__NG_ELEMENT_ID__=-1,i})();function Nr(i,o){Ho(xo(i)[1],Qn())}function gf(i){let o=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),c=!0;const f=[i];for(;o;){let g;if(as(i))g=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");g=o.\u0275dir}if(g){if(c){f.push(g);const w=i;w.inputs=a6(i.inputs),w.declaredInputs=a6(i.declaredInputs),w.outputs=a6(i.outputs);const A=g.hostBindings;A&&Hu(i,A);const x=g.viewQuery,k=g.contentQueries;if(x&&k2(i,x),k&&p4(i,k),Re(i.inputs,g.inputs),Re(i.declaredInputs,g.declaredInputs),Re(i.outputs,g.outputs),as(g)&&g.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let w=0;w<y.length;w++){const A=y[w];A&&A.ngInherit&&A(i),A===gf&&(c=!1)}}o=Object.getPrototypeOf(o)}!function(i){let o=0,c=null;for(let f=i.length-1;f>=0;f--){const g=i[f];g.hostVars=o+=g.hostVars,g.hostAttrs=tc(g.hostAttrs,c=tc(c,g.hostAttrs))}}(f)}function a6(i){return i===Mn?{}:i===ie?[]:i}function k2(i,o){const c=i.viewQuery;i.viewQuery=c?(f,g)=>{o(f,g),c(f,g)}:o}function p4(i,o){const c=i.contentQueries;i.contentQueries=c?(f,g,y)=>{o(f,g,y),c(f,g,y)}:o}function Hu(i,o){const c=i.hostBindings;i.hostBindings=c?(f,g)=>{o(f,g),c(f,g)}:o}let Ce=null;function ze(){if(!Ce){const i=bn.Symbol;if(i&&i.iterator)Ce=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const f=o[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Ce=f)}}}return Ce}class In{constructor(o){this.wrapped=o}static wrap(o){return new In(o)}static unwrap(o){return In.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof In}}function tt(i){return!!h(i)&&(Array.isArray(i)||!(i instanceof Map)&&ze()in i)}function h(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function b(i,o,c){return i[o]=c}function S(i,o,c){return!Object.is(i[o],c)&&(i[o]=c,!0)}function z(i,o,c,f){const g=S(i,o,c);return S(i,o+1,f)||g}function Le(i,o,c,f){const g=Ze();return S(g,us(),o)&&(sn(),ws(ar(),g,i,o,c,f)),Le}function m4(i,o,c,f,g,y,w,A){const x=Ze(),k=sn(),P=i+20,q=k.firstCreatePass?function(i,o,c,f,g,y,w,A,x){const k=o.consts,P=I1(o,i,4,w||null,Us(k,A));t4(o,c,P,Us(k,x)),Ho(o,P);const q=P.tViews=x1(2,P,f,g,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,k);return null!==o.queries&&(o.queries.template(o,P),q.queries=o.queries.embeddedTView(P)),P}(P,k,x,o,c,f,g,y,w):k.data[P];ui(q,!1);const W=x[11].createComment("");Xe(k,x,W,q),ri(W,x),Ou(x,x[P]=S1(W,x,W,q)),W1(q)&&A2(k,x,q),null!=w&&n8(x,q,A)}function T7(i){return Hs(Nt.lFrame.contextLView,20+i)}function d6(i,o=ct.Default){const c=Ze();return null===c?Tn(i,o):a0(Qn(),c,te(i),o)}function y5(i,o,c){const f=Ze();return S(f,us(),o)&&Do(sn(),ar(),f,i,o,f[11],c,!1),y5}function O7(i,o,c,f,g){const w=g?"class":"style";c8(i,c,o.inputs[w],w,f)}function _5(i,o,c,f){const g=Ze(),y=sn(),w=20+i,A=g[11],x=g[w]=P0(A,o,Nt.lFrame.currentNamespace),k=y.firstCreatePass?function(i,o,c,f,g,y,w){const A=o.consts,k=I1(o,i,2,g,Us(A,y));return t4(o,c,k,Us(A,w)),null!==k.attrs&&Pu(k,k.attrs,!1),null!==k.mergedAttrs&&Pu(k,k.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,k),k}(w,y,g,0,o,c,f):y.data[w];ui(k,!0);const P=k.mergedAttrs;null!==P&&fl(A,x,P);const q=k.classes;null!==q&&Oa(A,x,q);const W=k.styles;null!==W&&vi(A,x,W),64!=(64&k.flags)&&Xe(y,g,x,k),0===Nt.lFrame.elementDepthCount&&ri(x,g),Nt.lFrame.elementDepthCount++,W1(k)&&(A2(y,g,k),function(i,o,c){if(Bc(o)){const g=o.directiveEnd;for(let y=o.directiveStart;y<g;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,c[y],y)}}}(y,k,g)),null!==f&&n8(g,k)}function b5(){let i=Qn();Yc()?js():(i=i.parent,ui(i,!1));const o=i;Nt.lFrame.elementDepthCount--;const c=sn();c.firstCreatePass&&(Ho(c,i),Bc(i)&&c.queries.elementEnd(i)),null!=o.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(o)&&O7(c,o,Ze(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(o)&&O7(c,o,Ze(),o.stylesWithoutHost,!1)}function T8(i,o,c,f){_5(i,o,c,f),b5()}function P7(){return Ze()}function Gu(i){return!!i&&"function"==typeof i.then}function z7(i){return!!i&&"function"==typeof i.subscribe}const v4=z7;function C5(i,o,c,f){const g=Ze(),y=sn(),w=Qn();return function(i,o,c,f,g,y,w,A){const x=W1(f),P=i.firstCreatePass&&I2(i),q=o[8],W=T2(o);let oe=!0;if(3&f.type||A){const ye=$i(f,o),Ye=A?A(ye):ye,Ve=W.length,Mt=A?Ft=>A(Pn(Ft[f.index])):f.index;if(on(c)){let Ft=null;if(!A&&x&&(Ft=function(i,o,c,f){const g=i.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const w=g[y];if(w===c&&g[y+1]===f){const A=o[7],x=g[y+2];return A.length>x?A[x]:null}"string"==typeof w&&(y+=2)}return null}(i,o,g,f.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=y,Ft.__ngLastListenerFn__=y,oe=!1;else{y=bf(f,o,q,y,!1);const vn=c.listen(Ye,g,y);W.push(y,vn),P&&P.push(g,Mt,Ve,Ve+1)}}else y=bf(f,o,q,y,!0),Ye.addEventListener(g,y,w),W.push(y),P&&P.push(g,Mt,Ve,w)}else y=bf(f,o,q,y,!1);const fe=f.outputs;let xe;if(oe&&null!==fe&&(xe=fe[g])){const ye=xe.length;if(ye)for(let Ye=0;Ye<ye;Ye+=2){const Bi=o[xe[Ye]][xe[Ye+1]].subscribe(y),Za=W.length;W.push(y,Bi),P&&P.push(g,f.index,Za,-(Za+1))}}}(y,g,g[11],w,i,o,!!c,f),C5}function Lo(i,o,c,f){try{return!1!==c(f)}catch(g){return za(i,g),!1}}function bf(i,o,c,f,g){return function y(w){if(w===Function)return f;const A=2&i.flags?Ii(i.index,o):o;0==(32&o[2])&&Y0(A);let x=Lo(o,0,f,w),k=y.__ngNextListenerFn__;for(;k;)x=Lo(o,0,k,w)&&x,k=k.__ngNextListenerFn__;return g&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function x8(i=1){return function(i){return(Nt.lFrame.contextLView=function(i,o){for(;i>0;)o=o[15],i--;return o}(i,Nt.lFrame.contextLView))[8]}(i)}function lb(i,o){let c=null;const f=function(i){const o=i.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(i);for(let g=0;g<o.length;g++){const y=o[g];if("*"!==y){if(null===f?Pi(i,y,!0):$h(f,y))return g}else c=g}return c}function w5(i){const o=Ze()[16][6];if(!o.projection){const f=o.projection=Ta(i?i.length:1,null),g=f.slice();let y=o.child;for(;null!==y;){const w=i?lb(y,i):0;null!==w&&(g[w]?g[w].projectionNext=y:f[w]=y,g[w]=y),y=y.next}}}function Cg(i,o=0,c){const f=Ze(),g=sn(),y=I1(g,20+i,16,null,c||null);null===y.projection&&(y.projection=o),js(),64!=(64&y.flags)&&function(i,o,c){V3(o[11],0,o,c,T(i,c,o),Pe(c.parent||o[6],c,o))}(g,f,y)}function j7(i,o,c,f,g){const y=i[c+1],w=null===o;let A=f?oa(y):T1(y),x=!1;for(;0!==A&&(!1===x||w);){const P=i[A+1];es(i[A],o)&&(x=!0,i[A+1]=f?C2(P):bc(P)),A=f?oa(P):T1(P)}x&&(i[c+1]=f?bc(y):C2(y))}function es(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&o2(i,o)>=0}function Af(i,o){return function(i,o,c,f){const g=Ze(),y=sn(),w=function(i){const o=Nt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,c}(2);y.firstUpdatePass&&function(i,o,c,f){const g=i.data;if(null===g[c+1]){const y=g[nr()],w=function(i,o){return o>=i.expandoStartIndex}(i,c);(function(i,o){return 0!=(i.flags&(o?16:32))})(y,f)&&null===o&&!w&&(o=!1),o=function(i,o,c,f){const g=function(i){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let y=f?o.residualClasses:o.residualStyles;if(null===g)0===(f?o.classBindings:o.styleBindings)&&(c=g6(c=_i(null,i,o,c,f),o.attrs,f),y=null);else{const w=o.directiveStylingLast;if(-1===w||i[w]!==g)if(c=_i(g,i,o,c,f),null===y){let x=function(i,o,c){const f=c?o.classBindings:o.styleBindings;if(0!==T1(f))return i[oa(f)]}(i,o,f);void 0!==x&&Array.isArray(x)&&(x=_i(null,i,o,x[1],f),x=g6(x,o.attrs,f),function(i,o,c,f){i[oa(c?o.classBindings:o.styleBindings)]=f}(i,o,f,x))}else y=function(i,o,c){let f;const g=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<g;y++)f=g6(f,i[y].hostAttrs,c);return g6(f,o.attrs,c)}(i,o,f)}return void 0!==y&&(f?o.residualClasses=y:o.residualStyles=y),c}(g,y,o,f),function(i,o,c,f,g,y){let w=y?o.classBindings:o.styleBindings,A=oa(w),x=T1(w);i[f]=c;let P,k=!1;if(Array.isArray(c)){const q=c;P=q[1],(null===P||o2(q,P)>0)&&(k=!0)}else P=c;if(g)if(0!==x){const W=oa(i[A+1]);i[f+1]=b2(W,A),0!==W&&(i[W+1]=Tu(i[W+1],f)),i[A+1]=function(i,o){return 131071&i|o<<17}(i[A+1],f)}else i[f+1]=b2(A,0),0!==A&&(i[A+1]=Tu(i[A+1],f)),A=f;else i[f+1]=b2(x,0),0===A?A=f:i[x+1]=Tu(i[x+1],f),x=f;k&&(i[f+1]=bc(i[f+1])),j7(i,P,f,!0),j7(i,P,f,!1),function(i,o,c,f,g){const y=g?i.residualClasses:i.residualStyles;null!=y&&"string"==typeof o&&o2(y,o)>=0&&(c[f+1]=C2(c[f+1]))}(o,P,i,f,y),w=b2(A,x),y?o.classBindings=w:o.styleBindings=w}(g,y,o,c,w,f)}}(y,i,w,f),o!==Vt&&S(g,w,o)&&function(i,o,c,f,g,y,w,A){if(!(3&o.type))return;const x=i.data,k=x[A+1];y4(function(i){return 1==(1&i)}(k)?q7(x,o,c,g,T1(k),w):void 0)||(y4(y)||function(i){return 2==(2&i)}(k)&&(y=q7(x,null,c,g,A,w)),function(i,o,c,f,g){const y=on(i);if(o)g?y?i.addClass(c,f):c.classList.add(f):y?i.removeClass(c,f):c.classList.remove(f);else{let w=-1===f.indexOf("-")?void 0:ra.DashCase;if(null==g)y?i.removeStyle(c,f,w):c.style.removeProperty(f);else{const A="string"==typeof g&&g.endsWith("!important");A&&(g=g.slice(0,-10),w|=ra.Important),y?i.setStyle(c,f,g,w):c.style.setProperty(f,g,A?"important":"")}}}(f,w,va(nr(),c),g,y))}(y,y.data[nr()],g,g[11],i,g[w+1]=function(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=me(vs(i)))),i}(o,c),f,w)}(i,o,null,!0),Af}function _i(i,o,c,f,g){let y=null;const w=c.directiveEnd;let A=c.directiveStylingLast;for(-1===A?A=c.directiveStart:A++;A<w&&(y=o[A],f=g6(f,y.hostAttrs,g),y!==i);)A++;return null!==i&&(c.directiveStylingLast=A),f}function g6(i,o,c){const f=c?1:2;let g=-1;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?g=w:g===f&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qi(i,w,!!c||o[++y]))}return void 0===i?null:i}function q7(i,o,c,f,g,y){const w=null===o;let A;for(;g>0;){const x=i[g],k=Array.isArray(x),P=k?x[1]:x,q=null===P;let W=c[g+1];W===Vt&&(W=q?ie:void 0);let oe=q?Ji(W,f):P===f?W:void 0;if(k&&!y4(oe)&&(oe=Ji(x,f)),y4(oe)&&(A=oe,w))return A;const fe=i[g+1];g=w?oa(fe):T1(fe)}if(null!==o){let x=y?o.residualClasses:o.residualStyles;null!=x&&(A=Ji(x,f))}return A}function y4(i){return void 0!==i}function Z7(i,o=""){const c=Ze(),f=sn(),g=i+20,y=f.firstCreatePass?I1(f,g,1,o,null):f.data[g],w=c[g]=function(i,o){return on(i)?i.createText(o):i.createTextNode(o)}(c[11],o);Xe(f,c,w,y),ui(y,!1)}function Tf(i){return N8("",i,""),Tf}function N8(i,o,c){const f=Ze(),g=function(i,o,c,f){return S(i,us(),c)?o+Ie(c)+f:Vt}(f,i,o,c);return g!==Vt&&x2(f,nr(),g),N8}function I5(i,o,c){const f=Ze();return S(f,us(),o)&&Do(sn(),ar(),f,i,o,f[11],c,!0),I5}const Gr=void 0;var Ug=["en",[["a","p"],["AM","PM"],Gr],[["AM","PM"],Gr,Gr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gr,"{1} 'at' {0}",Gr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let V2={};function _6(i){const o=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let c=C4(o);if(c)return c;const f=o.split("-")[0];if(c=C4(f),c)return c;if("en"===f)return Ug;throw new Error(`Missing locale data for the locale "${i}".`)}function Bg(i){return _6(i)[kt.PluralCase]}function C4(i){return i in V2||(V2[i]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[i]),V2[i]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const x5="en-US";let t9=x5;function w4(i){mt(i,"Expected localeId to be defined"),"string"==typeof i&&(t9=i.toLowerCase().replace(/_/g,"-"))}function z5(i,o,c,f,g){if(i=te(i),Array.isArray(i))for(let y=0;y<i.length;y++)z5(i[y],o,c,f,g);else{const y=sn(),w=Ze();let A=Vu(i)?i:te(i.provide),x=f8(i);const k=Qn(),P=1048575&k.providerIndexes,q=k.directiveStart,W=k.providerIndexes>>20;if(Vu(i)||!i.multi){const oe=new ec(x,g,d6),fe=m9(A,o,g?P:P+W,q);-1===fe?(rr(ps(k,w),y,A),z8(y,i,o.length),o.push(A),k.directiveStart++,k.directiveEnd++,g&&(k.providerIndexes+=1048576),c.push(oe),w.push(oe)):(c[fe]=oe,w[fe]=oe)}else{const oe=m9(A,o,P+W,q),fe=m9(A,o,P,P+W),xe=oe>=0&&c[oe],ye=fe>=0&&c[fe];if(g&&!ye||!g&&!xe){rr(ps(k,w),y,A);const Ye=function(i,o,c,f,g){const y=new ec(i,c,d6);return y.multi=[],y.index=o,y.componentProviders=0,p9(y,g,f&&!c),y}(g?v9:g9,c.length,g,f,x);!g&&ye&&(c[fe].providerFactory=Ye),z8(y,i,o.length,0),o.push(A),k.directiveStart++,k.directiveEnd++,g&&(k.providerIndexes+=1048576),c.push(Ye),w.push(Ye)}else z8(y,i,oe>-1?oe:fe,p9(c[g?fe:oe],x,!g&&f));!g&&f&&ye&&c[fe].componentProviders++}}}function z8(i,o,c,f){const g=Vu(o);if(g||function(i){return!!i.useClass}(o)){const w=(o.useClass||o).prototype.ngOnDestroy;if(w){const A=i.destroyHooks||(i.destroyHooks=[]);if(!g&&o.multi){const x=A.indexOf(c);-1===x?A.push(c,[f,w]):A[x+1].push(f,w)}else A.push(c,w)}}}function p9(i,o,c){return c&&i.componentProviders++,i.multi.push(o)-1}function m9(i,o,c,f){for(let g=c;g<f;g++)if(o[g]===i)return g;return-1}function g9(i,o,c,f){return V5(this.multi,[])}function v9(i,o,c,f){const g=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,A=l1(c,c[1],this.providerFactory.index,f);y=A.slice(0,w),V5(g,y);for(let x=w;x<A.length;x++)y.push(A[x])}else y=[],V5(g,y);return y}function V5(i,o){for(let c=0;c<i.length;c++)o.push((0,i[c])());return o}function y9(i,o=[]){return c=>{c.providersResolver=(f,g)=>function(i,o,c){const f=sn();if(f.firstCreatePass){const g=as(i);z5(c,f.data,f.blueprint,g,!0),z5(o,f.data,f.blueprint,g,!1)}}(f,g?g(i):i,o)}}class lv{}const _9="ngComponent";class V8{resolveComponentFactory(o){throw function(i){const o=Error(`No component factory found for ${me(i)}. Did you add it to @NgModule.entryComponents?`);return o[_9]=i,o}(o)}}let M4=(()=>{class i{}return i.NULL=new V8,i})();function F5(...i){}function Ff(i,o){return new Ua($i(i,o))}const Hf=function(){return Ff(Qn(),Ze())};let Ua=(()=>{class i{constructor(c){this.nativeElement=c}}return i.__NG_ELEMENT_ID__=Hf,i})();function Uf(i){return i instanceof Ua?i.nativeElement:i}class F8{}let w9=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>dv(),i})();const dv=function(){const i=Ze(),c=Ii(Qn().index,i);return function(i){return i[11]}(er(c)?c:i)};let A9=(()=>{class i{}return i.\u0275prov=rn({token:i,providedIn:"root",factory:()=>null}),i})();class H8{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const U5=new H8("12.2.16");class A6{constructor(){}supports(o){return tt(o)}create(o){return new Yb(o)}}const pv=(i,o)=>o;class Yb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||pv}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,f=this._removalsHead,g=0,y=null;for(;c||f;){const w=!f||c&&c.currentIndex<B5(f,g,y)?c:f,A=B5(w,g,y),x=w.currentIndex;if(w===f)g--,f=f._nextRemoved;else if(c=c._next,null==w.previousIndex)g++;else{y||(y=[]);const k=A-g,P=x-g;if(k!=P){for(let W=0;W<k;W++){const oe=W<y.length?y[W]:y[W]=0,fe=oe+W;P<=fe&&fe<k&&(y[W]=oe+1)}y[w.previousIndex]=P-k}}A!==x&&o(w,A,x)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!tt(o))throw new Error(`Error trying to diff '${me(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let g,y,w,c=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let A=0;A<this.length;A++)y=o[A],w=this._trackByFn(A,y),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,y,w,A)),Object.is(c.item,y)||this._addIdentityChange(c,y)):(c=this._mismatch(c,y,w,A),f=!0),c=c._next}else g=0,function(i,o){if(Array.isArray(i))for(let c=0;c<i.length;c++)o(i[c]);else{const c=i[ze()]();let f;for(;!(f=c.next()).done;)o(f.value)}}(o,A=>{w=this._trackByFn(g,A),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,A,w,g)),Object.is(c.item,A)||this._addIdentityChange(c,A)):(c=this._mismatch(c,A,w,g),f=!0),c=c._next,g++}),this.length=g;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,f,g){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,y,g)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,y,g)):o=this._addAfter(new Qb(c,f),y,g),o}_verifyReinsertion(o,c,f,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?o=this._reinsertAfter(y,o._prev,g):o.currentIndex!=g&&(o.currentIndex=g,this._addToMoves(o,g)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const g=o._prevRemoved,y=o._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(o,c,f),this._addToMoves(o,f),o}_moveAfter(o,c,f){return this._unlink(o),this._insertAfter(o,c,f),this._addToMoves(o,f),o}_addAfter(o,c,f){return this._insertAfter(o,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,f){const g=null===c?this._itHead:c._next;return o._next=g,o._prev=c,null===g?this._itTail=o:g._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new mv),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,f=o._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Qb{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const c=o._prevDup,f=o._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class mv{constructor(){this.map=new Map}put(o){const c=o.trackById;let f=this.map.get(c);f||(f=new Jb,this.map.set(c,f)),f.add(o)}get(o,c){const g=this.map.get(o);return g?g.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B5(i,o,c){const f=i.previousIndex;if(null===f)return f;let g=0;return c&&f<c.length&&(g=c[f]),f+o+g}class M6{constructor(){}supports(o){return o instanceof Map||h(o)}create(){return new T4}}class T4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||h(o)))throw new Error(`Error trying to diff '${me(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,g)=>{if(c&&c.key===g)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const y=this._getOrCreateRecordForKey(g,f);c=this._insertBeforeOrAppend(c,y)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const f=o._prev;return c._next=o,c._prev=f,o._prev=c,f&&(f._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const g=this._records.get(o);this._maybeAddToChanges(g,c);const y=g._prev,w=g._next;return y&&(y._next=w),w&&(w._prev=y),g._next=null,g._prev=null,g}const f=new Xb(o);return this._records.set(o,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(f=>c(o[f],f))}}class Xb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T6(){return new U8([new A6])}let U8=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(null!=f){const g=f.factories.slice();c=c.concat(g)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||T6()),deps:[[i,new pi,new Qr]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(i){return i.name||typeof i}(c)}'`)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:T6}),i})();function B8(){return new j5([new M6])}let j5=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(f){const g=f.factories.slice();c=c.concat(g)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||B8()),deps:[[i,new pi,new Qr]]}}find(c){const f=this.factories.find(g=>g.supports(c));if(f)return f;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:B8}),i})();function q5(i,o,c,f,g=!1){for(;null!==c;){const y=o[c.index];if(null!==y&&f.push(Pn(y)),_o(y))for(let A=10;A<y.length;A++){const x=y[A],k=x[1].firstChild;null!==k&&q5(x[1],x,k,f)}const w=c.type;if(8&w)q5(i,o,c.child,f);else if(32&w){const A=_2(c,o);let x;for(;x=A();)f.push(x)}else if(16&w){const A=no(o,c);if(Array.isArray(A))f.push(...A);else{const x=A1(o[16]);q5(x[1],x,A,f,!0)}}c=g?c.projectionNext:c.next}return f}class I6{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return q5(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_o(o)){const c=o[8],f=c?c.indexOf(this):-1;f>-1&&(z3(o,f),Ma(c,f))}this._attachedToViewContainer=!1}p(this._lView[1],this._lView)}onDestroy(o){Jl(this._lView[1],this._lView,null,o)}markForCheck(){Y0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){N1(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,o,c){_a(!0);try{N1(i,o,c)}finally{_a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,_c(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class M9 extends I6{constructor(o){super(o),this._view=o}detectChanges(){o4(this._view)}checkNoChanges(){!function(i){_a(!0);try{o4(i)}finally{_a(!1)}}(this._view)}get context(){return null}}const T9=function(i){return function(i,o,c){if(Yn(i)&&!c){const f=Ii(i.index,o);return new I6(f,f)}return 47&i.type?new I6(o[16],o):null}(Qn(),Ze(),16==(16&i))};let I9=(()=>{class i{}return i.__NG_ELEMENT_ID__=T9,i})();const nC=[new M6],_v=new U8([new A6]),bv=new j5(nC),rC=function(){return G5(Qn(),Ze())};let j8=(()=>{class i{}return i.__NG_ELEMENT_ID__=rC,i})();const iC=j8,x9=class extends iC{constructor(o,c,f){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(o){const c=this._declarationTContainer.tViews,f=E2(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(c)),Su(c,f,o),new I6(f)}};function G5(i,o){return 4&i.type?new x9(o,i,Ff(i,o)):null}class I4{}class S9{}const aC=function(){return wv(Qn(),Ze())};let Z5=(()=>{class i{}return i.__NG_ELEMENT_ID__=aC,i})();const N9=Z5,x6=class extends N9{constructor(o,c,f){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=f}get element(){return Ff(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const o=n2(this._hostTNode,this._hostLView);if(iu(o)){const c=On(o,this._hostLView),f=Uo(o);return new ki(c[1].data[f+8],c)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=k9(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,f){const g=o.createEmbeddedView(c||{});return this.insert(g,f),g}createComponent(o,c,f,g,y){const w=f||this.parentInjector;if(!y&&null==o.ngModule&&w){const x=w.get(I4,null);x&&(y=x)}const A=o.create(w,g,void 0,y);return this.insert(A.hostView,c),A}insert(o,c){const f=o._lView,g=f[1];if(_o(f[3])){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const q=f[3],W=new x6(q,q[6],q[3]);W.detach(W.indexOf(o))}}const y=this._adjustIndex(c),w=this._lContainer;!function(i,o,c,f){const g=10+f,y=c.length;f>0&&(c[g-1][4]=o),f<y-10?(o[4]=c[g],Ys(c,10+f,o)):(c.push(o),o[4]=null),o[3]=c;const w=o[17];null!==w&&c!==w&&function(i,o){const c=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===c?i[9]=[o]:c.push(o)}(w,o);const A=o[19];null!==A&&A.insertView(i),o[2]|=128}(g,f,w,y);const A=ia(y,w),x=f[11],k=ne(x,w[7]);return null!==k&&function(i,o,c,f,g,y){f[0]=g,f[6]=o,_c(i,f,c,1,g,y)}(g,w[6],x,f,k,A),o.attachToViewContainerRef(),Ys(q8(w),y,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=k9(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),f=z3(this._lContainer,c);f&&(Ma(q8(this._lContainer),c),p(f[1],f))}detach(o){const c=this._adjustIndex(o,-1),f=z3(this._lContainer,c);return f&&null!=Ma(q8(this._lContainer),c)?new I6(f):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function k9(i){return i[8]}function q8(i){return i[8]||(i[8]=[])}function wv(i,o){let c;const f=o[i.index];if(_o(f))c=f;else{let g;if(8&i.type)g=Pn(f);else{const y=o[11];g=y.createComment("");const w=$i(i,o);O(y,ne(y,w),g,function(i,o){return on(i)?i.nextSibling(o):o.nextSibling}(y,w),!1)}o[i.index]=c=S1(f,o,g,i),Ou(o,c)}return new x6(c,i,o)}const Qf={};class $9 extends M4{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Mr(o);return new $v(c,this.ngModule)}}function W9(i){const o=[];for(let c in i)i.hasOwnProperty(c)&&o.push({propName:i[c],templateName:c});return o}const lp=new St("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ol});class $v extends lv{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=o.selectors.map(j3).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return W9(this.componentDef.inputs)}get outputs(){return W9(this.componentDef.outputs)}create(o,c,f,g){const y=(g=g||this.ngModule)?function(i,o){return{get:(c,f,g)=>{const y=i.get(c,Qf,g);return y!==Qf||f===Qf?y:o.get(c,f,g)}}}(o,g.injector):o,w=y.get(F8,Lt),A=y.get(A9,null),x=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",P=f?function(i,o,c){if(on(i))return i.selectRootElement(o,c===lt.ShadowDom);let f="string"==typeof o?i.querySelector(o):o;return f.textContent="",f}(x,f,this.componentDef.encapsulation):P0(w.createRenderer(null,this.componentDef),k,function(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(k)),q=this.componentDef.onPush?576:528,W=function(i,o){return{components:[],scheduler:i||Ol,clean:Qd,playerHandler:o||null,flags:0}}(),oe=x1(0,null,null,1,0,null,null,null,null,null),fe=E2(null,oe,W,q,null,null,w,x,A,y);let xe,ye;e2(fe);try{const Ye=function(i,o,c,f,g,y){const w=c[1];c[20]=i;const x=I1(w,20,2,"#host",null),k=x.mergedAttrs=o.hostAttrs;null!==k&&(Pu(x,k,!0),null!==i&&(fl(g,i,k),null!==x.classes&&Oa(g,i,x.classes),null!==x.styles&&vi(g,i,x.styles)));const P=f.createRenderer(i,o),q=E2(c,Gd(o),null,o.onPush?64:16,c[20],x,f,P,y||null,null);return w.firstCreatePass&&(rr(ps(x,c),w,o.type),n4(w,x),rf(x,c.length,1)),Ou(c,q),c[20]=q}(P,this.componentDef,fe,w,x);if(P)if(f)fl(x,P,["ng-version",U5.full]);else{const{attrs:Ve,classes:Mt}=function(i){const o=[],c=[];let f=1,g=2;for(;f<i.length;){let y=i[f];if("string"==typeof y)2===g?""!==y&&o.push(y,i[++f]):8===g&&c.push(y);else{if(!So(g))break;g=y}f++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ve&&fl(x,P,Ve),Mt&&Mt.length>0&&Oa(x,P,Mt.join(" "))}if(ye=Fs(oe,20),void 0!==c){const Ve=ye.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const Ft=c[Mt];Ve.push(null!=Ft?Array.from(Ft):null)}}xe=function(i,o,c,f,g){const y=c[1],w=function(i,o,c){const f=Qn();i.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),s8(i,f,o,wc(i,o,1,null),c));const g=l1(o,i,f.directiveStart,f);ri(g,o);const y=$i(f,o);return y&&ri(y,o),g}(y,c,o);if(f.components.push(w),i[8]=w,g&&g.forEach(x=>x(w,o)),o.contentQueries){const x=Qn();o.contentQueries(1,w,x.directiveStart)}const A=Qn();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(hs(A.index),M2(c[1],A,0,A.directiveStart,A.directiveEnd,o),Z0(o,w)),w}(Ye,this.componentDef,fe,W,[Nr]),Su(oe,fe,null)}finally{fs()}return new Wv(this.componentType,xe,Ff(ye,fe),fe,ye)}}class Wv extends class{}{constructor(o,c,f,g,y){super(),this.location=f,this._rootLView=g,this._tNode=y,this.instance=c,this.hostView=this.changeDetectorRef=new M9(g),this.componentType=o}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const F6=new Map;class Yv extends I4{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $9(this);const f=yo(o),g=o[ce]||null;g&&w4(g),this._bootstrapComponents=na(f.bootstrap),this._r3Injector=af(o,c,[{provide:I4,useValue:this},{provide:M4,useValue:this.componentFactoryResolver}],me(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=gr.THROW_IF_NOT_FOUND,f=ct.Default){return o===gr||o===I4||o===Ko?this:this._r3Injector.get(o,c,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Q9 extends S9{constructor(o){super(),this.moduleType=o,null!==yo(o)&&function(i){const o=new Set;!function c(f){const g=yo(f,!0),y=g.id;null!==y&&(function(i,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${i} - ${me(o)} vs ${me(o.name)}`)}(y,F6.get(y),f),F6.set(y,f));const w=na(g.imports);for(const A of w)o.has(A)||(o.add(A),c(A))}(i)}(o)}create(o){return new Yv(this.moduleType,o)}}function dp(i,o,c){const f=zn()+i,g=Ze();return g[f]===Vt?b(g,f,c?o.call(c):o()):function(i,o){return i[o]}(g,f)}function Y8(i,o,c,f){return function(i,o,c,f,g,y){const w=o+c;return S(i,w,g)?b(i,w+1,y?f.call(y,g):f(g)):Ju(i,w+1)}(Ze(),zn(),i,o,c,f)}function J9(i,o,c,f,g,y){return function(i,o,c,f,g,y,w,A){const x=o+c;return function(i,o,c,f,g){const y=z(i,o,c,f);return S(i,o+2,g)||y}(i,x,g,y,w)?b(i,x+3,A?f.call(A,g,y,w):f(g,y,w)):Ju(i,x+3)}(Ze(),zn(),i,o,c,f,g,y)}function Ju(i,o){const c=i[o];return c===Vt?void 0:c}function O4(i,o){const c=sn();let f;const g=i+20;c.firstCreatePass?(f=function(i,o){if(o)for(let c=o.length-1;c>=0;c--){const f=o[c];if(i===f.name)return f}throw new Te("302",`The pipe '${i}' could not be found!`)}(o,c.pipeRegistry),c.data[g]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(g,f.onDestroy)):f=c.data[g];const y=f.factory||(f.factory=Ti(f.type)),w=An(d6);try{const A=Ao(!1),x=y();return Ao(A),function(i,o,c,f){c>=i.data.length&&(i.data[c]=null,i.blueprint[c]=null),o[c]=f}(c,Ze(),g,x),x}finally{An(w)}}function ty(i,o,c,f){const g=i+20,y=Ze(),w=Hs(y,g);return function(i,o){In.isWrapped(o)&&(o=In.unwrap(o),i[Nt.lFrame.bindingIndex]=Vt);return o}(y,function(i,o){return i[1].data[o].pure}(y,g)?function(i,o,c,f,g,y,w){const A=o+c;return z(i,A,g,y)?b(i,A+2,w?f.call(w,g,y):f(g,y)):Ju(i,A+2)}(y,zn(),o,w.transform,c,f,w):w.transform(c,f))}function X8(i){return o=>{setTimeout(i,void 0,o)}}const ja=class extends l.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,f){var g,y,w;let A=o,x=c||(()=>null),k=f;if(o&&"object"==typeof o){const q=o;A=null===(g=q.next)||void 0===g?void 0:g.bind(q),x=null===(y=q.error)||void 0===y?void 0:y.bind(q),k=null===(w=q.complete)||void 0===w?void 0:w.bind(q)}this.__isAsync&&(x=X8(x),A&&(A=X8(A)),k&&(k=X8(k)));const P=super.subscribe({next:A,error:x,complete:k});return o instanceof B.w&&o.add(P),P}};function ny(){return this._results[ze()]()}class gp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ze(),f=gp.prototype;f[c]||(f[c]=ny)}get changes(){return this._changes||(this._changes=new ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const f=this;f.dirty=!1;const g=Li(o);(this._changesDetected=!function(i,o,c){if(i.length!==o.length)return!1;for(let f=0;f<i.length;f++){let g=i[f],y=o[f];if(c&&(g=c(g),y=c(y)),y!==g)return!1}return!0}(f._results,g,c))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class vp{constructor(o){this.queryList=o,this.matches=null}clone(){return new vp(this.queryList)}setDirty(){this.queryList.setDirty()}}class yp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const f=null!==o.contentQueries?o.contentQueries[0]:c.length,g=[];for(let y=0;y<f;y++){const w=c.getByIndex(y);g.push(this.queries[w.indexInDeclarationView].clone())}return new yp(g)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==uy(o,c).matches&&this.queries[c].setDirty()}}class ry{constructor(o,c,f=null){this.predicate=o,this.flags=c,this.read=f}}class ed{constructor(o=[]){this.queries=o}elementStart(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let f=0;f<this.length;f++){const g=null!==c?c.length:0,y=this.getByIndex(f).embeddedTView(o,g);y&&(y.indexInDeclarationView=f,null!==c?c.push(y):c=[y])}return null!==c?new ed(c):null}template(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class td{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new td(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const y=f[g];this.matchTNodeWithReadOption(o,c,iy(c,y)),this.matchTNodeWithReadOption(o,c,u1(c,o,y,!1,!1))}else f===j8?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,u1(c,o,f,!1,!1))}matchTNodeWithReadOption(o,c,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Ua||g===Z5||g===j8&&4&c.type)this.addMatch(c.index,-2);else{const y=u1(c,o,g,!1,!1);null!==y&&this.addMatch(c.index,y)}else this.addMatch(c.index,f)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function iy(i,o){const c=i.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===o)return c[f+1];return null}function sy(i,o,c,f){return-1===c?function(i,o){return 11&i.type?Ff(i,o):4&i.type?G5(i,o):null}(o,i):-2===c?function(i,o,c){return c===Ua?Ff(o,i):c===j8?G5(o,i):c===Z5?wv(o,i):void 0}(i,o,f):l1(i,i[1],c,o)}function ay(i,o,c,f){const g=o[19].queries[f];if(null===g.matches){const y=i.data,w=c.matches,A=[];for(let x=0;x<w.length;x+=2){const k=w[x];A.push(k<0?null:sy(o,y[k],w[x+1],c.metadata.read))}g.matches=A}return g.matches}function _p(i,o,c,f){const g=i.queries.getByIndex(c),y=g.matches;if(null!==y){const w=ay(i,o,g,c);for(let A=0;A<y.length;A+=2){const x=y[A];if(x>0)f.push(w[A/2]);else{const k=y[A+1],P=o[-x];for(let q=10;q<P.length;q++){const W=P[q];W[17]===W[3]&&_p(W[1],W,k,f)}if(null!==P[9]){const q=P[9];for(let W=0;W<q.length;W++){const oe=q[W];_p(oe[1],oe,k,f)}}}}}return f}function em(i){const o=Ze(),c=sn(),f=tu();X1(f+1);const g=uy(c,f);if(i.dirty&&wo(o)===(2==(2&g.metadata.flags))){if(null===g.matches)i.reset([]);else{const y=g.crossesNgTemplate?_p(c,o,f,[]):ay(c,o,g,f);i.reset(y,Uf),i.notifyOnChanges()}return!0}return!1}function yt(i,o,c){const f=sn();f.firstCreatePass&&(cy(f,new ry(i,o,c),-1),2==(2&o)&&(f.staticViewQueries=!0)),tm(f,Ze(),o)}function nd(i,o,c,f){const g=sn();if(g.firstCreatePass){const y=Qn();cy(g,new ry(o,c,f),y.index),function(i,o){const c=i.contentQueries||(i.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(i.queries.length-1,o)}(g,i),2==(2&c)&&(g.staticContentQueries=!0)}tm(g,Ze(),c)}function nh(){return i=Ze(),o=tu(),i[19].queries[o].queryList;var i,o}function tm(i,o,c){const f=new gp(4==(4&c));Jl(i,o,f,f.destroy),null===o[19]&&(o[19]=new yp),o[19].queries.push(new vp(f))}function cy(i,o,c){null===i.queries&&(i.queries=new ed),i.queries.track(new td(o,c))}function uy(i,o){return i.queries.getByIndex(o)}const Tp=new St("Application Initializer");let ah=(()=>{class i{constructor(c){this.appInits=c,this.resolve=F5,this.reject=F5,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(Gu(y))c.push(y);else if(v4(y)){const w=new Promise((A,x)=>{y.subscribe({complete:A,error:x})});c.push(w)}}Promise.all(c).then(()=>{f()}).catch(g=>{this.reject(g)}),0===c.length&&f(),this.initialized=!0}}return i.\u0275fac=function(c){return new(c||i)(Tn(Tp,8))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const cd=new St("AppId"),ud={provide:cd,useFactory:function(){return`${Ip()}${Ip()}${Ip()}`},deps:[]};function Ip(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wy=new St("Platform Initializer"),xp=new St("Platform ID"),Ey=new St("appBootstrapListener");let My=(()=>{class i{log(c){console.log(c)}warn(c){console.warn(c)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const ld=new St("LocaleId"),Sp=new St("DefaultCurrencyCode");class Iy{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}const Np=function(i){return new Q9(i)},tw=Np,xy=function(i){return Promise.resolve(Np(i))},Dy=function(i){const o=Np(i),f=na(yo(i).declarations).reduce((g,y)=>{const w=Mr(y);return w&&g.push(new $v(w)),g},[]);return new Iy(o,f)},ch=Dy,z4=function(i){return Promise.resolve(Dy(i))};let j6=(()=>{class i{constructor(){this.compileModuleSync=tw,this.compileModuleAsync=xy,this.compileModuleAndAllComponentsSync=ch,this.compileModuleAndAllComponentsAsync=z4}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const rw=(()=>Promise.resolve(0))();function Op(i){"undefined"==typeof Zone?rw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class fo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&c,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let i=bn.requestAnimationFrame,o=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(i){const o=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(bn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,B2(i),i.isCheckStableRunning=!0,ym(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),B2(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,g,y,w,A)=>{try{return Rp(i),c.invokeTask(g,y,w,A)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||i.shouldCoalesceRunChangeDetection)&&o(),bm(i)}},onInvoke:(c,f,g,y,w,A,x)=>{try{return Rp(i),c.invoke(g,y,w,A,x)}finally{i.shouldCoalesceRunChangeDetection&&o(),bm(i)}},onHasTask:(c,f,g,y)=>{c.hasTask(g,y),f===g&&("microTask"==y.change?(i._hasPendingMicrotasks=y.microTask,B2(i),ym(i)):"macroTask"==y.change&&(i.hasPendingMacrotasks=y.macroTask))},onHandleError:(c,f,g,y)=>(c.handleError(g,y),i.runOutsideAngular(()=>i.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,f){return this._inner.run(o,c,f)}runTask(o,c,f,g){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+g,o,iw,F5,F5);try{return y.runTask(w,c,f)}finally{y.cancelTask(w)}}runGuarded(o,c,f){return this._inner.runGuarded(o,c,f)}runOutsideAngular(o){return this._outer.run(o)}}const iw={};function ym(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function B2(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Rp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function bm(i){i._nesting--,ym(i)}class ow{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(o,c,f){return o.apply(c,f)}runGuarded(o,c,f){return o.apply(c,f)}runOutsideAngular(o){return o()}runTask(o,c,f,g){return o.apply(c,f)}}let Ny=(()=>{class i{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),Op(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Op(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,g){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:y,updateCb:g})}whenStable(c,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,g){return[]}}return i.\u0275fac=function(c){return new(c||i)(Tn(fo))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})(),ky=(()=>{class i{constructor(){this._applications=new Map,lh.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return lh.findTestabilityInTree(this,c,f)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();class qa{addToWindow(o){}findTestabilityInTree(o,c,f){return null}}function sw(i){lh=i}let lh=new qa,Ly=!0,Oy=!1;function hd(){return Oy=!0,Ly}function Ry(){if(Oy)throw new Error("Cannot enable prod mode after platform setup.");Ly=!1}let j2;const Am=new St("AllowMultipleToken");class Mm{constructor(o,c){this.name=o,this.token=c}}function Tm(i,o,c=[]){const f=`Platform: ${o}`,g=new St(f);return(y=[])=>{let w=Vy();if(!w||w.injector.get(Am,!1))if(i)i(c.concat(y).concat({provide:g,useValue:!0}));else{const A=c.concat(y).concat({provide:g,useValue:!0},{provide:mr,useValue:"platform"});!function(i){if(j2&&!j2.destroyed&&!j2.injector.get(Am,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");j2=i.get(Fy);const o=i.get(wy,null);o&&o.forEach(c=>c())}(gr.create({providers:A,name:f}))}return function(i){const o=Vy();if(!o)throw new Error("No platform exists!");if(!o.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(g)}}function Vy(){return j2&&!j2.destroyed?j2:null}let Fy=(()=>{class i{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const A=function(i,o){let c;return c="noop"===i?new ow:("zone.js"===i?void 0:i)||new fo({enableLongStackTrace:hd(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),x=[{provide:fo,useValue:A}];return A.run(()=>{const k=gr.create({providers:x,parent:this.injector,name:c.moduleType.name}),P=c.create(k),q=P.injector.get(g2,null);if(!q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return A.runOutsideAngular(()=>{const W=A.onError.subscribe({next:oe=>{q.handleError(oe)}});P.onDestroy(()=>{Vp(this._modules,P),W.unsubscribe()})}),function(i,o,c){try{const f=c();return Gu(f)?f.catch(g=>{throw o.runOutsideAngular(()=>i.handleError(g)),g}):f}catch(f){throw o.runOutsideAngular(()=>i.handleError(f)),f}}(q,A,()=>{const W=P.injector.get(ah);return W.runInitializers(),W.donePromise.then(()=>(w4(P.injector.get(ld,x5)||x5),this._moduleDoBootstrap(P),P))})})}bootstrapModule(c,f=[]){const g=Uy({},f);return function(i,o,c){const f=new Q9(c);return Promise.resolve(f)}(0,0,c).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(c){const f=c.injector.get(V4);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${me(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(c){return new(c||i)(Tn(gr))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function Uy(i,o){return Array.isArray(o)?o.reduce(Uy,i):Object.assign(Object.assign({},i),o)}let V4=(()=>{class i{constructor(c,f,g,y,w){this._zone=c,this._injector=f,this._exceptionHandler=g,this._componentFactoryResolver=y,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new V.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),x=new V.y(k=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{fo.assertNotInAngularZone(),Op(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{P.unsubscribe(),q.unsubscribe()}});this.isStable=(0,he.T)(A,x.pipe((0,De.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=c instanceof lv?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(g.componentType);const y=function(i){return i.isBoundToModule}(g)?void 0:this._injector.get(I4),A=g.create(gr.NULL,[],f||g.selector,y),x=A.location.nativeElement,k=A.injector.get(Ny,null),P=k&&A.injector.get(ky);return k&&P&&P.registerApplication(x,k),A.onDestroy(()=>{this.detachView(A.hostView),Vp(this.components,A),P&&P.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Vp(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Ey,[]).concat(this._bootstrapListeners).forEach(g=>g(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(c){return new(c||i)(Tn(fo),Tn(gr),Tn(g2),Tn(M4),Tn(ah))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function Vp(i,o){const c=i.indexOf(o);c>-1&&i.splice(c,1)}class By{}class dw{}const pw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zy=(()=>{class i{constructor(c,f){this._compiler=c,this._config=f||pw}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[f,g]=c.split("#");return void 0===g&&(g="default"),X(8255)(f).then(y=>y[g]).then(y=>$y(y,f,g)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(c){let[f,g]=c.split("#"),y="NgFactory";return void 0===g&&(g="default",y=""),X(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(w=>w[g+y]).then(w=>$y(w,f,g))}}return i.\u0275fac=function(c){return new(c||i)(Tn(j6),Tn(dw,8))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function $y(i,o,c){if(!i)throw new Error(`Cannot find '${c}' in '${o}'`);return i}const Cw=function(i){return null},ww=Tm(null,"core",[{provide:xp,useValue:"unknown"},{provide:Fy,deps:[gr]},{provide:ky,deps:[]},{provide:My,deps:[]}]),QA=[{provide:V4,useClass:V4,deps:[fo,gr,g2,M4,ah]},{provide:lp,deps:[fo],useFactory:function(i){let o=[];return i.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(c){o.push(c)}}},{provide:ah,useClass:ah,deps:[[new Qr,Tp]]},{provide:j6,useClass:j6,deps:[]},ud,{provide:U8,useFactory:function(){return _v},deps:[]},{provide:j5,useFactory:function(){return bv},deps:[]},{provide:ld,useFactory:function(i){return w4(i=i||"undefined"!=typeof $localize&&$localize.locale||x5),i},deps:[[new Sr(ld),new Qr,new pi]]},{provide:Sp,useValue:"USD"}];let Mw=(()=>{class i{constructor(c){}}return i.\u0275fac=function(c){return new(c||i)(Tn(V4))},i.\u0275mod=wi({type:i}),i.\u0275inj=Xn({providers:QA}),i})()},57:(wt,je,X)=>{"use strict";X.d(je,{hO:()=>yn,xv:()=>Ne,Dh:()=>ke,HU:()=>ae,GT:()=>Te,sI:()=>ot,on:()=>Ge,ss:()=>te,pX:()=>le,yq:()=>nt});var l=X(7771),B=X(3637),V=X(3342),he=X(3101),De=X(309),ge=X(7716),Re=X(2329);function me(){}wt=X.hmd(wt);class pe{constructor(Ae,$=l.N){this.zone=Ae,this.delegate=$}now(){return this.delegate.now()}schedule(Ae,$,we){const Be=this.zone;return this.delegate.schedule(function(Et){Be.runGuarded(()=>{Ae.apply(this,[Et])})},$,we)}}class F{constructor(Ae){this.zone=Ae,this.task=null}call(Ae,$){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",me,{},me,me)),$.pipe((0,V.b)({next:we,complete:we,error:we})).subscribe(Ae).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ae{constructor(Ae){this.ngZone=Ae,this.outsideAngular=Ae.runOutsideAngular(()=>new pe(Zone.current)),this.insideAngular=Ae.run(()=>new pe(Zone.current,B.z))}}function te(de){return function($){return($=$.lift(new F(de.ngZone))).pipe((0,he.R)(de.outsideAngular),(0,De.QV)(de.insideAngular))}}const se=["ngOnDestroy"],le=(de,Ae,$,we={})=>new Proxy(de,{get:(Be,Ee)=>$.runOutsideAngular(()=>{var Et;if(de[Ee])return(null===(Et=null==we?void 0:we.spy)||void 0===Et?void 0:Et.get)&&we.spy.get(Ee,de[Ee]),de[Ee];if(se.indexOf(Ee)>-1)return()=>{};const Ct=Ae.toPromise().then(_n=>{const _t=_n&&_n[Ee];return"function"==typeof _t?_t.bind(_n):_t&&_t.then?_t.then(mt=>$.run(()=>mt)):$.run(()=>_t)});return new Proxy(()=>{},{get:(_n,_t)=>Ct[_t],apply:(_n,_t,mt)=>Ct.then(it=>{var at;const Ot=it&&it(...mt);return(null===(at=null==we?void 0:we.spy)||void 0===at?void 0:at.apply)&&we.spy.apply(Ee,mt,Ot),Ot})})})}),Te=(de,Ae)=>{Ae.forEach($=>{Object.getOwnPropertyNames($.prototype||$).forEach(we=>{Object.defineProperty(de.prototype,we,Object.getOwnPropertyDescriptor($.prototype||$,we))})})},ke=new ge.OlP("angularfire2.app.options"),Ne=new ge.OlP("angularfire2.app.nameOrConfig"),Oe=new ge.GfV("6.1.5");function Ge(de,Ae,$){const Be="object"==typeof $&&$||{};Be.name=Be.name||"string"==typeof $&&$||"[DEFAULT]";const Et=Re.Z.apps.filter(Ct=>Ct&&Ct.name===Be.name)[0]||Ae.runOutsideAngular(()=>Re.Z.initializeApp(de,Be));try{JSON.stringify(de)!==JSON.stringify(Et.options)&&Qe("error",`${Et.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return Et}const nt=()=>{Qe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Qe=(de,...Ae)=>{(0,ge.X6Q)()&&"undefined"!=typeof console&&console[de](...Ae)};function ot(de,Ae,$,we,Be){const[Ee,...Et]=globalThis.\u0275AngularfireInstanceCache.get(de)||[];if(Ee){try{Be.some((Ct,_n)=>{const _t=Et[_n];return Ct&&"object"==typeof Ct?JSON.stringify(Ct)!==JSON.stringify(_t):Ct!==_t})&&Qe("error",`${Ae} was already initialized on the ${$.name} Firebase App instance with different settings.${wt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ct){}return Ee}{const Ct=we();return globalThis.\u0275AngularfireInstanceCache.set(de,[Ct,...Be]),Ct}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Zt={provide:class{},useFactory:Ge,deps:[ke,ge.R0b,[new ge.FiY,Ne]]};let yn=(()=>{class de{constructor($){Re.Z.registerVersion("angularfire",Oe.full,$.toString()),Re.Z.registerVersion("angular",ge.q4F.full)}static initializeApp($,we){return{ngModule:de,providers:[{provide:ke,useValue:$},{provide:Ne,useValue:we}]}}}return de.\u0275fac=function($){return new($||de)(ge.LFG(ge.Lbi))},de.\u0275mod=ge.oAB({type:de}),de.\u0275inj=ge.cJS({providers:[Zt]}),de})()},7367:(wt,je,X)=>{"use strict";var l=X(9759),B=X(6034),V=X(4762),he=X(4685),De=X(300);function ge(K){return K&&"object"==typeof K&&"default"in K?K:{default:K}}var me,Re=ge(l),pe=((me={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",me["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",me["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",me["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",me["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",me["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",me["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",me["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",me["recaptcha-error"]="ReCAPTCHA error.",me),F=new he.ErrorFactory("appCheck","AppCheck",pe),ae=new Map,te={activated:!1,tokenObservers:[]},se={enabled:!1};function le(K){return ae.get(K)||te}function Te(K,Q){ae.set(K,Q)}function ke(){return se}var Ne="https://content-firebaseappcheck.googleapis.com/v1beta",nt=function(){function K(Q,ce,_e,He,Ke){if(this.operation=Q,this.retryPolicy=ce,this.getWaitDuration=_e,this.lowerBound=He,this.upperBound=Ke,this.pending=null,this.nextErrorWaitInterval=He,He>Ke)throw new Error("Proactive refresh lower bound greater than upper bound!")}return K.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},K.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},K.prototype.isRunning=function(){return!!this.pending},K.prototype.process=function(Q){return V.__awaiter(this,void 0,void 0,function(){var ce;return V.__generator(this,function(_e){switch(_e.label){case 0:this.stop(),_e.label=1;case 1:return _e.trys.push([1,6,,7]),this.pending=new he.Deferred,[4,Qe(this.getNextRun(Q))];case 2:return _e.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return _e.sent(),this.pending=new he.Deferred,[4,this.operation()];case 4:return _e.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return _e.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return ce=_e.sent(),this.retryPolicy(ce)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},K.prototype.getNextRun=function(Q){if(Q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var ce=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ce},K}();function Qe(K){return new Promise(function(Q){setTimeout(Q,K)})}function Bt(){return self.grecaptcha}function ot(K){if(!le(K).activated)throw F.create("use-before-activation",{appName:K.name})}function yn(K){return he.base64.encodeString(JSON.stringify(K),!1)}function de(K,Q){var ce=K.url,_e=K.body;return V.__awaiter(this,void 0,void 0,function(){var He,Ke,pt,$t,dn,un,or,wi,Os,_r;return V.__generator(this,function(vo){switch(vo.label){case 0:He={"Content-Type":"application/json"},(Ke=Q.getImmediate({optional:!0}))&&(He["X-Firebase-Client"]=Ke.getPlatformInfoString()),pt={method:"POST",body:JSON.stringify(_e),headers:He},vo.label=1;case 1:return vo.trys.push([1,3,,4]),[4,fetch(ce,pt)];case 2:return $t=vo.sent(),[3,4];case 3:throw dn=vo.sent(),F.create("fetch-network-error",{originalErrorMessage:dn.message});case 4:if(200!==$t.status)throw F.create("fetch-status-error",{httpStatus:$t.status});vo.label=5;case 5:return vo.trys.push([5,7,,8]),[4,$t.json()];case 6:return un=vo.sent(),[3,8];case 7:throw or=vo.sent(),F.create("fetch-parse-error",{originalErrorMessage:or.message});case 8:if(!(wi=un.ttl.match(/^([\d.]+)(s)$/))||!wi[2]||isNaN(Number(wi[1])))throw F.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+un.ttl});return Os=1e3*Number(wi[1]),_r=Date.now(),[2,{token:un.attestationToken,expireTimeMillis:_r+Os,issuedAtTimeMillis:_r}]}})})}function Ae(K,Q){var ce=K.options;return{url:Ne+"/projects/"+ce.projectId+"/apps/"+ce.appId+":exchangeRecaptchaToken?key="+ce.apiKey,body:{recaptcha_token:Q}}}function $(K,Q){var ce=K.options;return{url:Ne+"/projects/"+ce.projectId+"/apps/"+ce.appId+":exchangeDebugToken?key="+ce.apiKey,body:{debug_token:Q}}}var Ee="firebase-app-check-store",Et="debug-token",Ct=null;function _n(){return Ct||(Ct=new Promise(function(K,Q){try{var ce=indexedDB.open("firebase-app-check-database",1);ce.onsuccess=function(_e){K(_e.target.result)},ce.onerror=function(_e){var He;Q(F.create("storage-open",{originalErrorMessage:null===(He=_e.target.error)||void 0===He?void 0:He.message}))},ce.onupgradeneeded=function(_e){var He=_e.target.result;switch(_e.oldVersion){case 0:He.createObjectStore(Ee,{keyPath:"compositeKey"})}}}catch(_e){Q(F.create("storage-open",{originalErrorMessage:_e.message}))}}))}function _t(K){return En(rn(K))}function Ot(K,Q){return V.__awaiter(this,void 0,void 0,function(){var ce,_e,He,Ke;return V.__generator(this,function(pt){switch(pt.label){case 0:return[4,_n()];case 1:return ce=pt.sent(),_e=ce.transaction(Ee,"readwrite"),He=_e.objectStore(Ee),Ke=He.put({compositeKey:K,value:Q}),[2,new Promise(function($t,dn){Ke.onsuccess=function(un){$t()},_e.onerror=function(un){var or;dn(F.create("storage-set",{originalErrorMessage:null===(or=un.target.error)||void 0===or?void 0:or.message}))}})]}})})}function En(K){return V.__awaiter(this,void 0,void 0,function(){var Q,ce,_e,He;return V.__generator(this,function(Ke){switch(Ke.label){case 0:return[4,_n()];case 1:return Q=Ke.sent(),ce=Q.transaction(Ee,"readonly"),_e=ce.objectStore(Ee),He=_e.get(K),[2,new Promise(function(pt,$t){He.onsuccess=function(dn){var un=dn.target.result;pt(un?un.value:void 0)},ce.onerror=function(dn){var un;$t(F.create("storage-get",{originalErrorMessage:null===(un=dn.target.error)||void 0===un?void 0:un.message}))}})]}})})}function rn(K){return K.options.appId+"-"+K.name}var Lr=new De.Logger("@firebase/app-check");function ir(K,Q){return he.isIndexedDBAvailable()?function(K,Q){return Ot(rn(K),Q)}(K,Q).catch(function(ce){Lr.warn("Failed to write token to indexeddb. Error: "+ce)}):Promise.resolve()}function os(){return V.__awaiter(this,void 0,void 0,function(){var K;return V.__generator(this,function(Q){if((K=ke()).enabled&&K.token)return[2,K.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Kt={error:"UNKNOWN_ERROR"};function zt(K,Q,ce){return void 0===ce&&(ce=!1),V.__awaiter(this,void 0,void 0,function(){var _e,He,Ke,pt,$t,dn,un,or,wi,Os;return V.__generator(this,function(_r){switch(_r.label){case 0:return ot(K),_e=le(K),Ke=void 0,(He=_e.token)?[3,2]:[4,_e.cachedTokenPromise];case 1:(pt=_r.sent())&&Hn(pt)&&(He=pt,Te(K,V.__assign(V.__assign({},_e),{token:He})),en(K,{token:He.token})),_r.label=2;case 2:return!ce&&He&&Hn(He)?[2,{token:He.token}]:ke().enabled?(dn=de,un=$,or=[K],[4,os()]):[3,6];case 3:return[4,dn.apply(void 0,[un.apply(void 0,or.concat([_r.sent()])),Q])];case 4:return $t=_r.sent(),[4,ir(K,$t)];case 5:return _r.sent(),Te(K,V.__assign(V.__assign({},_e),{token:$t})),[2,{token:$t.token}];case 6:return _r.trys.push([6,8,,9]),[4,_e.provider.getToken()];case 7:return He=_r.sent(),[3,9];case 8:return wi=_r.sent(),Lr.error(wi),Ke=wi,[3,9];case 9:return He?[3,10]:(Os=function(K){return{token:yn(Kt),error:K}}(Ke),[3,12]);case 10:return Os={token:He.token},Te(K,V.__assign(V.__assign({},_e),{token:He})),[4,ir(K,He)];case 11:_r.sent(),_r.label=12;case 12:return en(K,Os),[2,Os]}})})}function wr(K,Q,ce,_e,He){var Ke=le(K),pt={next:_e,error:He,type:ce},$t=V.__assign(V.__assign({},Ke),{tokenObservers:V.__spreadArray(V.__spreadArray([],Ke.tokenObservers),[pt])});if(!$t.tokenRefresher){var dn=function(K,Q){var ce=this;return new nt(function(){return V.__awaiter(ce,void 0,void 0,function(){var He;return V.__generator(this,function(Ke){switch(Ke.label){case 0:return le(K).token?[3,2]:[4,zt(K,Q)];case 1:return He=Ke.sent(),[3,4];case 2:return[4,zt(K,Q,!0)];case 3:He=Ke.sent(),Ke.label=4;case 4:if(He.error)throw He.error;return[2]}})})},function(){return!0},function(){var _e=le(K);if(_e.token){var He=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return He=Math.min(He,_e.token.expireTimeMillis-3e5),Math.max(0,He-Date.now())}return 0},3e4,96e4)}(K,Q);$t.tokenRefresher=dn}if(!$t.tokenRefresher.isRunning()&&Ke.isTokenAutoRefreshEnabled&&$t.tokenRefresher.start(),Ke.token&&Hn(Ke.token)){var un=Ke.token;Promise.resolve().then(function(){return _e({token:un.token})}).catch(function(){})}else null==Ke.token&&Ke.cachedTokenPromise.then(function(or){or&&Hn(or)&&_e({token:or.token})}).catch(function(){});Te(K,$t)}function kn(K,Q){var ce=le(K),_e=ce.tokenObservers.filter(function(He){return He.next!==Q});0===_e.length&&ce.tokenRefresher&&ce.tokenRefresher.isRunning()&&ce.tokenRefresher.stop(),Te(K,V.__assign(V.__assign({},ce),{tokenObservers:_e}))}function en(K,Q){for(var _e=0,He=le(K).tokenObservers;_e<He.length;_e++){var Ke=He[_e];try{"EXTERNAL"===Ke.type&&null!=Q.error?Ke.error(Q.error):Ke.next(Q)}catch(pt){}}}function Hn(K){return K.expireTimeMillis-Date.now()>0}function qi(K){return V.__awaiter(this,void 0,void 0,function(){var ce;return V.__generator(this,function(_e){switch(_e.label){case 0:return ot(K),[4,le(K).reCAPTCHAState.initialized.promise];case 1:return ce=_e.sent(),[2,new Promise(function(He,Ke){var pt=le(K).reCAPTCHAState;ce.ready(function(){He(ce.execute(pt.widgetId,{action:"fire_app_check"}))})})]}})})}function hr(K,Q,ce,_e){var He=ce.render(_e,{sitekey:Q,size:"invisible"}),Ke=le(K);Te(K,V.__assign(V.__assign({},Ke),{reCAPTCHAState:V.__assign(V.__assign({},Ke.reCAPTCHAState),{widgetId:He})}))}var Un=function(){function K(Q){this._siteKey=Q}return K.prototype.getToken=function(){return V.__awaiter(this,void 0,void 0,function(){var Q;return V.__generator(this,function(ce){switch(ce.label){case 0:if(!this._app||!this._platformLoggerProvider)throw F.create("use-before-activation",{appName:""});ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,qi(this._app)];case 2:return Q=ce.sent(),[3,4];case 3:throw ce.sent(),F.create("recaptcha-error");case 4:return[2,de(Ae(this._app,Q),this._platformLoggerProvider)]}})})},K.prototype.initialize=function(Q,ce){this._app=Q,this._platformLoggerProvider=ce,function(K,Q){var ce=le(K),_e=new he.Deferred;Te(K,V.__assign(V.__assign({},ce),{reCAPTCHAState:{initialized:_e}}));var He="fire_app_check_"+K.name,Ke=document.createElement("div");Ke.id=He,Ke.style.display="none",document.body.appendChild(Ke);var pt=Bt();return pt?pt.ready(function(){hr(K,Q,pt,He),_e.resolve(pt)}):function(K){var Q=document.createElement("script");Q.src="https://www.google.com/recaptcha/api.js",Q.onload=K,document.head.appendChild(Q)}(function(){var $t=Bt();if(!$t)throw new Error("no recaptcha");$t.ready(function(){hr(K,Q,$t,He),_e.resolve($t)})}),_e.promise}(Q,this._siteKey).catch(function(){})},K}(),lt=function(){function K(Q){this._customProviderOptions=Q}return K.prototype.getToken=function(){return V.__awaiter(this,void 0,void 0,function(){var Q,ce,_e;return V.__generator(this,function(He){switch(He.label){case 0:if(!this._app)throw F.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return Q=He.sent(),ce=he.issuedAtTime(Q.token),_e=null!==ce&&ce<Date.now()&&ce>0?1e3*ce:Date.now(),[2,V.__assign(V.__assign({},Q),{issuedAtTimeMillis:_e})]}})})},K.prototype.initialize=function(Q){this._app=Q},K}();function bn(K,Q){return{app:K,activate:function(ce,_e){return function(K,Q,ce,_e){var He=le(K);if(He.activated)throw F.create("already-activated",{appName:K.name});var Ke=V.__assign(V.__assign({},He),{activated:!0});Ke.cachedTokenPromise=function(K){return V.__awaiter(this,void 0,void 0,function(){var Q,ce;return V.__generator(this,function(_e){switch(_e.label){case 0:if(!he.isIndexedDBAvailable())return[3,5];Q=void 0,_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,_t(K)];case 2:return Q=_e.sent(),[3,4];case 3:return ce=_e.sent(),Lr.warn("Failed to read token from indexeddb. Error: "+ce),[3,4];case 4:return[2,Q];case 5:return[2,void 0]}})})}(K).then(function(pt){return pt&&Hn(pt)&&Te(K,V.__assign(V.__assign({},le(K)),{token:pt})),pt}),Ke.provider="string"==typeof Q?new Un(Q):Q instanceof Un||Q instanceof lt?Q:new lt({getToken:Q.getToken}),Ke.isTokenAutoRefreshEnabled=void 0===_e?K.automaticDataCollectionEnabled:_e,Te(K,Ke),Ke.provider.initialize(K,ce)}(K,ce,Q,_e)},setTokenAutoRefreshEnabled:function(ce){return function(K,Q){var ce=le(K);ce.tokenRefresher&&(!0===Q?ce.tokenRefresher.start():ce.tokenRefresher.stop()),Te(K,V.__assign(V.__assign({},ce),{isTokenAutoRefreshEnabled:Q}))}(K,ce)},getToken:function(ce){return function(K,Q,ce){return V.__awaiter(this,void 0,void 0,function(){var _e;return V.__generator(this,function(He){switch(He.label){case 0:return[4,zt(K,Q,ce)];case 1:if((_e=He.sent()).error)throw _e.error;return[2,{token:_e.token}]}})})}(K,Q,ce)},onTokenChanged:function(ce,_e,He){return function(K,Q,ce,_e,He){var Ke,pt=function(){};return Ke=null!=ce.next?ce.next.bind(ce):ce,null!=ce.error?pt=ce.error.bind(ce):_e&&(pt=_e),wr(K,Q,"EXTERNAL",Ke,pt),function(){return kn(K,Ke)}}(K,Q,ce,_e)},INTERNAL:{delete:function(){for(var _e=0,He=le(K).tokenObservers;_e<He.length;_e++)kn(K,He[_e].next);return Promise.resolve()}}}}var K,re="app-check-internal";(K=Re.default).INTERNAL.registerComponent(new B.Component("appCheck",function(Q){return bn(Q.getProvider("app").getImmediate(),Q.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Un,CustomProvider:lt}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(Q,ce,_e){Q.getProvider(re).initialize()})),K.INTERNAL.registerComponent(new B.Component(re,function(Q){return function(K,Q){return{getToken:function(ce){return zt(K,Q,ce)},addTokenListener:function(ce){return wr(K,Q,"INTERNAL",ce)},removeTokenListener:function(ce){return kn(K,ce)}}}(Q.getProvider("app").getImmediate(),Q.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),K.registerVersion("@firebase/app-check","0.3.2"),function(){var K=he.getGlobal();if("string"==typeof K.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===K.FIREBASE_APPCHECK_DEBUG_TOKEN){var Q=ke();Q.enabled=!0;var ce=new he.Deferred;Q.token=ce,ce.resolve("string"==typeof K.FIREBASE_APPCHECK_DEBUG_TOKEN?K.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return V.__awaiter(this,void 0,void 0,function(){var K,Q;return V.__generator(this,function(ce){switch(ce.label){case 0:K=void 0,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,En(Et)];case 2:return K=ce.sent(),[3,4];case 3:return ce.sent(),[3,4];case 4:return K?[2,K]:(function(K){return Ot(Et,K)}(Q="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(K){var Q=16*Math.random()|0;return("x"===K?Q:3&Q|8).toString(16)})).catch(function(_e){return Lr.warn("Failed to persist debug token to indexeddb. Error: "+_e)}),console.log("AppCheck debug token: "+Q+". You will need to whitelist it in the Firebase console for it to work"),[2,Q])}})})}())}}()},9759:(wt,je,X)=>{"use strict";X.r(je),X.d(je,{default:()=>mt,firebase:()=>_t});var De,Qe,l=X(4762),B=X(4685),V=X(6034),he=X(300),ge=((De={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",De["bad-app-name"]="Illegal App name: '{$appName}",De["duplicate-app"]="Firebase App named '{$appName}' already exists",De["app-deleted"]="Firebase App named '{$appName}' already deleted",De["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",De["invalid-log-argument"]="First argument to `onLog` must be null or a function.",De),Re=new B.ErrorFactory("app","Firebase",ge),me="@firebase/app",Bt="[DEFAULT]",ot=((Qe={})[me]="fire-core",Qe["@firebase/analytics"]="fire-analytics",Qe["@firebase/app-check"]="fire-app-check",Qe["@firebase/auth"]="fire-auth",Qe["@firebase/database"]="fire-rtdb",Qe["@firebase/functions"]="fire-fn",Qe["@firebase/installations"]="fire-iid",Qe["@firebase/messaging"]="fire-fcm",Qe["@firebase/performance"]="fire-perf",Qe["@firebase/remote-config"]="fire-rc",Qe["@firebase/storage"]="fire-gcs",Qe["@firebase/firestore"]="fire-fst",Qe["fire-js"]="fire-js",Qe["firebase-wrapper"]="fire-js-all",Qe),Zt=new he.Logger("@firebase/app"),yn=function(){function it(at,Ot,En){var rn=this;this.firebase_=En,this.isDeleted_=!1,this.name_=Ot.name,this.automaticDataCollectionEnabled_=Ot.automaticDataCollectionEnabled||!1,this.options_=(0,B.deepCopy)(at),this.container=new V.ComponentContainer(Ot.name),this._addComponent(new V.Component("app",function(){return rn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Lr){return rn._addComponent(Lr)})}return Object.defineProperty(it.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(at){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=at},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),it.prototype.delete=function(){var at=this;return new Promise(function(Ot){at.checkDestroyed_(),Ot()}).then(function(){return at.firebase_.INTERNAL.removeApp(at.name_),Promise.all(at.container.getProviders().map(function(Ot){return Ot.delete()}))}).then(function(){at.isDeleted_=!0})},it.prototype._getService=function(at,Ot){var En;void 0===Ot&&(Ot=Bt),this.checkDestroyed_();var rn=this.container.getProvider(at);return!rn.isInitialized()&&"EXPLICIT"===(null===(En=rn.getComponent())||void 0===En?void 0:En.instantiationMode)&&rn.initialize(),rn.getImmediate({identifier:Ot})},it.prototype._removeServiceInstance=function(at,Ot){void 0===Ot&&(Ot=Bt),this.container.getProvider(at).clearInstance(Ot)},it.prototype._addComponent=function(at){try{this.container.addComponent(at)}catch(Ot){Zt.debug("Component "+at.name+" failed to register with FirebaseApp "+this.name,Ot)}},it.prototype._addOrOverwriteComponent=function(at){this.container.addOrOverwriteComponent(at)},it.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},it.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Re.create("app-deleted",{appName:this.name_})},it}();yn.prototype.name&&yn.prototype.options||yn.prototype.delete||console.log("dc");var we=function $(){var it=function(it){var at={},Ot=new Map,En={__esModule:!0,initializeApp:function(Kt,zt){void 0===zt&&(zt={}),("object"!=typeof zt||null===zt)&&(zt={name:zt});var kn=zt;void 0===kn.name&&(kn.name=Bt);var ct=kn.name;if("string"!=typeof ct||!ct)throw Re.create("bad-app-name",{appName:String(ct)});if((0,B.contains)(at,ct))throw Re.create("duplicate-app",{appName:ct});var en=new it(Kt,kn,En);return at[ct]=en,en},app:Lr,registerVersion:function(Kt,zt,wr){var kn,ct=null!==(kn=ot[Kt])&&void 0!==kn?kn:Kt;wr&&(ct+="-"+wr);var en=ct.match(/\s|\//),Hn=zt.match(/\s|\//);if(en||Hn){var An=['Unable to register library "'+ct+'" with version "'+zt+'":'];return en&&An.push('library name "'+ct+'" contains illegal characters (whitespace or "/")'),en&&Hn&&An.push("and"),Hn&&An.push('version name "'+zt+'" contains illegal characters (whitespace or "/")'),void Zt.warn(An.join(" "))}ji(new V.Component(ct+"-version",function(){return{library:ct,version:zt}},"VERSION"))},setLogLevel:he.setLogLevel,onLog:function(Kt,zt){if(null!==Kt&&"function"!=typeof Kt)throw Re.create("invalid-log-argument");(0,he.setUserLogHandler)(Kt,zt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:ji,removeApp:function(Kt){delete at[Kt]},components:Ot,useAsService:function(Kt,zt){return"serverAuth"===zt?null:zt}}};function Lr(Kt){if(!(0,B.contains)(at,Kt=Kt||Bt))throw Re.create("no-app",{appName:Kt});return at[Kt]}function ji(Kt){var zt=Kt.name;if(Ot.has(zt))return Zt.debug("There were multiple attempts to register component "+zt+"."),"PUBLIC"===Kt.type?En[zt]:null;if(Ot.set(zt,Kt),"PUBLIC"===Kt.type){var wr=function(Hn){if(void 0===Hn&&(Hn=Lr()),"function"!=typeof Hn[zt])throw Re.create("invalid-app-argument",{appName:zt});return Hn[zt]()};void 0!==Kt.serviceProps&&(0,B.deepExtend)(wr,Kt.serviceProps),En[zt]=wr,it.prototype[zt]=function(){for(var Hn=[],An=0;An<arguments.length;An++)Hn[An]=arguments[An];return this._getService.bind(this,zt).apply(this,Kt.multipleInstances?Hn:[])}}for(var kn=0,ct=Object.keys(at);kn<ct.length;kn++)at[ct[kn]]._addComponent(Kt);return"PUBLIC"===Kt.type?En[zt]:null}return En.default=En,Object.defineProperty(En,"apps",{get:function(){return Object.keys(at).map(function(Kt){return at[Kt]})}}),Lr.App=it,En}(yn);return it.INTERNAL=(0,l.__assign)((0,l.__assign)({},it.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(Ot){(0,B.deepExtend)(it,Ot)},createSubscribe:B.createSubscribe,ErrorFactory:B.ErrorFactory,deepExtend:B.deepExtend}),it}(),Be=function(){function it(at){this.container=at}return it.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ot){if(function(it){var at=it.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Ot)){var En=Ot.getImmediate();return En.library+"/"+En.version}return null}).filter(function(Ot){return Ot}).join(" ")},it}();if((0,B.isBrowser)()&&void 0!==self.firebase){Zt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&Zt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _n=we.initializeApp;we.initializeApp=function(){for(var it=[],at=0;at<arguments.length;at++)it[at]=arguments[at];return(0,B.isNode)()&&Zt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_n.apply(void 0,it)};var it,_t=we;(it=_t).INTERNAL.registerComponent(new V.Component("platform-logger",function(Ot){return new Be(Ot)},"PRIVATE")),it.registerVersion(me,"0.6.30",undefined),it.registerVersion("fire-js","");const mt=_t},6423:(wt,je,X)=>{"use strict";var l=X(9759);(function(){var B,V="function"==typeof Object.defineProperties?Object.defineProperty:function(a,h,b){a!=Array.prototype&&a!=Object.prototype&&(a[h]=b.value)},De=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var h=0;h<a.length;++h){var b=a[h];if(b&&b.Math==Math)return b}return globalThis}(this);function Re(a){var h=0;return function(){return h<a.length?{done:!1,value:a[h++]}:{done:!0}}}function me(a){var h="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return h?h.call(a):{next:Re(a)}}!function(a,h){if(h){var b=De;a=a.split(".");for(var M=0;M<a.length-1;M++){var S=a[M];S in b||(b[S]={}),b=b[S]}(h=h(M=b[a=a[a.length-1]]))!=M&&null!=h&&V(b,a,{configurable:!0,writable:!0,value:h})}}("Promise",function(a){function h(U){this.b=0,this.c=void 0,this.a=[];var Y=this.f();try{U(Y.resolve,Y.reject)}catch(Le){Y.reject(Le)}}function b(){this.a=null}function M(U){return U instanceof h?U:new h(function(Y){Y(U)})}if(a)return a;b.prototype.b=function(U){if(null==this.a){this.a=[];var Y=this;this.c(function(){Y.g()})}this.a.push(U)};var S=De.setTimeout;b.prototype.c=function(U){S(U,0)},b.prototype.g=function(){for(;this.a&&this.a.length;){var U=this.a;this.a=[];for(var Y=0;Y<U.length;++Y){var Le=U[Y];U[Y]=null;try{Le()}catch(qe){this.f(qe)}}}this.a=null},b.prototype.f=function(U){this.c(function(){throw U})},h.prototype.f=function(){function U(qe){return function(bt){Le||(Le=!0,qe.call(Y,bt))}}var Y=this,Le=!1;return{resolve:U(this.m),reject:U(this.g)}},h.prototype.m=function(U){if(U===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(U instanceof h)this.s(U);else{e:switch(typeof U){case"object":var Y=null!=U;break e;case"function":Y=!0;break e;default:Y=!1}Y?this.v(U):this.h(U)}},h.prototype.v=function(U){var Y=void 0;try{Y=U.then}catch(Le){return void this.g(Le)}"function"==typeof Y?this.u(Y,U):this.h(U)},h.prototype.g=function(U){this.i(2,U)},h.prototype.h=function(U){this.i(1,U)},h.prototype.i=function(U,Y){if(0!=this.b)throw Error("Cannot settle("+U+", "+Y+"): Promise already settled in state"+this.b);this.b=U,this.c=Y,this.l()},h.prototype.l=function(){if(null!=this.a){for(var U=0;U<this.a.length;++U)z.b(this.a[U]);this.a=null}};var z=new b;return h.prototype.s=function(U){var Y=this.f();U.Ra(Y.resolve,Y.reject)},h.prototype.u=function(U,Y){var Le=this.f();try{U.call(Y,Le.resolve,Le.reject)}catch(qe){Le.reject(qe)}},h.prototype.then=function(U,Y){function Le(hn,Vn){return"function"==typeof hn?function(No){try{qe(hn(No))}catch(L2){bt(L2)}}:Vn}var qe,bt,dt=new h(function(hn,Vn){qe=hn,bt=Vn});return this.Ra(Le(U,qe),Le(Y,bt)),dt},h.prototype.catch=function(U){return this.then(void 0,U)},h.prototype.Ra=function(U,Y){function Le(){switch(qe.b){case 1:U(qe.c);break;case 2:Y(qe.c);break;default:throw Error("Unexpected state: "+qe.b)}}var qe=this;null==this.a?z.b(Le):this.a.push(Le)},h.resolve=M,h.reject=function(U){return new h(function(Y,Le){Le(U)})},h.race=function(U){return new h(function(Y,Le){for(var qe=me(U),bt=qe.next();!bt.done;bt=qe.next())M(bt.value).Ra(Y,Le)})},h.all=function(U){var Y=me(U),Le=Y.next();return Le.done?M([]):new h(function(qe,bt){function dt(No){return function(L2){hn[No]=L2,0==--Vn&&qe(hn)}}var hn=[],Vn=0;do{hn.push(void 0),Vn++,M(Le.value).Ra(dt(hn.length-1),bt),Le=Y.next()}while(!Le.done)})},h});var pe=pe||{},F=this||self,ae=/^[\w+/_-]+[=]{0,2}$/,te=null;function se(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&ae.test(a)?a:""}function le(){}function Te(a){var h=typeof a;return"object"!=h?h:a?Array.isArray(a)?"array":h:"null"}function ke(a){var h=Te(a);return"array"==h||"object"==h&&"number"==typeof a.length}function Ne(a){return"function"==Te(a)}function Ie(a){var h=typeof a;return"object"==h&&null!=a||"function"==h}function Oe(a){return Object.prototype.hasOwnProperty.call(a,Ge)&&a[Ge]||(a[Ge]=++nt)}var Ge="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function Qe(a,h,b){return a.call.apply(a.bind,arguments)}function Bt(a,h,b){if(!a)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,M),a.apply(h,S)}}return function(){return a.apply(h,arguments)}}function ot(a,h,b){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:Bt).apply(null,arguments)}function Zt(a,h){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),a.apply(this,M)}}var yn=Date.now;function de(a,h){function b(){}b.prototype=h.prototype,a.bb=h.prototype,a.prototype=new b,a.prototype.constructor=a}function Ae(a){return a}function $(a,h,b){this.code=Be+a,this.message=h||Ee[a]||"",this.a=b||null}function we(a){var h=a&&a.code;return h?new $(h.substring(Be.length),a.message,a.serverResponse):null}de($,Error),$.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},$.prototype.toJSON=function(){return this.w()};var _n,Be="auth/",Ee={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Et={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ct(a){for(var h in Et)if(Et[h].id===a)return{firebaseEndpoint:(a=Et[h]).Ua,secureTokenEndpoint:a.$a,identityPlatformEndpoint:a.Xa};return null}function _t(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(h){return!1}}function mt(a){if(Error.captureStackTrace)Error.captureStackTrace(this,mt);else{var h=Error().stack;h&&(this.stack=h)}a&&(this.message=String(a))}function it(a,h){for(var b="",M=(a=a.split("%s")).length-1,S=0;S<M;S++)b+=a[S]+(S<h.length?h[S]:"%s");mt.call(this,b+a[M])}function at(a,h){throw new it("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function Ot(a,h){this.c=a,this.f=h,this.b=0,this.a=null}function En(a,h){a.f(h),100>a.b&&(a.b++,h.next=a.a,a.a=h)}function rn(){this.b=this.a=null}_n=Ct("__EID__")?"__EID__":void 0,de(mt,Error),mt.prototype.name="CustomError",de(it,mt),it.prototype.name="AssertionError",Ot.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Lr=new Ot(function(){return new ir},function(a){a.reset()});function Xn(){var a=Ih,h=null;return a.a&&(h=a.a,a.a=a.a.next,a.a||(a.b=null),h.next=null),h}function ir(){this.next=this.b=this.a=null}rn.prototype.add=function(a,h){var b=Lr.get();b.set(a,h),this.b?this.b.next=b:this.a=b,this.b=b},ir.prototype.set=function(a,h){this.a=a,this.b=h,this.next=null},ir.prototype.reset=function(){this.next=this.b=this.a=null};var ji=Array.prototype.indexOf?function(a,h){return Array.prototype.indexOf.call(a,h,void 0)}:function(a,h){if("string"==typeof a)return"string"!=typeof h||1!=h.length?-1:a.indexOf(h,0);for(var b=0;b<a.length;b++)if(b in a&&a[b]===h)return b;return-1},Nn=Array.prototype.forEach?function(a,h,b){Array.prototype.forEach.call(a,h,b)}:function(a,h,b){for(var M=a.length,S="string"==typeof a?a.split(""):a,z=0;z<M;z++)z in S&&h.call(b,S[z],z,a)},Ka=Array.prototype.filter?function(a,h){return Array.prototype.filter.call(a,h,void 0)}:function(a,h){for(var b=a.length,M=[],S=0,z="string"==typeof a?a.split(""):a,U=0;U<b;U++)if(U in z){var Y=z[U];h.call(void 0,Y,U,a)&&(M[S++]=Y)}return M},Kt=Array.prototype.map?function(a,h){return Array.prototype.map.call(a,h,void 0)}:function(a,h){for(var b=a.length,M=Array(b),S="string"==typeof a?a.split(""):a,z=0;z<b;z++)z in S&&(M[z]=h.call(void 0,S[z],z,a));return M},zt=Array.prototype.some?function(a,h){return Array.prototype.some.call(a,h,void 0)}:function(a,h){for(var b=a.length,M="string"==typeof a?a.split(""):a,S=0;S<b;S++)if(S in M&&h.call(void 0,M[S],S,a))return!0;return!1};function kn(a,h){return 0<=ji(a,h)}function ct(a,h){var b;return(b=0<=(h=ji(a,h)))&&Array.prototype.splice.call(a,h,1),b}function en(a,h){!function(a,h){for(var b="string"==typeof a?a.split(""):a,M=a.length-1;0<=M;--M)M in b&&h.call(void 0,b[M],M,a)}(a,function(M,S){h.call(void 0,M,S,a)&&Array.prototype.splice.call(a,S,1)})}function Hn(a){return Array.prototype.concat.apply([],arguments)}function An(a){var h=a.length;if(0<h){for(var b=Array(h),M=0;M<h;M++)b[M]=a[M];return b}return[]}var Er,Ls=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Z1=/&/g,qi=/</g,hr=/>/g,Hc=/"/g,Un=/'/g,lt=/\x00/g,Pt=/[\x00&<>"']/;function Sn(a,h){return-1!=a.indexOf(h)}function go(a,h){return a<h?-1:a>h?1:0}e:{var bn=F.navigator;if(bn){var Ci=bn.userAgent;if(Ci){Er=Ci;break e}}Er=""}function dr(a){return Sn(Er,a)}function Mn(a,h){for(var b in a)h.call(void 0,a[b],b,a)}function ie(a){for(var h in a)return!1;return!0}function re(a){var b,h={};for(b in a)h[b]=a[b];return h}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(a,h){for(var b,M,S=1;S<arguments.length;S++){for(b in M=arguments[S])a[b]=M[b];for(var z=0;z<ve.length;z++)b=ve[z],Object.prototype.hasOwnProperty.call(M,b)&&(a[b]=M[b])}}function Q(a,h){e:{try{var b=a&&a.ownerDocument,M=b&&(b.defaultView||b.parentWindow);if((M=M||F).Element&&M.Location){var S=M;break e}}catch(U){}S=null}if(S&&void 0!==S[h]&&(!a||!(a instanceof S[h])&&(a instanceof S.Location||a instanceof S.Element))){if(Ie(a))try{var z=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(U){z="<object could not be stringified>"}else z=void 0===a?"undefined":null===a?"null":typeof a;at("Argument is not a %s (or a non-Element, non-Location mock); got: %s",h,z)}}function ce(a,h){this.a=a===Ke&&h||"",this.b=He}function _e(a){return a instanceof ce&&a.constructor===ce&&a.b===He?a.a:(at("expected object of type Const, got '"+a+"'"),"type_error:Const")}ce.prototype.ta=!0,ce.prototype.sa=function(){return this.a},ce.prototype.toString=function(){return"Const{"+this.a+"}"};var pt,He={},Ke={};function $t(){if(void 0===pt){var a=null,h=F.trustedTypes;if(h&&h.createPolicy){try{a=h.createPolicy("goog#html",{createHTML:Ae,createScript:Ae,createScriptURL:Ae})}catch(b){F.console&&F.console.error(b.message)}pt=a}else pt=a}return pt}function dn(a,h){this.a=h===_r?a:""}function un(a){return a instanceof dn&&a.constructor===dn?a.a:(at("expected object of type TrustedResourceUrl, got '"+a+"' of type "+Te(a)),"type_error:TrustedResourceUrl")}function or(a,h){var b=_e(a);if(!Os.test(b))throw Error("Invalid TrustedResourceUrl format: "+b);return function(a){var h=$t();return new dn(a=h?h.createScriptURL(a):a,_r)}(a=b.replace(wi,function(M,S){if(!Object.prototype.hasOwnProperty.call(h,S))throw Error('Found marker, "'+S+'", in format string, "'+b+'", but no valid label mapping found in args: '+JSON.stringify(h));return(M=h[S])instanceof ce?_e(M):encodeURIComponent(String(M))}))}dn.prototype.ta=!0,dn.prototype.sa=function(){return this.a.toString()},dn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wi=/%{(\w+)}/g,Os=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_r={};function Ei(a,h){this.a=h===st?a:""}function Mr(a){return a instanceof Ei&&a.constructor===Ei?a.a:(at("expected object of type SafeUrl, got '"+a+"' of type "+Te(a)),"type_error:SafeUrl")}Ei.prototype.ta=!0,Ei.prototype.sa=function(){return this.a.toString()},Ei.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ai=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,$r=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,yo=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function t3(a){if(a instanceof Ei)return a;if(a="object"==typeof a&&a.ta?a.sa():String(a),yo.test(a))a=new Ei(a,st);else{var h=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match($r);a=h&&Ai.test(h[1])?new Ei(a,st):null}return a}function Mi(a){return a instanceof Ei?a:(a="object"==typeof a&&a.ta?a.sa():String(a),yo.test(a)||(a="about:invalid#zClosurez"),new Ei(a,st))}var st={},tn=new Ei("about:invalid#zClosurez",st);function mn(a,h,b){this.a=b===Ya?a:""}mn.prototype.ta=!0,mn.prototype.sa=function(){return this.a.toString()},mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ya={};function Rs(a,h,b,M){return a=a instanceof Ei?a:Mi(a),h=h||F,b=b instanceof ce?_e(b):b||"",h.open(Mr(a),b,M,void 0)}function sr(a,h){for(var b=a.split("%s"),M="",S=Array.prototype.slice.call(arguments,1);S.length&&1<b.length;)M+=b.shift()+S.shift();return M+b.join("%s")}function Qa(a){return Pt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(Z1,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(qi,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(hr,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Hc,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Un,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(lt,"&#0;"))),a}function pa(a){return pa[" "](a),a}pa[" "]=le;var jt,a,$1=dr("Opera"),Or=dr("Trident")||dr("MSIE"),Uc=dr("Edge"),W2=Uc||Or,Wr=dr("Gecko")&&!(Sn(Er.toLowerCase(),"webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),ma=Sn(Er.toLowerCase(),"webkit")&&!dr("Edge");function Ja(){var a=F.document;return a?a.documentMode:void 0}e:{var ft="",Wt=(a=Er,Wr?/rv:([^\);]+)(\)|;)/.exec(a):Uc?/Edge\/([\d\.]+)/.exec(a):Or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ma?/WebKit\/(\S+)/.exec(a):$1?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Wt&&(ft=Wt?Wt[1]:""),Or){var Ps=Ja();if(null!=Ps&&Ps>parseFloat(ft)){jt=String(Ps);break e}}jt=ft}var Jt={};function K2(a){return function(a,h){var b=Jt;return Object.prototype.hasOwnProperty.call(b,a)?b[a]:b[a]=h()}(a,function(){for(var h=0,b=Ls(String(jt)).split("."),M=Ls(String(a)).split("."),S=Math.max(b.length,M.length),z=0;0==h&&z<S;z++){var U=b[z]||"",Y=M[z]||"";do{if(U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],Y=/(\d*)(\D*)(.*)/.exec(Y)||["","","",""],0==U[0].length&&0==Y[0].length)break;h=go(0==U[1].length?0:parseInt(U[1],10),0==Y[1].length?0:parseInt(Y[1],10))||go(0==U[2].length,0==Y[2].length)||go(U[2],Y[2]),U=U[3],Y=Y[3]}while(0==h)}return 0<=h})}var Kr=F.document&&Or&&(Ja()||parseInt(jt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var nn=!Or||9<=Number(Kr);function qt(a){var h=document;return"string"==typeof a?h.getElementById(a):a}function er(a,h){Mn(h,function(b,M){b&&"object"==typeof b&&b.ta&&(b=b.sa()),"style"==M?a.style.cssText=b:"class"==M?a.className=b:"for"==M?a.htmlFor=b:_o.hasOwnProperty(M)?a.setAttribute(_o[M],b):0==M.lastIndexOf("aria-",0)||0==M.lastIndexOf("data-",0)?a.setAttribute(M,b):a[M]=b})}var bo,rl,_o={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yn(a,h,b){function M(Y){Y&&h.appendChild("string"==typeof Y?a.createTextNode(Y):Y)}for(var S=2;S<b.length;S++){var z=b[S];if(!ke(z)||Ie(z)&&0<z.nodeType)M(z);else{e:{if(z&&"number"==typeof z.length){if(Ie(z)){var U="function"==typeof z.item||"string"==typeof z.item;break e}if(Ne(z)){U="function"==typeof z.item;break e}}U=!1}Nn(U?An(z):z,M)}}}function W1(a,h){return h=String(h),"application/xhtml+xml"===a.contentType&&(h=h.toLowerCase()),a.createElement(h)}function as(a){F.setTimeout(function(){throw a},0)}function zs(a,h){rl||function(){if(F.Promise&&F.Promise.resolve){var a=F.Promise.resolve(void 0);rl=function(){a.then(n3)}}else rl=function(){var h=n3;!Ne(F.setImmediate)||F.Window&&F.Window.prototype&&!dr("Edge")&&F.Window.prototype.setImmediate==F.setImmediate?(bo||(bo=function(){var a=F.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dr("Presto")&&(a=function(){var S=W1(document,"IFRAME");S.style.display="none",document.documentElement.appendChild(S);var z=S.contentWindow;(S=z.document).open(),S.close();var U="callImmediate"+Math.random(),Y="file:"==z.location.protocol?"*":z.location.protocol+"//"+z.location.host;S=ot(function(Le){("*"==Y||Le.origin==Y)&&Le.data==U&&this.port1.onmessage()},this),z.addEventListener("message",S,!1),this.port1={},this.port2={postMessage:function(){z.postMessage(U,Y)}}}),void 0!==a&&!dr("Trident")&&!dr("MSIE")){var h=new a,b={},M=b;return h.port1.onmessage=function(){if(void 0!==b.next){var S=(b=b.next).Hb;b.Hb=null,S()}},function(S){M.next={Hb:S},M=M.next,h.port2.postMessage(0)}}return function(S){F.setTimeout(S,0)}}()),bo(h)):F.setImmediate(h)}}(),q4||(rl(),q4=!0),Ih.add(a,h)}var q4=!1,Ih=new rn;function n3(){for(var a;a=Xn();){try{a.a.call(a.b)}catch(h){as(h)}En(Lr,a)}q4=!1}function ln(a,h){if(this.a=Y2,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=le)try{var b=this;a.call(h,function(M){Ti(b,Vs,M)},function(M){if(!(M instanceof Y1))try{throw M instanceof Error?M:Error("Promise rejected.")}catch(S){}Ti(b,ga,M)})}catch(M){Ti(this,ga,M)}}var Y2=0,Vs=2,ga=3;function K1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}K1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var fn=new Ot(function(){return new K1},function(a){a.reset()});function jc(a,h,b){var M=fn.get();return M.g=a,M.b=h,M.f=b,M}function Tt(a){if(a instanceof ln)return a;var h=new ln(le);return Ti(h,Vs,a),h}function tr(a){return new ln(function(h,b){b(a)})}function cs(a,h,b){ol(a,h,b,null)||zs(Zt(h,a))}function Zi(a){return new ln(function(h){var b=a.length,M=[];if(b)for(var S=function(Y,Le,qe){b--,M[Y]=Le?{Qb:!0,value:qe}:{Qb:!1,reason:qe},0==b&&h(M)},z=0;z<a.length;z++)cs(a[z],Zt(S,z,!0),Zt(S,z,!1));else h(M)})}function xh(a,h){if(a.a==Y2)if(a.c){var b=a.c;if(b.b){for(var M=0,S=null,z=null,U=b.b;U&&(U.c||(M++,U.a==a&&(S=U),!(S&&1<M)));U=U.next)S||(z=U);S&&(b.a==Y2&&1==M?xh(b,h):(z?((M=z).next==b.f&&(b.f=M),M.next=M.next.next):$4(b),W4(b,S,ga,h)))}a.c=null}else Ti(a,ga,h)}function Vo(a,h){a.b||a.a!=Vs&&a.a!=ga||Gc(a),a.f?a.f.next=h:a.b=h,a.f=h}function G4(a,h,b,M){var S=jc(null,null,null);return S.a=new ln(function(z,U){S.g=h?function(Y){try{var Le=h.call(M,Y);z(Le)}catch(qe){U(qe)}}:z,S.b=b?function(Y){try{var Le=b.call(M,Y);void 0===Le&&Y instanceof Y1?U(Y):z(Le)}catch(qe){U(qe)}}:U}),S.a.c=a,Vo(a,S),S.a}function Ti(a,h,b){a.a==Y2&&(a===b&&(h=ga,b=new TypeError("Promise cannot resolve to itself")),a.a=1,ol(b,a.$c,a.ad,a)||(a.i=b,a.a=h,a.c=null,Gc(a),h!=ga||b instanceof Y1||function(a,h){a.g=!0,zs(function(){a.g&&sl.call(null,h)})}(a,b)))}function ol(a,h,b,M){if(a instanceof ln)return Vo(a,jc(h||le,b||null,M)),!0;if(_t(a))return a.then(h,b,M),!0;if(Ie(a))try{var S=a.then;if(Ne(S))return function(a,h,b,M,S){function z(Le){Y||(Y=!0,M.call(S,Le))}var Y=!1;try{h.call(a,function(Le){Y||(Y=!0,b.call(S,Le))},z)}catch(Le){z(Le)}}(a,S,h,b,M),!0}catch(z){return b.call(M,z),!0}return!1}function Gc(a){a.h||(a.h=!0,zs(a.gc,a))}function $4(a){var h=null;return a.b&&(a.b=(h=a.b).next,h.next=null),a.b||(a.f=null),h}function W4(a,h,b,M){if(b==ga&&h.b&&!h.c)for(;a&&a.g;a=a.c)a.g=!1;if(h.a)h.a.c=null,e1(h,b,M);else try{h.c?h.g.call(h.f):e1(h,b,M)}catch(S){sl.call(null,S)}En(fn,h)}function e1(a,h,b){h==Vs?a.g.call(a.f,b):a.b&&a.b.call(a.f,b)}ln.prototype.then=function(a,h,b){return G4(this,Ne(a)?a:null,Ne(h)?h:null,b)},ln.prototype.$goog_Thenable=!0,(B=ln.prototype).oa=function(a,h){return(a=jc(a,a,h)).c=!0,Vo(this,a),this},B.o=function(a,h){return G4(this,null,a,h)},B.cancel=function(a){if(this.a==Y2){var h=new Y1(a);zs(function(){xh(this,h)},this)}},B.$c=function(a){this.a=Y2,Ti(this,Vs,a)},B.ad=function(a){this.a=Y2,Ti(this,ga,a)},B.gc=function(){for(var a;a=$4(this);)W4(this,a,this.a,this.i);this.h=!1};var sl=as;function Y1(a){mt.call(this,a)}function K4(){0!=Co&&(Ln[Oe(this)]=this),this.ya=this.ya,this.pa=this.pa}de(Y1,mt),Y1.prototype.name="cancel";var Co=0,Ln={};function Y4(a){if(!a.ya&&(a.ya=!0,a.Da(),0!=Co)){var h=Oe(a);if(0!=Co&&a.pa&&0<a.pa.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ln[h]}}K4.prototype.ya=!1,K4.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var al=Object.freeze||function(a){return a},Zc=!Or||9<=Number(Kr),cl=Or&&!K2("9"),Q2=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{F.addEventListener("test",le,h),F.removeEventListener("test",le,h)}catch(b){}return a}();function on(a,h){this.type=a,this.b=this.target=h,this.defaultPrevented=!1}function Fo(a,h){if(on.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var b=this.type=a.type,M=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=h,h=a.relatedTarget){if(Wr){e:{try{pa(h.nodeName);var S=!0;break e}catch(z){}S=!1}S||(h=null)}}else"mouseover"==b?h=a.fromElement:"mouseout"==b&&(h=a.toElement);this.relatedTarget=h,M?(this.clientX=void 0!==M.clientX?M.clientX:M.pageX,this.clientY=void 0!==M.clientY?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Lt[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}on.prototype.preventDefault=function(){this.defaultPrevented=!0},de(Fo,on);var Lt=al({2:"touch",3:"pen",4:"mouse"});Fo.prototype.preventDefault=function(){Fo.bb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,cl)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(h){}},Fo.prototype.g=function(){return this.a};var $c="closure_listenable_"+(1e6*Math.random()|0),Pn=0;function Sh(a,h,b,M,S){this.listener=a,this.proxy=null,this.src=h,this.type=b,this.capture=!!M,this.Wa=S,this.key=++Pn,this.wa=this.Qa=!1}function Bn(a){a.wa=!0,a.listener=null,a.proxy=null,a.src=null,a.Wa=null}function va(a){this.src=a,this.a={},this.b=0}function $i(a,h){var b=h.type;b in a.a&&ct(a.a[b],h)&&(Bn(h),0==a.a[b].length&&(delete a.a[b],a.b--))}function Q1(a,h,b,M){for(var S=0;S<a.length;++S){var z=a[S];if(!z.wa&&z.listener==h&&z.capture==!!b&&z.Wa==M)return S}return-1}va.prototype.add=function(a,h,b,M,S){var z=a.toString();(a=this.a[z])||(a=this.a[z]=[],this.b++);var U=Q1(a,h,M,S);return-1<U?(h=a[U],b||(h.Qa=!1)):((h=new Sh(h,this.src,z,!!M,S)).Qa=b,a.push(h)),h};var Fs="closure_lm_"+(1e6*Math.random()|0),Hs={};function wo(a,h,b,M,S){if(M&&M.once)Us(a,h,b,M,S);else if(Array.isArray(h))for(var z=0;z<h.length;z++)wo(a,h[z],b,M,S);else b=ul(b),a&&a[$c]?Ze(a,h,b,Ie(M)?!!M.capture:!!M,S):Q4(a,h,b,!1,M,S)}function Q4(a,h,b,M,S,z){if(!h)throw Error("Invalid event type");var U=Ie(S)?!!S.capture:!!S,Y=Kc(a);if(Y||(a[Fs]=Y=new va(a)),!(b=Y.add(h,b,M,U,z)).proxy)if(M=function(){var a=J4,h=Zc?function(b){return a.call(h.src,h.listener,b)}:function(b){if(!(b=a.call(h.src,h.listener,b)))return b};return h}(),b.proxy=M,M.src=a,M.listener=b,a.addEventListener)Q2||(S=U),void 0===S&&(S=!1),a.addEventListener(h.toString(),M,S);else if(a.attachEvent)a.attachEvent(Nt(h.toString()),M);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(M)}}function Us(a,h,b,M,S){if(Array.isArray(h))for(var z=0;z<h.length;z++)Us(a,h[z],b,M,S);else b=ul(b),a&&a[$c]?sn(a,h,b,Ie(M)?!!M.capture:!!M,S):Q4(a,h,b,!0,M,S)}function xi(a,h,b,M,S){if(Array.isArray(h))for(var z=0;z<h.length;z++)xi(a,h[z],b,M,S);else M=Ie(M)?!!M.capture:!!M,b=ul(b),a&&a[$c]?(a=a.v,(h=String(h).toString())in a.a&&-1<(b=Q1(z=a.a[h],b,M,S))&&(Bn(z[b]),Array.prototype.splice.call(z,b,1),0==z.length&&(delete a.a[h],a.b--))):a&&(a=Kc(a))&&(h=a.a[h.toString()],a=-1,h&&(a=Q1(h,b,M,S)),(b=-1<a?h[a]:null)&&ya(b))}function ya(a){if("number"!=typeof a&&a&&!a.wa){var h=a.src;if(h&&h[$c])$i(h.v,a);else{var b=a.type,M=a.proxy;h.removeEventListener?h.removeEventListener(b,M,a.capture):h.detachEvent?h.detachEvent(Nt(b),M):h.addListener&&h.removeListener&&h.removeListener(M),(b=Kc(h))?($i(b,a),0==b.b&&(b.src=null,h[Fs]=null)):Bn(a)}}}function Nt(a){return a in Hs?Hs[a]:Hs[a]="on"+a}function J2(a,h,b,M){var S=!0;if((a=Kc(a))&&(h=a.a[h.toString()]))for(h=h.concat(),a=0;a<h.length;a++){var z=h[a];z&&z.capture==b&&!z.wa&&(z=i3(z,M),S=S&&!1!==z)}return S}function i3(a,h){var b=a.listener,M=a.Wa||a.src;return a.Qa&&ya(a),b.call(M,h)}function J4(a,h){if(a.wa)return!0;if(!Zc){if(!h)e:{h=["window","event"];for(var b=F,M=0;M<h.length;M++)if(null==(b=b[h[M]])){h=null;break e}h=b}if(h=new Fo(M=h,this),b=!0,!(0>M.keyCode||null!=M.returnValue)){e:{var S=!1;if(0==M.keyCode)try{M.keyCode=-1;break e}catch(U){S=!0}(S||null==M.returnValue)&&(M.returnValue=!0)}for(M=[],S=h.b;S;S=S.parentNode)M.push(S);for(a=a.type,S=M.length-1;0<=S;S--){h.b=M[S];var z=J2(M[S],a,!0,h);b=b&&z}for(S=0;S<M.length;S++)h.b=M[S],z=J2(M[S],a,!1,h),b=b&&z}return b}return i3(a,new Fo(h,this))}function Kc(a){return(a=a[Fs])instanceof va?a:null}var X4="__closure_events_fn_"+(1e9*Math.random()>>>0);function ul(a){return Ne(a)?a:(a[X4]||(a[X4]=function(h){return a.handleEvent(h)}),a[X4])}function Ir(){K4.call(this),this.v=new va(this),this.bc=this,this.hb=null}function Ze(a,h,b,M,S){a.v.add(String(h),b,!1,M,S)}function sn(a,h,b,M,S){a.v.add(String(h),b,!0,M,S)}function t1(a,h,b,M){if(!(h=a.v.a[String(h)]))return!0;h=h.concat();for(var S=!0,z=0;z<h.length;++z){var U=h[z];if(U&&!U.wa&&U.capture==b){var Y=U.listener,Le=U.Wa||U.src;U.Qa&&$i(a.v,U),S=!1!==Y.call(Le,M)&&S}}return S&&!M.defaultPrevented}function Qn(a,h,b){if(Ne(a))b&&(a=ot(a,b));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=ot(a.handleEvent,a)}return 2147483647<Number(h)?-1:F.setTimeout(a,h||0)}function Bs(a){var h=null;return new ln(function(b,M){-1==(h=Qn(function(){b(void 0)},a))&&M(Error("Failed to schedule timer."))}).o(function(b){throw F.clearTimeout(h),b})}function n1(a){if(a.X&&"function"==typeof a.X)return a.X();if("string"==typeof a)return a.split("");if(ke(a)){for(var h=[],b=a.length,M=0;M<b;M++)h.push(a[M]);return h}for(M in h=[],b=0,a)h[b++]=a[M];return h}function ui(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.X||"function"!=typeof a.X){if(ke(a)||"string"==typeof a){var h=[];a=a.length;for(var b=0;b<a;b++)h.push(b);return h}for(var M in h=[],b=0,a)h[b++]=M;return h}}function js(a,h){this.b={},this.a=[],this.c=0;var b=arguments.length;if(1<b){if(b%2)throw Error("Uneven number of arguments");for(var M=0;M<b;M+=2)this.set(arguments[M],arguments[M+1])}else if(a)if(a instanceof js)for(b=a.Y(),M=0;M<b.length;M++)this.set(b[M],a.get(b[M]));else for(M in a)this.set(M,a[M])}function o3(a){if(a.c!=a.a.length){for(var h=0,b=0;h<a.a.length;){var M=a.a[h];J1(a.b,M)&&(a.a[b++]=M),h++}a.a.length=b}if(a.c!=a.a.length){var S={};for(b=h=0;h<a.a.length;)J1(S,M=a.a[h])||(a.a[b++]=M,S[M]=1),h++;a.a.length=b}}function J1(a,h){return Object.prototype.hasOwnProperty.call(a,h)}de(Ir,K4),Ir.prototype[$c]=!0,Ir.prototype.addEventListener=function(a,h,b,M){wo(this,a,h,b,M)},Ir.prototype.removeEventListener=function(a,h,b,M){xi(this,a,h,b,M)},Ir.prototype.dispatchEvent=function(a){var h,b=this.hb;if(b)for(h=[];b;b=b.hb)h.push(b);b=this.bc;var M=a.type||a;if("string"==typeof a)a=new on(a,b);else if(a instanceof on)a.target=a.target||b;else{var S=a;K(a=new on(M,b),S)}if(S=!0,h)for(var z=h.length-1;0<=z;z--){var U=a.b=h[z];S=t1(U,M,!0,a)&&S}if(S=t1(U=a.b=b,M,!0,a)&&S,S=t1(U,M,!1,a)&&S,h)for(z=0;z<h.length;z++)S=t1(U=a.b=h[z],M,!1,a)&&S;return S},Ir.prototype.Da=function(){if(Ir.bb.Da.call(this),this.v){var b,a=this.v;for(b in a.a){for(var M=a.a[b],S=0;S<M.length;S++)Bn(M[S]);delete a.a[b],a.b--}}this.hb=null},(B=js.prototype).X=function(){o3(this);for(var a=[],h=0;h<this.a.length;h++)a.push(this.b[this.a[h]]);return a},B.Y=function(){return o3(this),this.a.concat()},B.clear=function(){this.b={},this.c=this.a.length=0},B.get=function(a,h){return J1(this.b,a)?this.b[a]:h},B.set=function(a,h){J1(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=h},B.forEach=function(a,h){for(var b=this.Y(),M=0;M<b.length;M++){var S=b[M],z=this.get(S);a.call(h,z,S,this)}};var r1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zn(a,h){var b;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,a instanceof zn?(this.i=void 0!==h?h:a.i,Yr(this,a.c),this.l=a.l,this.a=a.a,Qc(this,a.g),this.f=a.f,us(this,c3(a.b)),this.h=a.h):a&&(b=String(a).match(r1))?(this.i=!!h,Yr(this,b[1]||"",!0),this.l=Xc(b[2]||""),this.a=Xc(b[3]||"",!0),Qc(this,b[4]),this.f=Xc(b[5]||"",!0),us(this,b[6]||"",!0),this.h=Xc(b[7]||"")):(this.i=!!h,this.b=new qs(null,this.i))}function Yr(a,h,b){a.c=b?Xc(h,!0):h,a.c&&(a.c=a.c.replace(/:$/,""))}function Qc(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.g=h}else a.g=null}function us(a,h,b){h instanceof qs?(a.b=h,function(a,h){h&&!a.f&&(Di(a),a.c=null,a.a.forEach(function(b,M){var S=M.toLowerCase();M!=S&&(Gs(this,M),a3(this,S,b))},a)),a.f=h}(a.b,a.i)):(b||(h=Rr(h,e0)),a.b=new qs(h,a.i))}function Cn(a,h,b){a.b.set(h,b)}function ls(a,h){return a.b.get(h)}function Si(a){return a instanceof zn?new zn(a):new zn(a,void 0)}function Jc(a,h,b,M){var S=new zn(null,void 0);return a&&Yr(S,a),h&&(S.a=h),b&&Qc(S,b),M&&(S.f=M),S}function Xc(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Rr(a,h,b){return"string"==typeof a?(a=encodeURI(a).replace(h,eu),b&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function eu(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}zn.prototype.toString=function(){var a=[],h=this.c;h&&a.push(Rr(h,tu,!0),":");var b=this.a;return(b||"file"==h)&&(a.push("//"),(h=this.l)&&a.push(Rr(h,tu,!0),"@"),a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(b=this.g)&&a.push(":",String(b))),(b=this.f)&&(this.a&&"/"!=b.charAt(0)&&a.push("/"),a.push(Rr(b,"/"==b.charAt(0)?s3:X1,!0))),(b=this.b.toString())&&a.push("?",b),(b=this.h)&&a.push("#",Rr(b,e2)),a.join("")},zn.prototype.resolve=function(a){var h=new zn(this),b=!!a.c;b?Yr(h,a.c):b=!!a.l,b?h.l=a.l:b=!!a.a,b?h.a=a.a:b=null!=a.g;var M=a.f;if(b)Qc(h,a.g);else if(b=!!a.f){if("/"!=M.charAt(0))if(this.a&&!this.f)M="/"+M;else{var S=h.f.lastIndexOf("/");-1!=S&&(M=h.f.substr(0,S+1)+M)}if(".."==(S=M)||"."==S)M="";else if(Sn(S,"./")||Sn(S,"/.")){M=0==S.lastIndexOf("/",0),S=S.split("/");for(var z=[],U=0;U<S.length;){var Y=S[U++];"."==Y?M&&U==S.length&&z.push(""):".."==Y?((1<z.length||1==z.length&&""!=z[0])&&z.pop(),M&&U==S.length&&z.push("")):(z.push(Y),M=!0)}M=z.join("/")}else M=S}return b?h.f=M:b=""!==a.b.toString(),b?us(h,c3(a.b)):b=!!a.h,b&&(h.h=a.h),h};var tu=/[#\/\?@]/g,X1=/[#\?:]/g,s3=/[#\?]/g,e0=/[#\?@]/g,e2=/#/g;function qs(a,h){this.b=this.a=null,this.c=a||null,this.f=!!h}function Di(a){a.a||(a.a=new js,a.b=0,a.c&&function(a,h){if(a){a=a.split("&");for(var b=0;b<a.length;b++){var M=a[b].indexOf("="),S=null;if(0<=M){var z=a[b].substring(0,M);S=a[b].substring(M+1)}else z=a[b];h(z,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}(a.c,function(h,b){a.add(decodeURIComponent(h.replace(/\+/g," ")),b)}))}function t0(a){var h=ui(a);if(void 0===h)throw Error("Keys are undefined");var b=new qs(null,void 0);a=n1(a);for(var M=0;M<h.length;M++){var S=h[M],z=a[M];Array.isArray(z)?a3(b,S,z):b.add(S,z)}return b}function Gs(a,h){Di(a),h=nr(a,h),J1(a.a.b,h)&&(a.c=null,a.b-=a.a.get(h).length,J1((a=a.a).b,h)&&(delete a.b[h],a.c--,a.a.length>2*a.c&&o3(a)))}function fs(a,h){return Di(a),h=nr(a,h),J1(a.a.b,h)}function a3(a,h,b){Gs(a,h),0<b.length&&(a.c=null,a.a.set(nr(a,h),An(b)),a.b+=b.length)}function c3(a){var h=new qs;return h.c=a.c,a.a&&(h.a=new js(a.a),h.b=a.b),h}function nr(a,h){return h=String(h),a.f&&(h=h.toLowerCase()),h}function ar(a){var h=[];return i1(new n0,a,h),h.join("")}function n0(){}function i1(a,h,b){if(null==h)b.push("null");else{if("object"==typeof h){if(Array.isArray(h)){var M=h;h=M.length,b.push("[");for(var S="",z=0;z<h;z++)b.push(S),i1(a,M[z],b),S=",";return void b.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(M in b.push("{"),S="",h)Object.prototype.hasOwnProperty.call(h,M)&&"function"!=typeof(z=h[M])&&(b.push(S),Wi(M,b),b.push(":"),i1(a,z,b),S=",");return void b.push("}")}h=h.valueOf()}switch(typeof h){case"string":Wi(h,b);break;case"number":b.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":b.push(String(h));break;case"function":b.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}(B=qs.prototype).add=function(a,h){Di(this),this.c=null,a=nr(this,a);var b=this.a.get(a);return b||this.a.set(a,b=[]),b.push(h),this.b+=1,this},B.clear=function(){this.a=this.c=null,this.b=0},B.forEach=function(a,h){Di(this),this.a.forEach(function(b,M){Nn(b,function(S){a.call(h,S,M,this)},this)},this)},B.Y=function(){Di(this);for(var a=this.a.X(),h=this.a.Y(),b=[],M=0;M<h.length;M++)for(var S=a[M],z=0;z<S.length;z++)b.push(h[M]);return b},B.X=function(a){Di(this);var h=[];if("string"==typeof a)fs(this,a)&&(h=Hn(h,this.a.get(nr(this,a))));else{a=this.a.X();for(var b=0;b<a.length;b++)h=Hn(h,a[b])}return h},B.set=function(a,h){return Di(this),this.c=null,fs(this,a=nr(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[h]),this.b+=1,this},B.get=function(a,h){return a&&0<(a=this.X(a)).length?String(a[0]):h},B.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],h=this.a.Y(),b=0;b<h.length;b++){var M=h[b],S=encodeURIComponent(String(M));M=this.X(M);for(var z=0;z<M.length;z++){var U=S;""!==M[z]&&(U+="="+encodeURIComponent(String(M[z]))),a.push(U)}}return this.c=a.join("&")};var ll={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Dh=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Wi(a,h){h.push('"',a.replace(Dh,function(b){var M=ll[b];return M||(M="\\u"+(65536|b.charCodeAt(0)).toString(16).substr(1),ll[b]=M),M}),'"')}function Ki(){var a=fi();return Or&&!!Kr&&11==Kr||/Edge\/\d+/.test(a)}function Ho(){return F.window&&F.window.location.href||self&&self.location&&self.location.href||""}function ba(a,h){h=h||F.window;var b="about:blank";a&&(b=Mr(t3(a)||tn)),h.location.href=b}function X2(a,h){var M,b=[];for(M in a)M in h?typeof a[M]!=typeof h[M]?b.push(M):"object"==typeof a[M]&&null!=a[M]&&null!=h[M]?0<X2(a[M],h[M]).length&&b.push(M):a[M]!==h[M]&&b.push(M):b.push(M);for(M in h)M in a||b.push(M);return b}function Ca(a){return!!((a=(a||fi()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function o1(a){a=a||F.window;try{a.close()}catch(h){}}function li(a,h,b){var M=Math.floor(1e9*Math.random()).toString();h=h||500,b=b||600;var S=(window.screen.availHeight-b)/2,z=(window.screen.availWidth-h)/2;for(U in h={width:h,height:b,top:0<S?S:0,left:0<z?z:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},b=fi().toLowerCase(),M&&(h.target=M,Sn(b,"crios/")&&(h.target="_blank")),t2(fi())==Eo&&(a=a||"http://localhost",h.scrollbars=!0),b=a||"",(a=h)||(a={}),M=window,h=b instanceof Ei?b:t3(void 0!==b.href?b.href:String(b))||tn,b=a.target||b.target,S=[],a)switch(U){case"width":case"height":case"top":case"left":S.push(U+"="+a[U]);break;case"target":case"noopener":case"noreferrer":break;default:S.push(U+"="+(a[U]?1:0))}var U=S.join(",");if((dr("iPhone")&&!dr("iPod")&&!dr("iPad")||dr("iPad")||dr("iPod"))&&M.navigator&&M.navigator.standalone&&b&&"_self"!=b?(Q(U=W1(document,"A"),"HTMLAnchorElement"),h=h instanceof Ei?h:Mi(h),U.href=Mr(h),U.setAttribute("target",b),a.noreferrer&&U.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,M,1),U.dispatchEvent(a),U={}):a.noreferrer?(U=Rs("",M,b,U),a=Mr(h),U&&(W2&&Sn(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),U.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Qa(a)+'">',a=new mn(a=(M=$t())?M.createHTML(a):a,null,Ya),M=U.document)&&(M.write(function(a){return a instanceof mn&&a.constructor===mn?a.a:(at("expected object of type SafeHtml, got '"+a+"' of type "+Te(a)),"type_error:SafeHtml")}(a)),M.close())):(U=Rs(h,M,b,U))&&a.noopener&&(U.opener=null),U)try{U.focus()}catch(Y){}return U}var ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u3=/^[^@]+@[^@]+$/;function ds(){var a=null;return new ln(function(h){"complete"==F.document.readyState?h():(a=function(){h()},Us(window,"load",a))}).o(function(h){throw xi(window,"load",a),h})}function o0(a){return a=a||fi(),!("file:"!==a1()&&"ionic:"!==a1()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function l3(){var a=F.window;try{return!(!a||a==a.top)}catch(h){return!1}}function Zs(){return void 0!==F.WorkerGlobalScope&&"function"==typeof F.importScripts}function s1(){return l.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":l.default.INTERNAL.hasOwnProperty("node")?"Node":Zs()?"Worker":"Browser"}function fl(){var a=s1();return"ReactNative"===a||"Node"===a}var Eo="Firefox";function t2(a){var h=a.toLowerCase();return Sn(h,"opera/")||Sn(h,"opr/")||Sn(h,"opios/")?"Opera":Sn(h,"iemobile")?"IEMobile":Sn(h,"msie")||Sn(h,"trident/")?"IE":Sn(h,"edge/")?"Edge":Sn(h,"firefox/")?Eo:Sn(h,"silk/")?"Silk":Sn(h,"blackberry")?"Blackberry":Sn(h,"webos")?"Webos":!Sn(h,"safari/")||Sn(h,"chrome/")||Sn(h,"crios/")||Sn(h,"android")?!Sn(h,"chrome/")&&!Sn(h,"crios/")||Sn(h,"edge/")?Sn(h,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":"Chrome":"Safari"}var iu={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Uo(a,h){h=h||[];var S,b=[],M={};for(S in iu)M[iu[S]]=!0;for(S=0;S<h.length;S++)void 0!==M[h[S]]&&(delete M[h[S]],b.push(h[S]));return b.sort(),(h=b).length||(h=["FirebaseCore-web"]),"Browser"===(b=s1())?b=t2(M=fi()):"Worker"===b&&(b=t2(M=fi())+"-"+b),b+"/JsCore/"+a+"/"+h.join(",")}function fi(){return F.navigator&&F.navigator.userAgent||""}function On(a,h){a=a.split("."),h=h||F;for(var b=0;b<a.length&&"object"==typeof h&&null!=h;b++)h=h[a[b]];return b!=a.length&&(h=void 0),h}function hl(){try{var a=F.localStorage,h=wa();if(a)return a.setItem(h,"1"),a.removeItem(h),!Ki()||!!F.indexedDB}catch(b){return Zs()&&!!F.indexedDB}return!1}function Ao(){return(dl()||"chrome-extension:"===a1()||o0())&&!fl()&&hl()&&!Zs()}function dl(){return"http:"===a1()||"https:"===a1()}function a1(){return F.location&&F.location.protocol||null}function c1(a){return!(Ca(a=a||fi())||t2(a)==Eo)}function pl(a){return void 0===a?null:ar(a)}function s0(a){var b,h={};for(b in a)a.hasOwnProperty(b)&&null!=a[b]&&(h[b]=a[b]);return h}function ps(a){if(null!==a)return JSON.parse(a)}function wa(a){return a||Math.floor(1e9*Math.random()).toString()}function Xt(a){return!("Safari"==t2(a=a||fi())||a.toLowerCase().match(/iphone|ipad|ipod/))}function n2(){var a=F.___jsl;if(a&&a.H)for(var h in a.H)if(a.H[h].r=a.H[h].r||[],a.H[h].L=a.H[h].L||[],a.H[h].r=a.H[h].L.concat(),a.CP)for(var b=0;b<a.CP.length;b++)a.CP[b]=null}function rr(a,h){if(a>h)throw Error("Short delay should be less than long delay!");this.a=a,this.c=h,a=fi(),h=s1(),this.b=Ca(a)||"ReactNative"===h}function It(){var a=F.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function xt(a){try{var h=new Date(parseInt(a,10));if(!isNaN(h.getTime())&&!/[^0-9]/.test(a))return h.toUTCString()}catch(b){}return null}function a0(){return!(!On("fireauth.oauthhelper",F)&&!On("fireauth.iframe",F))}rr.prototype.get=function(){var a=F.navigator;return!a||"boolean"!=typeof a.onLine||!dl()&&"chrome-extension:"!==a1()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var l1,cr={};function u1(a){cr[a]||(cr[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Ni={};Object.defineProperty(Ni,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ni,"abcd",{configurable:!0,enumerable:!0,value:2}),l1=2==Ni.abcd}catch(a){l1=!1}function ht(a,h,b){l1?Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:b}):a[h]=b}function Pr(a,h){if(h)for(var b in h)h.hasOwnProperty(b)&&ht(a,b,h[b])}function ki(a){var h={};return Pr(h,a),h}function ou(a){var h=a;if("object"==typeof a&&null!=a)for(var b in h="length"in a?[]:{},a)ht(h,b,ou(a[b]));return h}function Ea(a){var h=a&&(a[Ws]?"phone":null);if(!(h&&a&&a[su]))throw new $("internal-error","Internal assert: invalid MultiFactorInfo object");ht(this,"uid",a[su]),ht(this,"displayName",a[r2]||null);var b=null;a[Aa]&&(b=new Date(a[Aa]).toUTCString()),ht(this,"enrollmentTime",b),ht(this,"factorId",h)}function f1(a){try{var h=new au(a)}catch(b){h=null}return h}Ea.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var r2="displayName",Aa="enrolledAt",su="mfaEnrollmentId",Ws="phoneInfo";function au(a){Ea.call(this,a),ht(this,"phoneNumber",a[Ws])}function Sd(a){var h={},b=a[St],M=a[h3],S=a[l0];if(a=f1(a[Ks]),!S||S!=nc&&S!=cu&&!b||S==cu&&!M||S==gl&&!a)throw Error("Invalid checkActionCode response!");S==cu?(h[Nh]=b||null,h[d3]=b||null,h[f0]=M):(h[Nh]=M||null,h[d3]=M||null,h[f0]=b||null),h[Dd]=a||null,ht(this,kh,S),ht(this,h1,ou(h))}de(au,Ea),au.prototype.w=function(){var a=au.bb.w.call(this);return a.phoneNumber=this.phoneNumber,a};var gl="REVERT_SECOND_FACTOR_ADDITION",nc="EMAIL_SIGNIN",cu="VERIFY_AND_CHANGE_EMAIL",St="email",Ks="mfaInfo",h3="newEmail",l0="requestType",f0="email",Nh="fromEmail",Dd="multiFactorInfo",d3="previousEmail",h1="data",kh="operation";function p3(a){var h=ls(a=Si(a),ms)||null,b=ls(a,zr)||null,M=ls(a,vl)||null;if(M=M&&d1[M]||null,!h||!b||!M)throw new $("argument-error",ms+", "+zr+"and "+vl+" are required in a valid action code URL.");Pr(this,{apiKey:h,operation:M,code:b,continueUrl:ls(a,h0)||null,languageCode:ls(a,xr)||null,tenantId:ls(a,uu)||null})}var ms="apiKey",zr="oobCode",h0="continueUrl",xr="languageCode",vl="mode",uu="tenantId",d1={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:gl,signIn:nc,verifyAndChangeEmail:cu,verifyEmail:"VERIFY_EMAIL"};function rc(a){try{return new p3(a)}catch(h){return null}}function Li(a){var h=a[d0];if(void 0===h)throw new $("missing-continue-uri");if("string"!=typeof h||"string"==typeof h&&!h.length)throw new $("invalid-continue-uri");this.h=h,this.b=this.a=null,this.g=!1;var b=a[Vr];if(b&&"object"==typeof b){h=b[Lh];var M=b[yl];if(b=b[m3],"string"==typeof h&&h.length){if(this.a=h,void 0!==M&&"boolean"!=typeof M)throw new $("argument-error",yl+" property must be a boolean when specified.");if(this.g=!!M,void 0!==b&&("string"!=typeof b||"string"==typeof b&&!b.length))throw new $("argument-error",m3+" property must be a non empty string when specified.");this.b=b||null}else{if(void 0!==h)throw new $("argument-error",Lh+" property must be a non empty string when specified.");if(void 0!==M||void 0!==b)throw new $("missing-android-pkg-name")}}else if(void 0!==b)throw new $("argument-error",Vr+" property must be a non null object when specified.");if(this.f=null,(h=a[Ta])&&"object"==typeof h){if("string"==typeof(h=h[p0])&&h.length)this.f=h;else if(void 0!==h)throw new $("argument-error",p0+" property must be a non empty string when specified.")}else if(void 0!==h)throw new $("argument-error",Ta+" property must be a non null object when specified.");if(void 0!==(h=a[Ma])&&"boolean"!=typeof h)throw new $("argument-error",Ma+" property must be a boolean when specified.");if(this.c=!!h,void 0!==(a=a[Ys])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new $("argument-error",Ys+" property must be a non empty string when specified.");this.i=a||null}var Vr="android",Ys="dynamicLinkDomain",Ma="handleCodeInApp",Ta="iOS",d0="url",yl="installApp",m3="minimumVersion",Lh="packageName",p0="bundleId";function Yi(a){var h={};for(var b in h.continueUrl=a.h,h.canHandleCodeInApp=a.c,(h.androidPackageName=a.a)&&(h.androidMinimumVersion=a.b,h.androidInstallApp=a.g),h.iOSBundleId=a.f,h.dynamicLinkDomain=a.i,h)null===h[b]&&delete h[b];return h}var Ji=null;function p1(a){var h=lu(a);if(!(h&&h.sub&&h.iss&&h.aud&&h.exp))throw Error("Invalid JWT");this.h=a,this.a=h.exp,this.i=h.sub,a=Date.now()/1e3,this.g=h.iat||(a>this.a?this.a:a),this.b=h.provider_id||h.firebase&&h.firebase.sign_in_provider||null,this.f=h.firebase&&h.firebase.tenant||null,this.c=!!h.is_anonymous||"anonymous"==this.b}function m1(a){try{return new p1(a)}catch(h){return null}}function lu(a){if(!a||3!=(a=a.split(".")).length)return null;for(var h=(4-(a=a[1]).length%4)%4,b=0;b<h;b++)a+=".";try{var M=function(a){var h=[];return function(a,h){function b(Le){for(;M<a.length;){var qe=a.charAt(M++),bt=Ji[qe];if(null!=bt)return bt;if(!/^[\s\xa0]*$/.test(qe))throw Error("Unknown base64 encoding at char: "+qe)}return Le}!function(){if(!Ji){Ji={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=["+/=","+/","-_=","-_.","-_"],b=0;5>b;b++)for(var M=a.concat(h[b].split("")),S=0;S<M.length;S++){var z=M[S];void 0===Ji[z]&&(Ji[z]=S)}}}();for(var M=0;;){var S=b(-1),z=b(0),U=b(64),Y=b(64);if(64===Y&&-1===S)break;h(S<<2|z>>4),64!=U&&(h(z<<4&240|U>>2),64!=Y&&h(U<<6&192|Y))}}(a,function(b){h.push(b)}),h}(a);for(a=[],b=h=0;h<M.length;){var S=M[h++];if(128>S)a[b++]=String.fromCharCode(S);else if(191<S&&224>S){var z=M[h++];a[b++]=String.fromCharCode((31&S)<<6|63&z)}else if(239<S&&365>S){z=M[h++];var U=M[h++],Le=((7&S)<<18|(63&z)<<12|(63&U)<<6|63&M[h++])-65536;a[b++]=String.fromCharCode(55296+(Le>>10)),a[b++]=String.fromCharCode(56320+(1023&Le))}else z=M[h++],U=M[h++],a[b++]=String.fromCharCode((15&S)<<12|(63&z)<<6|63&U)}return JSON.parse(a.join(""))}catch(qe){}return null}p1.prototype.T=function(){return this.f},p1.prototype.l=function(){return this.c},p1.prototype.toString=function(){return this.h};var fu="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),pr=["client_id","response_type","scope","redirect_uri","state"],s2={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:pr},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:pr},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:pr},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:fu},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qs(a){for(var h in s2)if(s2[h].fa==a)return s2[h];return null}function hu(a){var h={};h["facebook.com"]=m0,h["google.com"]=v3,h["github.com"]=c2,h["twitter.com"]=du;var b=a&&a[a2];try{if(b)return h[b]?new h[b](a):new hi(a);if(void 0!==a[g3])return new oc(a)}catch(M){}return null}var g3="idToken",a2="providerId";function oc(a){var h=a[a2];if(!h&&a[g3]){var b=m1(a[g3]);b&&b.b&&(h=b.b)}if(!h)throw Error("Invalid additional user info!");("anonymous"==h||"custom"==h)&&(h=null),b=!1,void 0!==a.isNewUser?b=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(b=!0),ht(this,"providerId",h),ht(this,"isNewUser",b)}function hi(a){oc.call(this,a),ht(this,"profile",ou((a=ps(a.rawUserInfo||"{}"))||{}))}function m0(a){if(hi.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function c2(a){if(hi.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ht(this,"username",this.profile&&this.profile.login||null)}function v3(a){if(hi.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function du(a){if(hi.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ht(this,"username",a.screenName||null)}function y3(a){var h=Si(a),b=ls(h,"link"),M=ls(Si(b),"link");return h=ls(h,"deep_link_id"),ls(Si(h),"link")||h||M||b||a}function g1(a,h){if(!a&&!h)throw new $("internal-error","Internal assert: no raw session string available");if(a&&h)throw new $("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=h||null,this.type=this.a?Bo:jo}de(hi,oc),de(m0,hi),de(c2,hi),de(v3,hi),de(du,hi);var Bo="enroll",jo="signin";function Js(){}function Tn(a,h){return a.then(function(b){if(b[Oi]){var M=m1(b[Oi]);if(!M||h!=M.i)throw new $("user-mismatch");return b}throw new $("user-mismatch")}).o(function(b){throw b&&b.code&&b.code==Be+"user-not-found"?new $("user-mismatch"):b})}function Xs(a,h){if(!h)throw new $("internal-error","failed to construct a credential");this.a=h,ht(this,"providerId",a),ht(this,"signInMethod",a)}function g0(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function v1(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new Xs(a.providerId,a.pendingToken)}catch(h){}return null}function di(a,h,b){if(this.a=null,h.idToken||h.accessToken)h.idToken&&ht(this,"idToken",h.idToken),h.accessToken&&ht(this,"accessToken",h.accessToken),h.nonce&&!h.pendingToken&&ht(this,"nonce",h.nonce),h.pendingToken&&(this.a=h.pendingToken);else{if(!h.oauthToken||!h.oauthTokenSecret)throw new $("internal-error","failed to construct a credential");ht(this,"accessToken",h.oauthToken),ht(this,"secret",h.oauthTokenSecret)}ht(this,"providerId",a),ht(this,"signInMethod",b)}function bl(a){var h={};return a.idToken&&(h.id_token=a.idToken),a.accessToken&&(h.access_token=a.accessToken),a.secret&&(h.oauth_token_secret=a.secret),h.providerId=a.providerId,a.nonce&&!a.a&&(h.nonce=a.nonce),h={postBody:t0(h).toString(),requestUri:"http://localhost"},a.a&&(delete h.postBody,h.pendingToken=a.a),h}function v0(a){if(a&&a.providerId&&a.signInMethod){var h={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new di(a.providerId,h,a.signInMethod)}catch(b){}}return null}function qo(a,h){this.Qc=h||[],Pr(this,{providerId:a,isOAuthProvider:!0}),this.Jb={},this.qb=(Qs(a)||{}).Ja||null,this.pb=null}function Cl(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new $("argument-error",'SAML provider IDs must be prefixed with "saml."');qo.call(this,a,[])}function Sr(a){qo.call(this,a,pr),this.a=[]}function Qr(){Sr.call(this,"facebook.com")}function pu(a){if(!a)throw new $("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=a;return Ie(a)&&(h=a.accessToken),(new Qr).credential({accessToken:h})}function pi(){Sr.call(this,"github.com")}function mu(a){if(!a)throw new $("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=a;return Ie(a)&&(h=a.accessToken),(new pi).credential({accessToken:h})}function Ia(){Sr.call(this,"google.com"),this.Ca("profile")}function wl(a,h){var b=a;return Ie(a)&&(b=a.idToken,h=a.accessToken),(new Ia).credential({idToken:b,accessToken:h})}function qn(){qo.call(this,"twitter.com",fu)}function L(a,h){var b=a;if(Ie(b)||(b={oauthToken:a,oauthTokenSecret:h}),!b.oauthToken||!b.oauthTokenSecret)throw new $("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new di("twitter.com",b,"twitter.com")}function ut(a,h,b){this.a=a,this.f=h,ht(this,"providerId","password"),ht(this,"signInMethod",b===Dr.EMAIL_LINK_SIGN_IN_METHOD?Dr.EMAIL_LINK_SIGN_IN_METHOD:Dr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xa(a){return a&&a.email&&a.password?new ut(a.email,a.password,a.signInMethod):null}function Dr(){Pr(this,{providerId:"password",isOAuthProvider:!1})}function Sa(a,h){if(!(h=y0(h)))throw new $("argument-error","Invalid email link!");return new ut(a,h.code,Dr.EMAIL_LINK_SIGN_IN_METHOD)}function y0(a){return(a=rc(a=y3(a)))&&a.operation===nc?a:null}function gs(a){if(!(a.fb&&a.eb||a.La&&a.ea))throw new $("internal-error");this.a=a,ht(this,"providerId","phone"),this.fa="phone",ht(this,"signInMethod","phone")}function Jn(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var h={};return Nn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(b){a[b]&&(h[b]=a[b])}),new gs(h)}return null}function u2(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:{sessionInfo:a.a.fb,code:a.a.eb}}function br(a){try{this.a=a||l.default.auth()}catch(h){throw new $("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Pr(this,{providerId:"phone",isOAuthProvider:!1})}function _0(a,h){if(!a)throw new $("missing-verification-id");if(!h)throw new $("missing-verification-code");return new gs({fb:a,eb:h})}function b0(a){if(a.temporaryProof&&a.phoneNumber)return new gs({La:a.temporaryProof,ea:a.phoneNumber});var h=a&&a.providerId;if(!h||"password"===h)return null;var b=a&&a.oauthAccessToken,M=a&&a.oauthTokenSecret,S=a&&a.nonce,z=a&&a.oauthIdToken,U=a&&a.pendingToken;try{switch(h){case"google.com":return wl(z,b);case"facebook.com":return pu(b);case"github.com":return mu(b);case"twitter.com":return L(b,M);default:return b||M||z||U?U?0==h.indexOf("saml.")?new Xs(h,U):new di(h,{pendingToken:U,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},h):new Sr(h).credential({idToken:z,accessToken:b,rawNonce:S}):null}}catch(Y){return null}}function C0(a){if(!a.isOAuthProvider)throw new $("invalid-oauth-provider")}function Jr(a,h,b,M,S,z,U){if(this.c=a,this.b=h||null,this.g=b||null,this.f=M||null,this.i=z||null,this.h=U||null,this.a=S||null,!this.g&&!this.a)throw new $("invalid-auth-event");if(this.g&&this.a)throw new $("invalid-auth-event");if(this.g&&!this.f)throw new $("invalid-auth-event")}function sc(a){return(a=a||{}).type?new Jr(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&we(a.error),a.postBody,a.tenantId):null}function Xr(){this.b=null,this.a=[]}g1.prototype.Ha=function(){return Tt(this.a?this.a:this.b)},g1.prototype.w=function(){return this.type==Bo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Js.prototype.ka=function(){},Js.prototype.b=function(){},Js.prototype.c=function(){},Js.prototype.w=function(){},Xs.prototype.ka=function(a){return v2(a,g0(this))},Xs.prototype.b=function(a,h){var b=g0(this);return b.idToken=h,ii(a,b)},Xs.prototype.c=function(a,h){return Tn(wu(a,g0(this)),h)},Xs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},di.prototype.ka=function(a){return v2(a,bl(this))},di.prototype.b=function(a,h){var b=bl(this);return b.idToken=h,ii(a,b)},di.prototype.c=function(a,h){return Tn(wu(a,bl(this)),h)},di.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},qo.prototype.Ka=function(a){return this.Jb=re(a),this},de(Cl,qo),de(Sr,qo),Sr.prototype.Ca=function(a){return kn(this.a,a)||this.a.push(a),this},Sr.prototype.Rb=function(){return An(this.a)},Sr.prototype.credential=function(a,h){var b;if(!(b=Ie(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:h||null}).idToken&&!b.accessToken)throw new $("argument-error","credential failed: must provide the ID token and/or the access token.");return new di(this.providerId,b,this.providerId)},de(Qr,Sr),ht(Qr,"PROVIDER_ID","facebook.com"),ht(Qr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),de(pi,Sr),ht(pi,"PROVIDER_ID","github.com"),ht(pi,"GITHUB_SIGN_IN_METHOD","github.com"),de(Ia,Sr),ht(Ia,"PROVIDER_ID","google.com"),ht(Ia,"GOOGLE_SIGN_IN_METHOD","google.com"),de(qn,qo),ht(qn,"PROVIDER_ID","twitter.com"),ht(qn,"TWITTER_SIGN_IN_METHOD","twitter.com"),ut.prototype.ka=function(a){return this.signInMethod==Dr.EMAIL_LINK_SIGN_IN_METHOD?an(a,qh,{email:this.a,oobCode:this.f}):an(a,R3,{email:this.a,password:this.f})},ut.prototype.b=function(a,h){return this.signInMethod==Dr.EMAIL_LINK_SIGN_IN_METHOD?an(a,y2,{idToken:h,email:this.a,oobCode:this.f}):an(a,gc,{idToken:h,email:this.a,password:this.f})},ut.prototype.c=function(a,h){return Tn(this.ka(a),h)},ut.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Pr(Dr,{PROVIDER_ID:"password"}),Pr(Dr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Pr(Dr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),gs.prototype.ka=function(a){return a.gb(u2(this))},gs.prototype.b=function(a,h){var b=u2(this);return b.idToken=h,an(a,Gh,b)},gs.prototype.c=function(a,h){var b=u2(this);return b.operation="REAUTH",Tn(a=an(a,P3,b),h)},gs.prototype.w=function(){var a={providerId:"phone"};return this.a.fb&&(a.verificationId=this.a.fb),this.a.eb&&(a.verificationCode=this.a.eb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a},br.prototype.gb=function(a,h){var b=this.a.a;return Tt(h.verify()).then(function(M){if("string"!=typeof M)throw new $("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(h.type){case"recaptcha":var S=Ie(a)?a.session:null,z=Ie(a)?a.phoneNumber:a;return(S&&S.type==Bo?S.Ha().then(function(Y){return function(a,h){return an(a,Pl,h).then(function(b){return b.phoneSessionInfo.sessionInfo})}(b,{idToken:Y,phoneEnrollmentInfo:{phoneNumber:z,recaptchaToken:M}})}):S&&S.type==jo?S.Ha().then(function(Y){return function(a,h){return an(a,vc,h).then(function(b){return b.phoneResponseInfo.sessionInfo})}(b,{mfaPendingCredential:Y,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:M}})}):function(a,h){return an(a,A1,h)}(b,{phoneNumber:z,recaptchaToken:M})).then(function(Y){return"function"==typeof h.reset&&h.reset(),Y},function(Y){throw"function"==typeof h.reset&&h.reset(),Y});default:throw new $("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Pr(br,{PROVIDER_ID:"phone"}),Pr(br,{PHONE_SIGN_IN_METHOD:"phone"}),Jr.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Jr.prototype.T=function(){return this.h},Jr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Mo,gu=null;function w0(a){var h="unauthorized-domain",b=void 0,M=Si(a);a=M.a,"chrome-extension"==(M=M.c)?b=sr("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==M||"https"==M?b=sr("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):h="operation-not-supported-in-this-environment",$.call(this,h,b)}function y1(a,h,b){$.call(this,a,b),(a=h||{}).Kb&&ht(this,"email",a.Kb),a.ea&&ht(this,"phoneNumber",a.ea),a.credential&&ht(this,"credential",a.credential),a.$b&&ht(this,"tenantId",a.$b)}function l2(a){if(a.code){var h=a.code||"";0==h.indexOf(Be)&&(h=h.substring(Be.length));var b={credential:b0(a),$b:a.tenantId};if(a.email)b.Kb=a.email;else if(a.phoneNumber)b.ea=a.phoneNumber;else if(!b.credential)return new $(h,a.message||void 0);return new y1(h,b,a.message)}return null}function ac(){}function Go(){}function E0(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var h=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<h.length;b++){var M=h[b];try{return new ActiveXObject(M),a.f=M}catch(S){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function Da(){}function vu(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=ot(this.qc,this),this.a.onerror=ot(this.Tb,this),this.a.onprogress=ot(this.rc,this),this.a.ontimeout=ot(this.vc,this)}function yu(a,h){a.readyState=h,a.onreadystatechange&&a.onreadystatechange()}function ei(a,h,b){this.reset(a,h,b,void 0,void 0)}function ys(a){this.f=a,this.b=this.c=this.a=null}function f2(a,h){this.name=a,this.value=h}de(w0,$),de(y1,$),y1.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var h=this.credential&&this.credential.w();return h&&K(a,h),a},y1.prototype.toJSON=function(){return this.w()},ac.prototype.c=null,de(Go,ac),Go.prototype.a=function(){var a=E0(this);return a?new ActiveXObject(a):new XMLHttpRequest},Go.prototype.b=function(){var a={};return E0(this)&&(a[0]=!0,a[1]=!0),a},Mo=new Go,de(Da,ac),Da.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new vu;throw Error("Unsupported browser")},Da.prototype.b=function(){return{}},(B=vu.prototype).open=function(a,h,b){if(null!=b&&!b)throw Error("Only async requests are supported.");this.a.open(a,h)},B.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},B.abort=function(){this.a.abort()},B.setRequestHeader=function(){},B.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},B.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,yu(this,4)},B.Tb=function(){this.status=500,this.response=this.responseText="",yu(this,4)},B.vc=function(){this.Tb()},B.rc=function(){this.status=200,yu(this,1)},B.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ei.prototype.a=null,ei.prototype.reset=function(a,h,b,M,S){M||yn(),delete this.a},f2.prototype.toString=function(){return this.name};var _3=new f2("SEVERE",1e3),Al=new f2("WARNING",900),A0=new f2("CONFIG",700),Rh=new f2("FINE",500);function b3(a){return a.c?a.c:a.a?b3(a.a):(at("Root logger has no level set."),null)}ys.prototype.log=function(a,h,b){if(a.value>=b3(this).value)for(Ne(h)&&(h=h()),a=new ei(a,String(h),this.f),b&&(a.a=b),b=this;b;)b=b.a};var Ml={},cc=null;function Fr(a){var h;if(cc||(cc=new ys(""),Ml[""]=cc,cc.c=A0),!(h=Ml[a])){h=new ys(a);var b=a.lastIndexOf("."),M=a.substr(b+1);(b=Fr(a.substr(0,b))).b||(b.b={}),b.b[M]=h,h.a=b,Ml[a]=h}return h}function Xi(a,h){a&&a.log(Rh,h,void 0)}function _s(a){this.f=a}function M0(a){Ir.call(this),this.u=a,this.h=void 0,this.readyState=_1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Fr("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}de(_s,ac),_s.prototype.a=function(){return new M0(this.f)},_s.prototype.b=function(a){return function(){return a}}({}),de(M0,Ir);var _1=0;function To(a){a.c.read().then(a.pc.bind(a)).catch(a.Va.bind(a))}function ti(a){a.readyState=4,a.g=null,a.c=null,a.m=null,mi(a)}function mi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Zo(a){Ir.call(this),this.headers=new js,this.D=a||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=T0,this.u=this.S=!1}(B=M0.prototype).open=function(a,h){if(this.readyState!=_1)throw this.abort(),Error("Error reopening a connection");this.s=a,this.f=h,this.readyState=1,mi(this)},B.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var h={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(h.body=a),this.u.fetch(new Request(this.f,h)).then(this.uc.bind(this),this.Va.bind(this))},B.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ti(this)),this.readyState=_1},B.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,mi(this)),this.a&&(this.readyState=3,mi(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==F.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,To(this)):a.text().then(this.tc.bind(this),this.Va.bind(this)))))},B.pc=function(a){if(this.a){var h=this.m.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});h&&(this.response=this.responseText+=h),a.done?ti(this):mi(this),3==this.readyState&&To(this)}},B.tc=function(a){this.a&&(this.response=this.responseText=a,ti(this))},B.sc=function(a){this.a&&(this.response=a,ti(this))},B.Va=function(a){var h=this.i;h&&h.log(Al,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a)),this.a&&ti(this)},B.setRequestHeader=function(a,h){this.l.append(a,h)},B.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(Al,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},B.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&a.log(Al,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var h=this.b.entries(),b=h.next();!b.done;)a.push((b=b.value)[0]+": "+b[1]),b=h.next();return a.join("\r\n")},Object.defineProperty(M0.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}}),de(Zo,Ir);var T0="";Zo.prototype.b=Fr("goog.net.XhrIo");var h2=/^https?$/i,C3=["POST","PUT"];function w3(a){return"content-type"==a.toLowerCase()}function Na(a,h){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=h,b1(a),Il(a)}function b1(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Io(a){if(a.c&&void 0!==pe)if(a.C[1]&&4==bs(a)&&2==xl(a))Xi(a.b,ea(a,"Local request error detected and ignored"));else if(a.i&&4==bs(a))Qn(a.Wb,0,a);else if(a.dispatchEvent("readystatechange"),4==bs(a)){Xi(a.b,ea(a,"Request complete")),a.c=!1;try{var M,h=xl(a);e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}if(!(M=b)){var S;if(S=0===h){var z=String(a.l).match(r1)[1]||null;if(!z&&F.self&&F.self.location){var U=F.self.location.protocol;z=U.substr(0,U.length-1)}S=!h2.test(z?z.toLowerCase():"")}M=S}if(M)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var Y=2<bs(a)?a.a.statusText:""}catch(Le){Xi(a.b,"Can not get status: "+Le.message),Y=""}a.h=Y+" ["+xl(a)+"]",b1(a)}}finally{Il(a)}}}function Il(a,h){if(a.a){zh(a);var b=a.a,M=a.C[0]?le:null;a.a=null,a.C=null,h||a.dispatchEvent("ready");try{b.onreadystatechange=M}catch(S){(a=a.b)&&a.log(_3,"Problem encountered resetting onreadystatechange: "+S.message,void 0)}}}function zh(a){a.a&&a.u&&(a.a.ontimeout=null),a.s&&(F.clearTimeout(a.s),a.s=null)}function bs(a){return a.a?a.a.readyState:0}function xl(a){try{return 2<bs(a)?a.a.status:-1}catch(h){return-1}}function ea(a,h){return h+" ["+a.P+" "+a.l+" "+xl(a)+"]"}function C1(a){var h=I0;this.g=[],this.u=h,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function uc(a,h,b){a.a=!0,a.c=b,a.f=!h,pn(a)}function Hr(a){if(a.a){if(!a.v)throw new w1(a);a.v=!1}}function $o(a,h,b,M){a.g.push([h,b,M]),a.a&&pn(a)}function d2(a){return zt(a.g,function(h){return Ne(h[1])})}function pn(a){if(a.h&&a.a&&d2(a)){var h=a.h,b=Cs[h];b&&(F.clearTimeout(b.a),delete Cs[h]),a.h=0}a.b&&(a.b.l--,delete a.b),h=a.c;for(var M=b=!1;a.g.length&&!a.i;){var S=a.g.shift(),z=S[0],U=S[1];if(S=S[2],z=a.f?U:z)try{var Y=z.call(S||a.s,h);void 0!==Y&&(a.f=a.f&&(Y==h||Y instanceof Error),a.c=h=Y),(_t(h)||"function"==typeof F.Promise&&h instanceof F.Promise)&&(M=!0,a.i=!0)}catch(Le){h=Le,a.f=!0,d2(a)||(b=!0)}}a.c=h,M&&(Y=ot(a.m,a,!0),M=ot(a.m,a,!1),h instanceof C1?($o(h,Y,M),h.C=!0):h.then(Y,M)),b&&(h=new fc(h),Cs[h.a]=h,a.h=h.a)}function w1(){mt.call(this)}function lc(){mt.call(this)}function fc(a){this.a=F.setTimeout(ot(this.c,this),0),this.b=a}(B=Zo.prototype).Ma=function(){void 0!==pe&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Xi(this.b,ea(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},B.abort=function(){this.a&&this.c&&(Xi(this.b,ea(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Il(this))},B.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Il(this,!0)),Zo.bb.Da.call(this)},B.Wb=function(){this.ya||(this.N||this.i||this.f?Io(this):this.Jc())},B.Jc=function(){Io(this)},B.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case T0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(_3,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(h){return Xi(this.b,"Can not get response: "+h.message),null}},C1.prototype.cancel=function(a){if(this.a)this.c instanceof C1&&this.c.cancel();else{if(this.b){var h=this.b;delete this.b,a?h.cancel(a):(h.l--,0>=h.l&&h.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new lc(this),Hr(this),uc(this,!1,a))}},C1.prototype.m=function(a,h){this.i=!1,uc(this,a,h)},C1.prototype.then=function(a,h,b){var M,S,z=new ln(function(U,Y){M=U,S=Y});return $o(this,M,function(U){U instanceof lc?z.cancel():S(U)}),z.then(a,h,b)},C1.prototype.$goog_Thenable=!0,de(w1,mt),w1.prototype.message="Deferred has already fired",w1.prototype.name="AlreadyCalledError",de(lc,mt),lc.prototype.message="Deferred was canceled",lc.prototype.name="CanceledError",fc.prototype.c=function(){throw delete Cs[this.a],this.b};var Cs={};function ni(a){var h={},b=h.document||document,M=un(a).toString(),S=W1(document,"SCRIPT"),z={Xb:S,Ma:void 0},U=new C1(z),Y=null,Le=null!=h.timeout?h.timeout:5e3;return 0<Le&&(Y=window.setTimeout(function(){p2(S,!0);var qe=new x0(Nd,"Timeout reached for loading script "+M);Hr(U),uc(U,!1,qe)},Le),z.Ma=Y),S.onload=S.onreadystatechange=function(){S.readyState&&"loaded"!=S.readyState&&"complete"!=S.readyState||(p2(S,h.xd||!1,Y),Hr(U),uc(U,!0,null))},S.onerror=function(){p2(S,!0,Y);var qe=new x0(Vh,"Error while loading script "+M);Hr(U),uc(U,!1,qe)},K(z=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),er(S,z),function(a,h){Q(a,"HTMLScriptElement"),a.src=un(h),(h=a.ownerDocument&&a.ownerDocument.defaultView)&&h!=F?h=se(h.document):(null===te&&(te=se(F.document)),h=te),h&&a.setAttribute("nonce",h)}(S,a),function(a){var h;return(h=(a||document).getElementsByTagName("HEAD"))&&0!=h.length?h[0]:a.documentElement}(b).appendChild(S),U}function I0(){if(this&&this.Xb){var a=this.Xb;a&&"SCRIPT"==a.tagName&&p2(a,!0,this.Ma)}}function p2(a,h,b){null!=b&&F.clearTimeout(b),a.onload=le,a.onerror=le,a.onreadystatechange=le,h&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var Vh=0,Nd=1;function x0(a,h){var b="Jsloader error (code #"+a+")";h&&(b+=": "+h),mt.call(this,b),this.code=a}function ka(a){this.f=a}function Rn(a,h,b){if(this.c=a,this.l=(a=h||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||S0,this.g=re(a.secureTokenHeaders||ri),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||eo,this.a=re(a.firebaseHeaders||xo),b&&(this.a["X-Client-Version"]=b,this.g["X-Client-Version"]=b),b="Node"==s1(),!(b=F.XMLHttpRequest||b&&l.default.INTERNAL.node&&l.default.INTERNAL.node.XMLHttpRequest)&&!Zs())throw new $("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Zs()?new _s(self):fl()?new ka(b):new Da,this.b=null}de(x0,mt),de(ka,ac),ka.prototype.a=function(){return new this.f},ka.prototype.b=function(){return{}};var ta,Oi="idToken",S0=new rr(3e4,6e4),ri={"Content-Type":"application/x-www-form-urlencoded"},eo=new rr(3e4,6e4),xo={"Content-Type":"application/json"};function hc(a,h){h?a.a["X-Firebase-Locale"]=h:delete a.a["X-Firebase-Locale"]}function to(a,h){h&&(a.l=bu("https://securetoken.googleapis.com/v1/token",h),a.h=bu("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",h),a.i=bu("https://identitytoolkit.googleapis.com/v2/",h))}function bu(a,h){return a=Si(a),h=Si(h.url),a.f=a.a+a.f,Yr(a,h.c),a.a=h.a,Qc(a,h.g),a.toString()}function m2(a,h){h?(a.a["X-Client-Version"]=h,a.g["X-Client-Version"]=h):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function dc(a,h,b,M,S,z,U){(function(){var a=fi();return!((a="Chrome"!=t2(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||Or&&Kr&&!(9<Kr))})()||Zs()?a=ot(a.u,a):(ta||(ta=new ln(function(Y,Le){!function(a,h){((window.gapi||{}).client||{}).request?a():(F[Dl]=function(){((window.gapi||{}).client||{}).request?a():h(Error("CORS_UNSUPPORTED"))},function(a,h){$o(a,null,h,void 0)}(ni(or(A3,{onload:Dl})),function(){h(Error("CORS_UNSUPPORTED"))}))}(Y,Le)})),a=ot(a.s,a)),a(h,b,M,S,z,U)}Rn.prototype.T=function(){return this.b},Rn.prototype.u=function(a,h,b,M,S,z){if(Zs()&&(void 0===F.fetch||void 0===F.Headers||void 0===F.Request))throw new $("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var U=new Zo(this.f);if(z){U.g=Math.max(0,z);var Y=setTimeout(function(){U.dispatchEvent("timeout")},z)}Ze(U,"complete",function(){Y&&clearTimeout(Y);var Le=null;try{Le=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(h){return Xi(a.b,"Can not get responseText: "+h.message),""}}(this))||null}catch(qe){Le=null}h&&h(Le)}),sn(U,"ready",function(){Y&&clearTimeout(Y),Y4(this)}),sn(U,"timeout",function(){Y&&clearTimeout(Y),Y4(this),h&&h(null)}),function(a,h,b,M,S){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+h);b=b?b.toUpperCase():"GET",a.l=h,a.h="",a.P=b,a.J=!1,a.c=!0,a.a=a.D?a.D.a():Mo.a(),a.C=function(a){return a.c||(a.c=a.b())}(a.D?a.D:Mo),a.a.onreadystatechange=ot(a.Wb,a);try{Xi(a.b,ea(a,"Opening Xhr")),a.N=!0,a.a.open(b,String(h),!0),a.N=!1}catch(U){return Xi(a.b,ea(a,"Error opening Xhr: "+U.message)),void Na(a,U)}h=M||"";var z=new js(a.headers);S&&function(a,h){if(a.forEach&&"function"==typeof a.forEach)a.forEach(h,void 0);else if(ke(a)||"string"==typeof a)Nn(a,h,void 0);else for(var b=ui(a),M=n1(a),S=M.length,z=0;z<S;z++)h.call(void 0,M[z],b&&b[z],a)}(S,function(U,Y){z.set(Y,U)}),S=function(a){e:{for(var h=w3,b=a.length,M="string"==typeof a?a.split(""):a,S=0;S<b;S++)if(S in M&&h.call(void 0,M[S],S,a)){h=S;break e}h=-1}return 0>h?null:"string"==typeof a?a.charAt(h):a[h]}(z.Y()),M=F.FormData&&h instanceof F.FormData,!kn(C3,b)||S||M||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),z.forEach(function(U,Y){this.a.setRequestHeader(Y,U)},a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.S&&(a.a.withCredentials=a.S);try{zh(a),0<a.g&&(a.u=function(a){return Or&&K2(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Xi(a.b,ea(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=ot(a.Ma,a)):a.s=Qn(a.Ma,a.g,a)),Xi(a.b,ea(a,"Sending request")),a.i=!0,a.a.send(h),a.i=!1}catch(U){Xi(a.b,ea(a,"Send error: "+U.message)),Na(a,U)}}(U,a,b,M,S)};var A3=new ce(Ke,"https://apis.google.com/js/client.js?onload=%{onload}"),Dl="__fcb"+Math.floor(1e6*Math.random()).toString();function E1(a){if("string"!=typeof(a=a.email)||!u3.test(a))throw new $("invalid-email")}function Cu(a){"email"in a&&E1(a)}function Ri(a){if(!a[Oi])throw a.mfaPendingCredential?new $("multi-factor-auth-required",null,re(a)):new $("internal-error")}function kl(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new $("internal-error")}else{if(!a.sessionInfo)throw new $("missing-verification-id");if(!a.code)throw new $("missing-verification-code")}}Rn.prototype.s=function(a,h,b,M,S){var z=this;ta.then(function(){window.gapi.client.setApiKey(z.c);var U=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:b,body:M,headers:S,authType:"none",callback:function(Y){window.gapi.auth.setToken(U),h&&h(Y)}})}).o(function(U){h&&h({error:{message:U&&U.message||"CORS_UNSUPPORTED"}})})},Rn.prototype.Ab=function(){return an(this,Rl,{})},Rn.prototype.Cb=function(a,h){return an(this,O0,{idToken:a,email:h})},Rn.prototype.Db=function(a,h){return an(this,gc,{idToken:a,password:h})};var Ll={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function g2(a){if(!a.phoneVerificationInfo)throw new $("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new $("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new $("missing-verification-code")}function mc(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new $("internal-error")}function D0(a,h){return h.oauthIdToken&&h.providerId&&0==h.providerId.indexOf("oidc.")&&!h.pendingToken&&(a.sessionId?h.nonce=a.sessionId:a.postBody&&fs(a=new qs(a.postBody),"nonce")&&(h.nonce=a.get("nonce"))),h}function Wo(a){var h=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",h=l2(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",h=l2(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",h=l2(a)):a.errorMessage&&(h=z0(a.errorMessage)),h)throw h;Ri(a)}function v2(a,h){return h.returnIdpCredential=!0,an(a,Od,h)}function ii(a,h){return h.returnIdpCredential=!0,an(a,R0,h)}function wu(a,h){return h.returnIdpCredential=!0,h.autoCreate=!1,an(a,yc,h)}function N0(a){if(!a.oobCode)throw new $("invalid-action-code")}(B=Rn.prototype).Eb=function(a,h){var b={idToken:a},M=[];return Mn(Ll,function(S,z){var U=h[z];null===U?M.push(S):z in h&&(b[z]=U)}),M.length&&(b.deleteAttribute=M),an(this,O0,b)},B.wb=function(a,h){return K(a={requestType:"PASSWORD_RESET",email:a},h),an(this,L0,a)},B.xb=function(a,h){return K(a={requestType:"EMAIL_SIGNIN",email:a},h),an(this,k3,a)},B.vb=function(a,h){return K(a={requestType:"VERIFY_EMAIL",idToken:a},h),an(this,Ld,a)},B.Fb=function(a,h,b){return K(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:h},b),an(this,ra,a)},B.gb=function(a){return an(this,P0,a)},B.ob=function(a,h){return an(this,La,{oobCode:a,newPassword:h})},B.Sa=function(a){return an(this,D3,{oobCode:a})},B.kb=function(a){return an(this,S3,{oobCode:a})};var S3={endpoint:"setAccountInfo",A:N0,Z:"email",B:!0},D3={endpoint:"resetPassword",A:N0,G:function(a){var h=a.requestType;if(!h||!a.email&&"EMAIL_SIGNIN"!=h&&"VERIFY_AND_CHANGE_EMAIL"!=h)throw new $("internal-error")},B:!0},Bh={endpoint:"signupNewUser",A:function(a){if(E1(a),!a.password)throw new $("weak-password")},G:Ri,V:!0,B:!0},Ol={endpoint:"createAuthUri",B:!0},jh={endpoint:"deleteAccount",O:["idToken"]},N3={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new $("internal-error")}},qh={endpoint:"emailLinkSignin",O:["email","oobCode"],A:E1,G:Ri,V:!0,B:!0},y2={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:E1,G:Ri,V:!0},na={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:g2,G:Ri,B:!0,Na:!0},k0={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:g2,G:Ri,B:!0,Na:!0},kd={endpoint:"getAccountInfo"},k3={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new $("internal-error");E1(a)},Z:"email",B:!0},Ld={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new $("internal-error")},Z:"email",B:!0},ra={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new $("internal-error")},Z:"email",B:!0},L0={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new $("internal-error");E1(a)},Z:"email",B:!0},_2={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},L3={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new $("internal-error")}},La={endpoint:"resetPassword",A:N0,Z:"email",B:!0},A1={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},O0={endpoint:"setAccountInfo",O:["idToken"],A:Cu,V:!0},gc={endpoint:"setAccountInfo",O:["idToken"],A:function(a){if(Cu(a),!a.password)throw new $("weak-password")},G:Ri,V:!0},Rl={endpoint:"signupNewUser",G:Ri,V:!0,B:!0},Pl={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new $("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new $("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new $("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new $("internal-error")},B:!0,Na:!0},vc={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new $("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new $("internal-error")},B:!0,Na:!0},Od={endpoint:"verifyAssertion",A:mc,Za:D0,G:Wo,V:!0,B:!0},yc={endpoint:"verifyAssertion",A:mc,Za:D0,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new $("user-not-found");if(a.errorMessage)throw z0(a.errorMessage);Ri(a)},V:!0,B:!0},R0={endpoint:"verifyAssertion",A:function(a){if(mc(a),!a.idToken)throw new $("internal-error")},Za:D0,G:Wo,V:!0},O3={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new $("invalid-custom-token")},G:Ri,V:!0,B:!0},R3={endpoint:"verifyPassword",A:function(a){if(E1(a),!a.password)throw new $("wrong-password")},G:Ri,V:!0,B:!0},P0={endpoint:"verifyPhoneNumber",A:kl,G:Ri,B:!0},Gh={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new $("internal-error");kl(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",l2(a);Ri(a)}},P3={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:kl,G:Ri,B:!0},zl={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[Oi]^!!a.refreshToken)throw new $("internal-error")},B:!0,Na:!0};function an(a,h,b){if(!function(a,h){if(!h||!h.length)return!0;if(!a)return!1;for(var b=0;b<h.length;b++){var M=a[h[b]];if(null==M||""===M)return!1}return!0}(b,h.O))return tr(new $("internal-error"));var z,M=!!h.Na,S=h.Vb||"POST";return Tt(b).then(h.A).then(function(){return h.V&&(b.returnSecureToken=!0),h.B&&a.b&&void 0===b.tenantId&&(b.tenantId=a.b),function(a,h,b,M,S,z,U){var Y=Si(h+b);Cn(Y,"key",a.c),U&&Cn(Y,"cb",Date.now().toString());var Le="GET"==M;if(Le)for(var qe in S)S.hasOwnProperty(qe)&&Cn(Y,qe,S[qe]);return new ln(function(bt,dt){dc(a,Y.toString(),function(hn){hn?hn.error?dt(Vl(hn,z||{})):bt(hn):dt(new $("network-request-failed"))},M,Le?void 0:ar(s0(S)),a.a,a.v.get())})}(a,M?a.i:a.h,h.endpoint,S,b,h.Ib,h.mb||!1)}).then(function(U){return z=U,h.Za?h.Za(b,z):z}).then(h.G).then(function(){if(!h.Z)return z;if(!(h.Z in z))throw new $("internal-error");return z[h.Z]})}function z0(a){return Vl({error:{errors:[{message:a}],code:400,message:a}})}function Vl(a,h){var b=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",M={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(b=M[b]?new $(M[b]):null)return b;for(var S in b=a.error&&a.error.message||"",K(M={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},h||{}),h=(h=b.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<h.length?h[1]:void 0,M)if(0===b.indexOf(S))return new $(M[S],h);return!h&&a&&(h=pl(a)),new $("internal-error",h)}function Eu(a){this.b=a,this.a=null,this.sb=function(a){return(D||(D=new ln(function(a,h){function b(){n2(),On("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){n2(),h(Error("Network Error"))},timeout:C.get()})}if(On("gapi.iframes.Iframe"))a();else if(On("gapi.load"))b();else{var M="__iframefcb"+Math.floor(1e6*Math.random()).toString();F[M]=function(){On("gapi.load")?b():h(Error("Network Error"))},Tt(ni(M=or(v,{onload:M}))).o(function(){h(Error("Network Error"))})}}).o(function(a){throw D=null,a}))).then(function(){return new ln(function(h,b){On("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:On("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(M){function S(){clearTimeout(z),h()}a.a=M,a.a.restyle({setHideOnLeave:!1});var z=setTimeout(function(){b(Error("Network Error"))},T.get());M.ping(S).then(S,function(){b(Error("Network Error"))})})})})}(this)}var v=new ce(Ke,"https://apis.google.com/js/api.js?onload=%{onload}"),C=new rr(3e4,6e4),T=new rr(5e3,15e3),D=null;function j(a,h,b,M){this.l=a,this.h=h,this.i=b,this.g=M,this.f=null,a=this.g?Jc((a=Si(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):Jc("https",this.l,null,"/__/auth/iframe"),this.a=a,Cn(this.a,"apiKey",this.h),Cn(this.a,"appName",this.i),this.b=null,this.c=[]}function Z(a,h,b,M,S,z){this.u=a,this.s=h,this.c=b,this.m=M,this.v=z,this.i=this.g=this.l=null,this.a=S,this.h=this.f=null}function ee(a){try{return l.default.app(a).auth().Ga()}catch(h){return[]}}function ne(a,h,b,M,S,z){this.s=a,this.g=h,this.b=b,this.f=z,this.c=M||null,this.i=S||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function be(a){var h=Ho();return function(a){return an(a,_2,{}).then(function(h){return h.authorizedDomains||[]})}(a).then(function(b){e:{var M=Si(h),S=M.c;M=M.a;for(var z=0;z<b.length;z++){var U=b[z],Y=M,Le=S;if(0==U.indexOf("chrome-extension://")?Y=Si(U).a==Y&&"chrome-extension"==Le:"http"!=Le&&"https"!=Le?Y=!1:ru.test(U)?Y=Y==U:(U=U.split(".").join("\\."),Y=new RegExp("^(.+\\."+U+"|"+U+")$","i").test(Y)),Y){b=!0;break e}}b=!1}if(!b)throw new w0(Ho())})}function Pe(a){return a.m||(a.m=ds().then(function(){if(!a.u){var h=a.c,b=a.i,M=ee(a.b),S=new j(a.s,a.g,a.b,a.f);S.f=h,S.b=b,S.c=An(M||[]),a.u=S.toString()}a.v=new Eu(a.u),function(a){if(!a.v)throw Error("IfcHandler must be initialized!");!function(a,h){a.sb.then(function(){a.a.register("authEvent",h,On("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(a.v,function(h){var b={};if(h&&h.authEvent){var M=!1;for(h=sc(h.authEvent),b=0;b<a.h.length;b++)M=a.h[b](h)||M;return(b={}).status=M?"ACK":"ERROR",Tt(b)}return b.status="ERROR",Tt(b)})}(a)})),a.m}function We(a){return a.l||(a.C=a.c?Uo(a.c,ee(a.b)):null,a.l=new Rn(a.g,Ct(a.i),a.C),a.f&&to(a.l,a.f)),a.l}function rt(a,h,b,M,S,z,U,Y,Le,qe,bt,dt){return(a=new Z(a,h,b,M,S,dt)).l=z,a.g=U,a.i=Y,a.b=re(Le||null),a.f=qe,a.zb(bt).toString()}function Xe(a){if(this.a=a||l.default.INTERNAL.reactNative&&l.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new $("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Gn(a){this.b=a,this.a={},this.f=ot(this.c,this)}j.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Gs(this.a.b,"v"),this.b?Cn(this.a,"eid",this.b):Gs(this.a.b,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Gs(this.a.b,"fw"),this.a.toString()},Z.prototype.zb=function(a){return this.h=a,this},Z.prototype.toString=function(){if(this.v){var a=Si(this.v.url);a=Jc(a.c,a.a,a.g,"/emulator/auth/handler")}else a=Jc("https",this.u,null,"/__/auth/handler");if(Cn(a,"apiKey",this.s),Cn(a,"appName",this.c),Cn(a,"authType",this.m),this.a.isOAuthProvider){var h=this.a;try{var b=l.default.app(this.c).auth().la()}catch(Y){b=null}for(var M in h.pb=b,Cn(a,"providerId",this.a.providerId),h=s0((b=this.a).Jb))h[M]=h[M].toString();M=b.Qc,h=re(h);for(var S=0;S<M.length;S++){var z=M[S];z in h&&delete h[z]}b.qb&&b.pb&&!h[b.qb]&&(h[b.qb]=b.pb),ie(h)||Cn(a,"customParameters",pl(h))}if("function"==typeof this.a.Rb&&(b=this.a.Rb()).length&&Cn(a,"scopes",b.join(",")),this.l?Cn(a,"redirectUrl",this.l):Gs(a.b,"redirectUrl"),this.g?Cn(a,"eventId",this.g):Gs(a.b,"eventId"),this.i?Cn(a,"v",this.i):Gs(a.b,"v"),this.b)for(var U in this.b)this.b.hasOwnProperty(U)&&!ls(a,U)&&Cn(a,U,this.b[U]);return this.h?Cn(a,"tid",this.h):Gs(a.b,"tid"),this.f?Cn(a,"eid",this.f):Gs(a.b,"eid"),(U=ee(this.c)).length&&Cn(a,"fw",U.join(",")),a.toString()},(B=ne.prototype).Pb=function(a,h,b){var M=new $("popup-closed-by-user"),S=new $("web-storage-unsupported"),z=this,U=!1;return this.ma().then(function(){(function(a){var h={type:"webStorageSupport"};return Pe(a).then(function(){return function(a,h){return a.sb.then(function(){return new ln(function(b){a.a.send(h.type,h,b,On("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(a.v,h)}).then(function(b){if(b&&b.length&&void 0!==b[0].webStorageSupport)return b[0].webStorageSupport;throw Error()})})(z).then(function(Y){Y||(a&&o1(a),h(S),U=!0)})}).o(function(){}).then(function(){if(!U)return function(a){return new ln(function(h){return function b(){Bs(2e3).then(function(){if(a&&!a.closed)return b();h()})}()})}(a)}).then(function(){if(!U)return Bs(b).then(function(){h(M)})})},B.Yb=function(){var a=fi();return!c1(a)&&!Xt(a)},B.Ub=function(){return!1},B.Nb=function(a,h,b,M,S,z,U,Y){if(!a)return tr(new $("popup-blocked"));if(U&&!c1())return this.ma().o(function(qe){o1(a),S(qe)}),M(),Tt();this.a||(this.a=be(We(this)));var Le=this;return this.a.then(function(){var qe=Le.ma().o(function(bt){throw o1(a),S(bt),bt});return M(),qe}).then(function(){C0(b),U||ba(rt(Le.s,Le.g,Le.b,h,b,null,z,Le.c,void 0,Le.i,Y,Le.f),a)}).o(function(qe){throw"auth/network-request-failed"==qe.code&&(Le.a=null),qe})},B.Ob=function(a,h,b,M){this.a||(this.a=be(We(this)));var S=this;return this.a.then(function(){C0(h),ba(rt(S.s,S.g,S.b,a,h,Ho(),b,S.c,void 0,S.i,M,S.f))}).o(function(z){throw"auth/network-request-failed"==z.code&&(S.a=null),z})},B.ma=function(){var a=this;return Pe(this).then(function(){return a.v.sb}).o(function(){throw a.a=null,new $("network-request-failed")})},B.ac=function(){return!0},B.Ea=function(a){this.h.push(a)},B.Ta=function(a){en(this.h,function(h){return h==a})},(B=Xe.prototype).get=function(a){return Tt(this.a.getItem(a)).then(function(h){return h&&ps(h)})},B.set=function(a,h){return Tt(this.a.setItem(a,pl(h)))},B.U=function(a){return Tt(this.a.removeItem(a))},B.ca=function(){},B.ia=function(){};var Fl,no=[];function Au(a,h,b){ie(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[h]&&(a.a[h]=[]),a.a[h].push(b)}function M1(a){this.a=a}function _c(a){this.c=a,this.b=!1,this.a=[]}function Rd(a,h,b,M){var S,U,Y,Le,z=b||{},qe=null;if(a.b)return tr(Error("connection_unavailable"));var bt=M?800:50,dt="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ln(function(hn,Vn){dt?(S=Math.floor(Math.random()*Math.pow(10,20)).toString(),dt.port1.start(),Y=setTimeout(function(){Vn(Error("unsupported_event"))},bt),a.a.push(qe={messageChannel:dt,onMessage:U=function(No){No.data.eventId===S&&("ack"===No.data.status?(clearTimeout(Y),Le=setTimeout(function(){Vn(Error("timeout"))},3e3)):"done"===No.data.status?(clearTimeout(Le),void 0!==No.data.response?hn(No.data.response):Vn(Error("unknown_error"))):(clearTimeout(Y),clearTimeout(Le),Vn(Error("invalid_response"))))}}),dt.port1.addEventListener("message",U),a.c.postMessage({eventType:h,eventId:S,data:z},[dt.port2])):Vn(Error("connection_unavailable"))}).then(function(hn){return V3(a,qe),hn}).o(function(hn){throw V3(a,qe),hn})}function V3(a,h){if(h){var b=h.messageChannel;b&&(b.port1.removeEventListener("message",h.onMessage),b.port1.close()),en(a.a,function(S){return S==h})}}function gi(){if(!V0())throw new $("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=F.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var a=this;Zs()&&self?(this.v=function(){var a=Zs()?self:null;if(Nn(no,function(b){b.b==a&&(h=b)}),!h){var h=new Gn(a);no.push(h)}return h}(),Au(this.v,"keyChanged",function(h,b){return So(a).then(function(M){return 0<M.length&&Nn(a.a,function(S){S(M)}),{keyProcessed:kn(M,b.key)}})}),Au(this.v,"ping",function(){return Tt(["keyChanged"])})):function(){var a=F.navigator;return a&&a.serviceWorker?Tt().then(function(){return a.serviceWorker.ready}).then(function(h){return h.active||null}).o(function(){return null}):Tt(null)}().then(function(h){(a.h=h)&&(a.g=new _c(new M1(h)),Rd(a.g,"ping",null,!0).then(function(b){b[0].fulfilled&&kn(b[0].value,"keyChanged")&&(a.s=!0)}).o(function(){}))})}function Oa(a){return new ln(function(h,b){var M=a.m.open("firebaseLocalStorageDb",1);M.onerror=function(S){try{S.preventDefault()}catch(z){}b(Error(S.target.error))},M.onupgradeneeded=function(S){S=S.target.result;try{S.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(z){b(z)}},M.onsuccess=function(S){(S=S.target.result).objectStoreNames.contains("firebaseLocalStorage")?h(S):function(a){return new ln(function(h,b){var M=a.m.deleteDatabase("firebaseLocalStorageDb");M.onsuccess=function(){h()},M.onerror=function(S){b(Error(S.target.error))}})}(a).then(function(){return Oa(a)}).then(function(z){h(z)}).o(function(z){b(z)})}})}function F3(a){return a.i||(a.i=Oa(a)),a.i}function Zh(a,h){var M=0;return new ln(function b(S,z){F3(a).then(h).then(S).o(function(U){if(!(3<++M))return F3(a).then(function(Y){return Y.close(),a.i=void 0,b(S,z)}).o(function(Y){z(Y)});z(U)})})}function V0(){try{return!!F.indexedDB}catch(a){return!1}}function Hl(a){return a.objectStore("firebaseLocalStorage")}function Ul(a,h){return a.transaction(["firebaseLocalStorage"],h?"readwrite":"readonly")}function Mu(a){return new ln(function(h,b){a.onsuccess=function(M){M&&M.target?h(M.target.result):h()},a.onerror=function(M){b(M.target.error)}})}function H3(a,h){return a.g&&a.h&&function(){var a=F.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Rd(a.g,"keyChanged",{key:h},a.s).then(function(){}).o(function(){}):Tt()}function So(a){return F3(a).then(function(h){var b=Hl(Ul(h,!1));return b.getAll?Mu(b.getAll()):new ln(function(M,S){var z=[],U=b.openCursor();U.onsuccess=function(Y){(Y=Y.target.result)?(z.push(Y.value),Y.continue()):M(z)},U.onerror=function(Y){S(Y.target.error)}})}).then(function(h){var b={},M=[];if(0==a.b){for(M=0;M<h.length;M++)b[h[M].fbase_key]=h[M].value;M=X2(a.c,b),a.c=b}return M})}function Pi(a){a.l&&a.l.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function U3(a){var h=this,b=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Tt().then(function(){if(V0()){var M=wa(),S="__sak"+M;return Fl||(Fl=new gi),(b=Fl).set(S,M).then(function(){return b.get(S)}).then(function(z){if(z!==M)throw Error("indexedDB not supported!");return b.U(S)}).then(function(){return b}).o(function(){return h.c})}return h.c}).then(function(M){return h.type=M.type,M.ca(function(S){Nn(h.a,function(z){z(S)})}),M})}function oi(){this.a={},this.type="inMemory"}function F0(){if(!function(){var a="Node"==s1();if(!(a=$h()||a&&l.default.INTERNAL.node&&l.default.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==s1()?new $("internal-error","The LocalStorage compatibility library was not found."):new $("web-storage-unsupported");this.a=$h()||l.default.INTERNAL.node.localStorage,this.type="localStorage"}function $h(){try{var a=F.localStorage,h=wa();return a&&(a.setItem(h,"1"),a.removeItem(h)),a}catch(b){return null}}function j3(){this.type="nullStorage"}function q3(){if(!function(){var a="Node"==s1();if(!(a=Wh()||a&&l.default.INTERNAL.node&&l.default.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==s1()?new $("internal-error","The SessionStorage compatibility library was not found."):new $("web-storage-unsupported");this.a=Wh()||l.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wh(){try{var a=F.sessionStorage,h=wa();return a&&(a.setItem(h,"1"),a.removeItem(h)),a}catch(b){return null}}function zd(){var a={};a.Browser=b2,a.Node=oa,a.ReactNative=Z3,a.Worker=Vd,this.a=a[s1()]}Gn.prototype.c=function(a){var h=a.data.eventType,b=a.data.eventId,M=this.a[h];if(M&&0<M.length){a.ports[0].postMessage({status:"ack",eventId:b,eventType:h,response:null});var S=[];Nn(M,function(z){S.push(Tt().then(function(){return z(a.origin,a.data.data)}))}),Zi(S).then(function(z){var U=[];Nn(z,function(Y){U.push({fulfilled:Y.Qb,value:Y.value,reason:Y.reason?Y.reason.message:void 0})}),Nn(U,function(Y){for(var Le in Y)void 0===Y[Le]&&delete Y[Le]}),a.ports[0].postMessage({status:"done",eventId:b,eventType:h,response:U})})}},M1.prototype.postMessage=function(a,h){this.a.postMessage(a,h)},_c.prototype.close=function(){for(;0<this.a.length;)V3(this,this.a[0]);this.b=!0},(B=gi.prototype).set=function(a,h){var b=this,M=!1;return Zh(this,function(S){return Mu((S=Hl(Ul(S,!0))).get(a))}).then(function(S){return Zh(b,function(z){if(z=Hl(Ul(z,!0)),S)return S.value=h,Mu(z.put(S));b.b++,M=!0;var U={};return U.fbase_key=a,U.value=h,Mu(z.add(U))})}).then(function(){return b.c[a]=h,H3(b,a)}).oa(function(){M&&b.b--})},B.get=function(a){return Zh(this,function(h){return Mu(Hl(Ul(h,!1)).get(a))}).then(function(h){return h&&h.value})},B.U=function(a){var h=this,b=!1;return Zh(this,function(M){return b=!0,h.b++,Mu(Hl(Ul(M,!0)).delete(a))}).then(function(){return delete h.c[a],H3(h,a)}).oa(function(){b&&h.b--})},B.ca=function(a){0==this.a.length&&function(a){Pi(a),function h(){a.f=setTimeout(function(){a.l=So(a).then(function(b){0<b.length&&Nn(a.a,function(M){M(b)})}).then(function(){h()}).o(function(b){"STOP_EVENT"!=b.message&&h()})},800)}()}(this),this.a.push(a)},B.ia=function(a){en(this.a,function(h){return h==a}),0==this.a.length&&Pi(this)},(B=U3.prototype).get=function(a){return this.b.then(function(h){return h.get(a)})},B.set=function(a,h){return this.b.then(function(b){return b.set(a,h)})},B.U=function(a){return this.b.then(function(h){return h.U(a)})},B.ca=function(a){this.a.push(a)},B.ia=function(a){en(this.a,function(h){return h==a})},(B=oi.prototype).get=function(a){return Tt(this.a[a])},B.set=function(a,h){return this.a[a]=h,Tt()},B.U=function(a){return delete this.a[a],Tt()},B.ca=function(){},B.ia=function(){},(B=F0.prototype).get=function(a){var h=this;return Tt().then(function(){return ps(h.a.getItem(a))})},B.set=function(a,h){var b=this;return Tt().then(function(){var M=pl(h);null===M?b.U(a):b.a.setItem(a,M)})},B.U=function(a){var h=this;return Tt().then(function(){h.a.removeItem(a)})},B.ca=function(a){F.window&&wo(F.window,"storage",a)},B.ia=function(a){F.window&&xi(F.window,"storage",a)},(B=j3.prototype).get=function(){return Tt(null)},B.set=function(){return Tt()},B.U=function(){return Tt()},B.ca=function(){},B.ia=function(){},(B=q3.prototype).get=function(a){var h=this;return Tt().then(function(){return ps(h.a.getItem(a))})},B.set=function(a,h){var b=this;return Tt().then(function(){var M=pl(h);null===M?b.U(a):b.a.setItem(a,M)})},B.U=function(a){var h=this;return Tt().then(function(){h.a.removeItem(a)})},B.ca=function(){},B.ia=function(){};var G3,Bl,b2={F:F0,cb:q3},oa={F:F0,cb:q3},Z3={F:Xe,cb:j3},Vd={F:F0,cb:j3},bc={rd:"local",NONE:"none",td:"session"};function Tu(){var a=!(Xt(fi())||!l3()),h=c1(),b=hl();this.m=a,this.h=h,this.l=b,this.a={},G3||(G3=new zd),a=G3;try{this.g=!Ki()&&a0()||!F.indexedDB?new a.a.F:new U3(Zs()?new oi:new a.a.F)}catch(M){this.g=new oi,this.h=!0}try{this.i=new a.a.cb}catch(M){this.i=new oi}this.v=new oi,this.f=ot(this.Zb,this),this.b={}}function C2(){return Bl||(Bl=new Tu),Bl}function Cc(a,h){switch(h){case"session":return a.i;case"none":return a.v;default:return a.g}}function Iu(a,h){return"firebase:"+a.name+(h?":"+h:"")}function ro(a,h,b){return b=Iu(h,b),"local"==h.F&&(a.b[b]=null),Cc(a,h.F).U(b)}function jl(a){a.c&&(clearInterval(a.c),a.c=null)}function Kh(a){this.a=a,this.b=C2()}(B=Tu.prototype).get=function(a,h){return Cc(this,a.F).get(Iu(a,h))},B.set=function(a,h,b){var M=Iu(a,b),S=this,z=Cc(this,a.F);return z.set(M,h).then(function(){return z.get(M)}).then(function(U){"local"==a.F&&(S.b[M]=U)})},B.addListener=function(a,h,b){a=Iu(a,h),this.l&&(this.b[a]=F.localStorage.getItem(a)),ie(this.a)&&(Cc(this,"local").ca(this.f),this.h||(Ki()||!a0())&&F.indexedDB||!this.l||function(a){jl(a),a.c=setInterval(function(){for(var h in a.a){var b=F.localStorage.getItem(h),M=a.b[h];b!=M&&(a.b[h]=b,b=new Fo({type:"storage",key:h,target:window,oldValue:M,newValue:b,a:!0}),a.Zb(b))}},1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(b)},B.removeListener=function(a,h,b){a=Iu(a,h),this.a[a]&&(en(this.a[a],function(M){return M==b}),0==this.a[a].length&&delete this.a[a]),ie(this.a)&&(Cc(this,"local").ia(this.f),jl(this))},B.Zb=function(a){if(a&&a.g){var h=a.a.key;if(null==h)for(var b in this.a){var M=this.b[b];void 0===M&&(M=null);var S=F.localStorage.getItem(b);S!==M&&(this.b[b]=S,this.nb(b))}else if(0==h.indexOf("firebase:")&&this.a[h]){if(void 0!==a.a.a?Cc(this,"local").ia(this.f):jl(this),this.m)if(b=F.localStorage.getItem(h),(M=a.a.newValue)!==b)null!==M?F.localStorage.setItem(h,M):F.localStorage.removeItem(h);else if(this.b[h]===M&&void 0===a.a.a)return;var z=this;b=function(){(void 0!==a.a.a||z.b[h]!==F.localStorage.getItem(h))&&(z.b[h]=F.localStorage.getItem(h),z.nb(h))},Or&&Kr&&10==Kr&&F.localStorage.getItem(h)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(b,10):b()}}else Nn(a,ot(this.nb,this))},B.nb=function(a){this.a[a]&&Nn(this.a[a],function(h){h()})};var Yh,zi={name:"authEvent",F:"local"};function Fd(){this.a=C2()}function W3(a,h){this.b=ql,this.f=F.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=h,this.l=F.Int32Array?new Int32Array(64):Array(64),void 0===Yh&&(Yh=F.Int32Array?new Int32Array(Hd):Hd),this.reset()}de(W3,function(){this.b=-1});for(var ql=64,B0=ql-1,K3=[],xu=0;xu<B0;xu++)K3[xu]=0;var Qh=Hn(128,K3);function Y3(a){for(var h=a.f,b=a.l,M=0,S=0;S<h.length;)b[M++]=h[S]<<24|h[S+1]<<16|h[S+2]<<8|h[S+3],S=4*M;for(h=16;64>h;h++){var z=(0|b[h-16])+(((S=0|b[h-15])>>>7|S<<25)^(S>>>18|S<<14)^S>>>3)|0,U=(0|b[h-7])+(((M=0|b[h-2])>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)|0;b[h]=z+U|0}M=0|a.a[0],S=0|a.a[1];var Y=0|a.a[2],Le=0|a.a[3],qe=0|a.a[4],bt=0|a.a[5],dt=0|a.a[6];for(z=0|a.a[7],h=0;64>h;h++){var hn=((M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10))+(M&S^M&Y^S&Y)|0;U=(z=z+((qe>>>6|qe<<26)^(qe>>>11|qe<<21)^(qe>>>25|qe<<7))|0)+((U=(U=qe&bt^~qe&dt)+(0|Yh[h])|0)+(0|b[h])|0)|0,z=dt,dt=bt,bt=qe,qe=Le+U|0,Le=Y,Y=S,S=M,M=U+hn|0}a.a[0]=a.a[0]+M|0,a.a[1]=a.a[1]+S|0,a.a[2]=a.a[2]+Y|0,a.a[3]=a.a[3]+Le|0,a.a[4]=a.a[4]+qe|0,a.a[5]=a.a[5]+bt|0,a.a[6]=a.a[6]+dt|0,a.a[7]=a.a[7]+z|0}function Jh(a,h,b){void 0===b&&(b=h.length);var M=0,S=a.c;if("string"==typeof h)for(;M<b;)a.f[S++]=h.charCodeAt(M++),S==a.b&&(Y3(a),S=0);else{if(!ke(h))throw Error("message must be string or array");for(;M<b;){var z=h[M++];if(!("number"==typeof z&&0<=z&&255>=z&&z==(0|z)))throw Error("message must be a byte array");a.f[S++]=z,S==a.b&&(Y3(a),S=0)}}a.c=S,a.g+=b}W3.prototype.reset=function(){this.g=this.c=0,this.a=F.Int32Array?new Int32Array(this.h):An(this.h)};var Hd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function p7(){W3.call(this,8,m7)}de(p7,W3);var m7=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ud(a,h,b,M,S,z){this.v=a,this.i=h,this.l=b,this.m=M||null,this.u=S||null,this.s=z,this.h=h+":"+b,this.C=new Fd,this.g=new Kh(this.h),this.f=null,this.b=[],this.a=this.c=null}function j0(a){return new $("invalid-cordova-configuration",a)}function Ra(a,h){for(var b=0;b<a.b.length;b++)try{a.b[b](h)}catch(M){}}function Gl(a){return a.f||(a.f=a.ma().then(function(){return new ln(function(h){a.Ea(function b(M){return h(M),a.Ta(b),!1}),function(a){function h(U){M=!0,S&&S.cancel(),Ur(a).then(function(Y){var Le=b;if(Y&&U&&U.url){var qe=null;-1!=(Le=y3(U.url)).indexOf("/__/auth/callback")&&(qe=(qe="object"==typeof(qe=ps(ls(qe=Si(Le),"firebaseError")||null))?we(qe):null)?new Jr(Y.c,Y.b,null,null,qe,null,Y.T()):new Jr(Y.c,Y.b,Le,Y.f,null,null,Y.T())),Le=qe||b}Ra(a,Le)})}var b=new Jr("unknown",null,null,null,new $("no-auth-event")),M=!1,S=Bs(500).then(function(){return Ur(a).then(function(){M||Ra(a,b)})}),z=F.handleOpenURL;F.handleOpenURL=function(U){if(0==U.toLowerCase().indexOf(On("BuildInfo.packageName",F).toLowerCase()+"://")&&h({url:U}),"function"==typeof z)try{z(U)}catch(Y){console.error(Y)}},gu||(gu=new Xr),function(a){var h=gu;h.a.push(a),h.b||(h.b=function(b){for(var M=0;M<h.a.length;M++)h.a[M](b)},"function"==typeof(a=On("universalLinks.subscribe",F))&&a(null,h.b))}(h)}(a)})})),a.f}function Ur(a){var h=null;return function(a){return a.b.get(zi,a.a).then(function(h){return sc(h)})}(a.g).then(function(b){return h=b,ro((b=a.g).b,zi,b.a)}).then(function(){return h})}function Zl(a){this.a=a,this.b=C2()}(B=Ud.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(o0(void 0)?ds().then(function(){return new ln(function(a,h){var b=F.document,M=setTimeout(function(){h(Error("Cordova framework is not ready."))},1e3);b.addEventListener("deviceready",function(){clearTimeout(M),a()},!1)})}):tr(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof On("universalLinks.subscribe",F))throw j0("cordova-universal-links-plugin-fix is not installed");if(void 0===On("BuildInfo.packageName",F))throw j0("cordova-plugin-buildinfo is not installed");if("function"!=typeof On("cordova.plugins.browsertab.openUrl",F))throw j0("cordova-plugin-browsertab is not installed");if("function"!=typeof On("cordova.InAppBrowser.open",F))throw j0("cordova-plugin-inappbrowser is not installed")},function(){throw new $("cordova-not-ready")})},B.Pb=function(a,h){return h(new $("operation-not-supported-in-this-environment")),Tt()},B.Nb=function(){return tr(new $("operation-not-supported-in-this-environment"))},B.ac=function(){return!1},B.Yb=function(){return!0},B.Ub=function(){return!0},B.Ob=function(a,h,b,M){if(this.c)return tr(new $("redirect-operation-pending"));var S=this,z=F.document,U=null,Y=null,Le=null,qe=null;return this.c=Tt().then(function(){return C0(h),Gl(S)}).then(function(){return function(a,h,b,M,S){var z=function(){for(var a=20,h=[];0<a;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return h.join("")}(),U=new Jr(h,M,null,z,new $("no-auth-event"),null,S),Y=On("BuildInfo.packageName",F);if("string"!=typeof Y)throw new $("invalid-cordova-configuration");var Le=On("BuildInfo.displayName",F),qe={};if(fi().toLowerCase().match(/iphone|ipad|ipod/))qe.ibi=Y;else{if(!fi().toLowerCase().match(/android/))return tr(new $("operation-not-supported-in-this-environment"));qe.apn=Y}Le&&(qe.appDisplayName=Le),z=function(a){var h=new p7;Jh(h,a),a=[];var b=8*h.g;Jh(h,Qh,56>h.c?56-h.c:h.b-(h.c-56));for(var M=63;56<=M;M--)h.f[M]=255&b,b/=256;for(Y3(h),M=b=0;M<h.i;M++)for(var S=24;0<=S;S-=8)a[b++]=h.a[M]>>S&255;return function(a){return Kt(a,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}(a)}(z),qe.sessionId=z;var bt=rt(a.v,a.i,a.l,h,b,null,M,a.m,qe,a.u,S,a.s);return a.ma().then(function(){var dt=a.h;return a.C.a.set(zi,U.w(),dt)}).then(function(){var dt=On("cordova.plugins.browsertab.isAvailable",F);if("function"!=typeof dt)throw new $("invalid-cordova-configuration");var hn=null;dt(function(Vn){if(Vn){if("function"!=typeof(hn=On("cordova.plugins.browsertab.openUrl",F)))throw new $("invalid-cordova-configuration");hn(bt)}else{if("function"!=typeof(hn=On("cordova.InAppBrowser.open",F)))throw new $("invalid-cordova-configuration");Vn=fi(),a.a=hn(bt,Vn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Vn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(S,a,h,b,M)}).then(function(){return new ln(function(bt,dt){Y=function(){var hn=On("cordova.plugins.browsertab.close",F);return bt(),"function"==typeof hn&&hn(),S.a&&"function"==typeof S.a.close&&(S.a.close(),S.a=null),!1},S.Ea(Y),qe=function(){It()&&Le()},z.addEventListener("resume",Le=function(){U||(U=Bs(2e3).then(function(){dt(new $("redirect-cancelled-by-user"))}))},!1),fi().toLowerCase().match(/android/)||z.addEventListener("visibilitychange",qe,!1)}).o(function(bt){return Ur(S).then(function(){throw bt})})}).oa(function(){Le&&z.removeEventListener("resume",Le,!1),qe&&z.removeEventListener("visibilitychange",qe,!1),U&&U.cancel(),Y&&S.Ta(Y),S.c=null})},B.Ea=function(a){this.b.push(a),Gl(this).o(function(h){"auth/invalid-cordova-configuration"===h.code&&(h=new Jr("unknown",null,null,null,new $("no-auth-event")),a(h))})},B.Ta=function(a){en(this.b,function(h){return h==a})};var $l={name:"pendingRedirect",F:"session"};function e8(a){return ro(a.b,$l,a.a)}function q0(a,h,b,M){this.i={},this.u=0,this.D=a,this.v=h,this.m=b,this.J=M,this.h=[],this.f=!1,this.l=ot(this.s,this),this.b=new Ql,this.C=new Nu,this.g=new Zl(Pa(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jd(this.D,this.v,this.m,_n,this.J)}function jd(a,h,b,M,S){var z=l.default.SDK_VERSION||null;return o0()?new Ud(a,h,b,z,M,S):new ne(a,h,b,z,M,S)}function t8(a){a.f||(a.f=!0,a.a.Ea(a.l));var h=a.a;return a.a.ma().o(function(b){throw a.a==h&&a.reset(),b})}function Wl(a){a.a.Yb()&&t8(a).o(function(h){var b=new Jr("unknown",null,null,null,new $("operation-not-supported-in-this-environment"));I1(h)&&a.s(b)}),a.a.Ub()||X3(a.b)}function Q3(a,h){kn(a.h,h)||a.h.push(h),a.f||function(a){return a.b.get($l,a.a).then(function(h){return"pending"==h})}(a.g).then(function(b){b?e8(a.g).then(function(){t8(a).o(function(M){var S=new Jr("unknown",null,null,null,new $("operation-not-supported-in-this-environment"));I1(M)&&a.s(S)})}):Wl(a)}).o(function(){Wl(a)})}function Kl(a,h){en(a.h,function(b){return b==h})}q0.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jd(this.D,this.v,this.m,null,this.J),this.i={}},q0.prototype.s=function(a){if(!a)throw new $("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var h=!1,b=0;b<this.h.length;b++){var M=this.h[b];if(M.Gb(a.c,a.b)){(h=this.c[a.c])&&(h.h(a,M),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=Date.now())),h=!0;break}}return X3(this.b),h};var qd=new rr(2e3,1e4),v7=new rr(3e4,6e4);function E2(a,h,b,M,S,z,U){return a.a.Nb(h,b,M,function(){a.f||(a.f=!0,a.a.Ea(a.l))},function(){a.reset()},S,z,U)}function I1(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Yl(a,h,b,M,S){var z;return function(a){return a.b.set($l,"pending",a.a)}(a.g).then(function(){return a.a.Ob(h,b,M,S).o(function(U){if(I1(U))throw new $("operation-not-supported-in-this-environment");return z=U,e8(a.g).then(function(){throw z})}).then(function(){return a.a.ac()?new ln(function(){}):e8(a.g).then(function(){return a.ra()}).then(function(){}).o(function(){})})})}function wc(a,h,b,M,S){return a.a.Pb(M,function(z){h.na(b,null,z,S)},qd.get())}q0.prototype.ra=function(){return this.b.ra()};var Su={};function Pa(a,h,b){return a=a+":"+h,b&&(a=a+":"+b.url),a}function J3(a,h,b,M){var S=Pa(h,b,M);return Su[S]||(Su[S]=new q0(a,h,b,M)),Su[S]}function Ql(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function X3(a){a.g||(a.g=!0,Du(a,!1,null,null))}function A2(a){a.g&&!a.i&&Du(a,!1,null,null)}function x1(a,h){if(a.b=function(){return Tt(h)},a.f.length)for(var b=0;b<a.f.length;b++)a.f[b](h)}function Du(a,h,b,M){h?M?function(a,h){if(a.b=function(){return tr(h)},a.c.length)for(var b=0;b<a.c.length;b++)a.c[b](h)}(a,M):x1(a,b):x1(a,{user:null}),a.f=[],a.c=[]}function Nu(){}function Jl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(a){this.jb=a},enumerable:!1})}function ef(a,h){this.a=h,ht(this,"verificationId",a)}function Ec(a,h,b,M){return new br(a).gb(h,b).then(function(S){return new ef(S,M)})}function $d(a){var h=lu(a);if(!(h&&h.exp&&h.auth_time&&h.iat))throw new $("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Pr(this,{token:a,expirationTime:xt(1e3*h.exp),authTime:xt(1e3*h.auth_time),issuedAtTime:xt(1e3*h.iat),signInProvider:h.firebase&&h.firebase.sign_in_provider?h.firebase.sign_in_provider:null,signInSecondFactor:h.firebase&&h.firebase.sign_in_second_factor?h.firebase.sign_in_second_factor:null,claims:h})}function Vi(a,h,b){var M=h&&h[Xl];if(!M)throw new $("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=re(h),this.g=b,this.c=new g1(null,M),this.b=[];var S=this;Nn(h[Do]||[],function(z){(z=f1(z))&&S.b.push(z)}),ht(this,"auth",this.a),ht(this,"session",this.c),ht(this,"hints",this.b)}Ql.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ql.prototype.h=function(a,h){if(a){this.reset(),this.g=!0;var b=a.c,M=a.b,S=a.a&&"auth/web-storage-unsupported"==a.a.code,z=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!S&&!z),"unknown"!=b||S||z?a.a?(Du(this,!0,null,a.a),Tt()):h.Fa(b,M)?function(a,h,b){b=b.Fa(h.c,h.b);var M=h.g,S=h.f,z=h.i,U=h.T(),Y=!!h.c.match(/Redirect$/);b(M,S,U,z).then(function(Le){Du(a,Y,Le,null)}).o(function(Le){Du(a,Y,null,Le)})}(this,a,h):tr(new $("invalid-auth-event")):(Du(this,!1,null,null),Tt())}else tr(new $("invalid-auth-event"))},Ql.prototype.ra=function(){var a=this;return new ln(function(h,b){a.b?a.b().then(h,b):(a.f.push(h),a.c.push(b),function(a){var h=new $("timeout");a.a&&a.a.cancel(),a.a=Bs(v7.get()).then(function(){a.b||(a.g=!0,Du(a,!0,null,h))})}(a))})},Nu.prototype.h=function(a,h){if(a){var b=a.c,M=a.b;a.a?(h.na(a.c,null,a.a,a.b),Tt()):h.Fa(b,M)?function(a,h){var b=a.b,M=a.c;h.Fa(M,b)(a.g,a.f,a.T(),a.i).then(function(S){h.na(M,S,null,b)}).o(function(S){h.na(M,null,S,b)})}(a,h):tr(new $("invalid-auth-event"))}else tr(new $("invalid-auth-event"))},ef.prototype.confirm=function(a){return a=_0(this.verificationId,a),this.a(a)};var Do="mfaInfo",Xl="mfaPendingCredential";function e4(a,h,b,M){$.call(this,"multi-factor-auth-required",M,h),this.b=new Vi(a,h,b),ht(this,"resolver",this.b)}function Wd(a,h,b){if(a&&Ie(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new e4(h,a.serverResponse,b,a.message)}catch(M){}return null}function i8(){}function ku(a){ht(this,"factorId",a.fa),this.a=a}function t4(a){if(ku.call(this,a),this.a.fa!=br.PROVIDER_ID)throw new $("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function M2(a,h){for(var b in on.call(this,a),h)this[b]=h[b]}function G0(a,h){this.a=a,this.b=[],this.c=ot(this.yc,this),wo(this.a,"userReloaded",this.c);var b=[];h&&h.multiFactor&&h.multiFactor.enrolledFactors&&Nn(h.multiFactor.enrolledFactors,function(M){var S=null,z={};if(M){M.uid&&(z[su]=M.uid),M.displayName&&(z[r2]=M.displayName),M.enrollmentTime&&(z[Aa]=new Date(M.enrollmentTime).toISOString()),M.phoneNumber&&(z[Ws]=M.phoneNumber);try{S=new au(z)}catch(U){}M=S}else M=null;M&&b.push(M)}),Ac(this,b)}function Ac(a,h){a.b=h,ht(a,"enrolledFactors",h)}function Z0(a,h,b){if(this.h=a,this.i=h,this.g=b,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function n4(a,h){a.stop(),a.b=Bs(function(a,h){return h?(a.a=a.c,a.g()):(h=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),h)}(a,h)).then(function(){return function(){var a=F.document,h=null;return It()||!a?Tt():new ln(function(b){h=function(){It()&&(a.removeEventListener("visibilitychange",h,!1),b())},a.addEventListener("visibilitychange",h,!1)}).o(function(b){throw a.removeEventListener("visibilitychange",h,!1),b})}()}).then(function(){return a.h()}).then(function(){n4(a,!0)}).o(function(b){a.i(b)&&n4(a,!1)})}function r4(a){this.f=a,this.b=this.a=null,this.c=Date.now()}function nf(a,h){void 0===h&&(h=a.b?(h=a.b).a-h.g:0),a.c=Date.now()+1e3*h}function rf(a,h){a.b=m1(h[Oi]||""),a.a=h.refreshToken,nf(a,void 0!==(h=h.expiresIn)?Number(h):void 0)}function ws(a,h){this.a=a||null,this.b=h||null,Pr(this,{lastSignInTime:xt(h||null),creationTime:xt(a||null)})}function Yd(a,h,b,M,S,z){Pr(this,{uid:a,displayName:M||null,photoURL:S||null,email:b||null,phoneNumber:z||null,providerId:h})}function io(a,h,b){this.N=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null;var M=l.default.SDK_VERSION?Uo(l.default.SDK_VERSION):null;this.a=new Rn(this.l,Ct(_n),M),(this.u=a.emulatorConfig||null)&&to(this.a,this.u),this.h=new r4(this.a),Y0(this,h[Oi]),rf(this.h,h),ht(this,"refreshToken",this.h.a),o4(this,b||{}),Ir.call(this),this.P=!1,this.s&&Ao()&&(this.b=J3(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(a){return new Z0(function(){return a.I(!0)},function(h){return!(!h||"auth/network-request-failed"!=h.code)},function(){var h=a.h.c-Date.now()-3e5;return 0<h?h:0})}(this),this.ba=ot(this.ib,this);var S=this;this.za=null,this.Pa=function(z){S.xa(z.h)},this.qa=null,this.Ba=function(z){i4(S,z.c)},this.$=null,this.aa=[],this.Oa=function(z){W0(S,z.f)},this.ja=null,this.S=new G0(this,b),ht(this,"multiFactor",this.S)}function i4(a,h){a.u=h,to(a.a,h),a.b&&(h=a.b,a.b=J3(a.s,a.l,a.m,a.u),a.P&&(Kl(h,a),Q3(a.b,a)))}function S1(a,h){a.qa&&xi(a.qa,"languageCodeChanged",a.Pa),(a.qa=h)&&wo(h,"languageCodeChanged",a.Pa)}function $0(a,h){a.$&&xi(a.$,"emulatorConfigChanged",a.Ba),(a.$=h)&&wo(h,"emulatorConfigChanged",a.Ba)}function W0(a,h){a.aa=h,m2(a.a,l.default.SDK_VERSION?Uo(l.default.SDK_VERSION,a.aa):null)}function K0(a,h){a.ja&&xi(a.ja,"frameworkChanged",a.Oa),(a.ja=h)&&wo(h,"frameworkChanged",a.Oa)}function D1(a){try{return l.default.app(a.m).auth()}catch(h){throw new $("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Mc(a){a.J||a.D.b||(a.D.start(),xi(a,"tokenChanged",a.ba),wo(a,"tokenChanged",a.ba))}function Ou(a){xi(a,"tokenChanged",a.ba),a.D.stop()}function Y0(a,h){a.Aa=h,ht(a,"_lat",h)}function Fi(a){for(var h=[],b=0;b<a.W.length;b++)h.push(a.W[b](a));return Zi(h).then(function(){return a})}function N1(a){a.b&&!a.P&&(a.P=!0,Q3(a.b,a))}function o4(a,h){Pr(a,{uid:h.uid,displayName:h.displayName||null,photoURL:h.photoURL||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,isAnonymous:h.isAnonymous||!1,tenantId:h.tenantId||null,metadata:new ws(h.createdAt,h.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Q0(){}function of(a){return Tt().then(function(){if(a.J)throw new $("app-deleted")})}function Zn(a){return Kt(a.providerData,function(h){return h.providerId})}function J0(a,h){h&&(Qd(a,h.providerId),a.providerData.push(h))}function Qd(a,h){en(a.providerData,function(b){return b.providerId==h})}function T2(a,h,b){("uid"!=h||b)&&a.hasOwnProperty(h)&&ht(a,h,b)}function I2(a,h){a!=h&&(Pr(a,{uid:h.uid,displayName:h.displayName,photoURL:h.photoURL,email:h.email,emailVerified:h.emailVerified,phoneNumber:h.phoneNumber,isAnonymous:h.isAnonymous,tenantId:h.tenantId,providerData:[]}),ht(a,"metadata",h.metadata?function(a){return new ws(a.a,a.b)}(h.metadata):new ws),Nn(h.providerData,function(b){J0(a,b)}),function(a,h){a.b=h.b,a.a=h.a,a.c=h.c}(a.h,h.h),ht(a,"refreshToken",a.h.a),Ac(a.S,h.S.b))}function Tc(a){return a.I().then(function(h){var b=a.isAnonymous;return function(a,h){return an(a.a,kd,{idToken:h}).then(ot(a.Kc,a))}(a,h).then(function(){return b||T2(a,"isAnonymous",!1),h})})}function za(a,h){h[Oi]&&a.Aa!=h[Oi]&&(rf(a.h,h),a.dispatchEvent(new M2("tokenChanged")),Y0(a,h[Oi]),T2(a,"refreshToken",a.h.a))}function Pu(a,h){return Tc(a).then(function(){if(kn(Zn(a),h))return Fi(a).then(function(){throw new $("provider-already-linked")})})}function X0(a,h,b){return ki({user:a,credential:b0(h),additionalUserInfo:h=hu(h),operationType:b})}function Jd(a,h){return za(a,h),a.reload().then(function(){return a})}function e6(a,h,b,M,S){if(!Ao())return tr(new $("operation-not-supported-in-this-environment"));if(a.i&&!S)return tr(a.i);var z=Qs(b.providerId),U=wa(a.uid+":::"),Y=null;(!c1()||l3())&&a.s&&b.isOAuthProvider&&(Y=rt(a.s,a.l,a.m,h,b,null,U,l.default.SDK_VERSION||null,null,null,a.tenantId,a.u));var Le=li(Y,z&&z.va,z&&z.ua);return M=M().then(function(){if(sf(a),!S)return a.I().then(function(){})}).then(function(){return E2(a.b,Le,h,b,U,!!Y,a.tenantId)}).then(function(){return new ln(function(qe,bt){a.na(h,null,new $("cancelled-popup-request"),a.g||null),a.f=qe,a.C=bt,a.g=U,a.c=wc(a.b,a,h,Le,U)})}).then(function(qe){return Le&&o1(Le),qe?ki(qe):null}).o(function(qe){throw Le&&o1(Le),qe}),mr(a,M,S)}function Ko(a,h,b,M,S){if(!Ao())return tr(new $("operation-not-supported-in-this-environment"));if(a.i&&!S)return tr(a.i);var z=null,U=wa(a.uid+":::");return M=M().then(function(){if(sf(a),!S)return a.I().then(function(){})}).then(function(){return a.ga=U,Fi(a)}).then(function(Y){return a.ha&&(Y=(Y=a.ha).b.set(af,a.w(),Y.a)),Y}).then(function(){return Yl(a.b,h,b,U,a.tenantId)}).o(function(Y){if(z=Y,a.ha)return l8(a.ha);throw z}).then(function(){if(z)throw z}),mr(a,M,S)}function sf(a){if(!a.b||!a.P)throw new $(a.b&&!a.P?"internal-error":"auth-domain-config-required")}function mr(a,h,b){var M=function(a,h,b){return a.i&&!b?(h.cancel(),tr(a.i)):h.o(function(M){throw!M||"auth/user-disabled"!=M.code&&"auth/user-token-expired"!=M.code||(a.i||a.dispatchEvent(new M2("userInvalidated")),a.i=M),M})}(a,h,b);return a.N.push(M),M.oa(function(){ct(a.N,M)}),M.o(function(S){var z=null;throw S&&"auth/multi-factor-auth-required"===S.code&&(z=Wd(S.w(),D1(a),ot(a.jc,a))),z||S})}function zu(a){if(!a.apiKey)return null;var h={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName,emulatorConfig:a.emulatorConfig},b={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;b[Oi]=a.stsTokenManager.accessToken,b.refreshToken=a.stsTokenManager.refreshToken||null;var M=a.stsTokenManager.expirationTime;M&&(b.expiresIn=(M-Date.now())/1e3);var S=new io(h,b,a);return a.providerData&&Nn(a.providerData,function(z){z&&J0(S,ki(z))}),a.redirectEventId&&(S.ga=a.redirectEventId),S}function e5(a){this.a=a,this.b=C2()}Vi.prototype.Rc=function(a){var h=this;return a.tb(this.a.a,this.c).then(function(b){var M=re(h.f);return delete M[Do],delete M[Xl],K(M,b),h.g(M)})},de(e4,$),i8.prototype.tb=function(a,h,b){return h.type==Bo?function(a,h,b,M){return b.Ha().then(function(S){return S={idToken:S},void 0!==M&&(S.displayName=M),K(S,{phoneVerificationInfo:u2(a.a)}),an(h,na,S)})}(this,a,h,b):function(a,h,b){return b.Ha().then(function(M){return K(M={mfaPendingCredential:M},{phoneVerificationInfo:u2(a.a)}),an(h,k0,M)})}(this,a,h)},de(ku,i8),de(t4,ku),de(M2,on),(B=G0.prototype).yc=function(a){Ac(this,function(a){var h=[];return Nn(a.mfaInfo||[],function(b){(b=f1(b))&&h.push(b)}),h}(a.hd))},B.Sb=function(){return this.a.I().then(function(a){return new g1(a,null)})},B.fc=function(a,h){var b=this,M=this.a.a;return this.Sb().then(function(S){return a.tb(M,S,h)}).then(function(S){return za(b.a,S),b.a.reload()})},B.bd=function(a){var h=this,b="string"==typeof a?a:a.uid,M=this.a.a;return this.a.I().then(function(S){return an(M,zl,{idToken:S,mfaEnrollmentId:b})}).then(function(S){var z=Ka(h.b,function(U){return U.uid!=b});return Ac(h,z),za(h.a,S),h.a.reload().o(function(U){if("auth/user-token-expired"!=U.code)throw U})})},B.w=function(){return{multiFactor:{enrolledFactors:Kt(this.b,function(a){return a.w()})}}},Z0.prototype.start=function(){this.a=this.c,n4(this,!0)},Z0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},r4.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},r4.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?tr(new $("user-token-expired")):a||!this.b||Date.now()>this.c-3e4?this.a?function(a,h){return function(a,h){return new ln(function(b,M){"refresh_token"==h.grant_type&&h.refresh_token||"authorization_code"==h.grant_type&&h.code?dc(a,a.l+"?key="+encodeURIComponent(a.c),function(S){S?S.error?M(Vl(S)):S.access_token&&S.refresh_token?b(S):M(new $("internal-error")):M(new $("network-request-failed"))},"POST",t0(h).toString(),a.g,a.m.get()):M(new $("internal-error"))})}(a.f,h).then(function(b){return a.b=m1(b.access_token),a.a=b.refresh_token,nf(a,b.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}}).o(function(b){throw"auth/user-token-expired"==b.code&&(a.a=null),b})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b.toString(),refreshToken:this.a})},ws.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},de(io,Ir),io.prototype.xa=function(a){this.za=a,hc(this.a,a)},io.prototype.la=function(){return this.za},io.prototype.Ga=function(){return An(this.aa)},io.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ht(io.prototype,"providerId","firebase"),(B=io.prototype).reload=function(){var a=this;return mr(this,of(this).then(function(){return Tc(a).then(function(){return Fi(a)}).then(Q0)}))},B.oc=function(a){return this.I(a).then(function(h){return new $d(h)})},B.I=function(a){var h=this;return mr(this,of(this).then(function(){return h.h.getToken(a)}).then(function(b){if(!b)throw new $("internal-error");return b.accessToken!=h.Aa&&(Y0(h,b.accessToken),h.dispatchEvent(new M2("tokenChanged"))),T2(h,"refreshToken",b.refreshToken),b.accessToken}))},B.Kc=function(a){if(!(a=a.users)||!a.length)throw new $("internal-error");o4(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var h=function(a){return(a=a.providerUserInfo)&&a.length?Kt(a,function(h){return new Yd(h.rawId,h.providerId,h.email,h.displayName,h.photoUrl,h.phoneNumber)}):[]}(a),b=0;b<h.length;b++)J0(this,h[b]);T2(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new M2("userReloaded",{hd:a}))},B.Lc=function(a){return u1("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(a)},B.ub=function(a){var h=this,b=null;return mr(this,a.c(this.a,this.uid).then(function(M){return za(h,M),b=X0(h,M,"reauthenticate"),h.i=null,h.reload()}).then(function(){return b}),!0)},B.Cc=function(a){return u1("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(a)},B.rb=function(a){var h=this,b=null;return mr(this,Pu(this,a.providerId).then(function(){return h.I()}).then(function(M){return a.b(h.a,M)}).then(function(M){return b=X0(h,M,"link"),Jd(h,M)}).then(function(){return b}))},B.Dc=function(a,h){var b=this;return mr(this,Pu(this,"phone").then(function(){return Ec(D1(b),a,h,ot(b.rb,b))}))},B.Mc=function(a,h){var b=this;return mr(this,Tt().then(function(){return Ec(D1(b),a,h,ot(b.ub,b))}),!0)},B.Cb=function(a){var h=this;return mr(this,this.I().then(function(b){return h.a.Cb(b,a)}).then(function(b){return za(h,b),h.reload()}))},B.ed=function(a){var h=this;return mr(this,this.I().then(function(b){return a.b(h.a,b)}).then(function(b){return za(h,b),h.reload()}))},B.Db=function(a){var h=this;return mr(this,this.I().then(function(b){return h.a.Db(b,a)}).then(function(b){return za(h,b),h.reload()}))},B.Eb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return of(this);var h=this;return mr(this,this.I().then(function(b){return h.a.Eb(b,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(b){return za(h,b),T2(h,"displayName",b.displayName||null),T2(h,"photoURL",b.photoUrl||null),Nn(h.providerData,function(M){"password"===M.providerId&&(ht(M,"displayName",h.displayName),ht(M,"photoURL",h.photoURL))}),Fi(h)}).then(Q0))},B.cd=function(a){var h=this;return mr(this,Tc(this).then(function(b){return kn(Zn(h),a)?function(a,h,b){return an(a,N3,{idToken:h,deleteProvider:b})}(h.a,b,[a]).then(function(M){var S={};return Nn(M.providerUserInfo||[],function(z){S[z.providerId]=!0}),Nn(Zn(h),function(z){S[z]||Qd(h,z)}),S[br.PROVIDER_ID]||ht(h,"phoneNumber",null),Fi(h)}):Fi(h).then(function(){throw new $("no-such-provider")})}))},B.delete=function(){var a=this;return mr(this,this.I().then(function(h){return an(a.a,jh,{idToken:h})}).then(function(){a.dispatchEvent(new M2("userDeleted"))})).then(function(){for(var h=0;h<a.N.length;h++)a.N[h].cancel("app-deleted");S1(a,null),$0(a,null),K0(a,null),a.N=[],a.J=!0,Ou(a),ht(a,"refreshToken",null),a.b&&Kl(a.b,a)})},B.Gb=function(a,h){return!!("linkViaPopup"==a&&(this.g||null)==h&&this.f||"reauthViaPopup"==a&&(this.g||null)==h&&this.f||"linkViaRedirect"==a&&(this.ga||null)==h||"reauthViaRedirect"==a&&(this.ga||null)==h)},B.na=function(a,h,b,M){"linkViaPopup"!=a&&"reauthViaPopup"!=a||M!=(this.g||null)||(b&&this.C?this.C(b):h&&!b&&this.f&&this.f(h),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},B.Fa=function(a,h){return"linkViaPopup"==a&&h==(this.g||null)?ot(this.Lb,this):"reauthViaPopup"==a&&h==(this.g||null)?ot(this.Mb,this):"linkViaRedirect"==a&&(this.ga||null)==h?ot(this.Lb,this):"reauthViaRedirect"==a&&(this.ga||null)==h?ot(this.Mb,this):null},B.Ec=function(a){var h=this;return e6(this,"linkViaPopup",a,function(){return Pu(h,a.providerId).then(function(){return Fi(h)})},!1)},B.Nc=function(a){return e6(this,"reauthViaPopup",a,function(){return Tt()},!0)},B.Fc=function(a){var h=this;return Ko(this,"linkViaRedirect",a,function(){return Pu(h,a.providerId)},!1)},B.Oc=function(a){return Ko(this,"reauthViaRedirect",a,function(){return Tt()},!0)},B.Lb=function(a,h,b,M){var S=this;this.c&&(this.c.cancel(),this.c=null);var z=null;return mr(this,this.I().then(function(U){return ii(S.a,{requestUri:a,postBody:M,sessionId:h,idToken:U})}).then(function(U){return z=X0(S,U,"link"),Jd(S,U)}).then(function(){return z}))},B.Mb=function(a,h,b,M){var S=this;this.c&&(this.c.cancel(),this.c=null);var z=null;return mr(this,Tt().then(function(){return Tn(wu(S.a,{requestUri:a,sessionId:h,postBody:M,tenantId:b}),S.uid)}).then(function(Y){return z=X0(S,Y,"reauthenticate"),za(S,Y),S.i=null,S.reload()}).then(function(){return z}),!0)},B.vb=function(a){var h=this,b=null;return mr(this,this.I().then(function(M){return b=M,void 0===a||ie(a)?{}:Yi(new Li(a))}).then(function(M){return h.a.vb(b,M)}).then(function(M){if(h.email!=M)return h.reload()}).then(function(){}))},B.Fb=function(a,h){var b=this,M=null;return mr(this,this.I().then(function(S){return M=S,void 0===h||ie(h)?{}:Yi(new Li(h))}).then(function(S){return b.a.Fb(M,a,S)}).then(function(S){if(b.email!=S)return b.reload()}).then(function(){}))},B.jc=function(a){var h=null,b=this;return mr(this,a=Tn(Tt(a),b.uid).then(function(M){return h=X0(b,M,"reauthenticate"),za(b,M),b.i=null,b.reload()}).then(function(){return h}),!0)},B.toJSON=function(){return this.w()},B.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&K(a,this.metadata.w()),Nn(this.providerData,function(h){a.providerData.push(function(a){var b,h={};for(b in a)a.hasOwnProperty(b)&&(h[b]=a[b]);return h}(h))}),K(a,this.S.w()),a};var af={name:"redirectUser",F:"session"};function l8(a){return ro(a.b,af,a.a)}function t6(a){this.a=a,this.b=C2(),this.c=null,this.f=function(a){var h=Es("local"),b=Es("session"),M=Es("none");return function(a,h,b){var M=Iu(h,b),S=Cc(a,h.F);return a.get(h,b).then(function(z){var U=null;try{U=ps(F.localStorage.getItem(M))}catch(Y){}if(U&&!z)return F.localStorage.removeItem(M),a.set(h,U,b);U&&z&&"localStorage"!=S.type&&F.localStorage.removeItem(M)})}(a.b,h,a.a).then(function(){return a.b.get(b,a.a)}).then(function(S){return S?b:a.b.get(M,a.a).then(function(z){return z?M:a.b.get(h,a.a).then(function(U){return U?h:a.b.get(S2,a.a).then(function(Y){return Y?Es(Y):h})})})}).then(function(S){return a.c=S,n6(a,S.F)}).o(function(){a.c||(a.c=h)})}(this),this.b.addListener(Es("local"),this.a,ot(this.g,this))}function n6(a,h){var M,b=[];for(M in bc)bc[M]!==h&&b.push(ro(a.b,Es(bc[M]),a.a));return b.push(ro(a.b,S2,a.a)),function(a){return new ln(function(h,b){var M=a.length,S=[];if(M)for(var z=function(qe,bt){M--,S[qe]=bt,0==M&&h(S)},U=function(qe){b(qe)},Y=0;Y<a.length;Y++)cs(a[Y],Zt(z,Y),U);else h(S)})}(b)}t6.prototype.g=function(){var a=this,h=Es("local");k1(this,function(){return Tt().then(function(){return a.c&&"local"!=a.c.F?a.b.get(h,a.a):null}).then(function(b){if(b)return n6(a,"local").then(function(){a.c=h})})})};var S2={name:"persistence",F:"session"};function Es(a){return{name:"authUser",F:a}}function t5(a,h){return k1(a,function(){return a.b.set(a.c,h.w(),a.a)})}function Vu(a){return k1(a,function(){return ro(a.b,a.c,a.a)})}function r6(a,h,b){return k1(a,function(){return a.b.get(a.c,a.a).then(function(M){return M&&h&&(M.authDomain=h),M&&b&&(M.emulatorConfig=b),zu(M||{})})})}function k1(a,h){return a.f=a.f.then(h,h),a.f}function Yo(a){if(this.l=!1,ht(this,"settings",new Jl),ht(this,"app",a),!Dn(this).options||!Dn(this).options.apiKey)throw new $("invalid-api-key");a=l.default.SDK_VERSION?Uo(l.default.SDK_VERSION):null,this.a=new Rn(Dn(this).options&&Dn(this).options.apiKey,Ct(_n),a),this.P=[],this.s=[],this.N=[],this.Pa=l.default.INTERNAL.createSubscribe(ot(this.zc,this)),this.W=void 0,this.ib=l.default.INTERNAL.createSubscribe(ot(this.Ac,this)),Ic(this,null),this.i=new t6(Dn(this).options.apiKey+":"+Dn(this).name),this.D=new e5(Dn(this).options.apiKey+":"+Dn(this).name),this.$=$n(this,function(a){var h=Dn(a).options.authDomain,b=function(a){var h=function(a,h){return a.b.get(af,a.a).then(function(b){return b&&h&&(b.authDomain=h),zu(b||{})})}(a.D,Dn(a).options.authDomain).then(function(b){return(a.m=b)&&(b.ha=a.D),l8(a.D)});return $n(a,h)}(a).then(function(){return r6(a.i,h,a.R)}).then(function(M){return M?(M.ha=a.D,a.m&&(a.m.ga||null)==(M.ga||null)?M:M.reload().then(function(){return t5(a.i,M).then(function(){return M})}).o(function(S){return"auth/network-request-failed"==S.code?M:Vu(a.i)})):null}).then(function(M){Ic(a,M||null)});return $n(a,b)}(this)),this.h=$n(this,function(a){return a.$.then(function(){return L1(a)}).o(function(){}).then(function(){if(!a.l)return a.ja()}).o(function(){}).then(function(){if(!a.l){a.ba=!0;var h=a.i;h.b.addListener(Es("local"),h.a,a.ja)}})}(this)),this.ba=!1,this.ja=ot(this.Zc,this),this.Ba=ot(this.da,this),this.qa=ot(this.mc,this),this.za=ot(this.wc,this),this.Aa=ot(this.xc,this),this.b=null,function(a){var h=Dn(a).options.authDomain,b=Dn(a).options.apiKey;h&&Ao()&&(a.Oa=a.$.then(function(){if(!a.l){if(a.b=J3(h,b,Dn(a).name,a.R),Q3(a.b,a),Yt(a)&&N1(Yt(a)),a.m){N1(a.m);var M=a.m;M.xa(a.la()),S1(M,a),W0(M=a.m,a.J),K0(M,a),i4(M=a.m,a.R),$0(M,a),a.m=null}return a.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=ot(this.delete,this),this.INTERNAL.logFramework=ot(this.Gc,this),this.u=0,Ir.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.la()},set:function(h){this.xa(h)},enumerable:!1}),a.aa=null,Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(h){this.zb(h)},enumerable:!1}),a.S=null,Object.defineProperty(a,"emulatorConfig",{get:function(){if(this.R){var h=Si(this.R.url);h=ki({protocol:h.c,host:h.a,port:h.g,options:ki({disableWarnings:this.R.ec})})}else h=null;return h},enumerable:!1})}(this),this.J=[],this.R=null}function uf(a){on.call(this,"languageCodeChanged"),this.h=a}function n5(a){on.call(this,"emulatorConfigChanged"),this.c=a}function a4(a){on.call(this,"frameworkChanged"),this.f=a}function vr(a){return a.Oa||tr(new $("auth-domain-config-required"))}function L1(a){if(!Ao())return tr(new $("operation-not-supported-in-this-environment"));var h=vr(a).then(function(){return a.b.ra()}).then(function(b){return b?ki(b):null});return $n(a,h)}function Ic(a,h){Yt(a)&&(function(a,h){en(a.W,function(b){return b==h})}(Yt(a),a.Ba),xi(Yt(a),"tokenChanged",a.qa),xi(Yt(a),"userDeleted",a.za),xi(Yt(a),"userInvalidated",a.Aa),Ou(Yt(a))),h&&(h.W.push(a.Ba),wo(h,"tokenChanged",a.qa),wo(h,"userDeleted",a.za),wo(h,"userInvalidated",a.Aa),0<a.u&&Mc(h)),ht(a,"currentUser",h),h&&(h.xa(a.la()),S1(h,a),W0(h,a.J),K0(h,a),i4(h,a.R),$0(h,a))}function D2(a,h){var b=null,M=null;return $n(a,h.then(function(S){return b=b0(S),M=hu(S),function(a,h){var b={};return b.apiKey=Dn(a).options.apiKey,b.authDomain=Dn(a).options.authDomain,b.appName=Dn(a).name,a.R&&(b.emulatorConfig=a.R),a.$.then(function(){return function(a,h,b,M){var S=new io(a,h);return b&&(S.ha=b),M&&W0(S,M),S.reload().then(function(){return S})}(b,h,a.D,a.Ga())}).then(function(M){return Yt(a)&&M.uid==Yt(a).uid?(I2(Yt(a),M),a.da(M)):(Ic(a,M),N1(M),a.da(M))}).then(function(){u4(a)})}(a,S)},function(S){var z=null;throw S&&"auth/multi-factor-auth-required"===S.code&&(z=Wd(S.w(),a,ot(a.kc,a))),z||S}).then(function(){return ki({user:Yt(a),credential:b,additionalUserInfo:M,operationType:"signIn"})}))}function Dn(a){return a.app}function Yt(a){return a.currentUser}function As(a){return Yt(a)&&Yt(a)._lat||null}function u4(a){if(a.ba){for(var h=0;h<a.s.length;h++)a.s[h]&&a.s[h](As(a));if(a.W!==a.getUid()&&a.N.length)for(a.W=a.getUid(),h=0;h<a.N.length;h++)a.N[h]&&a.N[h](As(a))}}function $n(a,h){return a.P.push(h),h.oa(function(){ct(a.P,h)}),h}function Va(){}function xc(){this.a={},this.b=1e12}t6.prototype.yb=function(a){var h=null,b=this;return function(a){var h=new $("invalid-persistence-type"),b=new $("unsupported-persistence-type");e:{for(M in bc)if(bc[M]==a){var M=!0;break e}M=!1}if(!M||"string"!=typeof a)throw h;switch(s1()){case"ReactNative":if("session"===a)throw b;break;case"Node":if("none"!==a)throw b;break;case"Worker":if("session"===a||!V0()&&"none"!==a)throw b;break;default:if(!hl()&&"none"!==a)throw b}}(a),k1(this,function(){return a!=b.c.F?b.b.get(b.c,b.a).then(function(M){return h=M,n6(b,a)}).then(function(){if(b.c=Es(a),h)return b.b.set(b.c,h,b.a)}):Tt()})},de(Yo,Ir),de(uf,on),de(n5,on),de(a4,on),(B=Yo.prototype).yb=function(a){return $n(this,a=this.i.yb(a))},B.xa=function(a){this.aa===a||this.l||(this.aa=a,hc(this.a,this.aa),this.dispatchEvent(new uf(this.la())))},B.la=function(){return this.aa},B.fd=function(){var a=F.navigator;this.xa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},B.gd=function(a,h){if(!this.R){if(!/^https?:\/\//.test(a))throw new $("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(a){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),F.document&&!a&&ds().then(function(){var h=F.document.createElement("div");h.innerText="Running in emulator mode. Do not use with production credentials.",h.style.position="fixed",h.style.width="100%",h.style.backgroundColor="#ffffff",h.style.border=".1em solid #000000",h.style.color="#b50000",h.style.bottom="0px",h.style.left="0px",h.style.margin="0px",h.style.zIndex=1e4,h.style.textAlign="center",h.classList.add("firebase-emulator-warning"),F.document.body.appendChild(h)})})(h=!!h&&!!h.disableWarnings),this.R={url:a,ec:h},this.settings.jb=!0,to(this.a,this.R),this.dispatchEvent(new n5(this.R))}},B.Gc=function(a){this.J.push(a),m2(this.a,l.default.SDK_VERSION?Uo(l.default.SDK_VERSION,this.J):null),this.dispatchEvent(new a4(this.J))},B.Ga=function(){return An(this.J)},B.zb=function(a){this.S===a||this.l||(this.S=a,this.a.b=this.S)},B.T=function(){return this.S},B.toJSON=function(){return{apiKey:Dn(this).options.apiKey,authDomain:Dn(this).options.authDomain,appName:Dn(this).name,currentUser:Yt(this)&&Yt(this).w()}},B.Gb=function(a,h){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==h&&!!this.f;default:return!1}},B.na=function(a,h,b,M){"signInViaPopup"==a&&this.g==M&&(b&&this.C?this.C(b):h&&!b&&this.f&&this.f(h),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},B.Fa=function(a,h){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==h&&this.f?ot(this.ic,this):null},B.ic=function(a,h,b,M){var S=this,z={requestUri:a,postBody:M,sessionId:h,tenantId:b};return this.c&&(this.c.cancel(),this.c=null),S.$.then(function(){return D2(S,v2(S.a,z))})},B.Xc=function(a){if(!Ao())return tr(new $("operation-not-supported-in-this-environment"));var h=this,b=Qs(a.providerId),M=wa(),S=null;(!c1()||l3())&&Dn(this).options.authDomain&&a.isOAuthProvider&&(S=rt(Dn(this).options.authDomain,Dn(this).options.apiKey,Dn(this).name,"signInViaPopup",a,null,M,l.default.SDK_VERSION||null,null,null,this.T(),this.R));var z=li(S,b&&b.va,b&&b.ua);return $n(this,b=vr(this).then(function(U){return E2(U,z,"signInViaPopup",a,M,!!S,h.T())}).then(function(){return new ln(function(U,Y){h.na("signInViaPopup",null,new $("cancelled-popup-request"),h.g),h.f=U,h.C=Y,h.g=M,h.c=wc(h.b,h,"signInViaPopup",z,M)})}).then(function(U){return z&&o1(z),U?ki(U):null}).o(function(U){throw z&&o1(z),U}))},B.Yc=function(a){if(!Ao())return tr(new $("operation-not-supported-in-this-environment"));var h=this;return $n(this,vr(this).then(function(){return function(a){return k1(a,function(){return a.b.set(S2,a.c.F,a.a)})}(h.i)}).then(function(){return Yl(h.b,"signInViaRedirect",a,void 0,h.T())}))},B.ra=function(){var a=this;return L1(this).then(function(h){return a.b&&A2(a.b.b),h}).o(function(h){throw a.b&&A2(a.b.b),h})},B.dd=function(a){if(!a)return tr(new $("null-user"));if(this.S!=a.tenantId)return tr(new $("tenant-id-mismatch"));var h=this,b={};b.apiKey=Dn(this).options.apiKey,b.authDomain=Dn(this).options.authDomain,b.appName=Dn(this).name;var M=function(a,h,b,M){var S=a.h,z={};return z[Oi]=S.b&&S.b.toString(),z.refreshToken=S.a,h=new io(h||{apiKey:a.l,authDomain:a.s,appName:a.m},z),b&&(h.ha=b),M&&W0(h,M),I2(h,a),h}(a,b,h.D,h.Ga());return $n(this,this.h.then(function(){if(Dn(h).options.apiKey!=a.l)return M.reload()}).then(function(){return Yt(h)&&a.uid==Yt(h).uid?(I2(Yt(h),a),h.da(a)):(Ic(h,M),N1(M),h.da(M))}).then(function(){u4(h)}))},B.Bb=function(){var a=this;return $n(this,this.h.then(function(){return a.b&&A2(a.b.b),Yt(a)?(Ic(a,null),Vu(a.i).then(function(){u4(a)})):Tt()}))},B.Zc=function(){var a=this;return r6(this.i,Dn(this).options.authDomain).then(function(h){if(!a.l){var b;if(b=Yt(a)&&h){b=Yt(a).uid;var M=h.uid;b=null!=b&&""!==b&&null!=M&&""!==M&&b==M}if(b)return I2(Yt(a),h),Yt(a).I();(Yt(a)||h)&&(Ic(a,h),h&&(N1(h),h.ha=a.D),a.b&&Q3(a.b,a),u4(a))}})},B.da=function(a){return t5(this.i,a)},B.mc=function(){u4(this),this.da(Yt(this))},B.wc=function(){this.Bb()},B.xc=function(){this.Bb()},B.kc=function(a){var h=this;return this.h.then(function(){return D2(h,Tt(a))})},B.zc=function(a){var h=this;this.addAuthTokenListener(function(){a.next(Yt(h))})},B.Ac=function(a){var h=this;!function(a,h){a.N.push(h),$n(a,a.h.then(function(){!a.l&&kn(a.N,h)&&a.W!==a.getUid()&&(a.W=a.getUid(),h(As(a)))}))}(this,function(){a.next(Yt(h))})},B.Ic=function(a,h,b){var M=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof a?a(Yt(M)):"function"==typeof a.next&&a.next(Yt(M))}),this.Pa(a,h,b)},B.Hc=function(a,h,b){var M=this;return this.ba&&Promise.resolve().then(function(){M.W=M.getUid(),"function"==typeof a?a(Yt(M)):"function"==typeof a.next&&a.next(Yt(M))}),this.ib(a,h,b)},B.nc=function(a){var h=this;return $n(this,this.h.then(function(){return Yt(h)?Yt(h).I(a).then(function(M){return{accessToken:M}}):null}))},B.Tc=function(a){var h=this;return this.h.then(function(){return D2(h,an(h.a,O3,{token:a}))}).then(function(b){var M=b.user;return T2(M,"isAnonymous",!1),h.da(M),b})},B.Uc=function(a,h){var b=this;return this.h.then(function(){return D2(b,an(b.a,R3,{email:a,password:h}))})},B.dc=function(a,h){var b=this;return this.h.then(function(){return D2(b,an(b.a,Bh,{email:a,password:h}))})},B.ab=function(a){var h=this;return this.h.then(function(){return D2(h,a.ka(h.a))})},B.Sc=function(a){return u1("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(a)},B.Ab=function(){var a=this;return this.h.then(function(){var h=Yt(a);if(h&&h.isAnonymous){var b=ki({providerId:null,isNewUser:!1});return ki({user:h,credential:null,additionalUserInfo:b,operationType:"signIn"})}return D2(a,a.a.Ab()).then(function(M){var S=M.user;return T2(S,"isAnonymous",!0),a.da(S),M})})},B.getUid=function(){return Yt(this)&&Yt(this).uid||null},B.cc=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&Yt(this)&&Mc(Yt(this))},B.Pc=function(a){var h=this;Nn(this.s,function(b){b==a&&h.u--}),0>this.u&&(this.u=0),0==this.u&&Yt(this)&&Ou(Yt(this)),this.removeAuthTokenListener(a)},B.addAuthTokenListener=function(a){var h=this;this.s.push(a),$n(this,this.h.then(function(){h.l||kn(h.s,a)&&a(As(h))}))},B.removeAuthTokenListener=function(a){en(this.s,function(h){return h==a})},B.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(Es("local"),a.a,this.ja),this.b&&(Kl(this.b,this),A2(this.b.b)),Promise.resolve()},B.hc=function(a){return $n(this,function(a,h){return an(a,Ol,{identifier:h,continueUri:dl()?Ho():"http://localhost"}).then(function(b){return b.signinMethods||[]})}(this.a,a))},B.Bc=function(a){return!!y0(a)},B.xb=function(a,h){var b=this;return $n(this,Tt().then(function(){var M=new Li(h);if(!M.c)throw new $("argument-error",Ma+" must be true when sending sign in link to email");return Yi(M)}).then(function(M){return b.a.xb(a,M)}).then(function(){}))},B.jd=function(a){return this.Sa(a).then(function(h){return h.data.email})},B.ob=function(a,h){return $n(this,this.a.ob(a,h).then(function(){}))},B.Sa=function(a){return $n(this,this.a.Sa(a).then(function(h){return new Sd(h)}))},B.kb=function(a){return $n(this,this.a.kb(a).then(function(){}))},B.wb=function(a,h){var b=this;return $n(this,Tt().then(function(){return void 0===h||ie(h)?{}:Yi(new Li(h))}).then(function(M){return b.a.wb(a,M)}).then(function(){}))},B.Wc=function(a,h){return $n(this,Ec(this,a,h,ot(this.ab,this)))},B.Vc=function(a,h){var b=this;return $n(this,Tt().then(function(){var M=h||Ho(),S=Sa(a,M);if(!(M=y0(M)))throw new $("argument-error","Invalid email link!");if(M.tenantId!==b.T())throw new $("tenant-id-mismatch");return b.ab(S)}))},Va.prototype.render=function(){},Va.prototype.reset=function(){},Va.prototype.getResponse=function(){},Va.prototype.execute=function(){};var l4=null;function Fu(a,h){return(h=lf(h))&&a.a[h]||null}function lf(a){return(a=void 0===a?1e12:a)?a.toString():null}function f4(a,h){this.g=!1,this.c=h,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qt(a);var b=this;this.i=function(){b.execute()},this.h?this.execute():wo(this.f,"click",this.i)}function h4(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function d8(){}function ff(){}xc.prototype.render=function(a,h){return this.a[this.b.toString()]=new f4(a,h),this.b++},xc.prototype.reset=function(a){var h=Fu(this,a);a=lf(a),h&&a&&(h.delete(),delete this.a[a])},xc.prototype.getResponse=function(a){return(a=Fu(this,a))?a.getResponse():null},xc.prototype.execute=function(a){(a=Fu(this,a))&&a.execute()},f4.prototype.getResponse=function(){return h4(this),this.b},f4.prototype.execute=function(){h4(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,h=[];0<a;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return h.join("")}();var h=a.c.callback,b=a.c["expired-callback"];if(h)try{h(a.b)}catch(M){}a.a=setTimeout(function(){if(a.a=null,a.b=null,b)try{b()}catch(M){}a.h&&a.execute()},6e4)},500))},f4.prototype.delete=function(){h4(this),this.g=!0,clearTimeout(this.a),this.a=null,xi(this.f,"click",this.i)},ht(d8,"FACTOR_ID","phone"),ff.prototype.g=function(){return l4||(l4=new xc),Tt(l4)},ff.prototype.c=function(){};var Sc=null;function p8(){this.b=F.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var m8=new ce(Ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),g8=new rr(3e4,6e4);p8.prototype.g=function(a){var h=this;return new ln(function(b,M){var S=setTimeout(function(){M(new $("network-request-failed"))},g8.get());!F.grecaptcha||a!==h.f&&!h.b?(F[h.a]=function(){if(F.grecaptcha){h.f=a;var U=F.grecaptcha.render;F.grecaptcha.render=function(Y,Le){return Y=U(Y,Le),h.b++,Y},clearTimeout(S),b(F.grecaptcha)}else clearTimeout(S),M(new $("internal-error"));delete F[h.a]},Tt(ni(or(m8,{onload:h.a,hl:a||""}))).o(function(){clearTimeout(S),M(new $("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(S),b(F.grecaptcha))})},p8.prototype.c=function(){this.b--};var i6=null;function v8(a,h,b,M,S,z,U){if(ht(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=h,this.g=null,U?(Sc||(Sc=new ff),U=Sc):(i6||(i6=new p8),U=i6),this.m=U,this.a=b||{theme:"light",type:"image"},this.h=[],this.a[y8])throw new $("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dc],!F.document)throw new $("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qt(h)||!this.i&&qt(h).hasChildNodes())throw new $("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Rn(a,z||null,S||null),this.u=M||function(){return null};var Y=this;this.l=[];var Le=this.a[hf];this.a[hf]=function(bt){if(df(Y,bt),"function"==typeof Le)Le(bt);else if("string"==typeof Le){var dt=On(Le,F);"function"==typeof dt&&dt(bt)}};var qe=this.a[o6];this.a[o6]=function(){if(df(Y,null),"function"==typeof qe)qe();else if("string"==typeof qe){var bt=On(qe,F);"function"==typeof bt&&bt()}}}var hf="callback",o6="expired-callback",y8="sitekey",Dc="size";function df(a,h){for(var b=0;b<a.l.length;b++)try{a.l[b](h)}catch(M){}}function Qo(a,h){return a.h.push(h),h.oa(function(){ct(a.h,h)}),h}function pf(a){if(a.J)throw new $("internal-error","RecaptchaVerifier instance has been destroyed.")}function s6(a,h,b){var M=!1;try{this.b=b||l.default.app()}catch(U){throw new $("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new $("invalid-api-key");b=this.b.options.apiKey;var S=this,z=null;try{z=this.b.auth().Ga()}catch(U){}try{M=this.b.auth().settings.appVerificationDisabledForTesting}catch(U){}z=l.default.SDK_VERSION?Uo(l.default.SDK_VERSION,z):null,v8.call(this,b,a,h,function(){try{var U=S.b.auth().la()}catch(Y){U=null}return U},z,Ct(_n),M)}function Ms(a,h,b,M){e:{b=Array.prototype.slice.call(b);for(var S=0,z=!1,U=0;U<h.length;U++)if(h[U].optional)z=!0;else{if(z)throw new $("internal-error","Argument validator encountered a required argument after an optional argument.");S++}if(z=h.length,b.length<S||z<b.length)M="Expected "+(S==z?1==S?"1 argument":S+" arguments":S+"-"+z+" arguments")+" but got "+b.length+".";else{for(S=0;S<b.length;S++)if(z=h[S].optional&&void 0===b[S],!h[S].M(b[S])&&!z){if(h=h[S],0>S||S>=mf.length)throw new $("internal-error","Argument validator received an unsupported number of arguments.");b=mf[S],M=(M?"":b+" argument ")+(h.name?'"'+h.name+'" ':"")+"must be "+h.K+".";break e}M=null}}if(M)throw new $("argument-error",a+" failed: "+M)}(B=v8.prototype).Ia=function(){var a=this;return this.f?this.f:this.f=Qo(this,Tt().then(function(){if(dl()&&!Zs())return ds();throw new $("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return a.m.g(a.u())}).then(function(h){return a.g=h,an(a.s,L3,{})}).then(function(h){a.a[y8]=h.recaptchaSiteKey}).o(function(h){throw a.f=null,h}))},B.render=function(){pf(this);var a=this;return Qo(this,this.Ia().then(function(){if(null===a.c){var h=a.v;if(!a.i){var b=qt(h);h=function(a,h,b){var M=arguments,S=document,z=String(M[0]),U=M[1];if(!nn&&U&&(U.name||U.type)){if(z=["<",z],U.name&&z.push(' name="',Qa(U.name),'"'),U.type){z.push(' type="',Qa(U.type),'"');var Y={};K(Y,U),delete Y.type,U=Y}z.push(">"),z=z.join("")}return z=W1(S,z),U&&("string"==typeof U?z.className=U:Array.isArray(U)?z.className=U.join(" "):er(z,U)),2<M.length&&Yn(S,z,M),z}("DIV"),b.appendChild(h)}a.c=a.g.render(h,a.a)}return a.c}))},B.verify=function(){pf(this);var a=this;return Qo(this,this.render().then(function(h){return new ln(function(b){var M=a.g.getResponse(h);if(M)b(M);else{var S=function(z){z&&(function(a,h){en(a.l,function(b){return b==h})}(a,S),b(z))};a.l.push(S),a.i&&a.g.execute(a.c)}})}))},B.reset=function(){pf(this),null!==this.c&&this.g.reset(this.c)},B.clear=function(){pf(this),this.J=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=qt(this.v);for(var h;h=a.firstChild;)a.removeChild(h)}},de(s6,v8);var mf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function vt(a,h){return{name:a||"",K:"a valid string",optional:!!h,M:function(b){return"string"==typeof b}}}function N2(a,h){return{name:a||"",K:"a boolean",optional:!!h,M:function(b){return"boolean"==typeof b}}}function Nr(a,h){return{name:a||"",K:"a valid object",optional:!!h,M:Ie}}function d4(a,h){return{name:a||"",K:"a function",optional:!!h,M:function(b){return"function"==typeof b}}}function Jo(a,h){return{name:a||"",K:"null",optional:!!h,M:function(b){return null===b}}}function k2(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(h){return!!h&&!(!h.ka||a&&h.providerId!==a)}}}function s5(a,h){return Ie(a)&&"string"==typeof a.type&&a.type===h&&"function"==typeof a.Ha}function A7(a){return Ie(a)&&"string"==typeof a.uid}function Ce(a,h,b,M){return{name:b||"",K:a.K+" or "+h.K,optional:!!M,M:function(S){return a.M(S)||h.M(S)}}}function ze(a,h){for(var b in h){var M=h[b].name;a[M]=tt(M,a[b],h[b].j)}}function Ts(a,h){for(var b in h){var M=h[b].name;M!==b&&Object.defineProperty(a,M,{get:Zt(function(S){return this[S]},b),set:Zt(function(S,z,U,Y){Ms(S,[U],[Y],!0),this[z]=Y},M,b,h[b].lb),enumerable:!0})}}function In(a,h,b,M){a[h]=tt(h,b,M)}function tt(a,h,b){function M(){var U=Array.prototype.slice.call(arguments);return Ms(S,b,U),h.apply(this,U)}if(!b)return h;var z,S=function(a){return(a=a.split("."))[a.length-1]}(a);for(z in h)M[z]=h[z];for(z in h.prototype)M.prototype[z]=h.prototype[z];return M}ze(Yo.prototype,{kb:{name:"applyActionCode",j:[vt("code")]},Sa:{name:"checkActionCode",j:[vt("code")]},ob:{name:"confirmPasswordReset",j:[vt("code"),vt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[vt("email"),vt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[vt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[vt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ce(Nr(),d4(),"nextOrObserver"),d4("opt_error",!0),d4("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ce(Nr(),d4(),"nextOrObserver"),d4("opt_error",!0),d4("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[vt("email"),Ce(Nr("opt_actionCodeSettings",!0),Jo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[vt("email"),Nr("actionCodeSettings")]},yb:{name:"setPersistence",j:[vt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[k2()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[k2()]},Tc:{name:"signInWithCustomToken",j:[vt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[vt("email"),vt("password")]},Vc:{name:"signInWithEmailLink",j:[vt("email"),vt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Ce({name:"user",K:"an instance of Firebase User",optional:!1,M:function(h){return!!(h&&h instanceof io)}},Jo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[vt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[vt("url"),Nr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[vt("code")]}}),Ts(Yo.prototype,{lc:{name:"languageCode",lb:Ce(vt(),Jo(),"languageCode")},ti:{name:"tenantId",lb:Ce(vt(),Jo(),"tenantId")}}),(Yo.Persistence=bc).LOCAL="local",Yo.Persistence.SESSION="session",Yo.Persistence.NONE="none",ze(io.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[N2("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[N2("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[k2()]},rb:{name:"linkWithCredential",j:[k2()]},Dc:{name:"linkWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[k2()]},ub:{name:"reauthenticateWithCredential",j:[k2()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ce(Nr("opt_actionCodeSettings",!0),Jo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[vt(null,!0)]},cd:{name:"unlink",j:[vt("provider")]},Cb:{name:"updateEmail",j:[vt("email")]},Db:{name:"updatePassword",j:[vt("password")]},ed:{name:"updatePhoneNumber",j:[k2("phone")]},Eb:{name:"updateProfile",j:[Nr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[vt("email"),Ce(Nr("opt_actionCodeSettings",!0),Jo(null,!0),"opt_actionCodeSettings",!0)]}}),ze(xc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ze(Va.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ze(ln.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ts(Jl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:N2("appVerificationDisabledForTesting")}}),ze(ef.prototype,{confirm:{name:"confirm",j:[vt("verificationCode")]}}),In(Js,"fromJSON",function(a){a="string"==typeof a?JSON.parse(a):a;for(var h,b=[v0,xa,Jn,v1],M=0;M<b.length;M++)if(h=b[M](a))return h;return null},[Ce(vt(),Nr(),"json")]),In(Dr,"credential",function(a,h){return new ut(a,h)},[vt("email"),vt("password")]),ze(ut.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),ze(Qr.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(Qr,"credential",pu,[Ce(vt(),Nr(),"token")]),In(Dr,"credentialWithLink",Sa,[vt("email"),vt("emailLink")]),ze(pi.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(pi,"credential",mu,[Ce(vt(),Nr(),"token")]),ze(Ia.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(Ia,"credential",wl,[Ce(vt(),Ce(Nr(),Jo()),"idToken"),Ce(vt(),Jo(),"accessToken",!0)]),ze(qn.prototype,{Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(qn,"credential",L,[Ce(vt(),Nr(),"token"),vt("secret",!0)]),ze(Sr.prototype,{Ca:{name:"addScope",j:[vt("scope")]},credential:{name:"credential",j:[Ce(vt(),Ce(Nr(),Jo()),"optionsOrIdToken"),Ce(vt(),Jo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),ze(di.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),ze(Xs.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),In(br,"credential",_0,[vt("verificationId"),vt("verificationCode")]),ze(br.prototype,{gb:{name:"verifyPhoneNumber",j:[Ce(vt(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(b){return!!b&&(b.session&&b.phoneNumber?s5(b.session,Bo)&&"string"==typeof b.phoneNumber:b.session&&b.multiFactorHint?s5(b.session,jo)&&A7(b.multiFactorHint):b.session&&b.multiFactorUid?s5(b.session,jo)&&"string"==typeof b.multiFactorUid:!!b.phoneNumber&&"string"==typeof b.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]}}),ze(gs.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),ze($.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),ze(y1.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),ze(w0.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),ze(e4.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),ze(Vi.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}}]}}),ze(G0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}},vt("displayName",!0)]},bd:{name:"unenroll",j:[Ce({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:A7},vt(),"multiFactorInfoIdentifier")]}}),ze(s6.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),In(p3,"parseLink",rc,[vt("link")]),In(d8,"assertion",function(a){return new t4(a)},[k2("phone")]),function(){if(void 0===l.default||!l.default.INTERNAL||!l.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:gl,VERIFY_AND_CHANGE_EMAIL:cu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yo,AuthCredential:Js,Error:$};In(a,"EmailAuthProvider",Dr,[]),In(a,"FacebookAuthProvider",Qr,[]),In(a,"GithubAuthProvider",pi,[]),In(a,"GoogleAuthProvider",Ia,[]),In(a,"TwitterAuthProvider",qn,[]),In(a,"OAuthProvider",Sr,[vt("providerId")]),In(a,"SAMLAuthProvider",Cl,[vt("providerId")]),In(a,"PhoneAuthProvider",br,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof Yo)}}]),In(a,"RecaptchaVerifier",s6,[Ce(vt(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Nr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof l.default.app.App)}}]),In(a,"ActionCodeURL",p3,[]),In(a,"PhoneMultiFactorGenerator",d8,[]),l.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(h){return new Yo(h=h.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(h){h.getProvider("auth-internal").initialize()}}),l.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(h){return{getUid:ot((h=h.getProvider("auth").getImmediate()).getUid,h),getToken:ot(h.nc,h),addAuthTokenListener:ot(h.cc,h),removeAuthTokenListener:ot(h.Pc,h)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),l.default.registerVersion("@firebase/auth","0.16.8"),l.default.INTERNAL.extendNamespace({User:io})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6034:(wt,je,X)=>{"use strict";X.r(je),X.d(je,{Component:()=>V,ComponentContainer:()=>me,Provider:()=>De});var l=X(4762),B=X(4685),V=function(){function pe(F,ae,te){this.name=F,this.instanceFactory=ae,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return pe.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},pe.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},pe.prototype.setServiceProps=function(F){return this.serviceProps=F,this},pe.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},pe}(),he="[DEFAULT]",De=function(){function pe(F,ae){this.name=F,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return pe.prototype.get=function(F){var ae=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(ae)){var te=new B.Deferred;if(this.instancesDeferred.set(ae,te),this.isInitialized(ae)||this.shouldAutoInitialize())try{var se=this.getOrInitializeService({instanceIdentifier:ae});se&&te.resolve(se)}catch(le){}}return this.instancesDeferred.get(ae).promise},pe.prototype.getImmediate=function(F){var ae,te=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),se=null!==(ae=null==F?void 0:F.optional)&&void 0!==ae&&ae;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(le){if(se)return null;throw le}},pe.prototype.getComponent=function(){return this.component},pe.prototype.setComponent=function(F){var ae,te;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(pe){return"EAGER"===pe.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:he})}catch(Ge){}try{for(var se=(0,l.__values)(this.instancesDeferred.entries()),le=se.next();!le.done;le=se.next()){var Te=(0,l.__read)(le.value,2),Ne=Te[1],Ie=this.normalizeInstanceIdentifier(Te[0]);try{var Oe=this.getOrInitializeService({instanceIdentifier:Ie});Ne.resolve(Oe)}catch(Ge){}}}catch(Ge){ae={error:Ge}}finally{try{le&&!le.done&&(te=se.return)&&te.call(se)}finally{if(ae)throw ae.error}}}},pe.prototype.clearInstance=function(F){void 0===F&&(F=he),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},pe.prototype.delete=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var F;return(0,l.__generator)(this,function(ae){switch(ae.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,l.__spreadArray)((0,l.__spreadArray)([],(0,l.__read)(F.filter(function(te){return"INTERNAL"in te}).map(function(te){return te.INTERNAL.delete()}))),(0,l.__read)(F.filter(function(te){return"_delete"in te}).map(function(te){return te._delete()}))))];case 1:return ae.sent(),[2]}})})},pe.prototype.isComponentSet=function(){return null!=this.component},pe.prototype.isInitialized=function(F){return void 0===F&&(F=he),this.instances.has(F)},pe.prototype.getOptions=function(F){return void 0===F&&(F=he),this.instancesOptions.get(F)||{}},pe.prototype.initialize=function(F){var ae,te;void 0===F&&(F={});var se=F.options,le=void 0===se?{}:se,Te=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Te))throw Error(this.name+"("+Te+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ke=this.getOrInitializeService({instanceIdentifier:Te,options:le});try{for(var Ne=(0,l.__values)(this.instancesDeferred.entries()),Ie=Ne.next();!Ie.done;Ie=Ne.next()){var Oe=(0,l.__read)(Ie.value,2),nt=Oe[1];Te===this.normalizeInstanceIdentifier(Oe[0])&&nt.resolve(ke)}}catch(Bt){ae={error:Bt}}finally{try{Ie&&!Ie.done&&(te=Ne.return)&&te.call(Ne)}finally{if(ae)throw ae.error}}return ke},pe.prototype.onInit=function(F,ae){var te,se=this.normalizeInstanceIdentifier(ae),le=null!==(te=this.onInitCallbacks.get(se))&&void 0!==te?te:new Set;le.add(F),this.onInitCallbacks.set(se,le);var Te=this.instances.get(se);return Te&&F(Te,se),function(){le.delete(F)}},pe.prototype.invokeOnInitCallbacks=function(F,ae){var te,se,le=this.onInitCallbacks.get(ae);if(le)try{for(var Te=(0,l.__values)(le),ke=Te.next();!ke.done;ke=Te.next()){var Ne=ke.value;try{Ne(F,ae)}catch(Ie){}}}catch(Ie){te={error:Ie}}finally{try{ke&&!ke.done&&(se=Te.return)&&se.call(Te)}finally{if(te)throw te.error}}},pe.prototype.getOrInitializeService=function(F){var ae=F.instanceIdentifier,te=F.options,se=void 0===te?{}:te,le=this.instances.get(ae);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:ge(ae),options:se}),this.instances.set(ae,le),this.instancesOptions.set(ae,se),this.invokeOnInitCallbacks(le,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,le)}catch(Te){}return le||null},pe.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=he),this.component?this.component.multipleInstances?F:he:F},pe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},pe}();function ge(pe){return pe===he?void 0:pe}var me=function(){function pe(F){this.name=F,this.providers=new Map}return pe.prototype.addComponent=function(F){var ae=this.getProvider(F.name);if(ae.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);ae.setComponent(F)},pe.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},pe.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var ae=new De(F,this);return this.providers.set(F,ae),ae},pe.prototype.getProviders=function(){return Array.from(this.providers.values())},pe}()},9192:(wt,je,X)=>{"use strict";var l=X(9759),B=X(6034),V=X(4685),he=X(4762),De=X(300);wt=X.hmd(wt);var me="";function pe(p){me=p}var p,F=function(){function p(d){this.domStorage_=d,this.prefix_="firebase:"}return p.prototype.set=function(d,v){null==v?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,V.stringify)(v))},p.prototype.get=function(d){var v=this.domStorage_.getItem(this.prefixedName_(d));return null==v?null:(0,V.jsonEval)(v)},p.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},p.prototype.prefixedName_=function(d){return this.prefix_+d},p.prototype.toString=function(){return this.domStorage_.toString()},p}(),ae=function(){function p(){this.cache_={},this.isInMemoryStorage=!0}return p.prototype.set=function(d,v){null==v?delete this.cache_[d]:this.cache_[d]=v},p.prototype.get=function(d){return(0,V.contains)(this.cache_,d)?this.cache_[d]:null},p.prototype.remove=function(d){delete this.cache_[d]},p}(),te=function(p){try{if("undefined"!=typeof window&&void 0!==window[p]){var d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new F(d)}}catch(v){}return new ae},se=te("localStorage"),le=te("sessionStorage"),Te=new De.Logger("@firebase/database"),ke=(p=1,function(){return p++}),Ne=function(p){var d=(0,V.stringToByteArray)(p),v=new V.Sha1;v.update(d);var C=v.digest();return V.base64.encodeByteArray(C)},Ie=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];for(var v="",C=0;C<p.length;C++){var T=p[C];Array.isArray(T)||T&&"object"==typeof T&&"number"==typeof T.length?v+=Ie.apply(null,T):v+="object"==typeof T?(0,V.stringify)(T):T,v+=" "}return v},Oe=null,Ge=!0,nt=function(p,d){(0,V.assert)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(Te.logLevel=De.LogLevel.VERBOSE,Oe=Te.log.bind(Te),d&&le.set("logging_enabled",!0)):"function"==typeof p?Oe=p:(Oe=null,le.remove("logging_enabled"))},Qe=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];if(!0===Ge&&(Ge=!1,null===Oe&&!0===le.get("logging_enabled")&&nt(!0)),Oe){var v=Ie.apply(null,p);Oe(v)}},Bt=function(p){return function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];Qe.apply(void 0,(0,he.__spreadArray)([p],(0,he.__read)(d)))}},ot=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE INTERNAL ERROR: "+Ie.apply(void 0,(0,he.__spreadArray)([],(0,he.__read)(p)));Te.error(v)},Zt=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE FATAL ERROR: "+Ie.apply(void 0,(0,he.__spreadArray)([],(0,he.__read)(p)));throw Te.error(v),new Error(v)},yn=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE WARNING: "+Ie.apply(void 0,(0,he.__spreadArray)([],(0,he.__read)(p)));Te.warn(v)},Ae=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},we="[MIN_NAME]",Be="[MAX_NAME]",Ee=function(p,d){if(p===d)return 0;if(p===we||d===Be)return-1;if(d===we||p===Be)return 1;var v=ir(p),C=ir(d);return null!==v?null!==C?v-C==0?p.length-d.length:v-C:-1:null!==C?1:p<d?-1:1},Et=function(p,d){return p===d?0:p<d?-1:1},Ct=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,V.stringify)(d))},_n=function(p){if("object"!=typeof p||null===p)return(0,V.stringify)(p);var d=[];for(var v in p)d.push(v);d.sort();for(var C="{",T=0;T<d.length;T++)0!==T&&(C+=","),C+=(0,V.stringify)(d[T]),C+=":",C+=_n(p[d[T]]);return C+"}"},_t=function(p,d){var v=p.length;if(v<=d)return[p];for(var C=[],T=0;T<v;T+=d)C.push(p.substring(T,T+d>v?v:T+d));return C};function mt(p,d){for(var v in p)p.hasOwnProperty(v)&&d(v,p[v])}var it=function(p){(0,V.assert)(!Ae(p),"Invalid JSON number");var T,D,O,j,Z,C=1023;0===p?(D=0,O=0,T=1/p==-1/0?1:0):(T=p<0,(p=Math.abs(p))>=Math.pow(2,1-C)?(D=(j=Math.min(Math.floor(Math.log(p)/Math.LN2),C))+C,O=Math.round(p*Math.pow(2,52-j)-Math.pow(2,52))):(D=0,O=Math.round(p/Math.pow(2,-1074))));var ee=[];for(Z=52;Z;Z-=1)ee.push(O%2?1:0),O=Math.floor(O/2);for(Z=11;Z;Z-=1)ee.push(D%2?1:0),D=Math.floor(D/2);ee.push(T?1:0),ee.reverse();var ne=ee.join(""),be="";for(Z=0;Z<64;Z+=8){var Pe=parseInt(ne.substr(Z,8),2).toString(16);1===Pe.length&&(Pe="0"+Pe),be+=Pe}return be.toLowerCase()},rn=new RegExp("^-?(0*)\\d{1,10}$"),Lr=-2147483648,Xn=2147483647,ir=function(p){if(rn.test(p)){var d=Number(p);if(d>=Lr&&d<=Xn)return d}return null},ji=function(p){try{p()}catch(d){setTimeout(function(){throw yn("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},os=function(p,d){var v=setTimeout(p,d);return"object"==typeof v&&v.unref&&v.unref(),v},Ka=function(){function p(d,v){var C=this;this.appName_=d,this.appCheckProvider=v,this.appCheck=null==v?void 0:v.getImmediate({optional:!0}),this.appCheck||null==v||v.get().then(function(T){return C.appCheck=T})}return p.prototype.getToken=function(d){var v=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(C,T){setTimeout(function(){v.appCheck?v.getToken(d).then(C,T):C(null)},0)})},p.prototype.addTokenChangeListener=function(d){var v;null===(v=this.appCheckProvider)||void 0===v||v.get().then(function(C){return C.addTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){yn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},p}(),Kt=function(){function p(d,v,C){var T=this;this.appName_=d,this.firebaseOptions_=v,this.authProvider_=C,this.auth_=null,this.auth_=C.getImmediate({optional:!0}),this.auth_||C.onInit(function(D){return T.auth_=D})}return p.prototype.getToken=function(d){var v=this;return this.auth_?this.auth_.getToken(d).catch(function(C){return C&&"auth/token-not-initialized"===C.code?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(C)}):new Promise(function(C,T){setTimeout(function(){v.auth_?v.getToken(d).then(C,T):C(null)},0)})},p.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(v){return v.addAuthTokenListener(d)})},p.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(v){return v.removeAuthTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';yn(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},p}(),zt=function(){function p(d){this.accessToken=d}return p.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},p.prototype.addTokenChangeListener=function(d){d(this.accessToken)},p.prototype.removeTokenChangeListener=function(d){},p.prototype.notifyForInvalidToken=function(){},p.OWNER="owner",p}(),An=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hr="websocket",Hc="long_polling",Un=function(){function p(d,v,C,T,D,O,j){void 0===D&&(D=!1),void 0===O&&(O=""),void 0===j&&(j=!1),this.secure=v,this.namespace=C,this.webSocketOnly=T,this.nodeAdmin=D,this.persistenceKey=O,this.includeNamespaceInQueryParams=j,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=se.get("host:"+d)||this._host}return p.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},p.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(p.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&se.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),p.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},p.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},p}();function Pt(p,d,v){var C;if((0,V.assert)("string"==typeof d,"typeof type must == string"),(0,V.assert)("object"==typeof v,"typeof params must == object"),d===hr)C=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==Hc)throw new Error("Unknown connection type: "+d);C=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(v.ns=p.namespace);var T=[];return mt(v,function(D,O){T.push(D+"="+O)}),C+T.join("&")}var Sn=function(){function p(){this.counters_={}}return p.prototype.incrementCounter=function(d,v){void 0===v&&(v=1),(0,V.contains)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=v},p.prototype.get=function(){return(0,V.deepCopy)(this.counters_)},p}(),go={},Er={};function bn(p){var d=p.toString();return go[d]||(go[d]=new Sn),go[d]}var dr=function(){function p(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p.prototype.closeAfter=function(d,v){this.closeAfterResponse=d,this.onClose=v,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},p.prototype.handleResponse=function(d,v){var C=this;this.pendingResponses[d]=v;for(var T=function(){var j=D.pendingResponses[D.currentResponseNum];delete D.pendingResponses[D.currentResponseNum];for(var Z=function(ne){j[ne]&&ji(function(){C.onMessage_(j[ne])})},ee=0;ee<j.length;++ee)Z(ee);if(D.currentResponseNum===D.closeAfterResponse)return D.onClose&&(D.onClose(),D.onClose=null),"break";D.currentResponseNum++},D=this;this.pendingResponses[this.currentResponseNum]&&"break"!==T(););},p}(),_r=function(){function p(d,v,C,T,D,O,j){var Z=this;this.connId=d,this.repoInfo=v,this.applicationId=C,this.appCheckToken=T,this.authToken=D,this.transportSessionId=O,this.lastSessionId=j,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bt(d),this.stats_=bn(v),this.urlFn=function(ee){return Z.appCheckToken&&(ee.ac=Z.appCheckToken),Pt(v,Hc,ee)}}return p.prototype.open=function(d,v){var C=this;this.curSegmentNum=0,this.onDisconnect_=v,this.myPacketOrderer=new dr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){C.log_("Timed out trying to connect."),C.onClosed_(),C.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,V.isNodeSdk)()||"complete"===document.readyState)p();else{var d=!1,v=function(){document.body?d||(d=!0,p()):setTimeout(v,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",v,!1),window.addEventListener("load",v,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&v()}),window.attachEvent("onload",v))}}(function(){if(!C.isClosed_){C.scriptTagHolder=new vo(function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var Z=(0,he.__read)(O,5),ee=Z[0],ne=Z[1],be=Z[2];if(C.incrementIncomingBytes_(O),C.scriptTagHolder)if(C.connectTimeoutTimer_&&(clearTimeout(C.connectTimeoutTimer_),C.connectTimeoutTimer_=null),C.everConnected_=!0,"start"===ee)C.id=ne,C.password=be;else{if("close"!==ee)throw new Error("Unrecognized command received: "+ee);ne?(C.scriptTagHolder.sendNewPolls=!1,C.myPacketOrderer.closeAfter(ne,function(){C.onClosed_()})):C.onClosed_()}},function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var Z=(0,he.__read)(O,2),ee=Z[0],ne=Z[1];C.incrementIncomingBytes_(O),C.myPacketOrderer.handleResponse(ee,ne)},function(){C.onClosed_()},C.urlFn);var T={start:"t"};T.ser=Math.floor(1e8*Math.random()),C.scriptTagHolder.uniqueCallbackIdentifier&&(T.cb=C.scriptTagHolder.uniqueCallbackIdentifier),T.v="5",C.transportSessionId&&(T.s=C.transportSessionId),C.lastSessionId&&(T.ls=C.lastSessionId),C.applicationId&&(T.p=C.applicationId),C.appCheckToken&&(T.ac=C.appCheckToken),"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(T.r="f");var D=C.urlFn(T);C.log_("Connecting via long-poll to "+D),C.scriptTagHolder.addTag(D,function(){})}})},p.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},p.forceAllow=function(){p.forceAllow_=!0},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){return!((0,V.isNodeSdk)()||!p.forceAllow_&&(p.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},p.prototype.markConnectionHealthy=function(){},p.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},p.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},p.prototype.send=function(d){var v=(0,V.stringify)(d);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);for(var C=(0,V.base64Encode)(v),T=_t(C,1840),D=0;D<T.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,T.length,T[D]),this.curSegmentNum++},p.prototype.addDisconnectPingFrame=function(d,v){if(!(0,V.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var C={dframe:"t"};C.id=d,C.pw=v,this.myDisconnFrame.src=this.urlFn(C),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},p.prototype.incrementIncomingBytes_=function(d){var v=(0,V.stringify)(d).length;this.bytesReceived+=v,this.stats_.incrementCounter("bytes_received",v)},p}(),vo=function(){function p(d,v,C,T){if(this.onDisconnect=C,this.urlFn=T,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.isNodeSdk)())this.commandCB=d,this.onMessageCB=v;else{this.uniqueCallbackIdentifier=ke(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=v,this.myIFrame=p.createIFrame_();var D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(D='<script>document.domain="'+document.domain+'";<\/script>');var j="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(j),this.myIFrame.doc.close()}catch(Z){Qe("frame writing exception"),Z.stack&&Qe(Z.stack),Qe(Z)}}}return p.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Qe("No IE domain setting required")}catch(T){var C=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+C+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},p.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var v=this.onDisconnect;v&&(this.onDisconnect=null,v())},p.prototype.startLongPoll=function(d,v){for(this.myID=d,this.myPW=v,this.alive=!0;this.newRequest_(););},p.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var v=this.urlFn(d),C="",T=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+C.length<=1870;){var O=this.pendingSegs.shift();C=C+"&seg"+T+"="+O.seg+"&ts"+T+"="+O.ts+"&d"+T+"="+O.d,T++}return this.addLongPollTag_(v+=C,this.currentSerial),!0}return!1},p.prototype.enqueueSegment=function(d,v,C){this.pendingSegs.push({seg:d,ts:v,d:C}),this.alive&&this.newRequest_()},p.prototype.addLongPollTag_=function(d,v){var C=this;this.outstandingRequests.add(v);var T=function(){C.outstandingRequests.delete(v),C.newRequest_()},D=setTimeout(T,Math.floor(25e3));this.addTag(d,function(){clearTimeout(D),T()})},p.prototype.addTag=function(d,v){var C=this;(0,V.isNodeSdk)()?this.doNodeLongPoll(d,v):setTimeout(function(){try{if(!C.sendNewPolls)return;var T=C.myIFrame.doc.createElement("script");T.type="text/javascript",T.async=!0,T.src=d,T.onload=T.onreadystatechange=function(){var D=T.readyState;(!D||"loaded"===D||"complete"===D)&&(T.onload=T.onreadystatechange=null,T.parentNode&&T.parentNode.removeChild(T),v())},T.onerror=function(){Qe("Long-poll script failed to load: "+d),C.sendNewPolls=!1,C.close()},C.myIFrame.doc.body.appendChild(T)}catch(D){}},Math.floor(1))},p}(),Ai=null;"undefined"!=typeof MozWebSocket?Ai=MozWebSocket:"undefined"!=typeof WebSocket&&(Ai=WebSocket);var $r=function(){function p(d,v,C,T,D,O,j){this.connId=d,this.applicationId=C,this.appCheckToken=T,this.authToken=D,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bt(this.connId),this.stats_=bn(v),this.connURL=p.connectionURL_(v,O,j,T),this.nodeAdmin=v.nodeAdmin}return p.connectionURL_=function(d,v,C,T){var D={v:"5"};return!(0,V.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(D.r="f"),v&&(D.s=v),C&&(D.ls=C),T&&(D.ac=T),Pt(d,hr,D)},p.prototype.open=function(d,v){var C=this;this.onDisconnect=v,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,se.set("previous_websocket_failure",!0);try{if((0,V.isNodeSdk)()){var D={headers:{"User-Agent":"Firebase/5/"+me+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(D.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);var O=process.env,j=0===this.connURL.indexOf("wss://")?O.HTTPS_PROXY||O.https_proxy:O.HTTP_PROXY||O.http_proxy;j&&(D.proxy={origin:j}),this.mySock=new Ai(this.connURL,[],D)}else this.mySock=new Ai(this.connURL,[],D={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(ee){this.log_("Error instantiating WebSocket.");var Z=ee.message||ee.data;return Z&&this.log_(Z),void this.onClosed_()}this.mySock.onopen=function(){C.log_("Websocket connected."),C.everConnected_=!0},this.mySock.onclose=function(){C.log_("Websocket connection was disconnected."),C.mySock=null,C.onClosed_()},this.mySock.onmessage=function(ee){C.handleIncomingFrame(ee)},this.mySock.onerror=function(ee){C.log_("WebSocket error.  Closing connection.");var ne=ee.message||ee.data;ne&&C.log_(ne),C.onClosed_()}},p.prototype.start=function(){},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var C=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);C&&C.length>1&&parseFloat(C[1])<4.4&&(d=!0)}return!d&&null!==Ai&&!p.forceDisallow_},p.previouslyFailed=function(){return se.isInMemoryStorage||!0===se.get("previous_websocket_failure")},p.prototype.markConnectionHealthy=function(){se.remove("previous_websocket_failure")},p.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var v=this.frames.join("");this.frames=null;var C=(0,V.jsonEval)(v);this.onMessage(C)}},p.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},p.prototype.extractFrameCount_=function(d){if((0,V.assert)(null===this.frames,"We already have a frame buffer"),d.length<=6){var v=Number(d);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),d},p.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var v=d.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{var C=this.extractFrameCount_(v);null!==C&&this.appendFrame_(C)}}},p.prototype.send=function(d){this.resetKeepAlive();var v=(0,V.stringify)(d);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);var C=_t(v,16384);C.length>1&&this.sendString_(String(C.length));for(var T=0;T<C.length;T++)this.sendString_(C[T])},p.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},p.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},p.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},p.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p}(),yo=function(){function p(d){this.initTransports_(d)}return Object.defineProperty(p,"ALL_TRANSPORTS",{get:function(){return[_r,$r]},enumerable:!1,configurable:!0}),p.prototype.initTransports_=function(d){var v,C,T=$r&&$r.isAvailable(),D=T&&!$r.previouslyFailed();if(d.webSocketOnly&&(T||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[$r];else{var O=this.transports_=[];try{for(var j=(0,he.__values)(p.ALL_TRANSPORTS),Z=j.next();!Z.done;Z=j.next()){var ee=Z.value;ee&&ee.isAvailable()&&O.push(ee)}}catch(ne){v={error:ne}}finally{try{Z&&!Z.done&&(C=j.return)&&C.call(j)}finally{if(v)throw v.error}}}},p.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},p.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},p}(),Or=function(){function p(d,v,C,T,D,O,j,Z,ee,ne){this.id=d,this.repoInfo_=v,this.applicationId_=C,this.appCheckToken_=T,this.authToken_=D,this.onMessage_=O,this.onReady_=j,this.onDisconnect_=Z,this.onKill_=ee,this.lastSessionId=ne,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bt("c:"+this.id+":"),this.transportManager_=new yo(v),this.log_("Connection created"),this.start_()}return p.prototype.start_=function(){var d=this,v=this.transportManager_.initialTransport();this.conn_=new v(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=v.responsesRequiredToBeHealthy||0;var C=this.connReceiver_(this.conn_),T=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(C,T)},Math.floor(0));var D=v.healthyTimeout||0;D>0&&(this.healthyTimeout_=os(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(D)))},p.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},p.prototype.disconnReceiver_=function(d){var v=this;return function(C){d===v.conn_?v.onConnectionLost_(C):d===v.secondaryConn_?(v.log_("Secondary connection lost."),v.onSecondaryConnectionLost_()):v.log_("closing an old connection")}},p.prototype.connReceiver_=function(d){var v=this;return function(C){2!==v.state_&&(d===v.rx_?v.onPrimaryMessageReceived_(C):d===v.secondaryConn_?v.onSecondaryMessageReceived_(C):v.log_("message on old connection"))}},p.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},p.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},p.prototype.onSecondaryControl_=function(d){if("t"in d){var v=d.t;"a"===v?this.upgradeIfSecondaryHealthy_():"r"===v?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===v&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},p.prototype.onSecondaryMessageReceived_=function(d){var v=Ct("t",d),C=Ct("d",d);if("c"===v)this.onSecondaryControl_(C);else{if("d"!==v)throw new Error("Unknown protocol layer: "+v);this.pendingDataMessages.push(C)}},p.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},p.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},p.prototype.onPrimaryMessageReceived_=function(d){var v=Ct("t",d),C=Ct("d",d);"c"===v?this.onControl_(C):"d"===v&&this.onDataMessage_(C)},p.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},p.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},p.prototype.onControl_=function(d){var v=Ct("t",d);if("d"in d){var C=d.d;if("h"===v)this.onHandshake_(C);else if("n"===v){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var T=0;T<this.pendingDataMessages.length;++T)this.onDataMessage_(this.pendingDataMessages[T]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===v?this.onConnectionShutdown_(C):"r"===v?this.onReset_(C):"e"===v?ot("Server Error: "+C):"o"===v?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ot("Unknown control packet command: "+v)}},p.prototype.onHandshake_=function(d){var v=d.ts,C=d.v,T=d.h;this.sessionId=d.s,this.repoInfo_.host=T,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,v),"5"!==C&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())},p.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},p.prototype.startUpgrade_=function(d){var v=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var C=this.connReceiver_(this.secondaryConn_),T=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(C,T),os(function(){v.secondaryConn_&&(v.log_("Timed out trying to upgrade."),v.secondaryConn_.close())},Math.floor(6e4))},p.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},p.prototype.onConnectionEstablished_=function(d,v){var C=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(v,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):os(function(){C.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},p.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},p.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},p.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(se.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},p.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},p.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},p.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},p.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},p}(),Uc=function(){function p(){}return p.prototype.put=function(d,v,C,T){},p.prototype.merge=function(d,v,C,T){},p.prototype.refreshAuthToken=function(d){},p.prototype.refreshAppCheckToken=function(d){},p.prototype.onDisconnectPut=function(d,v,C){},p.prototype.onDisconnectMerge=function(d,v,C){},p.prototype.onDisconnectCancel=function(d,v){},p.prototype.reportStats=function(d){},p}(),W2=function(){function p(d){this.allowedEvents_=d,this.listeners_={},(0,V.assert)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return p.prototype.trigger=function(d){for(var v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];if(Array.isArray(this.listeners_[d]))for(var T=(0,he.__spreadArray)([],(0,he.__read)(this.listeners_[d])),D=0;D<T.length;D++)T[D].callback.apply(T[D].context,v)},p.prototype.on=function(d,v,C){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:v,context:C});var T=this.getInitialEvent(d);T&&v.apply(C,T)},p.prototype.off=function(d,v,C){this.validateEventType_(d);for(var T=this.listeners_[d]||[],D=0;D<T.length;D++)if(T[D].callback===v&&(!C||C===T[D].context))return void T.splice(D,1)},p.prototype.validateEventType_=function(d){(0,V.assert)(this.allowedEvents_.find(function(v){return v===d}),"Unknown event: "+d)},p}(),Wr=function(p){function d(){var v=p.call(this,["online"])||this;return v.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.isMobileCordova)()&&(window.addEventListener("online",function(){v.online_||(v.online_=!0,v.trigger("online",!0))},!1),window.addEventListener("offline",function(){v.online_&&(v.online_=!1,v.trigger("online",!1))},!1)),v}return(0,he.__extends)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(v){return(0,V.assert)("online"===v,"Unknown event type: "+v),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}(W2),jt=function(){function p(d,v){if(void 0===v){this.pieces_=d.split("/");for(var C=0,T=0;T<this.pieces_.length;T++)this.pieces_[T].length>0&&(this.pieces_[C]=this.pieces_[T],C++);this.pieces_.length=C,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=v}return p.prototype.toString=function(){for(var d="",v=this.pieceNum_;v<this.pieces_.length;v++)""!==this.pieces_[v]&&(d+="/"+this.pieces_[v]);return d||"/"},p}();function ft(){return new jt("")}function Wt(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function Ps(p){return p.pieces_.length-p.pieceNum_}function Jt(p){var d=p.pieceNum_;return d<p.pieces_.length&&d++,new jt(p.pieces_,d)}function K2(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function ss(p,d){return void 0===d&&(d=0),p.pieces_.slice(p.pieceNum_+d)}function Kr(p){if(p.pieceNum_>=p.pieces_.length)return null;for(var d=[],v=p.pieceNum_;v<p.pieces_.length-1;v++)d.push(p.pieces_[v]);return new jt(d,0)}function nn(p,d){for(var v=[],C=p.pieceNum_;C<p.pieces_.length;C++)v.push(p.pieces_[C]);if(d instanceof jt)for(C=d.pieceNum_;C<d.pieces_.length;C++)v.push(d.pieces_[C]);else{var T=d.split("/");for(C=0;C<T.length;C++)T[C].length>0&&v.push(T[C])}return new jt(v,0)}function qt(p){return p.pieceNum_>=p.pieces_.length}function er(p,d){var v=Wt(p),C=Wt(d);if(null===v)return d;if(v===C)return er(Jt(p),Jt(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function _o(p,d){for(var v=ss(p,0),C=ss(d,0),T=0;T<v.length&&T<C.length;T++){var D=Ee(v[T],C[T]);if(0!==D)return D}return v.length===C.length?0:v.length<C.length?-1:1}function Bc(p,d){if(Ps(p)!==Ps(d))return!1;for(var v=p.pieceNum_,C=d.pieceNum_;v<=p.pieces_.length;v++,C++)if(p.pieces_[v]!==d.pieces_[C])return!1;return!0}function Yn(p,d){var v=p.pieceNum_,C=d.pieceNum_;if(Ps(p)>Ps(d))return!1;for(;v<p.pieces_.length;){if(p.pieces_[v]!==d.pieces_[C])return!1;++v,++C}return!0}var W1=function(d,v){this.errorPrefix_=v,this.parts_=ss(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var C=0;C<this.parts_.length;C++)this.byteLength_+=(0,V.stringLength)(this.parts_[C]);Th(this)};function Th(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zs(p))}function zs(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}var Tt,ol,rl=function(p){function d(){var C,T,v=p.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(T="visibilitychange",C="hidden"):void 0!==document.mozHidden?(T="mozvisibilitychange",C="mozHidden"):void 0!==document.msHidden?(T="msvisibilitychange",C="msHidden"):void 0!==document.webkitHidden&&(T="webkitvisibilitychange",C="webkitHidden")),v.visible_=!0,T&&document.addEventListener(T,function(){var D=!document[C];D!==v.visible_&&(v.visible_=D,v.trigger("visible",D))},!1),v}return(0,he.__extends)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(v){return(0,V.assert)("visible"===v,"Unknown event type: "+v),[this.visible_]},d}(W2),il=1e3,K1=function(p){function d(v,C,T,D,O,j,Z,ee){var ne=p.call(this)||this;if(ne.repoInfo_=v,ne.applicationId_=C,ne.onDataUpdate_=T,ne.onConnectStatus_=D,ne.onServerInfoUpdate_=O,ne.authTokenProvider_=j,ne.appCheckTokenProvider_=Z,ne.authOverride_=ee,ne.id=d.nextPersistentConnectionId_++,ne.log_=Bt("p:"+ne.id+":"),ne.interruptReasons_={},ne.listens=new Map,ne.outstandingPuts_=[],ne.outstandingGets_=[],ne.outstandingPutCount_=0,ne.outstandingGetCount_=0,ne.onDisconnectRequestQueue_=[],ne.connected_=!1,ne.reconnectDelay_=il,ne.maxReconnectDelay_=3e5,ne.securityDebugCallback_=null,ne.lastSessionId=null,ne.establishConnectionTimer_=null,ne.visible_=!1,ne.requestCBHash_={},ne.requestNumber_=0,ne.realtime_=null,ne.authToken_=null,ne.appCheckToken_=null,ne.forceTokenRefresh_=!1,ne.invalidAuthTokenCount_=0,ne.invalidAppCheckTokenCount_=0,ne.firstConnection_=!0,ne.lastConnectionAttemptTime_=null,ne.lastConnectionEstablishedTime_=null,ee&&!(0,V.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return rl.getInstance().on("visible",ne.onVisible_,ne),-1===v.host.indexOf("fblocal")&&Wr.getInstance().on("online",ne.onOnline_,ne),ne}return(0,he.__extends)(d,p),d.prototype.sendRequest=function(v,C,T){var D=++this.requestNumber_,O={r:D,a:v,b:C};this.log_((0,V.stringify)(O)),(0,V.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),T&&(this.requestCBHash_[D]=T)},d.prototype.get=function(v){var C=this;this.initConnection_();var T=new V.Deferred,D={p:v._path.toString(),q:v._queryObject},O={action:"g",request:D,onComplete:function(Z){var ee=Z.d;"ok"===Z.s?(C.onDataUpdate_(D.p,ee,!1,null),T.resolve(ee)):T.reject(ee)}};this.outstandingGets_.push(O),this.outstandingGetCount_++;var j=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var Z=C.outstandingGets_[j];void 0===Z||O!==Z||(delete C.outstandingGets_[j],C.outstandingGetCount_--,0===C.outstandingGetCount_&&(C.outstandingGets_=[]),C.log_("get "+j+" timed out on connection"),T.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(j),T.promise},d.prototype.listen=function(v,C,T,D){this.initConnection_();var O=v._queryIdentifier,j=v._path.toString();this.log_("Listen called for "+j+" "+O),this.listens.has(j)||this.listens.set(j,new Map),(0,V.assert)(v._queryParams.isDefault()||!v._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.assert)(!this.listens.get(j).has(O),"listen() called twice for same path/queryId.");var Z={onComplete:D,hashFn:C,query:v,tag:T};this.listens.get(j).set(O,Z),this.connected_&&this.sendListen_(Z)},d.prototype.sendGet_=function(v){var C=this,T=this.outstandingGets_[v];this.sendRequest("g",T.request,function(D){delete C.outstandingGets_[v],C.outstandingGetCount_--,0===C.outstandingGetCount_&&(C.outstandingGets_=[]),T.onComplete&&T.onComplete(D)})},d.prototype.sendListen_=function(v){var C=this,T=v.query,D=T._path.toString(),O=T._queryIdentifier;this.log_("Listen on "+D+" for "+O);var j={p:D};v.tag&&(j.q=T._queryObject,j.t=v.tag),j.h=v.hashFn(),this.sendRequest("q",j,function(ee){var ne=ee.d,be=ee.s;d.warnOnListenWarnings_(ne,T),(C.listens.get(D)&&C.listens.get(D).get(O))===v&&(C.log_("listen response",ee),"ok"!==be&&C.removeListen_(D,O),v.onComplete&&v.onComplete(be,ne))})},d.warnOnListenWarnings_=function(v,C){if(v&&"object"==typeof v&&(0,V.contains)(v,"w")){var T=(0,V.safeGet)(v,"w");if(Array.isArray(T)&&~T.indexOf("no_index")){var D='".indexOn": "'+C._queryParams.getIndex().toString()+'"',O=C._path.toString();yn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+D+" at "+O+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(v){this.authToken_=v,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(v)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(v){(v&&40===v.length||(0,V.isAdmin)(v))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(v){this.appCheckToken_=v,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var v=this;if(this.connected_&&this.authToken_){var C=this.authToken_,T=(0,V.isValidFormat)(C)?"auth":"gauth",D={cred:C};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(T,D,function(O){var j=O.s,Z=O.d||"error";v.authToken_===C&&("ok"===j?v.invalidAuthTokenCount_=0:v.onAuthRevoked_(j,Z))})}},d.prototype.tryAppCheck=function(){var v=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(C){var T=C.s,D=C.d||"error";"ok"===T?v.invalidAppCheckTokenCount_=0:v.onAppCheckRevoked_(T,D)})},d.prototype.unlisten=function(v,C){var T=v._path.toString(),D=v._queryIdentifier;this.log_("Unlisten called for "+T+" "+D),(0,V.assert)(v._queryParams.isDefault()||!v._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(T,D)&&this.connected_&&this.sendUnlisten_(T,D,v._queryObject,C)},d.prototype.sendUnlisten_=function(v,C,T,D){this.log_("Unlisten on "+v+" for "+C);var O={p:v};D&&(O.q=T,O.t=D),this.sendRequest("n",O)},d.prototype.onDisconnectPut=function(v,C,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",v,C,T):this.onDisconnectRequestQueue_.push({pathString:v,action:"o",data:C,onComplete:T})},d.prototype.onDisconnectMerge=function(v,C,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",v,C,T):this.onDisconnectRequestQueue_.push({pathString:v,action:"om",data:C,onComplete:T})},d.prototype.onDisconnectCancel=function(v,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",v,null,C):this.onDisconnectRequestQueue_.push({pathString:v,action:"oc",data:null,onComplete:C})},d.prototype.sendOnDisconnect_=function(v,C,T,D){var O={p:C,d:T};this.log_("onDisconnect "+v,O),this.sendRequest(v,O,function(j){D&&setTimeout(function(){D(j.s,j.d)},Math.floor(0))})},d.prototype.put=function(v,C,T,D){this.putInternal("p",v,C,T,D)},d.prototype.merge=function(v,C,T,D){this.putInternal("m",v,C,T,D)},d.prototype.putInternal=function(v,C,T,D,O){this.initConnection_();var j={p:C,d:T};void 0!==O&&(j.h=O),this.outstandingPuts_.push({action:v,request:j,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+C)},d.prototype.sendPut_=function(v){var C=this,T=this.outstandingPuts_[v].action,D=this.outstandingPuts_[v].request,O=this.outstandingPuts_[v].onComplete;this.outstandingPuts_[v].queued=this.connected_,this.sendRequest(T,D,function(j){C.log_(T+" response",j),delete C.outstandingPuts_[v],C.outstandingPutCount_--,0===C.outstandingPutCount_&&(C.outstandingPuts_=[]),O&&O(j.s,j.d)})},d.prototype.reportStats=function(v){var C=this;if(this.connected_){var T={c:v};this.log_("reportStats",T),this.sendRequest("s",T,function(D){"ok"!==D.s&&C.log_("reportStats","Error sending stats: "+D.d)})}},d.prototype.onDataMessage_=function(v){if("r"in v){this.log_("from server: "+(0,V.stringify)(v));var C=v.r,T=this.requestCBHash_[C];T&&(delete this.requestCBHash_[C],T(v.b))}else{if("error"in v)throw"A server-side error has occurred: "+v.error;"a"in v&&this.onDataPush_(v.a,v.b)}},d.prototype.onDataPush_=function(v,C){this.log_("handleServerMessage",v,C),"d"===v?this.onDataUpdate_(C.p,C.d,!1,C.t):"m"===v?this.onDataUpdate_(C.p,C.d,!0,C.t):"c"===v?this.onListenRevoked_(C.p,C.q):"ac"===v?this.onAuthRevoked_(C.s,C.d):"apc"===v?this.onAppCheckRevoked_(C.s,C.d):"sd"===v?this.onSecurityDebugPacket_(C):ot("Unrecognized action received from server: "+(0,V.stringify)(v)+"\nAre you using the latest client?")},d.prototype.onReady_=function(v,C){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(v),this.lastSessionId=C,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(v){var C=this;(0,V.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){C.establishConnectionTimer_=null,C.establishConnection_()},Math.floor(v))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(v){v&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0)),this.visible_=v},d.prototype.onOnline_=function(v){v?(this.log_("Browser went online."),this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var C=(new Date).getTime()-this.lastConnectionAttemptTime_,T=Math.max(0,this.reconnectDelay_-C);T=Math.random()*T,this.log_("Trying to reconnect in "+T+"ms"),this.scheduleConnect_(T),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return(0,he.__awaiter)(this,void 0,void 0,function(){var v,C,T,D,O,j,Z,ee,be,Pe,We,rt,Ue,At=this;return(0,he.__generator)(this,function(Xe){switch(Xe.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,v=this.onDataMessage_.bind(this),C=this.onReady_.bind(this),T=this.onRealtimeDisconnect_.bind(this),D=this.id+":"+d.nextConnectionId_++,O=this.lastSessionId,j=!1,Z=null,this.realtime_={close:ee=function(){Z?Z.close():(j=!0,T())},sendRequest:function(Gn){(0,V.assert)(Z,"sendRequest call when we're not connected not allowed."),Z.sendRequest(Gn)}},be=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Xe.label=1;case 1:return Xe.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(be),this.appCheckTokenProvider_.getToken(be)])];case 2:return Pe=he.__read.apply(void 0,[Xe.sent(),2]),We=Pe[0],rt=Pe[1],j?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=We&&We.accessToken,this.appCheckToken_=rt&&rt.token,Z=new Or(D,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,v,C,T,function(Gn){yn(Gn+" ("+At.repoInfo_.toString()+")"),At.interrupt("server_kill")},O)),[3,4];case 3:return Ue=Xe.sent(),this.log_("Failed to get token: "+Ue),j||(this.repoInfo_.nodeAdmin&&yn(Ue),ee()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(v){Qe("Interrupting connection for reason: "+v),this.interruptReasons_[v]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(v){Qe("Resuming connection for reason: "+v),delete this.interruptReasons_[v],(0,V.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=il,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(v){var C=v-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:C})},d.prototype.cancelSentTransactions_=function(){for(var v=0;v<this.outstandingPuts_.length;v++){var C=this.outstandingPuts_[v];C&&"h"in C.request&&C.queued&&(C.onComplete&&C.onComplete("disconnect"),delete this.outstandingPuts_[v],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(v,C){var T;T=C?C.map(function(O){return _n(O)}).join("$"):"default";var D=this.removeListen_(v,T);D&&D.onComplete&&D.onComplete("permission_denied")},d.prototype.removeListen_=function(v,C){var D,T=new jt(v).toString();if(this.listens.has(T)){var O=this.listens.get(T);D=O.get(C),O.delete(C),0===O.size&&this.listens.delete(T)}else D=void 0;return D},d.prototype.onAuthRevoked_=function(v,C){Qe("Auth token revoked: "+v+"/"+C),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===v||"permission_denied"===v)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(v,C){Qe("App check token revoked: "+v+"/"+C),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===v||"permission_denied"===v)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(v){this.securityDebugCallback_?this.securityDebugCallback_(v):"msg"in v&&console.log("FIREBASE: "+v.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var v,C,T,D;this.tryAuth(),this.tryAppCheck();try{for(var O=(0,he.__values)(this.listens.values()),j=O.next();!j.done;j=O.next()){var Z=j.value;try{for(var ee=(T=void 0,(0,he.__values)(Z.values())),ne=ee.next();!ne.done;ne=ee.next())this.sendListen_(ne.value)}catch(rt){T={error:rt}}finally{try{ne&&!ne.done&&(D=ee.return)&&D.call(ee)}finally{if(T)throw T.error}}}}catch(rt){v={error:rt}}finally{try{j&&!j.done&&(C=O.return)&&C.call(O)}finally{if(v)throw v.error}}for(var Pe=0;Pe<this.outstandingPuts_.length;Pe++)this.outstandingPuts_[Pe]&&this.sendPut_(Pe);for(;this.onDisconnectRequestQueue_.length;){var We=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(We.action,We.pathString,We.data,We.onComplete)}for(Pe=0;Pe<this.outstandingGets_.length;Pe++)this.outstandingGets_[Pe]&&this.sendGet_(Pe)},d.prototype.sendConnectStats_=function(){var v={},C="js";(0,V.isNodeSdk)()&&(C=this.repoInfo_.nodeAdmin?"admin_node":"node"),v["sdk."+C+"."+me.replace(/\./g,"-")]=1,(0,V.isMobileCordova)()?v["framework.cordova"]=1:(0,V.isReactNative)()&&(v["framework.reactnative"]=1),this.reportStats(v)},d.prototype.shouldReconnect_=function(){var v=Wr.getInstance().currentlyOnline();return(0,V.isEmpty)(this.interruptReasons_)&&v},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(Uc),fn=function(){function p(d,v){this.name=d,this.node=v}return p.Wrap=function(d,v){return new p(d,v)},p}(),jc=function(){function p(){}return p.prototype.getCompare=function(){return this.compare.bind(this)},p.prototype.indexedValueChanged=function(d,v){var C=new fn(we,d),T=new fn(we,v);return 0!==this.compare(C,T)},p.prototype.minPost=function(){return fn.MIN},p}(),tr=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Tt},set:function(v){Tt=v},enumerable:!1,configurable:!0}),d.prototype.compare=function(v,C){return Ee(v.name,C.name)},d.prototype.isDefinedOn=function(v){throw(0,V.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(v,C){return!1},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return new fn(Be,Tt)},d.prototype.makePost=function(v,C){return(0,V.assert)("string"==typeof v,"KeyIndex indexValue must always be a string."),new fn(v,Tt)},d.prototype.toString=function(){return".key"},d}(jc),cs=new tr,qc=function(){function p(d,v,C,T,D){void 0===D&&(D=null),this.isReverse_=T,this.resultGenerator_=D,this.nodeStack_=[];for(var O=1;!d.isEmpty();)if(d=d,O=v?C(d.key,v):1,T&&(O*=-1),O<0)d=this.isReverse_?d.left:d.right;else{if(0===O){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return p.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var v,d=this.nodeStack_.pop();if(v=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return v},p.prototype.hasNext=function(){return this.nodeStack_.length>0},p.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},p}(),Zi=function(){function p(d,v,C,T,D){this.key=d,this.value=v,this.color=null!=C?C:p.RED,this.left=null!=T?T:Vo.EMPTY_NODE,this.right=null!=D?D:Vo.EMPTY_NODE}return p.prototype.copy=function(d,v,C,T,D){return new p(null!=d?d:this.key,null!=v?v:this.value,null!=C?C:this.color,null!=T?T:this.left,null!=D?D:this.right)},p.prototype.count=function(){return this.left.count()+1+this.right.count()},p.prototype.isEmpty=function(){return!1},p.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},p.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},p.prototype.minKey=function(){return this.min_().key},p.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},p.prototype.insert=function(d,v,C){var T=this,D=C(d,T.key);return(T=D<0?T.copy(null,null,null,T.left.insert(d,v,C),null):0===D?T.copy(null,v,null,null,null):T.copy(null,null,null,null,T.right.insert(d,v,C))).fixUp_()},p.prototype.removeMin_=function(){if(this.left.isEmpty())return Vo.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},p.prototype.remove=function(d,v){var C,T;if(v(d,(C=this).key)<0)!C.left.isEmpty()&&!C.left.isRed_()&&!C.left.left.isRed_()&&(C=C.moveRedLeft_()),C=C.copy(null,null,null,C.left.remove(d,v),null);else{if(C.left.isRed_()&&(C=C.rotateRight_()),!C.right.isEmpty()&&!C.right.isRed_()&&!C.right.left.isRed_()&&(C=C.moveRedRight_()),0===v(d,C.key)){if(C.right.isEmpty())return Vo.EMPTY_NODE;T=C.right.min_(),C=C.copy(T.key,T.value,null,null,C.right.removeMin_())}C=C.copy(null,null,null,null,C.right.remove(d,v))}return C.fixUp_()},p.prototype.isRed_=function(){return this.color},p.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},p.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},p.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},p.prototype.rotateLeft_=function(){var d=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},p.prototype.rotateRight_=function(){var d=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},p.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,v)},p.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},p.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},p.RED=!0,p.BLACK=!1,p}(),xh=function(){function p(){}return p.prototype.copy=function(d,v,C,T,D){return this},p.prototype.insert=function(d,v,C){return new Zi(d,v,null)},p.prototype.remove=function(d,v){return this},p.prototype.count=function(){return 0},p.prototype.isEmpty=function(){return!0},p.prototype.inorderTraversal=function(d){return!1},p.prototype.reverseTraversal=function(d){return!1},p.prototype.minKey=function(){return null},p.prototype.maxKey=function(){return null},p.prototype.check_=function(){return 0},p.prototype.isRed_=function(){return!1},p}(),Vo=function(){function p(d,v){void 0===v&&(v=p.EMPTY_NODE),this.comparator_=d,this.root_=v}return p.prototype.insert=function(d,v){return new p(this.comparator_,this.root_.insert(d,v,this.comparator_).copy(null,null,Zi.BLACK,null,null))},p.prototype.remove=function(d){return new p(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Zi.BLACK,null,null))},p.prototype.get=function(d){for(var v,C=this.root_;!C.isEmpty();){if(0===(v=this.comparator_(d,C.key)))return C.value;v<0?C=C.left:v>0&&(C=C.right)}return null},p.prototype.getPredecessorKey=function(d){for(var v,C=this.root_,T=null;!C.isEmpty();){if(0===(v=this.comparator_(d,C.key))){if(C.left.isEmpty())return T?T.key:null;for(C=C.left;!C.right.isEmpty();)C=C.right;return C.key}v<0?C=C.left:v>0&&(T=C,C=C.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},p.prototype.isEmpty=function(){return this.root_.isEmpty()},p.prototype.count=function(){return this.root_.count()},p.prototype.minKey=function(){return this.root_.minKey()},p.prototype.maxKey=function(){return this.root_.maxKey()},p.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},p.prototype.getIterator=function(d){return new qc(this.root_,null,this.comparator_,!1,d)},p.prototype.getIteratorFrom=function(d,v){return new qc(this.root_,d,this.comparator_,!1,v)},p.prototype.getReverseIteratorFrom=function(d,v){return new qc(this.root_,d,this.comparator_,!0,v)},p.prototype.getReverseIterator=function(d){return new qc(this.root_,null,this.comparator_,!0,d)},p.EMPTY_NODE=new xh,p}();function G4(p,d){return Ee(p.name,d.name)}function Ti(p,d){return Ee(p,d)}var W4,r3,sl,cl,Fo,Gc=function(p){return"number"==typeof p?"number:"+it(p):"string:"+p},$4=function(p){if(p.isLeafNode()){var d=p.val();(0,V.assert)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,V.contains)(d,".sv"),"Priority must be a string or number.")}else(0,V.assert)(p===ol||p.isEmpty(),"priority of unexpected type.");(0,V.assert)(p===ol||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},e1=function(){function p(d,v){void 0===v&&(v=p.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=v,this.lazyHash_=null,(0,V.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$4(this.priorityNode_)}return Object.defineProperty(p,"__childrenNodeConstructor",{get:function(){return W4},set:function(d){W4=d},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!0},p.prototype.getPriority=function(){return this.priorityNode_},p.prototype.updatePriority=function(d){return new p(this.value_,d)},p.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.getChild=function(d){return qt(d)?this:".priority"===Wt(d)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.hasChild=function(){return!1},p.prototype.getPredecessorChildName=function(d,v){return null},p.prototype.updateImmediateChild=function(d,v){return".priority"===d?this.updatePriority(v):v.isEmpty()&&".priority"!==d?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,v).updatePriority(this.priorityNode_)},p.prototype.updateChild=function(d,v){var C=Wt(d);return null===C?v:v.isEmpty()&&".priority"!==C?this:((0,V.assert)(".priority"!==C||1===Ps(d),".priority must be the last token in a path"),this.updateImmediateChild(C,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(d),v)))},p.prototype.isEmpty=function(){return!1},p.prototype.numChildren=function(){return 0},p.prototype.forEachChild=function(d,v){return!1},p.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+Gc(this.priorityNode_.val())+":");var v=typeof this.value_;d+=v+":",d+="number"===v?it(this.value_):this.value_,this.lazyHash_=Ne(d)}return this.lazyHash_},p.prototype.getValue=function(){return this.value_},p.prototype.compareTo=function(d){return d===p.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof p.__childrenNodeConstructor?-1:((0,V.assert)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},p.prototype.compareToLeafNode_=function(d){var v=typeof d.value_,C=typeof this.value_,T=p.VALUE_TYPE_ORDER.indexOf(v),D=p.VALUE_TYPE_ORDER.indexOf(C);return(0,V.assert)(T>=0,"Unknown leaf type: "+v),(0,V.assert)(D>=0,"Unknown leaf type: "+C),T===D?"object"===C?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:D-T},p.prototype.withIndex=function(){return this},p.prototype.isIndexed=function(){return!0},p.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p}(),Ln=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),d.prototype.compare=function(v,C){var T=v.node.getPriority(),D=C.node.getPriority(),O=T.compareTo(D);return 0===O?Ee(v.name,C.name):O},d.prototype.isDefinedOn=function(v){return!v.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(v,C){return!v.getPriority().equals(C.getPriority())},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return new fn(Be,new e1("[PRIORITY-POST]",sl))},d.prototype.makePost=function(v,C){var T=r3(v);return new fn(C,new e1("[PRIORITY-POST]",T))},d.prototype.toString=function(){return".priority"},d}(jc)),Y4=Math.log(2),al=function(){function p(d){this.count=parseInt(Math.log(d+1)/Y4,10),this.current_=this.count-1;var T=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&T}return p.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},p}(),Zc=function(p,d,v,C){p.sort(d);var T=function(Z,ee){var be,Pe,ne=ee-Z;if(0===ne)return null;if(1===ne)return be=p[Z],Pe=v?v(be):be,new Zi(Pe,be.node,Zi.BLACK,null,null);var We=parseInt(ne/2,10)+Z,rt=T(Z,We),Ue=T(We+1,ee);return be=p[We],Pe=v?v(be):be,new Zi(Pe,be.node,Zi.BLACK,rt,Ue)},j=function(Z){for(var ee=null,ne=null,be=p.length,Pe=function(Xe,Gn){var no=be-Xe,ia=be;be-=Xe;var Au=T(no+1,ia),M1=p[no],_c=v?v(M1):M1;We(new Zi(_c,M1.node,Gn,null,Au))},We=function(Xe){ee?(ee.left=Xe,ee=Xe):(ne=Xe,ee=Xe)},rt=0;rt<Z.count;++rt){var Ue=Z.nextBitIsOne(),At=Math.pow(2,Z.count-(rt+1));Ue?Pe(At,Zi.BLACK):(Pe(At,Zi.BLACK),Pe(At,Zi.RED))}return ne}(new al(p.length));return new Vo(C||d,j)},Q2={},on=function(){function p(d,v){this.indexes_=d,this.indexSet_=v}return Object.defineProperty(p,"Default",{get:function(){return(0,V.assert)(Q2&&Ln,"ChildrenNode.ts has not been loaded"),cl=cl||new p({".priority":Q2},{".priority":Ln})},enumerable:!1,configurable:!0}),p.prototype.get=function(d){var v=(0,V.safeGet)(this.indexes_,d);if(!v)throw new Error("No index defined for "+d);return v instanceof Vo?v:null},p.prototype.hasIndex=function(d){return(0,V.contains)(this.indexSet_,d.toString())},p.prototype.addIndex=function(d,v){(0,V.assert)(d!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var C=[],T=!1,D=v.getIterator(fn.Wrap),O=D.getNext();O;)T=T||d.isDefinedOn(O.node),C.push(O),O=D.getNext();var j;j=T?Zc(C,d.getCompare()):Q2;var Z=d.toString(),ee=(0,he.__assign)({},this.indexSet_);ee[Z]=d;var ne=(0,he.__assign)({},this.indexes_);return ne[Z]=j,new p(ne,ee)},p.prototype.addToIndexes=function(d,v){var C=this;return new p((0,V.map)(this.indexes_,function(D,O){var j=(0,V.safeGet)(C.indexSet_,O);if((0,V.assert)(j,"Missing index implementation for "+O),D===Q2){if(j.isDefinedOn(d.node)){for(var Z=[],ee=v.getIterator(fn.Wrap),ne=ee.getNext();ne;)ne.name!==d.name&&Z.push(ne),ne=ee.getNext();return Z.push(d),Zc(Z,j.getCompare())}return Q2}var be=v.get(d.name),Pe=D;return be&&(Pe=Pe.remove(new fn(d.name,be))),Pe.insert(d,d.node)}),this.indexSet_)},p.prototype.removeFromIndexes=function(d,v){return new p((0,V.map)(this.indexes_,function(T){if(T===Q2)return T;var D=v.get(d.name);return D?T.remove(new fn(d.name,D)):T}),this.indexSet_)},p}(),Lt=function(){function p(d,v,C){this.children_=d,this.priorityNode_=v,this.indexMap_=C,this.lazyHash_=null,this.priorityNode_&&$4(this.priorityNode_),this.children_.isEmpty()&&(0,V.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(p,"EMPTY_NODE",{get:function(){return Fo||(Fo=new p(new Vo(Ti),null,on.Default))},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!1},p.prototype.getPriority=function(){return this.priorityNode_||Fo},p.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new p(this.children_,d,this.indexMap_)},p.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var v=this.children_.get(d);return null===v?Fo:v},p.prototype.getChild=function(d){var v=Wt(d);return null===v?this:this.getImmediateChild(v).getChild(Jt(d))},p.prototype.hasChild=function(d){return null!==this.children_.get(d)},p.prototype.updateImmediateChild=function(d,v){if((0,V.assert)(v,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(v);var C=new fn(d,v),T=void 0,D=void 0;v.isEmpty()?(T=this.children_.remove(d),D=this.indexMap_.removeFromIndexes(C,this.children_)):(T=this.children_.insert(d,v),D=this.indexMap_.addToIndexes(C,this.children_));var O=T.isEmpty()?Fo:this.priorityNode_;return new p(T,O,D)},p.prototype.updateChild=function(d,v){var C=Wt(d);if(null===C)return v;(0,V.assert)(".priority"!==Wt(d)||1===Ps(d),".priority must be the last token in a path");var T=this.getImmediateChild(C).updateChild(Jt(d),v);return this.updateImmediateChild(C,T)},p.prototype.isEmpty=function(){return this.children_.isEmpty()},p.prototype.numChildren=function(){return this.children_.count()},p.prototype.val=function(d){if(this.isEmpty())return null;var v={},C=0,T=0,D=!0;if(this.forEachChild(Ln,function(Z,ee){v[Z]=ee.val(d),C++,D&&p.INTEGER_REGEXP_.test(Z)?T=Math.max(T,Number(Z)):D=!1}),!d&&D&&T<2*C){var O=[];for(var j in v)O[j]=v[j];return O}return d&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+Gc(this.getPriority().val())+":"),this.forEachChild(Ln,function(v,C){var T=C.hash();""!==T&&(d+=":"+v+":"+T)}),this.lazyHash_=""===d?"":Ne(d)}return this.lazyHash_},p.prototype.getPredecessorChildName=function(d,v,C){var T=this.resolveIndex_(C);if(T){var D=T.getPredecessorKey(new fn(d,v));return D?D.name:null}return this.children_.getPredecessorKey(d)},p.prototype.getFirstChildName=function(d){var v=this.resolveIndex_(d);if(v){var C=v.minKey();return C&&C.name}return this.children_.minKey()},p.prototype.getFirstChild=function(d){var v=this.getFirstChildName(d);return v?new fn(v,this.children_.get(v)):null},p.prototype.getLastChildName=function(d){var v=this.resolveIndex_(d);if(v){var C=v.maxKey();return C&&C.name}return this.children_.maxKey()},p.prototype.getLastChild=function(d){var v=this.getLastChildName(d);return v?new fn(v,this.children_.get(v)):null},p.prototype.forEachChild=function(d,v){var C=this.resolveIndex_(d);return C?C.inorderTraversal(function(T){return v(T.name,T.node)}):this.children_.inorderTraversal(v)},p.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},p.prototype.getIteratorFrom=function(d,v){var C=this.resolveIndex_(v);if(C)return C.getIteratorFrom(d,function(O){return O});for(var T=this.children_.getIteratorFrom(d.name,fn.Wrap),D=T.peek();null!=D&&v.compare(D,d)<0;)T.getNext(),D=T.peek();return T},p.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},p.prototype.getReverseIteratorFrom=function(d,v){var C=this.resolveIndex_(v);if(C)return C.getReverseIteratorFrom(d,function(O){return O});for(var T=this.children_.getReverseIteratorFrom(d.name,fn.Wrap),D=T.peek();null!=D&&v.compare(D,d)>0;)T.getNext(),D=T.peek();return T},p.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===Pn?-1:0},p.prototype.withIndex=function(d){if(d===cs||this.indexMap_.hasIndex(d))return this;var v=this.indexMap_.addIndex(d,this.children_);return new p(this.children_,this.priorityNode_,v)},p.prototype.isIndexed=function(d){return d===cs||this.indexMap_.hasIndex(d)},p.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var v=d;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){for(var C=this.getIterator(Ln),T=v.getIterator(Ln),D=C.getNext(),O=T.getNext();D&&O;){if(D.name!==O.name||!D.node.equals(O.node))return!1;D=C.getNext(),O=T.getNext()}return null===D&&null===O}return!1}return!1},p.prototype.resolveIndex_=function(d){return d===cs?null:this.indexMap_.get(d.toString())},p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p}(),Pn=new(function(p){function d(){return p.call(this,new Vo(Ti),Lt.EMPTY_NODE,on.Default)||this}return(0,he.__extends)(d,p),d.prototype.compareTo=function(v){return v===this?0:1},d.prototype.equals=function(v){return v===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(v){return Lt.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(Lt));function Bn(p,d){if(void 0===d&&(d=null),null===p)return Lt.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,V.assert)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new e1(p,Bn(d));if(p instanceof Array){var Z=Lt.EMPTY_NODE;return mt(p,function(ee,ne){if((0,V.contains)(p,ee)&&"."!==ee.substring(0,1)){var be=Bn(ne);(be.isLeafNode()||!be.isEmpty())&&(Z=Z.updateImmediateChild(ee,be))}}),Z.updatePriority(Bn(d))}var C=[],T=!1;if(mt(p,function(ee,ne){if("."!==ee.substring(0,1)){var be=Bn(ne);be.isEmpty()||(T=T||!be.getPriority().isEmpty(),C.push(new fn(ee,be)))}}),0===C.length)return Lt.EMPTY_NODE;var O=Zc(C,G4,function(ee){return ee.name},Ti);if(T){var j=Zc(C,Ln.getCompare());return new Lt(O,Bn(d),new on({".priority":j},{".priority":Ln}))}return new Lt(O,Bn(d),on.Default)}Object.defineProperties(fn,{MIN:{value:new fn(we,Lt.EMPTY_NODE)},MAX:{value:new fn(Be,Pn)}}),tr.__EMPTY_NODE=Lt.EMPTY_NODE,e1.__childrenNodeConstructor=Lt,function(p){ol=p}(Pn),function(p){sl=p}(Pn),function(p){r3=p}(Bn);var va=function(p){function d(v){var C=p.call(this)||this;return C.indexPath_=v,(0,V.assert)(!qt(v)&&".priority"!==Wt(v),"Can't create PathIndex with empty path or .priority key"),C}return(0,he.__extends)(d,p),d.prototype.extractChild=function(v){return v.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(v){return!v.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(v,C){var T=this.extractChild(v.node),D=this.extractChild(C.node),O=T.compareTo(D);return 0===O?Ee(v.name,C.name):O},d.prototype.makePost=function(v,C){var T=Bn(v),D=Lt.EMPTY_NODE.updateChild(this.indexPath_,T);return new fn(C,D)},d.prototype.maxPost=function(){var v=Lt.EMPTY_NODE.updateChild(this.indexPath_,Pn);return new fn(Be,v)},d.prototype.toString=function(){return ss(this.indexPath_,0).join("/")},d}(jc),Q1=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),d.prototype.compare=function(v,C){var T=v.node.compareTo(C.node);return 0===T?Ee(v.name,C.name):T},d.prototype.isDefinedOn=function(v){return!0},d.prototype.indexedValueChanged=function(v,C){return!v.equals(C)},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return fn.MAX},d.prototype.makePost=function(v,C){var T=Bn(v);return new fn(C,T)},d.prototype.toString=function(){return".value"},d}(jc)),Fs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Q4=function(){var p=0,d=[];return function(v){var C=v===p;p=v;var T,D=new Array(8);for(T=7;T>=0;T--)D[T]=Fs.charAt(v%64),v=Math.floor(v/64);(0,V.assert)(0===v,"Cannot push at time == 0");var O=D.join("");if(C){for(T=11;T>=0&&63===d[T];T--)d[T]=0;d[T]++}else for(T=0;T<12;T++)d[T]=Math.floor(64*Math.random());for(T=0;T<12;T++)O+=Fs.charAt(d[T]);return(0,V.assert)(20===O.length,"nextPushId: Length should be 20."),O}}(),Wc=function(p){if(p===""+Xn)return"-";var d=ir(p);if(null!=d)return""+(d+1);for(var v=new Array(p.length),C=0;C<v.length;C++)v[C]=p.charAt(C);if(v.length<786)return v.push("-"),v.join("");for(var T=v.length-1;T>=0&&"z"===v[T];)T--;if(-1===T)return Be;var O=Fs.charAt(Fs.indexOf(v[T])+1);return v[T]=O,v.slice(0,T+1).join("")},Us=function(p){if(p===""+Lr)return we;var d=ir(p);if(null!=d)return""+(d-1);for(var v=new Array(p.length),C=0;C<v.length;C++)v[C]=p.charAt(C);return"-"===v[v.length-1]?1===v.length?""+Xn:(delete v[v.length-1],v.join("")):(v[v.length-1]=Fs.charAt(Fs.indexOf(v[v.length-1])-1),v.join("")+"z".repeat(786-v.length))};function xi(p){return{type:"value",snapshotNode:p}}function ya(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function Nt(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function J2(p,d,v){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:v}}var J4=function(){function p(d){this.index_=d}return p.prototype.updateChild=function(d,v,C,T,D,O){(0,V.assert)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var j=d.getImmediateChild(v);return j.getChild(T).equals(C.getChild(T))&&j.isEmpty()===C.isEmpty()||(null!=O&&(C.isEmpty()?d.hasChild(v)?O.trackChildChange(Nt(v,j)):(0,V.assert)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):j.isEmpty()?O.trackChildChange(ya(v,C)):O.trackChildChange(J2(v,C,j))),d.isLeafNode()&&C.isEmpty())?d:d.updateImmediateChild(v,C).withIndex(this.index_)},p.prototype.updateFullNode=function(d,v,C){return null!=C&&(d.isLeafNode()||d.forEachChild(Ln,function(T,D){v.hasChild(T)||C.trackChildChange(Nt(T,D))}),v.isLeafNode()||v.forEachChild(Ln,function(T,D){if(d.hasChild(T)){var O=d.getImmediateChild(T);O.equals(D)||C.trackChildChange(J2(T,D,O))}else C.trackChildChange(ya(T,D))})),v.withIndex(this.index_)},p.prototype.updatePriority=function(d,v){return d.isEmpty()?Lt.EMPTY_NODE:d.updatePriority(v)},p.prototype.filtersNodes=function(){return!1},p.prototype.getIndexedFilter=function(){return this},p.prototype.getIndex=function(){return this.index_},p}(),Kc=function(){function p(d){this.indexedFilter_=new J4(d.getIndex()),this.index_=d.getIndex(),this.startPost_=p.getStartPost_(d),this.endPost_=p.getEndPost_(d)}return p.prototype.getStartPost=function(){return this.startPost_},p.prototype.getEndPost=function(){return this.endPost_},p.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},p.prototype.updateChild=function(d,v,C,T,D,O){return this.matches(new fn(v,C))||(C=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(d,v,C,T,D,O)},p.prototype.updateFullNode=function(d,v,C){v.isLeafNode()&&(v=Lt.EMPTY_NODE);var T=v.withIndex(this.index_);T=T.updatePriority(Lt.EMPTY_NODE);var D=this;return v.forEachChild(Ln,function(O,j){D.matches(new fn(O,j))||(T=T.updateImmediateChild(O,Lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,T,C)},p.prototype.updatePriority=function(d,v){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.indexedFilter_},p.prototype.getIndex=function(){return this.index_},p.getStartPost_=function(d){if(d.hasStart()){var v=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),v)}return d.getIndex().minPost()},p.getEndPost_=function(d){if(d.hasEnd()){var v=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),v)}return d.getIndex().maxPost()},p}(),X4=function(){function p(d){this.rangedFilter_=new Kc(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return p.prototype.updateChild=function(d,v,C,T,D,O){return this.rangedFilter_.matches(new fn(v,C))||(C=Lt.EMPTY_NODE),d.getImmediateChild(v).equals(C)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,v,C,T,D,O):this.fullLimitUpdateChild_(d,v,C,D,O)},p.prototype.updateFullNode=function(d,v,C){var T;if(v.isLeafNode()||v.isEmpty())T=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<v.numChildren()&&v.isIndexed(this.index_)){T=Lt.EMPTY_NODE.withIndex(this.index_);var D=void 0;D=this.reverse_?v.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):v.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var O=0;D.hasNext()&&O<this.limit_;){var j=D.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),j)<=0:this.index_.compare(j,this.rangedFilter_.getEndPost())<=0))break;T=T.updateImmediateChild(j.name,j.node),O++}}else{T=(T=v.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE);var ee=void 0,ne=void 0,be=void 0;if(D=void 0,this.reverse_){D=T.getReverseIterator(this.index_),ee=this.rangedFilter_.getEndPost(),ne=this.rangedFilter_.getStartPost();var Pe=this.index_.getCompare();be=function(At,Xe){return Pe(Xe,At)}}else D=T.getIterator(this.index_),ee=this.rangedFilter_.getStartPost(),ne=this.rangedFilter_.getEndPost(),be=this.index_.getCompare();O=0;for(var We=!1;D.hasNext();)j=D.getNext(),!We&&be(ee,j)<=0&&(We=!0),We&&O<this.limit_&&be(j,ne)<=0?O++:T=T.updateImmediateChild(j.name,Lt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,T,C)},p.prototype.updatePriority=function(d,v){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},p.prototype.getIndex=function(){return this.index_},p.prototype.fullLimitUpdateChild_=function(d,v,C,T,D){var O;if(this.reverse_){var j=this.index_.getCompare();O=function(Gn,no){return j(no,Gn)}}else O=this.index_.getCompare();var Z=d;(0,V.assert)(Z.numChildren()===this.limit_,"");var ee=new fn(v,C),ne=this.reverse_?Z.getFirstChild(this.index_):Z.getLastChild(this.index_),be=this.rangedFilter_.matches(ee);if(Z.hasChild(v)){for(var Pe=Z.getImmediateChild(v),We=T.getChildAfterChild(this.index_,ne,this.reverse_);null!=We&&(We.name===v||Z.hasChild(We.name));)We=T.getChildAfterChild(this.index_,We,this.reverse_);var rt=null==We?1:O(We,ee);if(be&&!C.isEmpty()&&rt>=0)return null!=D&&D.trackChildChange(J2(v,C,Pe)),Z.updateImmediateChild(v,C);null!=D&&D.trackChildChange(Nt(v,Pe));var At=Z.updateImmediateChild(v,Lt.EMPTY_NODE);return null!=We&&this.rangedFilter_.matches(We)?(null!=D&&D.trackChildChange(ya(We.name,We.node)),At.updateImmediateChild(We.name,We.node)):At}return C.isEmpty()?d:be&&O(ne,ee)>=0?(null!=D&&(D.trackChildChange(Nt(ne.name,ne.node)),D.trackChildChange(ya(v,C))),Z.updateImmediateChild(v,C).updateImmediateChild(ne.name,Lt.EMPTY_NODE)):d},p}(),ul=function(){function p(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ln}return p.prototype.hasStart=function(){return this.startSet_},p.prototype.hasStartAfter=function(){return this.startAfterSet_},p.prototype.hasEndBefore=function(){return this.endBeforeSet_},p.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},p.prototype.getIndexStartValue=function(){return(0,V.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},p.prototype.getIndexStartName=function(){return(0,V.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:we},p.prototype.hasEnd=function(){return this.endSet_},p.prototype.getIndexEndValue=function(){return(0,V.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},p.prototype.getIndexEndName=function(){return(0,V.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Be},p.prototype.hasLimit=function(){return this.limitSet_},p.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},p.prototype.getLimit=function(){return(0,V.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},p.prototype.getIndex=function(){return this.index_},p.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},p.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ln},p.prototype.copy=function(){var d=new p;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},p}();function t1(p,d,v){var C=p.copy();return C.startSet_=!0,void 0===d&&(d=null),C.indexStartValue_=d,null!=v?(C.startNameSet_=!0,C.indexStartName_=v):(C.startNameSet_=!1,C.indexStartName_=""),C}function Bs(p,d,v){var C=p.copy();return C.endSet_=!0,void 0===d&&(d=null),C.indexEndValue_=d,void 0!==v?(C.endNameSet_=!0,C.indexEndName_=v):(C.endNameSet_=!1,C.indexEndName_=""),C}function ui(p,d){var v=p.copy();return v.index_=d,v}function Yc(p){var v,d={};return p.isDefault()||(p.index_===Ln?v="$priority":p.index_===Q1?v="$value":p.index_===cs?v="$key":((0,V.assert)(p.index_ instanceof va,"Unrecognized index type!"),v=p.index_.toString()),d.orderBy=(0,V.stringify)(v),p.startSet_&&(d.startAt=(0,V.stringify)(p.indexStartValue_),p.startNameSet_&&(d.startAt+=","+(0,V.stringify)(p.indexStartName_))),p.endSet_&&(d.endAt=(0,V.stringify)(p.indexEndValue_),p.endNameSet_&&(d.endAt+=","+(0,V.stringify)(p.indexEndName_))),p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_)),d}function js(p){var d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_)),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_)),p.limitSet_){d.l=p.limit_;var v=p.viewFrom_;""===v&&(v=p.isViewFromLeft()?"l":"r"),d.vf=v}return p.index_!==Ln&&(d.i=p.index_.toString()),d}var o3=function(p){function d(v,C,T,D){var O=p.call(this)||this;return O.repoInfo_=v,O.onDataUpdate_=C,O.authTokenProvider_=T,O.appCheckTokenProvider_=D,O.log_=Bt("p:rest:"),O.listens_={},O}return(0,he.__extends)(d,p),d.prototype.reportStats=function(v){throw new Error("Method not implemented.")},d.getListenId_=function(v,C){return void 0!==C?"tag$"+C:((0,V.assert)(v._queryParams.isDefault(),"should have a tag if it's not a default query."),v._path.toString())},d.prototype.listen=function(v,C,T,D){var O=this,j=v._path.toString();this.log_("Listen called for "+j+" "+v._queryIdentifier);var Z=d.getListenId_(v,T),ee={};this.listens_[Z]=ee;var ne=Yc(v._queryParams);this.restRequest_(j+".json",ne,function(be,Pe){var We=Pe;404===be&&(We=null,be=null),null===be&&O.onDataUpdate_(j,We,!1,T),(0,V.safeGet)(O.listens_,Z)===ee&&D(be?401===be?"permission_denied":"rest_error:"+be:"ok",null)})},d.prototype.unlisten=function(v,C){var T=d.getListenId_(v,C);delete this.listens_[T]},d.prototype.get=function(v){var C=this,T=Yc(v._queryParams),D=v._path.toString(),O=new V.Deferred;return this.restRequest_(D+".json",T,function(j,Z){var ee=Z;404===j&&(ee=null,j=null),null===j?(C.onDataUpdate_(D,ee,!1,null),O.resolve(ee)):O.reject(new Error(ee))}),O.promise},d.prototype.refreshAuthToken=function(v){},d.prototype.restRequest_=function(v,C,T){var D=this;return void 0===C&&(C={}),C.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(O){var j=(0,he.__read)(O,2),Z=j[0],ee=j[1];Z&&Z.accessToken&&(C.auth=Z.accessToken),ee&&ee.token&&(C.ac=ee.token);var ne=(D.repoInfo_.secure?"https://":"http://")+D.repoInfo_.host+v+"?ns="+D.repoInfo_.namespace+(0,V.querystring)(C);D.log_("Sending REST request for "+ne);var be=new XMLHttpRequest;be.onreadystatechange=function(){if(T&&4===be.readyState){D.log_("REST Response for "+ne+" received. status:",be.status,"response:",be.responseText);var Pe=null;if(be.status>=200&&be.status<300){try{Pe=(0,V.jsonEval)(be.responseText)}catch(We){yn("Failed to parse JSON response for "+ne+": "+be.responseText)}T(null,Pe)}else 401!==be.status&&404!==be.status&&yn("Got unsuccessful REST response for "+ne+" Status: "+be.status),T(be.status);T=null}},be.open("GET",ne,!0),be.send()})},d}(Uc),J1=function(){function p(){this.rootNode_=Lt.EMPTY_NODE}return p.prototype.getNode=function(d){return this.rootNode_.getChild(d)},p.prototype.updateSnapshot=function(d,v){this.rootNode_=this.rootNode_.updateChild(d,v)},p}();function r1(){return{value:null,children:new Map}}function _a(p,d,v){if(qt(d))p.value=v,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,v);else{var C=Wt(d);p.children.has(C)||p.children.set(C,r1()),_a(p.children.get(C),d=Jt(d),v)}}function zn(p,d){if(qt(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;var v=p.value;return p.value=null,v.forEachChild(Ln,function(D,O){_a(p,new jt(D),O)}),zn(p,d)}if(p.children.size>0){var C=Wt(d);return d=Jt(d),p.children.has(C)&&zn(p.children.get(C),d)&&p.children.delete(C),0===p.children.size}return!0}function Yr(p,d,v){null!==p.value?v(d,p.value):function(p,d){p.children.forEach(function(v,C){d(C,v)})}(p,function(C,T){Yr(T,new jt(d.toString()+"/"+C),v)})}var us=function(){function p(d){this.collection_=d,this.last_=null}return p.prototype.get=function(){var d=this.collection_.get(),v=(0,he.__assign)({},d);return this.last_&&mt(this.last_,function(C,T){v[C]=v[C]-T}),this.last_=d,v},p}(),Jc=function(){function p(d,v){this.server_=v,this.statsToReport_={},this.statsListener_=new us(d);var C=1e4+2e4*Math.random();os(this.reportStats_.bind(this),Math.floor(C))}return p.prototype.reportStats_=function(){var d=this,v=this.statsListener_.get(),C={},T=!1;mt(v,function(D,O){O>0&&(0,V.contains)(d.statsToReport_,D)&&(C[D]=O,T=!0)}),T&&this.server_.reportStats(C),os(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},p}(),Rr=(()=>(function(p){p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Rr||(Rr={})),Rr))();function X1(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}var s3=function(){function p(d,v,C){this.path=d,this.affectedTree=v,this.revert=C,this.type=Rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p.prototype.operationForChild=function(d){if(qt(this.path)){if(null!=this.affectedTree.value)return(0,V.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var v=this.affectedTree.subtree(new jt(d));return new p(ft(),v,this.revert)}return(0,V.assert)(Wt(this.path)===d,"operationForChild called for unrelated child."),new p(Jt(this.path),this.affectedTree,this.revert)},p}(),e0=function(){function p(d,v){this.source=d,this.path=v,this.type=Rr.LISTEN_COMPLETE}return p.prototype.operationForChild=function(d){return qt(this.path)?new p(this.source,ft()):new p(this.source,Jt(this.path))},p}(),e2=function(){function p(d,v,C){this.source=d,this.path=v,this.snap=C,this.type=Rr.OVERWRITE}return p.prototype.operationForChild=function(d){return qt(this.path)?new p(this.source,ft(),this.snap.getImmediateChild(d)):new p(this.source,Jt(this.path),this.snap)},p}(),qs=function(){function p(d,v,C){this.source=d,this.path=v,this.children=C,this.type=Rr.MERGE}return p.prototype.operationForChild=function(d){if(qt(this.path)){var v=this.children.subtree(new jt(d));return v.isEmpty()?null:v.value?new e2(this.source,ft(),v.value):new p(this.source,ft(),v)}return(0,V.assert)(Wt(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new p(this.source,Jt(this.path),this.children)},p.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},p}(),Di=function(){function p(d,v,C){this.node_=d,this.fullyInitialized_=v,this.filtered_=C}return p.prototype.isFullyInitialized=function(){return this.fullyInitialized_},p.prototype.isFiltered=function(){return this.filtered_},p.prototype.isCompleteForPath=function(d){if(qt(d))return this.isFullyInitialized()&&!this.filtered_;var v=Wt(d);return this.isCompleteForChild(v)},p.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},p.prototype.getNode=function(){return this.node_},p}(),t0=function(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function fs(p,d,v,C,T,D){var O=C.filter(function(j){return j.type===v});O.sort(function(j,Z){return function(p,d,v){if(null==d.childName||null==v.childName)throw(0,V.assertionError)("Should only compare child_ events.");var C=new fn(d.childName,d.snapshotNode),T=new fn(v.childName,v.snapshotNode);return p.index_.compare(C,T)}(p,j,Z)}),O.forEach(function(j){var Z=function(p,d,v){return"value"===d.type||"child_removed"===d.type||(d.prevName=v.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,j,D);T.forEach(function(ee){ee.respondsTo(j.type)&&d.push(ee.createEvent(Z,p.query_))})})}function nr(p,d){return{eventCache:p,serverCache:d}}function hs(p,d,v,C){return nr(new Di(d,v,C),p.serverCache)}function ar(p,d,v,C){return nr(p.eventCache,new Di(d,v,C))}function n0(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function i1(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}var ll,Wi=function(){function p(d,v){void 0===v&&(ll||(ll=new Vo(Et)),v=ll),this.value=d,this.children=v}return p.fromObject=function(d){var v=new p(null);return mt(d,function(C,T){v=v.set(new jt(C),T)}),v},p.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},p.prototype.findRootMostMatchingPathAndValue=function(d,v){if(null!=this.value&&v(this.value))return{path:ft(),value:this.value};if(qt(d))return null;var C=Wt(d),T=this.children.get(C);if(null!==T){var D=T.findRootMostMatchingPathAndValue(Jt(d),v);return null!=D?{path:nn(new jt(C),D.path),value:D.value}:null}return null},p.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},p.prototype.subtree=function(d){if(qt(d))return this;var v=Wt(d),C=this.children.get(v);return null!==C?C.subtree(Jt(d)):new p(null)},p.prototype.set=function(d,v){if(qt(d))return new p(v,this.children);var C=Wt(d),D=(this.children.get(C)||new p(null)).set(Jt(d),v),O=this.children.insert(C,D);return new p(this.value,O)},p.prototype.remove=function(d){if(qt(d))return this.children.isEmpty()?new p(null):new p(null,this.children);var v=Wt(d),C=this.children.get(v);if(C){var T=C.remove(Jt(d)),D=void 0;return D=T.isEmpty()?this.children.remove(v):this.children.insert(v,T),null===this.value&&D.isEmpty()?new p(null):new p(this.value,D)}return this},p.prototype.get=function(d){if(qt(d))return this.value;var v=Wt(d),C=this.children.get(v);return C?C.get(Jt(d)):null},p.prototype.setTree=function(d,v){if(qt(d))return v;var O,C=Wt(d),D=(this.children.get(C)||new p(null)).setTree(Jt(d),v);return O=D.isEmpty()?this.children.remove(C):this.children.insert(C,D),new p(this.value,O)},p.prototype.fold=function(d){return this.fold_(ft(),d)},p.prototype.fold_=function(d,v){var C={};return this.children.inorderTraversal(function(T,D){C[T]=D.fold_(nn(d,T),v)}),v(d,this.value,C)},p.prototype.findOnPath=function(d,v){return this.findOnPath_(d,ft(),v)},p.prototype.findOnPath_=function(d,v,C){var T=!!this.value&&C(v,this.value);if(T)return T;if(qt(d))return null;var D=Wt(d),O=this.children.get(D);return O?O.findOnPath_(Jt(d),nn(v,D),C):null},p.prototype.foreachOnPath=function(d,v){return this.foreachOnPath_(d,ft(),v)},p.prototype.foreachOnPath_=function(d,v,C){if(qt(d))return this;this.value&&C(v,this.value);var T=Wt(d),D=this.children.get(T);return D?D.foreachOnPath_(Jt(d),nn(v,T),C):new p(null)},p.prototype.foreach=function(d){this.foreach_(ft(),d)},p.prototype.foreach_=function(d,v){this.children.inorderTraversal(function(C,T){T.foreach_(nn(d,C),v)}),this.value&&v(d,this.value)},p.prototype.foreachChild=function(d){this.children.inorderTraversal(function(v,C){C.value&&d(v,C.value)})},p}(),Ki=function(){function p(d){this.writeTree_=d}return p.empty=function(){return new p(new Wi(null))},p}();function Ho(p,d,v){if(qt(d))return new Ki(new Wi(v));var C=p.writeTree_.findRootMostValueAndPath(d);if(null!=C){var T=C.path,D=C.value,O=er(T,d);return D=D.updateChild(O,v),new Ki(p.writeTree_.set(T,D))}var j=new Wi(v),Z=p.writeTree_.setTree(d,j);return new Ki(Z)}function ba(p,d,v){var C=p;return mt(v,function(T,D){C=Ho(C,nn(d,T),D)}),C}function X2(p,d){if(qt(d))return Ki.empty();var v=p.writeTree_.setTree(d,new Wi(null));return new Ki(v)}function nu(p,d){return null!=Ca(p,d)}function Ca(p,d){var v=p.writeTree_.findRootMostValueAndPath(d);return null!=v?p.writeTree_.get(v.path).getChild(er(v.path,d)):null}function o1(p){var d=[],v=p.writeTree_.value;return null!=v?v.isLeafNode()||v.forEachChild(Ln,function(C,T){d.push(new fn(C,T))}):p.writeTree_.children.inorderTraversal(function(C,T){null!=T.value&&d.push(new fn(C,T.value))}),d}function li(p,d){if(qt(d))return p;var v=Ca(p,d);return new Ki(null!=v?new Wi(v):p.writeTree_.subtree(d))}function ec(p){return p.writeTree_.isEmpty()}function ru(p,d){return u3(ft(),p.writeTree_,d)}function u3(p,d,v){if(null!=d.value)return v.updateChild(p,d.value);var C=null;return d.children.inorderTraversal(function(T,D){".priority"===T?((0,V.assert)(null!==D.value,"Priority writes must always be leaf nodes"),C=D.value):v=u3(nn(p,T),D,v)}),!v.getChild(p).isEmpty()&&null!==C&&(v=v.updateChild(nn(p,".priority"),C)),v}function ds(p,d){return wa(d,p)}function s1(p,d){if(p.snap)return Yn(p.path,d);for(var v in p.children)if(p.children.hasOwnProperty(v)&&Yn(nn(p.path,v),d))return!0;return!1}function f3(p){return p.visible}function Eo(p,d,v){for(var C=Ki.empty(),T=0;T<p.length;++T){var D=p[T];if(d(D)){var O=D.path,j=void 0;if(D.snap)Yn(v,O)?C=Ho(C,j=er(v,O),D.snap):Yn(O,v)&&(j=er(O,v),C=Ho(C,ft(),D.snap.getChild(j)));else{if(!D.children)throw(0,V.assertionError)("WriteRecord should have .snap or .children");if(Yn(v,O))C=ba(C,j=er(v,O),D.children);else if(Yn(O,v))if(qt(j=er(O,v)))C=ba(C,ft(),D.children);else{var Z=(0,V.safeGet)(D.children,Wt(j));if(Z){var ee=Z.getChild(Jt(j));C=Ho(C,ft(),ee)}}}}}return C}function tc(p,d,v,C,T){if(C||T){var Z=li(p.visibleWrites,d);return!T&&ec(Z)?v:T||null!=v||nu(Z,ft())?ru(Eo(p.allWrites,function(Pe){return(Pe.visible||T)&&(!C||!~C.indexOf(Pe.writeId))&&(Yn(Pe.path,d)||Yn(d,Pe.path))},d),v||Lt.EMPTY_NODE):null}var D=Ca(p.visibleWrites,d);if(null!=D)return D;var O=li(p.visibleWrites,d);return ec(O)?v:null!=v||nu(O,ft())?ru(O,v||Lt.EMPTY_NODE):null}function Ao(p,d,v,C){return tc(p.writeTree,p.treePath,d,v,C)}function dl(p,d){return function(p,d,v){var C=Lt.EMPTY_NODE,T=Ca(p.visibleWrites,d);if(T)return T.isLeafNode()||T.forEachChild(Ln,function(j,Z){C=C.updateImmediateChild(j,Z)}),C;if(v){var D=li(p.visibleWrites,d);return v.forEachChild(Ln,function(j,Z){var ee=ru(li(D,new jt(j)),Z);C=C.updateImmediateChild(j,ee)}),o1(D).forEach(function(j){C=C.updateImmediateChild(j.name,j.node)}),C}return o1(li(p.visibleWrites,d)).forEach(function(j){C=C.updateImmediateChild(j.name,j.node)}),C}(p.writeTree,p.treePath,d)}function a1(p,d,v,C){return function(p,d,v,C,T){(0,V.assert)(C||T,"Either existingEventSnap or existingServerSnap must exist");var D=nn(d,v);if(nu(p.visibleWrites,D))return null;var O=li(p.visibleWrites,D);return ec(O)?T.getChild(v):ru(O,T.getChild(v))}(p.writeTree,p.treePath,d,v,C)}function c1(p,d){return function(p,d){return Ca(p.visibleWrites,d)}(p.writeTree,nn(p.treePath,d))}function s0(p,d,v){return function(p,d,v,C){var T=nn(d,v),D=Ca(p.visibleWrites,T);return null!=D?D:C.isCompleteForChild(v)?ru(li(p.visibleWrites,T),C.getNode().getImmediateChild(v)):null}(p.writeTree,p.treePath,d,v)}function ps(p,d){return wa(nn(p.treePath,d),p.writeTree)}function wa(p,d){return{treePath:p,writeTree:d}}var Xt=function(){function p(){this.changeMap=new Map}return p.prototype.trackChildChange=function(d){var v=d.type,C=d.childName;(0,V.assert)("child_added"===v||"child_changed"===v||"child_removed"===v,"Only child changes supported for tracking"),(0,V.assert)(".priority"!==C,"Only non-priority child changes can be tracked.");var T=this.changeMap.get(C);if(T){var D=T.type;if("child_added"===v&&"child_removed"===D)this.changeMap.set(C,J2(C,d.snapshotNode,T.snapshotNode));else if("child_removed"===v&&"child_added"===D)this.changeMap.delete(C);else if("child_removed"===v&&"child_changed"===D)this.changeMap.set(C,Nt(C,T.oldSnap));else if("child_changed"===v&&"child_added"===D)this.changeMap.set(C,ya(C,d.snapshotNode));else{if("child_changed"!==v||"child_changed"!==D)throw(0,V.assertionError)("Illegal combination of changes: "+d+" occurred after "+T);this.changeMap.set(C,J2(C,d.snapshotNode,T.oldSnap))}}else this.changeMap.set(C,d)},p.prototype.getChanges=function(){return Array.from(this.changeMap.values())},p}(),rr=new(function(){function p(){}return p.prototype.getCompleteChild=function(d){return null},p.prototype.getChildAfterChild=function(d,v,C){return null},p}()),It=function(){function p(d,v,C){void 0===C&&(C=null),this.writes_=d,this.viewCache_=v,this.optCompleteServerCache_=C}return p.prototype.getCompleteChild=function(d){var v=this.viewCache_.eventCache;if(v.isCompleteForChild(d))return v.getNode().getImmediateChild(d);var C=null!=this.optCompleteServerCache_?new Di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return s0(this.writes_,d,C)},p.prototype.getChildAfterChild=function(d,v,C){var T=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:i1(this.viewCache_),D=function(p,d,v,C,T,D){return function(p,d,v,C,T,D,O){var j,Z=li(p.visibleWrites,d),ee=Ca(Z,ft());if(null!=ee)j=ee;else{if(null==v)return[];j=ru(Z,v)}if((j=j.withIndex(O)).isEmpty()||j.isLeafNode())return[];for(var ne=[],be=O.getCompare(),Pe=D?j.getReverseIteratorFrom(C,O):j.getIteratorFrom(C,O),We=Pe.getNext();We&&ne.length<T;)0!==be(We,C)&&ne.push(We),We=Pe.getNext();return ne}(p.writeTree,p.treePath,d,v,C,T,D)}(this.writes_,T,v,1,C,d);return 0===D.length?null:D[0]},p}();function $s(p,d,v,C,T,D){var O=d.eventCache;if(null!=c1(C,v))return d;var j=void 0,Z=void 0;if(qt(v))if((0,V.assert)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var ee=i1(d),be=dl(C,ee instanceof Lt?ee:Lt.EMPTY_NODE);j=p.filter.updateFullNode(d.eventCache.getNode(),be,D)}else{var Pe=Ao(C,i1(d));j=p.filter.updateFullNode(d.eventCache.getNode(),Pe,D)}else{var We=Wt(v);if(".priority"===We){(0,V.assert)(1===Ps(v),"Can't have a priority with additional path components");var rt=O.getNode(),Ue=a1(C,v,rt,Z=d.serverCache.getNode());j=null!=Ue?p.filter.updatePriority(rt,Ue):O.getNode()}else{var At=Jt(v),Xe=void 0;if(O.isCompleteForChild(We)){Z=d.serverCache.getNode();var Gn=a1(C,v,O.getNode(),Z);Xe=null!=Gn?O.getNode().getImmediateChild(We).updateChild(At,Gn):O.getNode().getImmediateChild(We)}else Xe=s0(C,We,d.serverCache);j=null!=Xe?p.filter.updateChild(O.getNode(),We,Xe,At,T,D):O.getNode()}}return hs(d,j,O.isFullyInitialized()||qt(v),p.filter.filtersNodes())}function cr(p,d,v,C,T,D,O,j){var ee,Z=d.serverCache,ne=O?p.filter:p.filter.getIndexedFilter();if(qt(v))ee=ne.updateFullNode(Z.getNode(),C,null);else if(ne.filtersNodes()&&!Z.isFiltered()){var be=Z.getNode().updateChild(v,C);ee=ne.updateFullNode(Z.getNode(),be,null)}else{var Pe=Wt(v);if(!Z.isCompleteForPath(v)&&Ps(v)>1)return d;var We=Jt(v),Ue=Z.getNode().getImmediateChild(Pe).updateChild(We,C);ee=".priority"===Pe?ne.updatePriority(Z.getNode(),Ue):ne.updateChild(Z.getNode(),Pe,Ue,We,rr,null)}var At=ar(d,ee,Z.isFullyInitialized()||qt(v),ne.filtersNodes());return $s(p,At,v,T,new It(T,At,D),j)}function u1(p,d,v,C,T,D,O){var Z,ee,j=d.eventCache,ne=new It(T,d,D);if(qt(v))ee=p.filter.updateFullNode(d.eventCache.getNode(),C,O),Z=hs(d,ee,!0,p.filter.filtersNodes());else{var be=Wt(v);if(".priority"===be)ee=p.filter.updatePriority(d.eventCache.getNode(),C),Z=hs(d,ee,j.isFullyInitialized(),j.isFiltered());else{var Pe=Jt(v),We=j.getNode().getImmediateChild(be),rt=void 0;if(qt(Pe))rt=C;else{var Ue=ne.getCompleteChild(be);rt=null!=Ue?".priority"===K2(Pe)&&Ue.getChild(Kr(Pe)).isEmpty()?Ue:Ue.updateChild(Pe,C):Lt.EMPTY_NODE}Z=We.equals(rt)?d:hs(d,p.filter.updateChild(j.getNode(),be,rt,Pe,ne,O),j.isFullyInitialized(),p.filter.filtersNodes())}}return Z}function l1(p,d){return p.eventCache.isCompleteForChild(d)}function ht(p,d,v){return v.foreach(function(C,T){d=d.updateChild(C,T)}),d}function Pr(p,d,v,C,T,D,O,j){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var ee,Z=d;ee=qt(v)?C:new Wi(null).setTree(v,C);var ne=d.serverCache.getNode();return ee.children.inorderTraversal(function(be,Pe){if(ne.hasChild(be)){var rt=ht(0,d.serverCache.getNode().getImmediateChild(be),Pe);Z=cr(p,Z,new jt(be),rt,T,D,O,j)}}),ee.children.inorderTraversal(function(be,Pe){var We=!d.serverCache.isCompleteForChild(be)&&void 0===Pe.value;if(!ne.hasChild(be)&&!We){var Ue=ht(0,d.serverCache.getNode().getImmediateChild(be),Pe);Z=cr(p,Z,new jt(be),Ue,T,D,O,j)}}),Z}var ou=function(){function p(d,v){this.query_=d,this.eventRegistrations_=[];var C=this.query_._queryParams,T=new J4(C.getIndex()),D=function(p){return p.loadsAllData()?new J4(p.getIndex()):p.hasLimit()?new X4(p):new Kc(p)}(C);this.processor_=function(p){return{filter:p}}(D);var O=v.serverCache,j=v.eventCache,Z=T.updateFullNode(Lt.EMPTY_NODE,O.getNode(),null),ee=D.updateFullNode(Lt.EMPTY_NODE,j.getNode(),null),ne=new Di(Z,O.isFullyInitialized(),T.filtersNodes()),be=new Di(ee,j.isFullyInitialized(),D.filtersNodes());this.viewCache_=nr(be,ne),this.eventGenerator_=new t0(this.query_)}return Object.defineProperty(p.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),p}();function r2(p,d){var v=i1(p.viewCache_);return v&&(p.query._queryParams.loadsAllData()||!qt(d)&&!v.getImmediateChild(Wt(d)).isEmpty())?v.getChild(d):null}function Aa(p){return 0===p.eventRegistrations_.length}function Ws(p,d,v){var C=[];if(v){(0,V.assert)(null==d,"A cancel should cancel all event registrations.");var T=p.query._path;p.eventRegistrations_.forEach(function(Z){var ee=Z.createCancelEvent(v,T);ee&&C.push(ee)})}if(d){for(var D=[],O=0;O<p.eventRegistrations_.length;++O){var j=p.eventRegistrations_[O];if(j.matches(d)){if(d.hasAnyCallback()){D=D.concat(p.eventRegistrations_.slice(O+1));break}}else D.push(j)}p.eventRegistrations_=D}else p.eventRegistrations_=[];return C}function au(p,d,v,C){d.type===Rr.MERGE&&null!==d.source.queryId&&((0,V.assert)(i1(p.viewCache_),"We should always have a full cache before handling merges"),(0,V.assert)(n0(p.viewCache_),"Missing event cache, even though we have a server cache"));var T=p.viewCache_,D=function(p,d,v,C,T){var O,j,D=new Xt;if(v.type===Rr.OVERWRITE){var Z=v;Z.source.fromUser?O=u1(p,d,Z.path,Z.snap,C,T,D):((0,V.assert)(Z.source.fromServer,"Unknown source."),j=Z.source.tagged||d.serverCache.isFiltered()&&!qt(Z.path),O=cr(p,d,Z.path,Z.snap,C,T,j,D))}else if(v.type===Rr.MERGE){var ee=v;ee.source.fromUser?O=function(p,d,v,C,T,D,O){var j=d;return C.foreach(function(Z,ee){var ne=nn(v,Z);l1(d,Wt(ne))&&(j=u1(p,j,ne,ee,T,D,O))}),C.foreach(function(Z,ee){var ne=nn(v,Z);l1(d,Wt(ne))||(j=u1(p,j,ne,ee,T,D,O))}),j}(p,d,ee.path,ee.children,C,T,D):((0,V.assert)(ee.source.fromServer,"Unknown source."),j=ee.source.tagged||d.serverCache.isFiltered(),O=Pr(p,d,ee.path,ee.children,C,T,j,D))}else if(v.type===Rr.ACK_USER_WRITE){var ne=v;O=ne.revert?function(p,d,v,C,T,D){var O;if(null!=c1(C,v))return d;var j=new It(C,d,T),Z=d.eventCache.getNode(),ee=void 0;if(qt(v)||".priority"===Wt(v)){var ne=void 0;if(d.serverCache.isFullyInitialized())ne=Ao(C,i1(d));else{var be=d.serverCache.getNode();(0,V.assert)(be instanceof Lt,"serverChildren would be complete if leaf node"),ne=dl(C,be)}ee=p.filter.updateFullNode(Z,ne=ne,D)}else{var Pe=Wt(v),We=s0(C,Pe,d.serverCache);null==We&&d.serverCache.isCompleteForChild(Pe)&&(We=Z.getImmediateChild(Pe)),(ee=null!=We?p.filter.updateChild(Z,Pe,We,Jt(v),j,D):d.eventCache.getNode().hasChild(Pe)?p.filter.updateChild(Z,Pe,Lt.EMPTY_NODE,Jt(v),j,D):Z).isEmpty()&&d.serverCache.isFullyInitialized()&&(O=Ao(C,i1(d))).isLeafNode()&&(ee=p.filter.updateFullNode(ee,O,D))}return O=d.serverCache.isFullyInitialized()||null!=c1(C,ft()),hs(d,ee,O,p.filter.filtersNodes())}(p,d,ne.path,C,T,D):function(p,d,v,C,T,D,O){if(null!=c1(T,v))return d;var j=d.serverCache.isFiltered(),Z=d.serverCache;if(null!=C.value){if(qt(v)&&Z.isFullyInitialized()||Z.isCompleteForPath(v))return cr(p,d,v,Z.getNode().getChild(v),T,D,j,O);if(qt(v)){var ee=new Wi(null);return Z.getNode().forEachChild(cs,function(be,Pe){ee=ee.set(new jt(be),Pe)}),Pr(p,d,v,ee,T,D,j,O)}return d}var ne=new Wi(null);return C.foreach(function(be,Pe){var We=nn(v,be);Z.isCompleteForPath(We)&&(ne=ne.set(be,Z.getNode().getChild(We)))}),Pr(p,d,v,ne,T,D,j,O)}(p,d,ne.path,ne.affectedTree,C,T,D)}else{if(v.type!==Rr.LISTEN_COMPLETE)throw(0,V.assertionError)("Unknown operation type: "+v.type);O=function(p,d,v,C,T){var D=d.serverCache;return $s(p,ar(d,D.getNode(),D.isFullyInitialized()||qt(v),D.isFiltered()),v,C,rr,T)}(p,d,v.path,C,D)}var be=D.getChanges();return function(p,d,v){var C=d.eventCache;if(C.isFullyInitialized()){var T=C.getNode().isLeafNode()||C.getNode().isEmpty(),D=n0(p);(v.length>0||!p.eventCache.isFullyInitialized()||T&&!C.getNode().equals(D)||!C.getNode().getPriority().equals(D.getPriority()))&&v.push(xi(n0(d)))}}(d,O,be),{viewCache:O,changes:be}}(p.processor_,T,d,v,C);return function(p,d){(0,V.assert)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,V.assert)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,D.viewCache),(0,V.assert)(D.viewCache.serverCache.isFullyInitialized()||!T.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=D.viewCache,gl(p,D.changes,D.viewCache.eventCache.getNode(),null)}function gl(p,d,v,C){return function(p,d,v,C){var T=[],D=[];return d.forEach(function(O){"child_changed"===O.type&&p.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&D.push(function(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(O.childName,O.snapshotNode))}),fs(p,T,"child_removed",d,C,v),fs(p,T,"child_added",d,C,v),fs(p,T,"child_moved",D,C,v),fs(p,T,"child_changed",d,C,v),fs(p,T,"value",d,C,v),T}(p.eventGenerator_,d,v,C?[C]:p.eventRegistrations_)}var nc,h0,cu=function(){this.views=new Map};function l0(p,d,v,C){var T,D,O=d.source.queryId;if(null!==O){var j=p.views.get(O);return(0,V.assert)(null!=j,"SyncTree gave us an op for an invalid query."),au(j,d,v,C)}var Z=[];try{for(var ee=(0,he.__values)(p.views.values()),ne=ee.next();!ne.done;ne=ee.next())Z=Z.concat(au(j=ne.value,d,v,C))}catch(be){T={error:be}}finally{try{ne&&!ne.done&&(D=ee.return)&&D.call(ee)}finally{if(T)throw T.error}}return Z}function f0(p,d,v,C,T){var O=p.views.get(d._queryIdentifier);if(!O){var j=Ao(v,T?C:null),Z=!1;j?Z=!0:C instanceof Lt?(j=dl(v,C),Z=!1):(j=Lt.EMPTY_NODE,Z=!1);var ee=nr(new Di(j,Z,!1),new Di(C,T,!1));return new ou(d,ee)}return O}function d3(p){var d,v,C=[];try{for(var T=(0,he.__values)(p.views.values()),D=T.next();!D.done;D=T.next()){var O=D.value;O.query._queryParams.loadsAllData()||C.push(O)}}catch(j){d={error:j}}finally{try{D&&!D.done&&(v=T.return)&&v.call(T)}finally{if(d)throw d.error}}return C}function h1(p,d){var v,C,T=null;try{for(var D=(0,he.__values)(p.views.values()),O=D.next();!O.done;O=D.next())T=T||r2(O.value,d)}catch(Z){v={error:Z}}finally{try{O&&!O.done&&(C=D.return)&&C.call(D)}finally{if(v)throw v.error}}return T}function kh(p,d){return d._queryParams.loadsAllData()?zr(p):p.views.get(d._queryIdentifier)}function p3(p,d){return null!=kh(p,d)}function ms(p){return null!=zr(p)}function zr(p){var d,v;try{for(var C=(0,he.__values)(p.views.values()),T=C.next();!T.done;T=C.next()){var D=T.value;if(D.query._queryParams.loadsAllData())return D}}catch(O){d={error:O}}finally{try{T&&!T.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}return null}var uu=1,d1=function(d){this.listenProvider_=d,this.syncPointTree_=new Wi(null),this.pendingWriteTree_={visibleWrites:Ki.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rc(p,d,v,C,T){return function(p,d,v,C,T){(0,V.assert)(C>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===T&&(T=!0),p.allWrites.push({path:d,snap:v,writeId:C,visible:T}),T&&(p.visibleWrites=Ho(p.visibleWrites,d,v)),p.lastWriteId=C}(p.pendingWriteTree_,d,v,C,T),T?Ji(p,new e2({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,v)):[]}function Vr(p,d,v){void 0===v&&(v=!1);var C=function(p,d){for(var v=0;v<p.allWrites.length;v++){var C=p.allWrites[v];if(C.writeId===d)return C}return null}(p.pendingWriteTree_,d);if(function(p,d){var v=p.allWrites.findIndex(function(ee){return ee.writeId===d});(0,V.assert)(v>=0,"removeWrite called with nonexistent writeId.");var C=p.allWrites[v];p.allWrites.splice(v,1);for(var T=C.visible,D=!1,O=p.allWrites.length-1;T&&O>=0;){var j=p.allWrites[O];j.visible&&(O>=v&&s1(j,C.path)?T=!1:Yn(C.path,j.path)&&(D=!0)),O--}return!!T&&(D?(function(p){p.visibleWrites=Eo(p.allWrites,f3,ft()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(C.snap?p.visibleWrites=X2(p.visibleWrites,C.path):mt(C.children,function(ee){p.visibleWrites=X2(p.visibleWrites,nn(C.path,ee))}),!0))}(p.pendingWriteTree_,d)){var D=new Wi(null);return null!=C.snap?D=D.set(ft(),!0):mt(C.children,function(O){D=D.set(new jt(O),!0)}),Ji(p,new s3(C.path,D,v))}return[]}function Ys(p,d,v){return Ji(p,new e2({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,v))}function yl(p,d,v,C){var T=d._path,D=p.syncPointTree_.get(T),O=[];if(D&&("default"===d._queryIdentifier||p3(D,d))){var j=function(p,d,v,C){var T,D,O=d._queryIdentifier,j=[],Z=[],ee=ms(p);if("default"===O)try{for(var ne=(0,he.__values)(p.views.entries()),be=ne.next();!be.done;be=ne.next()){var rt,Pe=(0,he.__read)(be.value,2),We=Pe[0];Z=Z.concat(Ws(rt=Pe[1],v,C)),Aa(rt)&&(p.views.delete(We),rt.query._queryParams.loadsAllData()||j.push(rt.query))}}catch(Ue){T={error:Ue}}finally{try{be&&!be.done&&(D=ne.return)&&D.call(ne)}finally{if(T)throw T.error}}else(rt=p.views.get(O))&&(Z=Z.concat(Ws(rt,v,C)),Aa(rt)&&(p.views.delete(O),rt.query._queryParams.loadsAllData()||j.push(rt.query)));return ee&&!ms(p)&&j.push(new((0,V.assert)(nc,"Reference.ts has not been loaded"),nc)(d._repo,d._path)),{removed:j,events:Z}}(D,d,v,C);(function(p){return 0===p.views.size})(D)&&(p.syncPointTree_=p.syncPointTree_.remove(T));var Z=j.removed;O=j.events;var ee=-1!==Z.findIndex(function(Gn){return Gn._queryParams.loadsAllData()}),ne=p.syncPointTree_.findOnPath(T,function(Gn,no){return ms(no)});if(ee&&!ne){var be=p.syncPointTree_.subtree(T);if(!be.isEmpty())for(var Pe=function(p){return p.fold(function(d,v,C){if(v&&ms(v))return[zr(v)];var D=[];return v&&(D=d3(v)),mt(C,function(O,j){D=D.concat(j)}),D})}(be),We=0;We<Pe.length;++We){var rt=Pe[We],Ue=rt.query,At=_l(p,rt);p.listenProvider_.startListening(Qs(Ue),p1(p,Ue),At.hashFn,At.onComplete)}}!ne&&Z.length>0&&!C&&(ee?p.listenProvider_.stopListening(Qs(d),null):Z.forEach(function(Gn){var no=p.queryToTagMap.get(m1(Gn));p.listenProvider_.stopListening(Qs(Gn),no)})),function(p,d){for(var v=0;v<d.length;++v){var C=d[v];if(!C._queryParams.loadsAllData()){var T=m1(C),D=p.queryToTagMap.get(T);p.queryToTagMap.delete(T),p.tagToQueryMap.delete(D)}}}(p,Z)}return O}function p0(p,d,v){var C=d._path,T=null,D=!1;p.syncPointTree_.foreachOnPath(C,function(Ue,At){var Xe=er(Ue,C);T=T||h1(At,Xe),D=D||ms(At)});var j,O=p.syncPointTree_.get(C);O?(D=D||ms(O),T=T||h1(O,ft())):(O=new cu,p.syncPointTree_=p.syncPointTree_.set(C,O)),null!=T?j=!0:(j=!1,T=Lt.EMPTY_NODE,p.syncPointTree_.subtree(C).foreachChild(function(Ue,At){var Xe=h1(At,ft());Xe&&(T=T.updateImmediateChild(Ue,Xe))}));var ee=p3(O,d);if(!ee&&!d._queryParams.loadsAllData()){var ne=m1(d);(0,V.assert)(!p.queryToTagMap.has(ne),"View does not exist, but we have a tag");var be=uu++;p.queryToTagMap.set(ne,be),p.tagToQueryMap.set(be,ne)}var We=function(p,d,v,C,T,D){var O=f0(p,d,C,T,D);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,O),function(p,d){p.eventRegistrations_.push(d)}(O,v),function(p,d){var v=p.viewCache_.eventCache,C=[];return v.getNode().isLeafNode()||v.getNode().forEachChild(Ln,function(D,O){C.push(ya(D,O))}),v.isFullyInitialized()&&C.push(xi(v.getNode())),gl(p,C,v.getNode(),d)}(O,v)}(O,d,v,ds(p.pendingWriteTree_,C),T,j);if(!ee&&!D){var rt=kh(O,d);We=We.concat(function(p,d,v){var C=d._path,T=p1(p,d),D=_l(p,v),O=p.listenProvider_.startListening(Qs(d),T,D.hashFn,D.onComplete),j=p.syncPointTree_.subtree(C);if(T)(0,V.assert)(!ms(j.value),"If we're adding a query, it shouldn't be shadowed");else for(var Z=j.fold(function(be,Pe,We){if(!qt(be)&&Pe&&ms(Pe))return[zr(Pe).query];var rt=[];return Pe&&(rt=rt.concat(d3(Pe).map(function(Ue){return Ue.query}))),mt(We,function(Ue,At){rt=rt.concat(At)}),rt}),ee=0;ee<Z.length;++ee){var ne=Z[ee];p.listenProvider_.stopListening(Qs(ne),p1(p,ne))}return O}(p,d,rt))}return We}function Yi(p,d,v){var T=p.pendingWriteTree_,D=p.syncPointTree_.findOnPath(d,function(O,j){var ee=h1(j,er(O,d));if(ee)return ee});return tc(T,d,D,v,!0)}function Ji(p,d){return o2(d,p.syncPointTree_,null,ds(p.pendingWriteTree_,ft()))}function o2(p,d,v,C){if(qt(p.path))return ic(p,d,v,C);var T=d.get(ft());null==v&&null!=T&&(v=h1(T,ft()));var D=[],O=Wt(p.path),j=p.operationForChild(O),Z=d.children.get(O);if(Z&&j){var ee=v?v.getImmediateChild(O):null,ne=ps(C,O);D=D.concat(o2(j,Z,ee,ne))}return T&&(D=D.concat(l0(T,p,C,v))),D}function ic(p,d,v,C){var T=d.get(ft());null==v&&null!=T&&(v=h1(T,ft()));var D=[];return d.children.inorderTraversal(function(O,j){var Z=v?v.getImmediateChild(O):null,ee=ps(C,O),ne=p.operationForChild(O);ne&&(D=D.concat(ic(ne,j,Z,ee)))}),T&&(D=D.concat(l0(T,p,C,v))),D}function _l(p,d){var v=d.query,C=p1(p,v);return{hashFn:function(){return(function(p){return p.viewCache_.serverCache.getNode()}(d)||Lt.EMPTY_NODE).hash()},onComplete:function(T){if("ok"===T)return C?function(p,d,v){var C=lu(p,v);if(C){var T=fu(C),D=T.path,O=T.queryId,j=er(D,d);return pr(p,D,new e0(X1(O),j))}return[]}(p,v._path,C):function(p,d){return Ji(p,new e0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,v._path);var D=function(p,d){var v="Unknown Error";"too_big"===p?v="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?v="Client doesn't have permission to access the desired data.":"unavailable"===p&&(v="The service is unavailable");var C=new Error(p+" at "+d._path.toString()+": "+v);return C.code=p.toUpperCase(),C}(T,v);return yl(p,v,null,D)}}}function p1(p,d){var v=m1(d);return p.queryToTagMap.get(v)}function m1(p){return p._path.toString()+"$"+p._queryIdentifier}function lu(p,d){return p.tagToQueryMap.get(d)}function fu(p){var d=p.indexOf("$");return(0,V.assert)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new jt(p.substr(0,d))}}function pr(p,d,v){var C=p.syncPointTree_.get(d);return(0,V.assert)(C,"Missing sync point for query tag that we're tracking"),l0(C,v,ds(p.pendingWriteTree_,d),null)}function Qs(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new((0,V.assert)(h0,"Reference.ts has not been loaded"),h0)(p._repo,p._path):p}var oc=function(){function p(d){this.node_=d}return p.prototype.getImmediateChild=function(d){return new p(this.node_.getImmediateChild(d))},p.prototype.node=function(){return this.node_},p}(),hi=function(){function p(d,v){this.syncTree_=d,this.path_=v}return p.prototype.getImmediateChild=function(d){var v=nn(this.path_,d);return new p(this.syncTree_,v)},p.prototype.node=function(){return Yi(this.syncTree_,this.path_)},p}(),c2=function(p,d,v){return p&&"object"==typeof p?((0,V.assert)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?v3(p[".sv"],d,v):"object"==typeof p[".sv"]?du(p[".sv"],d):void(0,V.assert)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},v3=function(p,d,v){switch(p){case"timestamp":return v.timestamp;default:(0,V.assert)(!1,"Unexpected server value: "+p)}},du=function(p,d,v){p.hasOwnProperty("increment")||(0,V.assert)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));var C=p.increment;"number"!=typeof C&&(0,V.assert)(!1,"Unexpected increment value: "+C);var T=d.node();if((0,V.assert)(null!=T,"Expected ChildrenNode.EMPTY_NODE for nulls"),!T.isLeafNode())return C;var O=T.getValue();return"number"!=typeof O?C:O+C},y3=function(p,d,v,C){return Bo(d,new hi(v,p),C)},g1=function(p,d,v){return Bo(p,new oc(d),v)};function Bo(p,d,v){var D,C=p.getPriority().val(),T=c2(C,d.getImmediateChild(".priority"),v);if(p.isLeafNode()){var O=p,j=c2(O.getValue(),d,v);return j!==O.getValue()||T!==O.getPriority().val()?new e1(j,Bn(T)):p}var Z=p;return D=Z,T!==Z.getPriority().val()&&(D=D.updatePriority(new e1(T))),Z.forEachChild(Ln,function(ee,ne){var be=Bo(ne,d.getImmediateChild(ee),v);be!==ne&&(D=D.updateImmediateChild(ee,be))}),D}var jo=function(d,v,C){void 0===d&&(d=""),void 0===v&&(v=null),void 0===C&&(C={children:{},childCount:0}),this.name=d,this.parent=v,this.node=C};function Js(p,d){for(var v=d instanceof jt?d:new jt(d),C=p,T=Wt(v);null!==T;){var D=(0,V.safeGet)(C.node.children,T)||{children:{},childCount:0};C=new jo(T,C,D),T=Wt(v=Jt(v))}return C}function Tn(p){return p.node.value}function Xs(p,d){p.node.value=d,Cl(p)}function g0(p){return p.node.childCount>0}function di(p,d){mt(p.node.children,function(v,C){d(new jo(v,p,C))})}function bl(p,d,v,C){v&&!C&&d(p),di(p,function(T){bl(T,d,!0,C)}),v&&C&&d(p)}function qo(p){return new jt(null===p.parent?p.name:qo(p.parent)+"/"+p.name)}function Cl(p){null!==p.parent&&function(p,d,v){var C=function(p){return void 0===Tn(p)&&!g0(p)}(v),T=(0,V.contains)(p.node.children,d);C&&T?(delete p.node.children[d],p.node.childCount--,Cl(p)):!C&&!T&&(p.node.children[d]=v.node,p.node.childCount++,Cl(p))}(p.parent,p.name,p)}var Qr=/[\[\].#$\/\u0000-\u001F\u007F]/,pu=/[\[\].#$\u0000-\u001F\u007F]/,pi=10485760,mu=function(p){return"string"==typeof p&&0!==p.length&&!Qr.test(p)},Ia=function(p){return"string"==typeof p&&0!==p.length&&!pu.test(p)},qn=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!Ae(p)||p&&"object"==typeof p&&(0,V.contains)(p,".sv")},L=function(p,d,v,C){C&&void 0===d||ut((0,V.errorPrefix)(p,"value"),d,v)},ut=function(p,d,v){var C=v instanceof jt?new W1(v,p):v;if(void 0===d)throw new Error(p+"contains undefined "+zs(C));if("function"==typeof d)throw new Error(p+"contains a function "+zs(C)+" with contents = "+d.toString());if(Ae(d))throw new Error(p+"contains "+d.toString()+" "+zs(C));if("string"==typeof d&&d.length>pi/3&&(0,V.stringLength)(d)>pi)throw new Error(p+"contains a string greater than "+pi+" utf8 bytes "+zs(C)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var T=!1,D=!1;if(mt(d,function(O,j){if(".value"===O)T=!0;else if(".priority"!==O&&".sv"!==O&&(D=!0,!mu(O)))throw new Error(p+" contains an invalid key ("+O+") "+zs(C)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,V.stringLength)(d),Th(p)})(C,O),ut(p,j,C),function(p){var d=p.parts_.pop();p.byteLength_-=(0,V.stringLength)(d),p.parts_.length>0&&(p.byteLength_-=1)}(C)}),T&&D)throw new Error(p+' contains ".value" child '+zs(C)+" in addition to actual children.")}},Dr=function(p,d,v,C){if(!C||void 0!==d){var T=(0,V.errorPrefix)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(T+" must be an object containing the children to replace.");var D=[];mt(d,function(O,j){var Z=new jt(O);if(ut(T,j,nn(v,Z)),".priority"===K2(Z)&&!qn(j))throw new Error(T+"contains an invalid value for '"+Z.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(Z)}),function(p,d){var v,C;for(v=0;v<d.length;v++)for(var T=ss(C=d[v]),D=0;D<T.length;D++)if((".priority"!==T[D]||D!==T.length-1)&&!mu(T[D]))throw new Error(p+"contains an invalid key ("+T[D]+") in path "+C.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(_o);var O=null;for(v=0;v<d.length;v++){if(C=d[v],null!==O&&Yn(O,C))throw new Error(p+"contains a path "+O.toString()+" that is ancestor of another path "+C.toString());O=C}}(T,D)}},Sa=function(p,d,v){if(!v||void 0!==d){if(Ae(d))throw new Error((0,V.errorPrefix)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qn(d))throw new Error((0,V.errorPrefix)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},y0=function(p,d,v){if(!v||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.errorPrefix)(p,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},gs=function(p,d,v,C){if(!(C&&void 0===v||mu(v)))throw new Error((0,V.errorPrefix)(p,d)+'was an invalid key = "'+v+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Jn=function(p,d,v,C){if(!(C&&void 0===v||Ia(v)))throw new Error((0,V.errorPrefix)(p,d)+'was an invalid path = "'+v+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},br=function(p,d){if(".info"===Wt(d))throw new Error(p+" failed = Can't modify data under /.info/")},_0=function(p,d){var v=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!mu(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==v.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Ia(p)}(v))throw new Error((0,V.errorPrefix)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},b0=function(p,d,v,C){if((!C||void 0!==v)&&"boolean"!=typeof v)throw new Error((0,V.errorPrefix)(p,d)+"must be a boolean.")},C0=function(){this.eventLists_=[],this.recursionDepth_=0};function Jr(p,d){for(var v=null,C=0;C<d.length;C++){var T=d[C],D=T.getPath();null!==v&&!Bc(D,v.path)&&(p.eventLists_.push(v),v=null),null===v&&(v={events:[],path:D}),v.events.push(T)}v&&p.eventLists_.push(v)}function sc(p,d,v){Jr(p,v),gu(p,function(C){return Bc(C,d)})}function Xr(p,d,v){Jr(p,v),gu(p,function(C){return Yn(C,d)||Yn(d,C)})}function gu(p,d){p.recursionDepth_++;for(var v=!0,C=0;C<p.eventLists_.length;C++){var T=p.eventLists_[C];T&&(d(T.path)?(Oh(p.eventLists_[C]),p.eventLists_[C]=null):v=!1)}v&&(p.eventLists_=[]),p.recursionDepth_--}function Oh(p){for(var d=0;d<p.events.length;d++){var v=p.events[d];if(null!==v){p.events[d]=null;var C=v.getEventRunner();Oe&&Qe("event: "+v.toString()),ji(C)}}}var w0="repo_interrupt",l2=function(){function p(d,v,C,T){this.repoInfo_=d,this.forceRestClient_=v,this.authTokenProvider_=C,this.appCheckProvider_=T,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new C0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=r1(),this.transactionQueueTree_=new jo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},p}();function El(p){var v=p.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+v}function Mo(p){return function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p}({timestamp:El(p)})}function Go(p,d,v,C,T){p.dataUpdateCount++;var D=new jt(d);v=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,v):v;var O=[];if(T)if(C){var j=(0,V.map)(v,function(Pe){return Bn(Pe)});O=function(p,d,v,C){var T=lu(p,C);if(T){var D=fu(T),O=D.path,j=D.queryId,Z=er(O,d),ee=Wi.fromObject(v);return pr(p,O,new qs(X1(j),Z,ee))}return[]}(p.serverSyncTree_,D,j,T)}else{var Z=Bn(v);O=function(p,d,v,C){var T=lu(p,C);if(null!=T){var D=fu(T),O=D.path,j=D.queryId,Z=er(O,d);return pr(p,O,new e2(X1(j),Z,v))}return[]}(p.serverSyncTree_,D,Z,T)}else if(C){var ee=(0,V.map)(v,function(Pe){return Bn(Pe)});O=function(p,d,v){var C=Wi.fromObject(v);return Ji(p,new qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,C))}(p.serverSyncTree_,D,ee)}else{var ne=Bn(v);O=Ys(p.serverSyncTree_,D,ne)}var be=D;O.length>0&&(be=h2(p,D)),Xr(p.eventQueue_,be,O)}function Da(p,d){yu(p,"connected",d),!1===d&&function(p){_1(p,"onDisconnectEvents");var d=Mo(p),v=r1();Yr(p.onDisconnect_,ft(),function(T,D){var O=y3(T,D,p.serverSyncTree_,d);_a(v,T,O)});var C=[];Yr(v,ft(),function(T,D){C=C.concat(Ys(p.serverSyncTree_,T,D));var O=b1(p,T);h2(p,O)}),p.onDisconnect_=r1(),Xr(p.eventQueue_,ft(),C)}(p)}function yu(p,d,v){var C=new jt("/.info/"+d),T=Bn(v);p.infoData_.updateSnapshot(C,T);var D=Ys(p.infoSyncTree_,C,T);Xr(p.eventQueue_,C,D)}function ei(p){return p.nextWriteId_++}function ys(p,d,v,C,T){_1(p,"set",{path:d.toString(),value:v,priority:C});var D=Mo(p),O=Bn(v,C),j=Yi(p.serverSyncTree_,d),Z=g1(O,j,D),ee=ei(p),ne=rc(p.serverSyncTree_,d,Z,ee,!0);Jr(p.eventQueue_,ne),p.server_.put(d.toString(),O.val(!0),function(Pe,We){var rt="ok"===Pe;rt||yn("set at "+d+" failed: "+Pe);var Ue=Vr(p.serverSyncTree_,ee,!rt);Xr(p.eventQueue_,d,Ue),To(0,T,Pe,We)});var be=b1(p,d);h2(p,be),Xr(p.eventQueue_,be,[])}function Al(p,d,v){p.server_.onDisconnectCancel(d.toString(),function(C,T){"ok"===C&&zn(p.onDisconnect_,d),To(0,v,C,T)})}function A0(p,d,v,C){var T=Bn(v);p.server_.onDisconnectPut(d.toString(),T.val(!0),function(D,O){"ok"===D&&_a(p.onDisconnect_,d,T),To(0,C,D,O)})}function cc(p,d,v){var C;C=".info"===Wt(d._path)?yl(p.infoSyncTree_,d,v):yl(p.serverSyncTree_,d,v),sc(p.eventQueue_,d._path,C)}function Fr(p){p.persistentConnection_&&p.persistentConnection_.interrupt(w0)}function _1(p){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];var C="";p.persistentConnection_&&(C=p.persistentConnection_.id+":"),Qe.apply(void 0,(0,he.__spreadArray)([C],(0,he.__read)(d)))}function To(p,d,v,C){d&&ji(function(){if("ok"===v)d(null);else{var T=(v||"error").toUpperCase(),D=T;C&&(D+=": "+C);var O=new Error(D);O.code=T,d(O)}})}function mi(p,d,v){return Yi(p.serverSyncTree_,d,v)||Lt.EMPTY_NODE}function Zo(p,d){if(void 0===d&&(d=p.transactionQueueTree_),d||Na(p,d),Tn(d)){var v=Tl(p,d);(0,V.assert)(v.length>0,"Sending zero length transaction queue"),v.every(function(T){return 0===T.status})&&function(p,d,v){for(var C=v.map(function(Pe){return Pe.currentWriteId}),T=mi(p,d,C),D=T,O=T.hash(),j=0;j<v.length;j++){var Z=v[j];(0,V.assert)(0===Z.status,"tryToSendTransactionQueue_: items in queue should all be run."),Z.status=1,Z.retryCount++;var ee=er(d,Z.path);D=D.updateChild(ee,Z.currentOutputSnapshotRaw)}var ne=D.val(!0),be=d;p.server_.put(be.toString(),ne,function(Pe){_1(p,"transaction put response",{path:be.toString(),status:Pe});var We=[];if("ok"===Pe){for(var rt=[],Ue=function(Xe){v[Xe].status=2,We=We.concat(Vr(p.serverSyncTree_,v[Xe].currentWriteId)),v[Xe].onComplete&&rt.push(function(){return v[Xe].onComplete(null,!0,v[Xe].currentOutputSnapshotResolved)}),v[Xe].unwatcher()},At=0;At<v.length;At++)Ue(At);for(Na(p,Js(p.transactionQueueTree_,d)),Zo(p,p.transactionQueueTree_),Xr(p.eventQueue_,d,We),At=0;At<rt.length;At++)ji(rt[At])}else{if("datastale"===Pe)for(At=0;At<v.length;At++)v[At].status=3===v[At].status?4:0;else for(yn("transaction at "+be.toString()+" failed: "+Pe),At=0;At<v.length;At++)v[At].status=4,v[At].abortReason=Pe;h2(p,d)}},O)}(p,qo(d),v)}else g0(d)&&di(d,function(T){Zo(p,T)})}function h2(p,d){var v=Ph(p,d),C=qo(v);return function(p,d,v){if(0!==d.length){for(var C=[],T=[],O=d.filter(function(ee){return 0===ee.status}).map(function(ee){return ee.currentWriteId}),j=function(ee){var We,ne=d[ee],be=er(v,ne.path),Pe=!1;if((0,V.assert)(null!==be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ne.status)Pe=!0,We=ne.abortReason,T=T.concat(Vr(p.serverSyncTree_,ne.currentWriteId,!0));else if(0===ne.status)if(ne.retryCount>=25)Pe=!0,We="maxretry",T=T.concat(Vr(p.serverSyncTree_,ne.currentWriteId,!0));else{var rt=mi(p,ne.path,O);ne.currentInputSnapshot=rt;var Ue=d[ee].update(rt.val());if(void 0!==Ue){ut("transaction failed: Data returned ",Ue,ne.path);var At=Bn(Ue);"object"==typeof Ue&&null!=Ue&&(0,V.contains)(Ue,".priority")||(At=At.updatePriority(rt.getPriority()));var Gn=ne.currentWriteId,no=Mo(p),ia=g1(At,rt,no);ne.currentOutputSnapshotRaw=At,ne.currentOutputSnapshotResolved=ia,ne.currentWriteId=ei(p),O.splice(O.indexOf(Gn),1),T=(T=T.concat(rc(p.serverSyncTree_,ne.path,ia,ne.currentWriteId,ne.applyLocally))).concat(Vr(p.serverSyncTree_,Gn,!0))}else Pe=!0,We="nodata",T=T.concat(Vr(p.serverSyncTree_,ne.currentWriteId,!0))}Xr(p.eventQueue_,v,T),T=[],Pe&&(d[ee].status=2,setTimeout(d[ee].unwatcher,Math.floor(0)),d[ee].onComplete&&C.push("nodata"===We?function(){return d[ee].onComplete(null,!1,d[ee].currentInputSnapshot)}:function(){return d[ee].onComplete(new Error(We),!1,null)}))},Z=0;Z<d.length;Z++)j(Z);for(Na(p,p.transactionQueueTree_),Z=0;Z<C.length;Z++)ji(C[Z]);Zo(p,p.transactionQueueTree_)}}(p,Tl(p,v),C),C}function Ph(p,d){var v,C=p.transactionQueueTree_;for(v=Wt(d);null!==v&&void 0===Tn(C);)C=Js(C,v),v=Wt(d=Jt(d));return C}function Tl(p,d){var v=[];return w3(p,d,v),v.sort(function(C,T){return C.order-T.order}),v}function w3(p,d,v){var C=Tn(d);if(C)for(var T=0;T<C.length;T++)v.push(C[T]);di(d,function(D){w3(p,D,v)})}function Na(p,d){var v=Tn(d);if(v){for(var C=0,T=0;T<v.length;T++)2!==v[T].status&&(v[C]=v[T],C++);v.length=C,Xs(d,v.length>0?v:void 0)}di(d,function(D){Na(p,D)})}function b1(p,d){var v=qo(Ph(p,d)),C=Js(p.transactionQueueTree_,d);return function(p,d,v){for(var C=p.parent;null!==C;){if(d(C))return!0;C=C.parent}}(C,function(T){Io(p,T)}),Io(p,C),bl(C,function(T){Io(p,T)}),v}function Io(p,d){var v=Tn(d);if(v){for(var C=[],T=[],D=-1,O=0;O<v.length;O++)3===v[O].status||(1===v[O].status?((0,V.assert)(D===O-1,"All SENT items should be at beginning of queue."),D=O,v[O].status=3,v[O].abortReason="set"):((0,V.assert)(0===v[O].status,"Unexpected transaction status in abort"),v[O].unwatcher(),T=T.concat(Vr(p.serverSyncTree_,v[O].currentWriteId,!0)),v[O].onComplete&&C.push(v[O].onComplete.bind(null,new Error("set"),!1,null))));for(-1===D?Xs(d,void 0):v.length=D+1,Xr(p.eventQueue_,qo(d),T),O=0;O<C.length;O++)ji(C[O])}}var bs=function(p,d){var v=xl(p),C=v.namespace;return"firebase.com"===v.domain&&Zt(v.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!C||"undefined"===C)&&"localhost"!==v.domain&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),v.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Un(v.host,v.secure,C,d,"ws"===v.scheme||"wss"===v.scheme,"",C!==v.subdomain),path:new jt(v.pathString)}},xl=function(p){var d="",v="",C="",T="",D="",O=!0,j="https",Z=443;if("string"==typeof p){var ee=p.indexOf("//");ee>=0&&(j=p.substring(0,ee-1),p=p.substring(ee+2));var ne=p.indexOf("/");-1===ne&&(ne=p.length);var be=p.indexOf("?");-1===be&&(be=p.length),d=p.substring(0,Math.min(ne,be)),ne<be&&(T=function(p){for(var d="",v=p.split("/"),C=0;C<v.length;C++)if(v[C].length>0){var T=v[C];try{T=decodeURIComponent(T.replace(/\+/g," "))}catch(D){}d+="/"+T}return d}(p.substring(ne,be)));var Pe=function(p){var d,v,C={};"?"===p.charAt(0)&&(p=p.substring(1));try{for(var T=(0,he.__values)(p.split("&")),D=T.next();!D.done;D=T.next()){var O=D.value;if(0!==O.length){var j=O.split("=");2===j.length?C[decodeURIComponent(j[0])]=decodeURIComponent(j[1]):yn("Invalid query segment '"+O+"' in query '"+p+"'")}}}catch(Z){d={error:Z}}finally{try{D&&!D.done&&(v=T.return)&&v.call(T)}finally{if(d)throw d.error}}return C}(p.substring(Math.min(p.length,be)));(ee=d.indexOf(":"))>=0?(O="https"===j||"wss"===j,Z=parseInt(d.substring(ee+1),10)):ee=d.length;var We=d.slice(0,ee);if("localhost"===We.toLowerCase())v="localhost";else if(We.split(".").length<=2)v=We;else{var rt=d.indexOf(".");C=d.substring(0,rt).toLowerCase(),v=d.substring(rt+1),D=C}"ns"in Pe&&(D=Pe.ns)}return{host:d,port:Z,domain:v,subdomain:C,secure:O,scheme:j,pathString:T,namespace:D}},E3=function(){function p(d,v,C,T){this.eventType=d,this.eventRegistration=v,this.snapshot=C,this.prevName=T}return p.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},p.prototype.getEventType=function(){return this.eventType},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.stringify)(this.snapshot.exportVal())},p}(),ea=function(){function p(d,v,C){this.eventRegistration=d,this.error=v,this.path=C}return p.prototype.getPath=function(){return this.path},p.prototype.getEventType=function(){return"cancel"},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.path.toString()+":cancel"},p}(),C1=function(){function p(d,v){this.snapshotCallback=d,this.cancelCallback=v}return p.prototype.onValue=function(d,v){this.snapshotCallback.call(null,d,v)},p.prototype.onCancel=function(d){return(0,V.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(p.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),p.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},p}(),uc=function(){function p(d,v){this._repo=d,this._path=v}return p.prototype.cancel=function(){var d=new V.Deferred;return Al(this._repo,this._path,d.wrapCallback(function(){})),d.promise},p.prototype.remove=function(){br("OnDisconnect.remove",this._path);var d=new V.Deferred;return A0(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},p.prototype.set=function(d){br("OnDisconnect.set",this._path),L("OnDisconnect.set",d,this._path,!1);var v=new V.Deferred;return A0(this._repo,this._path,d,v.wrapCallback(function(){})),v.promise},p.prototype.setWithPriority=function(d,v){br("OnDisconnect.setWithPriority",this._path),L("OnDisconnect.setWithPriority",d,this._path,!1),Sa("OnDisconnect.setWithPriority",v,!1);var C=new V.Deferred;return function(p,d,v,C,T){var D=Bn(v,C);p.server_.onDisconnectPut(d.toString(),D.val(!0),function(O,j){"ok"===O&&_a(p.onDisconnect_,d,D),To(0,T,O,j)})}(this._repo,this._path,d,v,C.wrapCallback(function(){})),C.promise},p.prototype.update=function(d){br("OnDisconnect.update",this._path),Dr("OnDisconnect.update",d,this._path,!1);var v=new V.Deferred;return function(p,d,v,C){if((0,V.isEmpty)(v))return Qe("onDisconnect().update() called with empty data.  Don't do anything."),void To(0,C,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),v,function(T,D){"ok"===T&&mt(v,function(O,j){var Z=Bn(j);_a(p.onDisconnect_,nn(d,O),Z)}),To(0,C,T,D)})}(this._repo,this._path,d,v.wrapCallback(function(){})),v.promise},p}(),Hr=function(){function p(d,v,C,T){this._repo=d,this._path=v,this._queryParams=C,this._orderByCalled=T}return Object.defineProperty(p.prototype,"key",{get:function(){return qt(this._path)?null:K2(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ref",{get:function(){return new pn(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryIdentifier",{get:function(){var d=js(this._queryParams),v=_n(d);return"{}"===v?"default":v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryObject",{get:function(){return js(this._queryParams)},enumerable:!1,configurable:!0}),p.prototype.isEqual=function(d){if(!((d=(0,V.getModularInstance)(d))instanceof p))return!1;var v=this._repo===d._repo,C=Bc(this._path,d._path);return v&&C&&this._queryIdentifier===d._queryIdentifier},p.prototype.toJSON=function(){return this.toString()},p.prototype.toString=function(){return this._repo.toString()+function(p){for(var d="",v=p.pieceNum_;v<p.pieces_.length;v++)""!==p.pieces_[v]&&(d+="/"+encodeURIComponent(String(p.pieces_[v])));return d||"/"}(this._path)},p}();function _u(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function $o(p){var d=null,v=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(v=p.getIndexEndValue()),p.getIndex()===cs){var C="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",T="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==we)throw new Error(C);if("string"!=typeof d)throw new Error(T)}if(p.hasEnd()){if(p.getIndexEndName()!==Be)throw new Error(C);if("string"!=typeof v)throw new Error(T)}}else if(p.getIndex()===Ln){if(null!=d&&!qn(d)||null!=v&&!qn(v))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.assert)(p.getIndex()instanceof va||p.getIndex()===Q1,"unknown index type."),null!=d&&"object"==typeof d||null!=v&&"object"==typeof v)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function d2(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pn=function(p){function d(v,C){return p.call(this,v,C,new ul,!1)||this}return(0,he.__extends)(d,p),Object.defineProperty(d.prototype,"parent",{get:function(){var v=Kr(this._path);return null===v?null:new d(this._repo,v)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var v=this;null!==v.parent;)v=v.parent;return v},enumerable:!1,configurable:!0}),d}(Hr),w1=function(){function p(d,v,C){this._node=d,this.ref=v,this._index=C}return Object.defineProperty(p.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),p.prototype.child=function(d){var v=new jt(d),C=Cs(this.ref,d);return new p(this._node.getChild(v),C,Ln)},p.prototype.exists=function(){return!this._node.isEmpty()},p.prototype.exportVal=function(){return this._node.val(!0)},p.prototype.forEach=function(d){var v=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(T,D){return d(new p(D,Cs(v.ref,T),Ln))})},p.prototype.hasChild=function(d){var v=new jt(d);return!this._node.getChild(v).isEmpty()},p.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},p.prototype.toJSON=function(){return this.exportVal()},p.prototype.val=function(){return this._node.val()},p}();function lc(p,d){return(p=(0,V.getModularInstance)(p))._checkNotDeleted("ref"),void 0!==d?Cs(p._root,d):p._root}function fc(p,d){(p=(0,V.getModularInstance)(p))._checkNotDeleted("refFromURL");var v=bs(d,p._repo.repoInfo_.nodeAdmin);_0("refFromURL",v);var C=v.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&C.host!==p._repo.repoInfo_.host&&Zt("refFromURL: Host name does not match the current database: (found "+C.host+" but expected "+p._repo.repoInfo_.host+")"),lc(p,v.path.toString())}function Cs(p,d){return null===Wt((p=(0,V.getModularInstance)(p))._path)?((v=d)&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),Jn("child","path",v,!1)):Jn("child","path",d,!1),new pn(p._repo,nn(p._path,d));var v}function ni(p,d){p=(0,V.getModularInstance)(p),br("push",p._path),L("push",d,p._path,!0);var O,v=El(p._repo),C=Q4(v),T=Cs(p,C),D=Cs(p,C);return O=null!=d?I0(D,d).then(function(){return D}):Promise.resolve(D),T.then=O.then.bind(O),T.catch=O.then.bind(O,void 0),T}function Sl(p){return br("remove",p._path),I0(p,null)}function I0(p,d){p=(0,V.getModularInstance)(p),br("set",p._path),L("set",d,p._path,!1);var v=new V.Deferred;return ys(p._repo,p._path,d,null,v.wrapCallback(function(){})),v.promise}function p2(p,d){p=(0,V.getModularInstance)(p),br("setPriority",p._path),Sa("setPriority",d,!1);var v=new V.Deferred;return ys(p._repo,nn(p._path,".priority"),d,null,v.wrapCallback(function(){})),v.promise}function Vh(p,d,v){if(br("setWithPriority",p._path),L("setWithPriority",d,p._path,!1),Sa("setWithPriority",v,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";var C=new V.Deferred;return ys(p._repo,p._path,d,v,C.wrapCallback(function(){})),C.promise}function Nd(p,d){Dr("update",d,p._path,!1);var v=new V.Deferred;return function(p,d,v,C){_1(p,"update",{path:d.toString(),value:v});var T=!0,D=Mo(p),O={};if(mt(v,function(ee,ne){T=!1,O[ee]=y3(nn(d,ee),Bn(ne),p.serverSyncTree_,D)}),T)Qe("update() called with empty data.  Don't do anything."),To(0,C,"ok",void 0);else{var j=ei(p),Z=function(p,d,v,C){!function(p,d,v,C){(0,V.assert)(C>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:v,writeId:C,visible:!0}),p.visibleWrites=ba(p.visibleWrites,d,v),p.lastWriteId=C}(p.pendingWriteTree_,d,v,C);var T=Wi.fromObject(v);return Ji(p,new qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,T))}(p.serverSyncTree_,d,O,j);Jr(p.eventQueue_,Z),p.server_.merge(d.toString(),v,function(ee,ne){var be="ok"===ee;be||yn("update at "+d+" failed: "+ee);var Pe=Vr(p.serverSyncTree_,j,!be),We=Pe.length>0?h2(p,d):d;Xr(p.eventQueue_,We,Pe),To(0,C,ee,ne)}),mt(v,function(ee){var ne=b1(p,nn(d,ee));h2(p,ne)}),Xr(p.eventQueue_,d,[])}}(p._repo,p._path,d,v.wrapCallback(function(){})),v.promise}function x0(p){return function(p,d){var v=function(p,d){var v=d._path,C=null;p.syncPointTree_.foreachOnPath(v,function(ee,ne){var be=er(ee,v);C=C||h1(ne,be)});var T=p.syncPointTree_.get(v);T?C=C||h1(T,ft()):(T=new cu,p.syncPointTree_=p.syncPointTree_.set(v,T));var D=null!=C,O=D?new Di(C,!0,!1):null;return function(p){return n0(p.viewCache_)}(f0(T,d,ds(p.pendingWriteTree_,d._path),D?O.getNode():Lt.EMPTY_NODE,D))}(p.serverSyncTree_,d);return null!=v?Promise.resolve(v):p.server_.get(d).then(function(C){var T=Bn(C).withIndex(d._queryParams.getIndex()),D=Ys(p.serverSyncTree_,d._path,T);return sc(p.eventQueue_,d._path,D),Promise.resolve(T)},function(C){return _1(p,"get for query "+(0,V.stringify)(d)+" failed: "+C),Promise.reject(new Error(C))})}((p=(0,V.getModularInstance)(p))._repo,p).then(function(d){return new w1(d,new pn(p._repo,p._path),p._queryParams.getIndex())})}var ka=function(){function p(d){this.callbackContext=d}return p.prototype.respondsTo=function(d){return"value"===d},p.prototype.createEvent=function(d,v){var C=v._queryParams.getIndex();return new E3("value",this,new w1(d.snapshotNode,new pn(v._repo,v._path),C))},p.prototype.getEventRunner=function(d){var v=this;return"cancel"===d.getEventType()?function(){return v.callbackContext.onCancel(d.error)}:function(){return v.callbackContext.onValue(d.snapshot,null)}},p.prototype.createCancelEvent=function(d,v){return this.callbackContext.hasCancelCallback?new ea(this,d,v):null},p.prototype.matches=function(d){return d instanceof p&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},p.prototype.hasAnyCallback=function(){return null!==this.callbackContext},p}(),Rn=function(){function p(d,v){this.eventType=d,this.callbackContext=v}return p.prototype.respondsTo=function(d){var v="children_added"===d?"child_added":d;return this.eventType===("children_removed"===v?"child_removed":v)},p.prototype.createCancelEvent=function(d,v){return this.callbackContext.hasCancelCallback?new ea(this,d,v):null},p.prototype.createEvent=function(d,v){(0,V.assert)(null!=d.childName,"Child events should have a childName.");var C=Cs(new pn(v._repo,v._path),d.childName),T=v._queryParams.getIndex();return new E3(d.type,this,new w1(d.snapshotNode,C,T),d.prevName)},p.prototype.getEventRunner=function(d){var v=this;return"cancel"===d.getEventType()?function(){return v.callbackContext.onCancel(d.error)}:function(){return v.callbackContext.onValue(d.snapshot,d.prevName)}},p.prototype.matches=function(d){return d instanceof p&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},p.prototype.hasAnyCallback=function(){return!!this.callbackContext},p}();function ta(p,d,v,C,T){var D;if("object"==typeof C&&(D=void 0,T=C),"function"==typeof C&&(D=C),T&&T.onlyOnce){var O=v,j=function(ne,be){cc(p._repo,p,ee),O(ne,be)};j.userCallback=v.userCallback,j.context=v.context,v=j}var Z=new C1(v,D||void 0),ee="value"===d?new ka(Z):new Rn(d,Z);return function(p,d,v){var C;C=".info"===Wt(d._path)?p0(p.infoSyncTree_,d,v):p0(p.serverSyncTree_,d,v),sc(p.eventQueue_,d._path,C)}(p._repo,p,ee),function(){return cc(p._repo,p,ee)}}function Oi(p,d,v,C){return ta(p,"value",d,v,C)}function S0(p,d,v,C){return ta(p,"child_added",d,v,C)}function ri(p,d,v,C){return ta(p,"child_changed",d,v,C)}function eo(p,d,v,C){return ta(p,"child_moved",d,v,C)}function xo(p,d,v,C){return ta(p,"child_removed",d,v,C)}function hc(p,d,v){var C=null,T=v?new C1(v):null;"value"===d?C=new ka(T):d&&(C=new Rn(d,T)),cc(p._repo,p,C)}var to=function(){},bu=function(p){function d(v,C){var T=p.call(this)||this;return T._value=v,T._key=C,T}return(0,he.__extends)(d,p),d.prototype._apply=function(v){L("endAt",this._value,v._path,!0);var C=Bs(v._queryParams,this._value,this._key);if(d2(C),$o(C),v._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(to);function m2(p,d){return gs("endAt","key",d,!0),new bu(p,d)}var dc=function(p){function d(v,C){var T=p.call(this)||this;return T._value=v,T._key=C,T}return(0,he.__extends)(d,p),d.prototype._apply=function(v){L("endBefore",this._value,v._path,!1);var C=function(p,d,v){var T;return p.index_===cs?("string"==typeof d&&(d=Us(d)),T=Bs(p,d,v)):T=Bs(p,d,null==v?we:Us(v)),T.endBeforeSet_=!0,T}(v._queryParams,this._value,this._key);if(d2(C),$o(C),v._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(to);function A3(p,d){return gs("endBefore","key",d,!0),new dc(p,d)}var Dl=function(p){function d(v,C){var T=p.call(this)||this;return T._value=v,T._key=C,T}return(0,he.__extends)(d,p),d.prototype._apply=function(v){L("startAt",this._value,v._path,!0);var C=t1(v._queryParams,this._value,this._key);if(d2(C),$o(C),v._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(to);function Fh(p,d){return void 0===p&&(p=null),gs("startAt","key",d,!0),new Dl(p,d)}var Hh=function(p){function d(v,C){var T=p.call(this)||this;return T._value=v,T._key=C,T}return(0,he.__extends)(d,p),d.prototype._apply=function(v){L("startAfter",this._value,v._path,!1);var C=function(p,d,v){var C;return p.index_===cs?("string"==typeof d&&(d=Wc(d)),C=t1(p,d,v)):C=t1(p,d,null==v?Be:Wc(v)),C.startAfterSet_=!0,C}(v._queryParams,this._value,this._key);if(d2(C),$o(C),v._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(to);function M3(p,d){return gs("startAfter","key",d,!0),new Hh(p,d)}var E1=function(p){function d(v){var C=p.call(this)||this;return C._limit=v,C}return(0,he.__extends)(d,p),d.prototype._apply=function(v){if(v._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(v._repo,v._path,function(p,d){var v=p.copy();return v.limitSet_=!0,v.limit_=d,v.viewFrom_="l",v}(v._queryParams,this._limit),v._orderByCalled)},d}(to);function Cu(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new E1(p)}var T3=function(p){function d(v){var C=p.call(this)||this;return C._limit=v,C}return(0,he.__extends)(d,p),d.prototype._apply=function(v){if(v._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(v._repo,v._path,function(p,d){var v=p.copy();return v.limitSet_=!0,v.limit_=d,v.viewFrom_="r",v}(v._queryParams,this._limit),v._orderByCalled)},d}(to);function Nl(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T3(p)}var Ri=function(p){function d(v){var C=p.call(this)||this;return C._path=v,C}return(0,he.__extends)(d,p),d.prototype._apply=function(v){_u(v,"orderByChild");var C=new jt(this._path);if(qt(C))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var T=new va(C),D=ui(v._queryParams,T);return $o(D),new Hr(v._repo,v._path,D,!0)},d}(to);function kl(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jn("orderByChild","path",p,!1),new Ri(p)}var Ll=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),d.prototype._apply=function(v){_u(v,"orderByKey");var C=ui(v._queryParams,cs);return $o(C),new Hr(v._repo,v._path,C,!0)},d}(to);function I3(){return new Ll}var Uh=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),d.prototype._apply=function(v){_u(v,"orderByPriority");var C=ui(v._queryParams,Ln);return $o(C),new Hr(v._repo,v._path,C,!0)},d}(to);function g2(){return new Uh}var pc=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,he.__extends)(d,p),d.prototype._apply=function(v){_u(v,"orderByValue");var C=ui(v._queryParams,Q1);return $o(C),new Hr(v._repo,v._path,C,!0)},d}(to);function x3(){return new pc}var mc=function(p){function d(v,C){var T=p.call(this)||this;return T._value=v,T._key=C,T}return(0,he.__extends)(d,p),d.prototype._apply=function(v){if(L("equalTo",this._value,v._path,!1),v._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(v._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bu(this._value,this._key)._apply(new Dl(this._value,this._key)._apply(v))},d}(to);function D0(p,d){return gs("equalTo","key",d,!0),new mc(p,d)}function Wo(p){for(var d,v,C=[],T=1;T<arguments.length;T++)C[T-1]=arguments[T];var D=(0,V.getModularInstance)(p);try{for(var O=(0,he.__values)(C),j=O.next();!j.done;j=O.next()){var Z=j.value;D=Z._apply(D)}}catch(ee){d={error:ee}}finally{try{j&&!j.done&&(v=O.return)&&v.call(O)}finally{if(d)throw d.error}}return D}(function(p){(0,V.assert)(!nc,"__referenceConstructor has already been defined"),nc=p})(pn),function(p){(0,V.assert)(!h0,"__referenceConstructor has already been defined"),h0=p}(pn);var ii={},wu=!1;function S3(p,d,v,C,T){var D=C||p.options.databaseURL;void 0===D&&(p.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",p.options.projectId),D=p.options.projectId+"-default-rtdb.firebaseio.com");var Z,O=bs(D,T),j=O.repoInfo,ee=void 0;"undefined"!=typeof process&&(ee=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ee?(Z=!0,j=(O=bs(D="http://"+ee+"?ns="+j.namespace,T)).repoInfo):Z=!O.repoInfo.secure;var ne=T&&Z?new zt(zt.OWNER):new Kt(p.name,p.options,d);_0("Invalid Firebase Database URL",O),qt(O.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");var be=function(p,d,v,C){var T=ii[d.name];T||(ii[d.name]=T={});var D=T[p.toURLString()];return D&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new l2(p,wu,v,C),T[p.toURLString()]=D,D}(j,p,ne,new Ka(p.name,v));return new jh(be,p)}var jh=function(){function p(d,v){this._repoInternal=d,this.app=v,this.type="database",this._instanceStarted=!1}return Object.defineProperty(p.prototype,"_repo",{get:function(){return this._instanceStarted||(function(p,d,v){if(p.stats_=bn(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new o3(p.repoInfo_,function(C,T,D,O){Go(p,C,T,D,O)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(function(){return Da(p,!0)},0);else{if(null!=v){if("object"!=typeof v)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.stringify)(v)}catch(C){throw new Error("Invalid authOverride provided: "+C)}}p.persistentConnection_=new K1(p.repoInfo_,d,function(C,T,D,O){Go(p,C,T,D,O)},function(C){Da(p,C)},function(C){!function(p,d){mt(d,function(v,C){yu(p,v,C)})}(p,C)},p.authTokenProvider_,p.appCheckProvider_,v),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(function(C){p.server_.refreshAuthToken(C)}),p.appCheckProvider_.addTokenChangeListener(function(C){p.server_.refreshAppCheckToken(C.token)}),p.statsReporter_=function(p,d){var v=p.toString();return Er[v]||(Er[v]=d()),Er[v]}(p.repoInfo_,function(){return new Jc(p.stats_,p.server_)}),p.infoData_=new J1,p.infoSyncTree_=new d1({startListening:function(C,T,D,O){var j=[],Z=p.infoData_.getNode(C._path);return Z.isEmpty()||(j=Ys(p.infoSyncTree_,C._path,Z),setTimeout(function(){O("ok")},0)),j},stopListening:function(){}}),yu(p,"connected",!1),p.serverSyncTree_=new d1({startListening:function(C,T,D,O){return p.server_.listen(C,D,T,function(j,Z){var ee=O(j,Z);Xr(p.eventQueue_,C._path,ee)}),[]},stopListening:function(C,T){p.server_.unlisten(C,T)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new pn(this._repo,ft())),this._rootInternal},enumerable:!1,configurable:!0}),p.prototype._delete=function(){return null!==this._rootInternal&&(function(p,d){var v=ii[d];(!v||v[p.key]!==p)&&Zt("Database "+d+"("+p.repoInfo_+") has already been deleted."),Fr(p),delete v[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},p.prototype._checkNotDeleted=function(d){null===this._rootInternal&&Zt("Cannot call "+d+" on a deleted database.")},p}();function qh(p){(p=(0,V.getModularInstance)(p))._checkNotDeleted("goOffline"),Fr(p._repo)}function y2(p){(p=(0,V.getModularInstance)(p))._checkNotDeleted("goOnline"),function(p){p.persistentConnection_&&p.persistentConnection_.resume(w0)}(p._repo)}var na={".sv":"timestamp"},k3=function(){function p(d,v){this.committed=d,this.snapshot=v}return p.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}();function Ld(p,d,v){var C;if(p=(0,V.getModularInstance)(p),br("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";var T=null===(C=null==v?void 0:v.applyLocally)||void 0===C||C,D=new V.Deferred,j=Oi(p,function(){});return function(p,d,v,C,T,D){_1(p,"transaction on "+d);var O={path:d,update:v,onComplete:C,status:null,order:ke(),applyLocally:D,retryCount:0,unwatcher:T,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},j=mi(p,d,void 0);O.currentInputSnapshot=j;var Z=O.update(j.val());if(void 0===Z)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{ut("transaction failed: Data returned ",Z,O.path),O.status=0;var ee=Js(p.transactionQueueTree_,d),ne=Tn(ee)||[];ne.push(O),Xs(ee,ne);var be=void 0;"object"==typeof Z&&null!==Z&&(0,V.contains)(Z,".priority")?(be=(0,V.safeGet)(Z,".priority"),(0,V.assert)(qn(be),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):be=(Yi(p.serverSyncTree_,d)||Lt.EMPTY_NODE).getPriority().val();var We=Mo(p),rt=Bn(Z,be),Ue=g1(rt,j,We);O.currentOutputSnapshotRaw=rt,O.currentOutputSnapshotResolved=Ue,O.currentWriteId=ei(p);var At=rc(p.serverSyncTree_,d,Ue,O.currentWriteId,O.applyLocally);Xr(p.eventQueue_,d,At),Zo(p,p.transactionQueueTree_)}}(p._repo,p._path,d,function(Z,ee,ne){var be=null;Z?D.reject(Z):(be=new w1(ne,new pn(p._repo,p._path),Ln),D.resolve(new k3(ee,be)))},j,T),D.promise}var ra=function(){function p(d){this._delegate=d}return p.prototype.cancel=function(d){(0,V.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,V.validateCallback)("OnDisconnect.cancel","onComplete",d,!0);var v=this._delegate.cancel();return d&&v.then(function(){return d(null)},function(C){return d(C)}),v},p.prototype.remove=function(d){(0,V.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,V.validateCallback)("OnDisconnect.remove","onComplete",d,!0);var v=this._delegate.remove();return d&&v.then(function(){return d(null)},function(C){return d(C)}),v},p.prototype.set=function(d,v){(0,V.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,V.validateCallback)("OnDisconnect.set","onComplete",v,!0);var C=this._delegate.set(d);return v&&C.then(function(){return v(null)},function(T){return v(T)}),C},p.prototype.setWithPriority=function(d,v,C){(0,V.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.validateCallback)("OnDisconnect.setWithPriority","onComplete",C,!0);var T=this._delegate.setWithPriority(d,v);return C&&T.then(function(){return C(null)},function(D){return C(D)}),T},p.prototype.update=function(d,v){if((0,V.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var C={},T=0;T<d.length;++T)C[""+T]=d[T];d=C,yn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.validateCallback)("OnDisconnect.update","onComplete",v,!0);var D=this._delegate.update(d);return v&&D.then(function(){return v(null)},function(O){return v(O)}),D},p}(),L0=function(){function p(d,v){this.committed=d,this.snapshot=v}return p.prototype.toJSON=function(){return(0,V.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}(),_2=function(){function p(d,v){this._database=d,this._delegate=v}return p.prototype.val=function(){return(0,V.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},p.prototype.exportVal=function(){return(0,V.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},p.prototype.toJSON=function(){return(0,V.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.exists=function(){return(0,V.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},p.prototype.child=function(d){return(0,V.validateArgCount)("DataSnapshot.child",0,1,arguments.length),d=String(d),Jn("DataSnapshot.child","path",d,!1),new p(this._database,this._delegate.child(d))},p.prototype.hasChild=function(d){return(0,V.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Jn("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},p.prototype.getPriority=function(){return(0,V.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},p.prototype.forEach=function(d){var v=this;return(0,V.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,V.validateCallback)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(C){return d(new p(v._database,C))})},p.prototype.hasChildren=function(){return(0,V.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(p.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),p.prototype.numChildren=function(){return(0,V.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},p.prototype.getRef=function(){return(0,V.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new La(this._database,this._delegate.ref)},Object.defineProperty(p.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),p}(),L3=function(){function p(d,v){this.database=d,this._delegate=v}return p.prototype.on=function(d,v,C,T){var O,D=this;(0,V.validateArgCount)("Query.on",2,4,arguments.length),(0,V.validateCallback)("Query.on","callback",v,!1);var j=p.getCancelAndContextArgs_("Query.on",C,T),Z=function(ne,be){v.call(j.context,new _2(D.database,ne),be)};Z.userCallback=v,Z.context=j.context;var ee=null===(O=j.cancel)||void 0===O?void 0:O.bind(j.context);switch(d){case"value":return Oi(this._delegate,Z,ee),v;case"child_added":return S0(this._delegate,Z,ee),v;case"child_removed":return xo(this._delegate,Z,ee),v;case"child_changed":return ri(this._delegate,Z,ee),v;case"child_moved":return eo(this._delegate,Z,ee),v;default:throw new Error((0,V.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},p.prototype.off=function(d,v,C){if((0,V.validateArgCount)("Query.off",0,3,arguments.length),y0("Query.off",d,!0),(0,V.validateCallback)("Query.off","callback",v,!0),(0,V.validateContextObject)("Query.off","context",C,!0),v){var T=function(){};T.userCallback=v,T.context=C,hc(this._delegate,d,T)}else hc(this._delegate,d)},p.prototype.get=function(){var d=this;return x0(this._delegate).then(function(v){return new _2(d.database,v)})},p.prototype.once=function(d,v,C,T){var D=this;(0,V.validateArgCount)("Query.once",1,4,arguments.length),(0,V.validateCallback)("Query.once","callback",v,!0);var O=p.getCancelAndContextArgs_("Query.once",C,T),j=new V.Deferred,Z=function(ne,be){var Pe=new _2(D.database,ne);v&&v.call(O.context,Pe,be),j.resolve(Pe)};Z.userCallback=v,Z.context=O.context;var ee=function(ne){O.cancel&&O.cancel.call(O.context,ne),j.reject(ne)};switch(d){case"value":Oi(this._delegate,Z,ee,{onlyOnce:!0});break;case"child_added":S0(this._delegate,Z,ee,{onlyOnce:!0});break;case"child_removed":xo(this._delegate,Z,ee,{onlyOnce:!0});break;case"child_changed":ri(this._delegate,Z,ee,{onlyOnce:!0});break;case"child_moved":eo(this._delegate,Z,ee,{onlyOnce:!0});break;default:throw new Error((0,V.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return j.promise},p.prototype.limitToFirst=function(d){return(0,V.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new p(this.database,Wo(this._delegate,Cu(d)))},p.prototype.limitToLast=function(d){return(0,V.validateArgCount)("Query.limitToLast",1,1,arguments.length),new p(this.database,Wo(this._delegate,Nl(d)))},p.prototype.orderByChild=function(d){return(0,V.validateArgCount)("Query.orderByChild",1,1,arguments.length),new p(this.database,Wo(this._delegate,kl(d)))},p.prototype.orderByKey=function(){return(0,V.validateArgCount)("Query.orderByKey",0,0,arguments.length),new p(this.database,Wo(this._delegate,I3()))},p.prototype.orderByPriority=function(){return(0,V.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new p(this.database,Wo(this._delegate,g2()))},p.prototype.orderByValue=function(){return(0,V.validateArgCount)("Query.orderByValue",0,0,arguments.length),new p(this.database,Wo(this._delegate,x3()))},p.prototype.startAt=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.startAt",0,2,arguments.length),new p(this.database,Wo(this._delegate,Fh(d,v)))},p.prototype.startAfter=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.startAfter",0,2,arguments.length),new p(this.database,Wo(this._delegate,M3(d,v)))},p.prototype.endAt=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.endAt",0,2,arguments.length),new p(this.database,Wo(this._delegate,m2(d,v)))},p.prototype.endBefore=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.endBefore",0,2,arguments.length),new p(this.database,Wo(this._delegate,A3(d,v)))},p.prototype.equalTo=function(d,v){return(0,V.validateArgCount)("Query.equalTo",1,2,arguments.length),new p(this.database,Wo(this._delegate,D0(d,v)))},p.prototype.toString=function(){return(0,V.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},p.prototype.toJSON=function(){return(0,V.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.isEqual=function(d){if((0,V.validateArgCount)("Query.isEqual",1,1,arguments.length),!(d instanceof p)){var v="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(v)}return this._delegate.isEqual(d._delegate)},p.getCancelAndContextArgs_=function(d,v,C){var T={cancel:void 0,context:void 0};if(v&&C)T.cancel=v,(0,V.validateCallback)(d,"cancel",T.cancel,!0),T.context=C,(0,V.validateContextObject)(d,"context",T.context,!0);else if(v)if("object"==typeof v&&null!==v)T.context=v;else{if("function"!=typeof v)throw new Error((0,V.errorPrefix)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");T.cancel=v}return T},Object.defineProperty(p.prototype,"ref",{get:function(){return new La(this.database,new pn(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),p}(),La=function(p){function d(v,C){var T=p.call(this,v,new Hr(C._repo,C._path,new ul,!1))||this;return T.database=v,T._delegate=C,T}return(0,he.__extends)(d,p),d.prototype.getKey=function(){return(0,V.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(v){return(0,V.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof v&&(v=String(v)),new d(this.database,Cs(this._delegate,v))},d.prototype.getParent=function(){(0,V.validateArgCount)("Reference.parent",0,0,arguments.length);var v=this._delegate.parent;return v?new d(this.database,v):null},d.prototype.getRoot=function(){return(0,V.validateArgCount)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(v,C){(0,V.validateArgCount)("Reference.set",1,2,arguments.length),(0,V.validateCallback)("Reference.set","onComplete",C,!0);var T=I0(this._delegate,v);return C&&T.then(function(){return C(null)},function(D){return C(D)}),T},d.prototype.update=function(v,C){if((0,V.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(v)){for(var T={},D=0;D<v.length;++D)T[""+D]=v[D];v=T,yn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}br("Reference.update",this._delegate._path),(0,V.validateCallback)("Reference.update","onComplete",C,!0);var O=Nd(this._delegate,v);return C&&O.then(function(){return C(null)},function(j){return C(j)}),O},d.prototype.setWithPriority=function(v,C,T){(0,V.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,V.validateCallback)("Reference.setWithPriority","onComplete",T,!0);var D=Vh(this._delegate,v,C);return T&&D.then(function(){return T(null)},function(O){return T(O)}),D},d.prototype.remove=function(v){(0,V.validateArgCount)("Reference.remove",0,1,arguments.length),(0,V.validateCallback)("Reference.remove","onComplete",v,!0);var C=Sl(this._delegate);return v&&C.then(function(){return v(null)},function(T){return v(T)}),C},d.prototype.transaction=function(v,C,T){var D=this;(0,V.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,V.validateCallback)("Reference.transaction","transactionUpdate",v,!1),(0,V.validateCallback)("Reference.transaction","onComplete",C,!0),b0("Reference.transaction","applyLocally",T,!0);var O=Ld(this._delegate,v,{applyLocally:T}).then(function(j){return new L0(j.committed,new _2(D.database,j.snapshot))});return C&&O.then(function(j){return C(null,j.committed,j.snapshot)},function(j){return C(j,!1,null)}),O},d.prototype.setPriority=function(v,C){(0,V.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,V.validateCallback)("Reference.setPriority","onComplete",C,!0);var T=p2(this._delegate,v);return C&&T.then(function(){return C(null)},function(D){return C(D)}),T},d.prototype.push=function(v,C){var T=this;(0,V.validateArgCount)("Reference.push",0,2,arguments.length),(0,V.validateCallback)("Reference.push","onComplete",C,!0);var D=ni(this._delegate,v),O=D.then(function(Z){return new d(T.database,Z)});C&&O.then(function(){return C(null)},function(Z){return C(Z)});var j=new d(this.database,D);return j.then=O.then.bind(O),j.catch=O.catch.bind(O,void 0),j},d.prototype.onDisconnect=function(){return br("Reference.onDisconnect",this._delegate._path),new ra(new uc(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(L3),A1=function(){function p(d,v){var C=this;this._delegate=d,this.app=v,this.INTERNAL={delete:function(){return C._delegate._delete()}}}return p.prototype.useEmulator=function(d,v,C){void 0===C&&(C={}),function(p,d,v,C){void 0===C&&(C={}),(p=(0,V.getModularInstance)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");var T=p._repoInternal,D=void 0;if(T.repoInfo_.nodeAdmin)C.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new zt(zt.OWNER);else if(C.mockUserToken){var O="string"==typeof C.mockUserToken?C.mockUserToken:(0,V.createMockUserToken)(C.mockUserToken,p.app.options.projectId);D=new zt(O)}!function(p,d,v,C){p.repoInfo_=new Un(d+":"+v,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams),C&&(p.authTokenProvider_=C)}(T,d,v,D)}(this._delegate,d,v,C)},p.prototype.ref=function(d){if((0,V.validateArgCount)("database.ref",0,1,arguments.length),d instanceof La){var v=fc(this._delegate,d.toString());return new La(this,v)}return v=lc(this._delegate,d),new La(this,v)},p.prototype.refFromURL=function(d){var v="database.refFromURL";(0,V.validateArgCount)(v,1,1,arguments.length);var C=fc(this._delegate,d);return new La(this,C)},p.prototype.goOffline=function(){return(0,V.validateArgCount)("database.goOffline",0,0,arguments.length),qh(this._delegate)},p.prototype.goOnline=function(){return(0,V.validateArgCount)("database.goOnline",0,0,arguments.length),y2(this._delegate)},p.ServerValue={TIMESTAMP:na,increment:function(d){return function(p){return{".sv":{increment:p}}}(d)}},p}(),R3=Object.freeze({__proto__:null,forceLongPolling:function(){$r.forceDisallow(),_r.forceAllow()},forceWebSockets:function(){_r.forceDisallow()},isWebSocketsAvailable:function(){return $r.isAvailable()},setSecurityDebugCallback:function(p,d){p._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(p,d){!function(p,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var v;d?(p.statsListener_||(p.statsListener_=new us(p.stats_)),v=p.statsListener_.get()):v=p.stats_.get();var C=Object.keys(v).reduce(function(T,D){return Math.max(D.length,T)},0);mt(v,function(T,D){for(var O=T,j=T.length;j<C+2;j++)O+=" ";console.log(O+D)})}}(p._delegate._repo,d)},statsIncrementCounter:function(p,d){!function(p,d){p.stats_.incrementCounter(d),function(p,d){p.statsToReport_[d]=!0}(p.statsReporter_,d)}(p._delegate._repo,d)},dataUpdateCount:function(p){return p._delegate._repo.dataUpdateCount},interceptServerData:function(p,d){return function(p,d){p.interceptServerDataCallback_=d}(p._delegate._repo,d)},initStandalone:function(p){var d=p.app,v=p.url,T=p.customAuthImpl,D=p.namespace,O=p.nodeAdmin,j=void 0!==O&&O;pe(p.version);var Z=new B.Provider("auth-internal",new B.ComponentContainer("database-standalone"));return Z.setComponent(new B.Component("auth-internal",function(){return T},"PRIVATE")),{instance:new A1(S3(d,Z,void 0,v,j),d),namespace:D}}}),P0=K1;K1.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},K1.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)};var Vl=Object.freeze({__proto__:null,DataConnection:P0,RealTimeConnection:Or,hijackHash:function(p){var d=K1.prototype.put;return K1.prototype.put=function(v,C,T,D){void 0!==D&&(D=p()),d.call(this,v,C,T,D)},function(){K1.prototype.put=d}},ConnectionTarget:Un,queryIdentifier:function(p){return p._delegate._queryIdentifier},forceRestClient:function(p){!function(p){wu=p}(p)}}),Eu=A1.ServerValue;!function(p){pe(p.SDK_VERSION);var d=p.INTERNAL.registerComponent(new B.Component("database",function(v,C){var T=C.instanceIdentifier,D=v.getProvider("app").getImmediate(),O=v.getProvider("auth-internal"),j=v.getProvider("app-check-internal");return new A1(S3(D,O,j,T),D)},"PUBLIC").setServiceProps({Reference:La,Query:L3,Database:A1,DataSnapshot:_2,enableLogging:nt,INTERNAL:R3,ServerValue:Eu,TEST_ACCESS:Vl}).setMultipleInstances(!0));p.registerVersion("@firebase/database","0.11.0"),(0,V.isNodeSdk)()&&(wt.exports=d)}(l.default)},300:(wt,je,X)=>{"use strict";function l(){for(var te=0,se=0,le=arguments.length;se<le;se++)te+=arguments[se].length;var Te=Array(te),ke=0;for(se=0;se<le;se++)for(var Ne=arguments[se],Ie=0,Oe=Ne.length;Ie<Oe;Ie++,ke++)Te[ke]=Ne[Ie];return Te}X.r(je),X.d(je,{LogLevel:()=>he,Logger:()=>pe,setLogLevel:()=>F,setUserLogHandler:()=>ae});var B,V=[],he=(()=>{return(te=he||(he={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",he;var te})(),De={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ge=he.INFO,Re=((B={})[he.DEBUG]="log",B[he.VERBOSE]="log",B[he.INFO]="info",B[he.WARN]="warn",B[he.ERROR]="error",B),me=function(te,se){for(var le=[],Te=2;Te<arguments.length;Te++)le[Te-2]=arguments[Te];if(!(se<te.logLevel)){var ke=(new Date).toISOString(),Ne=Re[se];if(!Ne)throw new Error("Attempted to log a message with an invalid logType (value: "+se+")");console[Ne].apply(console,l(["["+ke+"]  "+te.name+":"],le))}},pe=function(){function te(se){this.name=se,this._logLevel=ge,this._logHandler=me,this._userLogHandler=null,V.push(this)}return Object.defineProperty(te.prototype,"logLevel",{get:function(){return this._logLevel},set:function(se){if(!(se in he))throw new TypeError('Invalid value "'+se+'" assigned to `logLevel`');this._logLevel=se},enumerable:!1,configurable:!0}),te.prototype.setLogLevel=function(se){this._logLevel="string"==typeof se?De[se]:se},Object.defineProperty(te.prototype,"logHandler",{get:function(){return this._logHandler},set:function(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(se){this._userLogHandler=se},enumerable:!1,configurable:!0}),te.prototype.debug=function(){for(var se=[],le=0;le<arguments.length;le++)se[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,l([this,he.DEBUG],se)),this._logHandler.apply(this,l([this,he.DEBUG],se))},te.prototype.log=function(){for(var se=[],le=0;le<arguments.length;le++)se[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,l([this,he.VERBOSE],se)),this._logHandler.apply(this,l([this,he.VERBOSE],se))},te.prototype.info=function(){for(var se=[],le=0;le<arguments.length;le++)se[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,l([this,he.INFO],se)),this._logHandler.apply(this,l([this,he.INFO],se))},te.prototype.warn=function(){for(var se=[],le=0;le<arguments.length;le++)se[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,l([this,he.WARN],se)),this._logHandler.apply(this,l([this,he.WARN],se))},te.prototype.error=function(){for(var se=[],le=0;le<arguments.length;le++)se[le]=arguments[le];this._userLogHandler&&this._userLogHandler.apply(this,l([this,he.ERROR],se)),this._logHandler.apply(this,l([this,he.ERROR],se))},te}();function F(te){V.forEach(function(se){se.setLogLevel(te)})}function ae(te,se){for(var le=function(Ie){var Oe=null;se&&se.level&&(Oe=De[se.level]),Ie.userLogHandler=null===te?null:function(Ge,nt){for(var Qe=[],Bt=2;Bt<arguments.length;Bt++)Qe[Bt-2]=arguments[Bt];var ot=Qe.map(function(Zt){if(null==Zt)return null;if("string"==typeof Zt)return Zt;if("number"==typeof Zt||"boolean"==typeof Zt)return Zt.toString();if(Zt instanceof Error)return Zt.message;try{return JSON.stringify(Zt)}catch(yn){return null}}).filter(function(Zt){return Zt}).join(" ");nt>=(null!=Oe?Oe:Ge.logLevel)&&te({level:he[nt].toLowerCase(),message:ot,args:Qe,type:Ge.name})}},Te=0,ke=V;Te<ke.length;Te++)le(ke[Te])}},4685:(wt,je,X)=>{"use strict";X.r(je),X.d(je,{CONSTANTS:()=>B,Deferred:()=>le,ErrorFactory:()=>Et,FirebaseError:()=>Ee,MAX_VALUE_MILLIS:()=>go,RANDOM_FACTOR:()=>Er,Sha1:()=>wr,areCookiesEnabled:()=>$,assert:()=>V,assertionError:()=>he,async:()=>en,base64:()=>Re,base64Decode:()=>F,base64Encode:()=>me,base64urlEncodeWithoutPadding:()=>pe,calculateBackoffMillis:()=>bn,contains:()=>Lr,createMockUserToken:()=>Te,createSubscribe:()=>kn,decode:()=>it,deepCopy:()=>ae,deepEqual:()=>Nn,deepExtend:()=>te,errorPrefix:()=>Z1,extractQuerystring:()=>zt,getGlobal:()=>we,getModularInstance:()=>Mn,getUA:()=>ke,isAdmin:()=>rn,isBrowser:()=>Oe,isBrowserExtension:()=>Ge,isElectron:()=>Qe,isEmpty:()=>ir,isIE:()=>Bt,isIndexedDBAvailable:()=>de,isMobileCordova:()=>Ne,isNode:()=>Ie,isNodeSdk:()=>Zt,isReactNative:()=>nt,isSafari:()=>yn,isUWP:()=>ot,isValidFormat:()=>En,isValidTimestamp:()=>at,issuedAtTime:()=>Ot,jsonEval:()=>_t,map:()=>ji,ordinal:()=>Ci,querystring:()=>Ka,querystringDecode:()=>Kt,safeGet:()=>Xn,stringLength:()=>lt,stringToByteArray:()=>Un,stringify:()=>mt,validateArgCount:()=>Ls,validateCallback:()=>hr,validateContextObject:()=>Hc,validateIndexedDBOpenable:()=>Ae,validateNamespace:()=>qi});var l=X(4762),B={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(ie,re){if(!ie)throw he(re)},he=function(ie){return new Error("Firebase Database ("+B.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ie)},De=function(ie){for(var re=[],ve=0,K=0;K<ie.length;K++){var Q=ie.charCodeAt(K);Q<128?re[ve++]=Q:Q<2048?(re[ve++]=Q>>6|192,re[ve++]=63&Q|128):55296==(64512&Q)&&K+1<ie.length&&56320==(64512&ie.charCodeAt(K+1))?(Q=65536+((1023&Q)<<10)+(1023&ie.charCodeAt(++K)),re[ve++]=Q>>18|240,re[ve++]=Q>>12&63|128,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128):(re[ve++]=Q>>12|224,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128)}return re},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ie,re){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ve=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[],Q=0;Q<ie.length;Q+=3){var ce=ie[Q],_e=Q+1<ie.length,He=_e?ie[Q+1]:0,Ke=Q+2<ie.length,pt=Ke?ie[Q+2]:0,un=(15&He)<<2|pt>>6,or=63&pt;Ke||(or=64,_e||(un=64)),K.push(ve[ce>>2],ve[(3&ce)<<4|He>>4],ve[un],ve[or])}return K.join("")},encodeString:function(ie,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ie):this.encodeByteArray(De(ie),re)},decodeString:function(ie,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ie):function(ie){for(var re=[],ve=0,K=0;ve<ie.length;){var Q=ie[ve++];if(Q<128)re[K++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var ce=ie[ve++];re[K++]=String.fromCharCode((31&Q)<<6|63&ce)}else if(Q>239&&Q<365){var Ke=((7&Q)<<18|(63&(ce=ie[ve++]))<<12|(63&(_e=ie[ve++]))<<6|63&ie[ve++])-65536;re[K++]=String.fromCharCode(55296+(Ke>>10)),re[K++]=String.fromCharCode(56320+(1023&Ke))}else{ce=ie[ve++];var _e=ie[ve++];re[K++]=String.fromCharCode((15&Q)<<12|(63&ce)<<6|63&_e)}}return re.join("")}(this.decodeStringToByteArray(ie,re))},decodeStringToByteArray:function(ie,re){this.init_();for(var ve=re?this.charToByteMapWebSafe_:this.charToByteMap_,K=[],Q=0;Q<ie.length;){var ce=ve[ie.charAt(Q++)],He=Q<ie.length?ve[ie.charAt(Q)]:0,pt=++Q<ie.length?ve[ie.charAt(Q)]:64,dn=++Q<ie.length?ve[ie.charAt(Q)]:64;if(++Q,null==ce||null==He||null==pt||null==dn)throw Error();K.push(ce<<2|He>>4),64!==pt&&(K.push(He<<4&240|pt>>2),64!==dn&&K.push(pt<<6&192|dn))}return K},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},me=function(ie){var re=De(ie);return Re.encodeByteArray(re,!0)},pe=function(ie){return me(ie).replace(/\./g,"")},F=function(ie){try{return Re.decodeString(ie,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function ae(ie){return te(void 0,ie)}function te(ie,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return re}for(var K in re)!re.hasOwnProperty(K)||!se(K)||(ie[K]=te(ie[K],re[K]));return ie}function se(ie){return"__proto__"!==ie}var le=function(){function ie(){var re=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ve,K){re.resolve=ve,re.reject=K})}return ie.prototype.wrapCallback=function(re){var ve=this;return function(K,Q){K?ve.reject(K):ve.resolve(Q),"function"==typeof re&&(ve.promise.catch(function(){}),1===re.length?re(K):re(K,Q))}},ie}();function Te(ie,re){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var K=re||"demo-project",Q=ie.iat||0,ce=ie.sub||ie.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var _e=(0,l.__assign)({iss:"https://securetoken.google.com/"+K,aud:K,iat:Q,exp:Q+3600,auth_time:Q,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(_e)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Ge(){var ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return ke().indexOf("Electron/")>=0}function Bt(){var ie=ke();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function ot(){return ke().indexOf("MSAppHost/")>=0}function Zt(){return!0===B.NODE_CLIENT||!0===B.NODE_ADMIN}function yn(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"indexedDB"in self&&null!=indexedDB}function Ae(){return new Promise(function(ie,re){try{var ve=!0,K="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(K);Q.onsuccess=function(){Q.result.close(),ve||self.indexedDB.deleteDatabase(K),ie(!0)},Q.onupgradeneeded=function(){ve=!1},Q.onerror=function(){var ce;re((null===(ce=Q.error)||void 0===ce?void 0:ce.message)||"")}}catch(ce){re(ce)}})}function $(){return!(!navigator||!navigator.cookieEnabled)}function we(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Ee=function(ie){function re(ve,K,Q){var ce=ie.call(this,K)||this;return ce.code=ve,ce.customData=Q,ce.name="FirebaseError",Object.setPrototypeOf(ce,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(ce,Et.prototype.create),ce}return(0,l.__extends)(re,ie),re}(Error),Et=function(){function ie(re,ve,K){this.service=re,this.serviceName=ve,this.errors=K}return ie.prototype.create=function(re){for(var ve=[],K=1;K<arguments.length;K++)ve[K-1]=arguments[K];var Q=ve[0]||{},ce=this.service+"/"+re,_e=this.errors[re],He=_e?Ct(_e,Q):"Error",Ke=this.serviceName+": "+He+" ("+ce+").",pt=new Ee(ce,Ke,Q);return pt},ie}();function Ct(ie,re){return ie.replace(_n,function(ve,K){var Q=re[K];return null!=Q?String(Q):"<"+K+"?>"})}var _n=/\{\$([^}]+)}/g;function _t(ie){return JSON.parse(ie)}function mt(ie){return JSON.stringify(ie)}var it=function(ie){var re={},ve={},K={},Q="";try{var ce=ie.split(".");re=_t(F(ce[0])||""),ve=_t(F(ce[1])||""),Q=ce[2],K=ve.d||{},delete ve.d}catch(_e){}return{header:re,claims:ve,data:K,signature:Q}},at=function(ie){var re=it(ie).claims,ve=Math.floor((new Date).getTime()/1e3),K=0,Q=0;return"object"==typeof re&&(re.hasOwnProperty("nbf")?K=re.nbf:re.hasOwnProperty("iat")&&(K=re.iat),Q=re.hasOwnProperty("exp")?re.exp:K+86400),!!ve&&!!K&&!!Q&&ve>=K&&ve<=Q},Ot=function(ie){var re=it(ie).claims;return"object"==typeof re&&re.hasOwnProperty("iat")?re.iat:null},En=function(ie){var ve=it(ie).claims;return!!ve&&"object"==typeof ve&&ve.hasOwnProperty("iat")},rn=function(ie){var re=it(ie).claims;return"object"==typeof re&&!0===re.admin};function Lr(ie,re){return Object.prototype.hasOwnProperty.call(ie,re)}function Xn(ie,re){if(Object.prototype.hasOwnProperty.call(ie,re))return ie[re]}function ir(ie){for(var re in ie)if(Object.prototype.hasOwnProperty.call(ie,re))return!1;return!0}function ji(ie,re,ve){var K={};for(var Q in ie)Object.prototype.hasOwnProperty.call(ie,Q)&&(K[Q]=re.call(ve,ie[Q],Q,ie));return K}function Nn(ie,re){if(ie===re)return!0;for(var ve=Object.keys(ie),K=Object.keys(re),Q=0,ce=ve;Q<ce.length;Q++){if(!K.includes(_e=ce[Q]))return!1;var He=ie[_e],Ke=re[_e];if(os(He)&&os(Ke)){if(!Nn(He,Ke))return!1}else if(He!==Ke)return!1}for(var pt=0,$t=K;pt<$t.length;pt++){var _e;if(!ve.includes(_e=$t[pt]))return!1}return!0}function os(ie){return null!==ie&&"object"==typeof ie}function Ka(ie){for(var re=[],ve=function(Ke,pt){Array.isArray(pt)?pt.forEach(function($t){re.push(encodeURIComponent(Ke)+"="+encodeURIComponent($t))}):re.push(encodeURIComponent(Ke)+"="+encodeURIComponent(pt))},K=0,Q=Object.entries(ie);K<Q.length;K++){var ce=Q[K];ve(ce[0],ce[1])}return re.length?"&"+re.join("&"):""}function Kt(ie){var re={};return ie.replace(/^\?/,"").split("&").forEach(function(K){if(K){var Q=K.split("="),_e=Q[1];re[decodeURIComponent(Q[0])]=decodeURIComponent(_e)}}),re}function zt(ie){var re=ie.indexOf("?");if(!re)return"";var ve=ie.indexOf("#",re);return ie.substring(re,ve>0?ve:void 0)}var wr=function(){function ie(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}return ie.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ie.prototype.compress_=function(re,ve){ve||(ve=0);var K=this.W_;if("string"==typeof re)for(var Q=0;Q<16;Q++)K[Q]=re.charCodeAt(ve)<<24|re.charCodeAt(ve+1)<<16|re.charCodeAt(ve+2)<<8|re.charCodeAt(ve+3),ve+=4;else for(Q=0;Q<16;Q++)K[Q]=re[ve]<<24|re[ve+1]<<16|re[ve+2]<<8|re[ve+3],ve+=4;for(Q=16;Q<80;Q++)K[Q]=4294967295&((ce=K[Q-3]^K[Q-8]^K[Q-14]^K[Q-16])<<1|ce>>>31);var dn,un,_e=this.chain_[0],He=this.chain_[1],Ke=this.chain_[2],pt=this.chain_[3],$t=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(dn=pt^He&(Ke^pt),un=1518500249):(dn=He^Ke^pt,un=1859775393):Q<60?(dn=He&Ke|pt&(He|Ke),un=2400959708):(dn=He^Ke^pt,un=3395469782);var ce=(_e<<5|_e>>>27)+dn+$t+un+K[Q]&4294967295;$t=pt,pt=Ke,Ke=4294967295&(He<<30|He>>>2),He=_e,_e=ce}this.chain_[0]=this.chain_[0]+_e&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+pt&4294967295,this.chain_[4]=this.chain_[4]+$t&4294967295},ie.prototype.update=function(re,ve){if(null!=re){void 0===ve&&(ve=re.length);for(var K=ve-this.blockSize,Q=0,ce=this.buf_,_e=this.inbuf_;Q<ve;){if(0===_e)for(;Q<=K;)this.compress_(re,Q),Q+=this.blockSize;if("string"==typeof re){for(;Q<ve;)if(ce[_e]=re.charCodeAt(Q),++Q,++_e===this.blockSize){this.compress_(ce),_e=0;break}}else for(;Q<ve;)if(ce[_e]=re[Q],++Q,++_e===this.blockSize){this.compress_(ce),_e=0;break}}this.inbuf_=_e,this.total_+=ve}},ie.prototype.digest=function(){var re=[],ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&ve,ve/=256;this.compress_(this.buf_);var Q=0;for(K=0;K<5;K++)for(var ce=24;ce>=0;ce-=8)re[Q]=this.chain_[K]>>ce&255,++Q;return re},ie}();function kn(ie,re){var ve=new ct(ie,re);return ve.subscribe.bind(ve)}var ct=function(){function ie(re,ve){var K=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(function(){re(K)}).catch(function(Q){K.error(Q)})}return ie.prototype.next=function(re){this.forEachObserver(function(ve){ve.next(re)})},ie.prototype.error=function(re){this.forEachObserver(function(ve){ve.error(re)}),this.close(re)},ie.prototype.complete=function(){this.forEachObserver(function(re){re.complete()}),this.close()},ie.prototype.subscribe=function(re,ve,K){var ce,Q=this;if(void 0===re&&void 0===ve&&void 0===K)throw new Error("Missing Observer.");void 0===(ce=function(ie,re){if("object"!=typeof ie||null===ie)return!1;for(var ve=0,K=["next","error","complete"];ve<K.length;ve++){var Q=K[ve];if(Q in ie&&"function"==typeof ie[Q])return!0}return!1}(re)?re:{next:re,error:ve,complete:K}).next&&(ce.next=An),void 0===ce.error&&(ce.error=An),void 0===ce.complete&&(ce.complete=An);var _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?ce.error(Q.finalError):ce.complete()}catch(He){}}),this.observers.push(ce),_e},ie.prototype.unsubscribeOne=function(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ie.prototype.forEachObserver=function(re){if(!this.finalized)for(var ve=0;ve<this.observers.length;ve++)this.sendOne(ve,re)},ie.prototype.sendOne=function(re,ve){var K=this;this.task.then(function(){if(void 0!==K.observers&&void 0!==K.observers[re])try{ve(K.observers[re])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})},ie.prototype.close=function(re){var ve=this;this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(function(){ve.observers=void 0,ve.onNoObservers=void 0}))},ie}();function en(ie,re){return function(){for(var ve=[],K=0;K<arguments.length;K++)ve[K]=arguments[K];Promise.resolve(!0).then(function(){ie.apply(void 0,ve)}).catch(function(Q){re&&re(Q)})}}function An(){}var Ls=function(ie,re,ve,K){var Q;if(K<re?Q="at least "+re:K>ve&&(Q=0===ve?"none":"no more than "+ve),Q)throw new Error(ie+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+Q+".")};function Z1(ie,re){return ie+" failed: "+re+" argument "}function qi(ie,re,ve){if((!ve||re)&&"string"!=typeof re)throw new Error(Z1(ie,"namespace")+"must be a valid firebase namespace.")}function hr(ie,re,ve,K){if((!K||ve)&&"function"!=typeof ve)throw new Error(Z1(ie,re)+"must be a valid function.")}function Hc(ie,re,ve,K){if((!K||ve)&&("object"!=typeof ve||null===ve))throw new Error(Z1(ie,re)+"must be a valid context object.")}var Un=function(ie){for(var re=[],ve=0,K=0;K<ie.length;K++){var Q=ie.charCodeAt(K);if(Q>=55296&&Q<=56319){var ce=Q-55296;K++,V(K<ie.length,"Surrogate pair missing trail surrogate."),Q=65536+(ce<<10)+(ie.charCodeAt(K)-56320)}Q<128?re[ve++]=Q:Q<2048?(re[ve++]=Q>>6|192,re[ve++]=63&Q|128):Q<65536?(re[ve++]=Q>>12|224,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128):(re[ve++]=Q>>18|240,re[ve++]=Q>>12&63|128,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128)}return re},lt=function(ie){for(var re=0,ve=0;ve<ie.length;ve++){var K=ie.charCodeAt(ve);K<128?re++:K<2048?re+=2:K>=55296&&K<=56319?(re+=4,ve++):re+=3}return re},go=144e5,Er=.5;function bn(ie,re,ve){void 0===re&&(re=1e3),void 0===ve&&(ve=2);var K=re*Math.pow(ve,ie),Q=Math.round(Er*K*(Math.random()-.5)*2);return Math.min(go,K+Q)}function Ci(ie){return Number.isFinite(ie)?ie+function(ie){var re=(ie=Math.abs(ie))%100;if(re>=10&&re<=20)return"th";var ve=ie%10;return 1===ve?"st":2===ve?"nd":3===ve?"rd":"th"}(ie):""+ie}function Mn(ie){return ie&&ie._delegate?ie._delegate:ie}},2329:(wt,je,X)=>{"use strict";X.d(je,{Z:()=>l.default});var l=X(9759),V="8.10.1";l.default.registerVersion("firebase",V,"app"),l.default.SDK_VERSION=V},6676:function(wt,je){!function(X){"use strict";function l(Ne){return Array.prototype.slice.call(Ne)}function B(Ne){return new Promise(function(Ie,Oe){Ne.onsuccess=function(){Ie(Ne.result)},Ne.onerror=function(){Oe(Ne.error)}})}function V(Ne,Ie,Oe){var Ge,nt=new Promise(function(Qe,Bt){B(Ge=Ne[Ie].apply(Ne,Oe)).then(Qe,Bt)});return nt.request=Ge,nt}function he(Ne,Ie,Oe){var Ge=V(Ne,Ie,Oe);return Ge.then(function(nt){if(nt)return new F(nt,Ge.request)})}function De(Ne,Ie,Oe){Oe.forEach(function(Ge){Object.defineProperty(Ne.prototype,Ge,{get:function(){return this[Ie][Ge]},set:function(nt){this[Ie][Ge]=nt}})})}function ge(Ne,Ie,Oe,Ge){Ge.forEach(function(nt){nt in Oe.prototype&&(Ne.prototype[nt]=function(){return V(this[Ie],nt,arguments)})})}function Re(Ne,Ie,Oe,Ge){Ge.forEach(function(nt){nt in Oe.prototype&&(Ne.prototype[nt]=function(){return this[Ie][nt].apply(this[Ie],arguments)})})}function me(Ne,Ie,Oe,Ge){Ge.forEach(function(nt){nt in Oe.prototype&&(Ne.prototype[nt]=function(){return he(this[Ie],nt,arguments)})})}function pe(Ne){this._index=Ne}function F(Ne,Ie){this._cursor=Ne,this._request=Ie}function ae(Ne){this._store=Ne}function te(Ne){this._tx=Ne,this.complete=new Promise(function(Ie,Oe){Ne.oncomplete=function(){Ie()},Ne.onerror=function(){Oe(Ne.error)},Ne.onabort=function(){Oe(Ne.error)}})}function se(Ne,Ie,Oe){this._db=Ne,this.oldVersion=Ie,this.transaction=new te(Oe)}function le(Ne){this._db=Ne}De(pe,"_index",["name","keyPath","multiEntry","unique"]),ge(pe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),me(pe,"_index",IDBIndex,["openCursor","openKeyCursor"]),De(F,"_cursor",["direction","key","primaryKey","value"]),ge(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ne){Ne in IDBCursor.prototype&&(F.prototype[Ne]=function(){var Ie=this,Oe=arguments;return Promise.resolve().then(function(){return Ie._cursor[Ne].apply(Ie._cursor,Oe),B(Ie._request).then(function(Ge){if(Ge)return new F(Ge,Ie._request)})})})}),ae.prototype.createIndex=function(){return new pe(this._store.createIndex.apply(this._store,arguments))},ae.prototype.index=function(){return new pe(this._store.index.apply(this._store,arguments))},De(ae,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(ae,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),me(ae,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Re(ae,"_store",IDBObjectStore,["deleteIndex"]),te.prototype.objectStore=function(){return new ae(this._tx.objectStore.apply(this._tx,arguments))},De(te,"_tx",["objectStoreNames","mode"]),Re(te,"_tx",IDBTransaction,["abort"]),se.prototype.createObjectStore=function(){return new ae(this._db.createObjectStore.apply(this._db,arguments))},De(se,"_db",["name","version","objectStoreNames"]),Re(se,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new te(this._db.transaction.apply(this._db,arguments))},De(le,"_db",["name","version","objectStoreNames"]),Re(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ne){[ae,pe].forEach(function(Ie){Ne in Ie.prototype&&(Ie.prototype[Ne.replace("open","iterate")]=function(){var Oe=l(arguments),Ge=Oe[Oe.length-1],nt=this._store||this._index,Qe=nt[Ne].apply(nt,Oe.slice(0,-1));Qe.onsuccess=function(){Ge(Qe.result)}})})}),[pe,ae].forEach(function(Ne){Ne.prototype.getAll||(Ne.prototype.getAll=function(Ie,Oe){var Ge=this,nt=[];return new Promise(function(Qe){Ge.iterateCursor(Ie,function(Bt){Bt?(nt.push(Bt.value),void 0===Oe||nt.length!=Oe?Bt.continue():Qe(nt)):Qe(nt)})})})}),X.openDb=function(Ne,Ie,Oe){var Ge=V(indexedDB,"open",[Ne,Ie]),nt=Ge.request;return nt&&(nt.onupgradeneeded=function(Qe){Oe&&Oe(new se(nt.result,Qe.oldVersion,nt.transaction))}),Ge.then(function(Qe){return new le(Qe)})},X.deleteDb=function(Ne){return V(indexedDB,"deleteDatabase",[Ne])},Object.defineProperty(X,"__esModule",{value:!0})}(je)},7574:(wt,je,X)=>{"use strict";X.d(je,{y:()=>ae});var l=X(7393),V=X(9181),he=X(6490),ge=X(6554),Re=X(4487);var F=X(2494);let ae=(()=>{class se{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const ke=new se;return ke.source=this,ke.operator=Te,ke}subscribe(Te,ke,Ne){const{operator:Ie}=this,Oe=function(se,le,Te){if(se){if(se instanceof l.L)return se;if(se[V.b])return se[V.b]()}return se||le||Te?new l.L(se,le,Te):new l.L(he.c)}(Te,ke,Ne);if(Oe.add(Ie?Ie.call(Oe,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Oe.syncErrorThrowable?this._subscribe(Oe):this._trySubscribe(Oe)),F.v.useDeprecatedSynchronousErrorHandling&&Oe.syncErrorThrowable&&(Oe.syncErrorThrowable=!1,Oe.syncErrorThrown))throw Oe.syncErrorValue;return Oe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ke){F.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=ke),function(se){for(;se;){const{closed:le,destination:Te,isStopped:ke}=se;if(le||ke)return!1;se=Te&&Te instanceof l.L?Te:null}return!0}(Te)?Te.error(ke):console.warn(ke)}}forEach(Te,ke){return new(ke=te(ke))((Ne,Ie)=>{let Oe;Oe=this.subscribe(Ge=>{try{Te(Ge)}catch(nt){Ie(nt),Oe&&Oe.unsubscribe()}},Ie,Ne)})}_subscribe(Te){const{source:ke}=this;return ke&&ke.subscribe(Te)}[ge.L](){return this}pipe(...Te){return 0===Te.length?this:function(se){return 0===se.length?Re.y:1===se.length?se[0]:function(Te){return se.reduce((ke,Ne)=>Ne(ke),Te)}}(Te)(this)}toPromise(Te){return new(Te=te(Te))((ke,Ne)=>{let Ie;this.subscribe(Oe=>Ie=Oe,Oe=>Ne(Oe),()=>ke(Ie))})}}return se.create=le=>new se(le),se})();function te(se){if(se||(se=F.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(wt,je,X)=>{"use strict";X.d(je,{c:()=>V});var l=X(2494),B=X(4449);const V={closed:!0,next(he){},error(he){if(l.v.useDeprecatedSynchronousErrorHandling)throw he;(0,B.z)(he)},complete(){}}},9765:(wt,je,X)=>{"use strict";X.d(je,{Yc:()=>Re,xQ:()=>me});var l=X(7574),B=X(7393),V=X(5319),he=X(7971),De=X(8858),ge=X(9181);class Re extends B.L{constructor(ae){super(ae),this.destination=ae}}let me=(()=>{class F extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ge.b](){return new Re(this)}lift(te){const se=new pe(this,this);return se.operator=te,se}next(te){if(this.closed)throw new he.N;if(!this.isStopped){const{observers:se}=this,le=se.length,Te=se.slice();for(let ke=0;ke<le;ke++)Te[ke].next(te)}}error(te){if(this.closed)throw new he.N;this.hasError=!0,this.thrownError=te,this.isStopped=!0;const{observers:se}=this,le=se.length,Te=se.slice();for(let ke=0;ke<le;ke++)Te[ke].error(te);this.observers.length=0}complete(){if(this.closed)throw new he.N;this.isStopped=!0;const{observers:te}=this,se=te.length,le=te.slice();for(let Te=0;Te<se;Te++)le[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(te){if(this.closed)throw new he.N;return super._trySubscribe(te)}_subscribe(te){if(this.closed)throw new he.N;return this.hasError?(te.error(this.thrownError),V.w.EMPTY):this.isStopped?(te.complete(),V.w.EMPTY):(this.observers.push(te),new De.W(this,te))}asObservable(){const te=new l.y;return te.source=this,te}}return F.create=(ae,te)=>new pe(ae,te),F})();class pe extends me{constructor(ae,te){super(),this.destination=ae,this.source=te}next(ae){const{destination:te}=this;te&&te.next&&te.next(ae)}error(ae){const{destination:te}=this;te&&te.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:te}=this;return te?this.source.subscribe(ae):V.w.EMPTY}}},8858:(wt,je,X)=>{"use strict";X.d(je,{W:()=>B});var l=X(5319);class B extends l.w{constructor(he,De){super(),this.subject=he,this.subscriber=De,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const he=this.subject,De=he.observers;if(this.subject=null,!De||0===De.length||he.isStopped||he.closed)return;const ge=De.indexOf(this.subscriber);-1!==ge&&De.splice(ge,1)}}},7393:(wt,je,X)=>{"use strict";X.d(je,{L:()=>Re});var l=X(9105),B=X(6490),V=X(5319),he=X(9181),De=X(2494),ge=X(4449);class Re extends V.w{constructor(F,ae,te){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!F){this.destination=B.c;break}if("object"==typeof F){F instanceof Re?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,F,ae,te)}}[he.b](){return this}static create(F,ae,te){const se=new Re(F,ae,te);return se.syncErrorThrowable=!1,se}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class me extends Re{constructor(F,ae,te,se){super(),this._parentSubscriber=F;let le,Te=this;(0,l.m)(ae)?le=ae:ae&&(le=ae.next,te=ae.error,se=ae.complete,ae!==B.c&&(Te=Object.create(ae),(0,l.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=le,this._error=te,this._complete=se}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;De.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:te}=De.v;if(this._error)te&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(ae.syncErrorThrowable)te?(ae.syncErrorValue=F,ae.syncErrorThrown=!0):(0,ge.z)(F),this.unsubscribe();else{if(this.unsubscribe(),te)throw F;(0,ge.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const ae=()=>this._complete.call(this._context);De.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,ae){try{F.call(this._context,ae)}catch(te){if(this.unsubscribe(),De.v.useDeprecatedSynchronousErrorHandling)throw te;(0,ge.z)(te)}}__tryOrSetError(F,ae,te){if(!De.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,te)}catch(se){return De.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=se,F.syncErrorThrown=!0,!0):((0,ge.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(wt,je,X)=>{"use strict";X.d(je,{w:()=>ge});var l=X(9796),B=X(1555),V=X(9105);const De=(()=>{function me(pe){return Error.call(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((F,ae)=>`${ae+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe,this}return me.prototype=Object.create(Error.prototype),me})();class ge{constructor(pe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,pe&&(this._ctorUnsubscribe=!0,this._unsubscribe=pe)}unsubscribe(){let pe;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:ae,_unsubscribe:te,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ge)F.remove(this);else if(null!==F)for(let le=0;le<F.length;++le)F[le].remove(this);if((0,V.m)(te)){ae&&(this._unsubscribe=void 0);try{te.call(this)}catch(le){pe=le instanceof De?Re(le.errors):[le]}}if((0,l.k)(se)){let le=-1,Te=se.length;for(;++le<Te;){const ke=se[le];if((0,B.K)(ke))try{ke.unsubscribe()}catch(Ne){pe=pe||[],Ne instanceof De?pe=pe.concat(Re(Ne.errors)):pe.push(Ne)}}}if(pe)throw new De(pe)}add(pe){let F=pe;if(!pe)return ge.EMPTY;switch(typeof pe){case"function":F=new ge(pe);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ge)){const se=F;F=new ge,F._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+pe+" added to Subscription.")}let{_parentOrParents:ae}=F;if(null===ae)F._parentOrParents=this;else if(ae instanceof ge){if(ae===this)return F;F._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return F;ae.push(this)}const te=this._subscriptions;return null===te?this._subscriptions=[F]:te.push(F),F}remove(pe){const F=this._subscriptions;if(F){const ae=F.indexOf(pe);-1!==ae&&F.splice(ae,1)}}}var me;function Re(me){return me.reduce((pe,F)=>pe.concat(F instanceof De?F.errors:F),[])}ge.EMPTY=((me=new ge).closed=!0,me)},2494:(wt,je,X)=>{"use strict";X.d(je,{v:()=>B});let l=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const he=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+he.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=V},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(wt,je,X)=>{"use strict";X.d(je,{IY:()=>he,Ds:()=>ge,ft:()=>me});var l=X(7393),B=X(7574),V=X(7444);class he extends l.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ge extends l.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function me(pe,F){if(F.closed)return;if(pe instanceof B.y)return pe.subscribe(F);let ae;try{ae=(0,V.s)(pe)(F)}catch(te){F.error(te)}return ae}},2441:(wt,je,X)=>{"use strict";X.d(je,{c:()=>De,N:()=>ge});var l=X(9765),B=X(7574),V=X(5319),he=X(1307);class De extends B.y{constructor(ae,te){super(),this.source=ae,this.subjectFactory=te,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new V.w,ae.add(this.source.subscribe(new Re(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=V.w.EMPTY)),ae}refCount(){return(0,he.x)()(this)}}const ge=(()=>{const F=De.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class Re extends l.Yc{constructor(ae,te){super(ae),this.connectable=te}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const te=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,te&&te.unsubscribe()}}}},9193:(wt,je,X)=>{"use strict";X.d(je,{E:()=>B,c:()=>V});var l=X(7574);const B=new l.y(De=>De.complete());function V(De){return De?function(De){return new l.y(ge=>De.schedule(()=>ge.complete()))}(De):B}},4402:(wt,je,X)=>{"use strict";X.d(je,{D:()=>Te});var l=X(7574),B=X(7444),V=X(5319),he=X(6554),Re=X(4087),me=X(377),ae=X(4072),te=X(9489);function Te(ke,Ne){return Ne?function(ke,Ne){if(null!=ke){if(function(ke){return ke&&"function"==typeof ke[he.L]}(ke))return function(ke,Ne){return new l.y(Ie=>{const Oe=new V.w;return Oe.add(Ne.schedule(()=>{const Ge=ke[he.L]();Oe.add(Ge.subscribe({next(nt){Oe.add(Ne.schedule(()=>Ie.next(nt)))},error(nt){Oe.add(Ne.schedule(()=>Ie.error(nt)))},complete(){Oe.add(Ne.schedule(()=>Ie.complete()))}}))})),Oe})}(ke,Ne);if((0,ae.t)(ke))return function(ke,Ne){return new l.y(Ie=>{const Oe=new V.w;return Oe.add(Ne.schedule(()=>ke.then(Ge=>{Oe.add(Ne.schedule(()=>{Ie.next(Ge),Oe.add(Ne.schedule(()=>Ie.complete()))}))},Ge=>{Oe.add(Ne.schedule(()=>Ie.error(Ge)))}))),Oe})}(ke,Ne);if((0,te.z)(ke))return(0,Re.r)(ke,Ne);if(function(ke){return ke&&"function"==typeof ke[me.hZ]}(ke)||"string"==typeof ke)return function(ke,Ne){if(!ke)throw new Error("Iterable cannot be null");return new l.y(Ie=>{const Oe=new V.w;let Ge;return Oe.add(()=>{Ge&&"function"==typeof Ge.return&&Ge.return()}),Oe.add(Ne.schedule(()=>{Ge=ke[me.hZ](),Oe.add(Ne.schedule(function(){if(Ie.closed)return;let nt,Qe;try{const Bt=Ge.next();nt=Bt.value,Qe=Bt.done}catch(Bt){return void Ie.error(Bt)}Qe?Ie.complete():(Ie.next(nt),this.schedule())}))})),Oe})}(ke,Ne)}throw new TypeError((null!==ke&&typeof ke||ke)+" is not observable")}(ke,Ne):ke instanceof l.y?ke:new l.y((0,B.s)(ke))}},6693:(wt,je,X)=>{"use strict";X.d(je,{n:()=>he});var l=X(7574),B=X(5015),V=X(4087);function he(De,ge){return ge?(0,V.r)(De,ge):new l.y((0,B.V)(De))}},6682:(wt,je,X)=>{"use strict";X.d(je,{T:()=>De});var l=X(7574),B=X(4869),V=X(3282),he=X(6693);function De(...ge){let Re=Number.POSITIVE_INFINITY,me=null,pe=ge[ge.length-1];return(0,B.K)(pe)?(me=ge.pop(),ge.length>1&&"number"==typeof ge[ge.length-1]&&(Re=ge.pop())):"number"==typeof pe&&(Re=ge.pop()),null===me&&1===ge.length&&ge[0]instanceof l.y?ge[0]:(0,V.J)(Re)((0,he.n)(ge,me))}},5917:(wt,je,X)=>{"use strict";X.d(je,{of:()=>he});var l=X(4869),B=X(6693),V=X(4087);function he(...De){let ge=De[De.length-1];return(0,l.K)(ge)?(De.pop(),(0,V.r)(De,ge)):(0,B.n)(De)}},8002:(wt,je,X)=>{"use strict";X.d(je,{U:()=>B});var l=X(7393);function B(De,ge){return function(me){if("function"!=typeof De)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new V(De,ge))}}class V{constructor(ge,Re){this.project=ge,this.thisArg=Re}call(ge,Re){return Re.subscribe(new he(ge,this.project,this.thisArg))}}class he extends l.L{constructor(ge,Re,me){super(ge),this.project=Re,this.count=0,this.thisArg=me||this}_next(ge){let Re;try{Re=this.project.call(this.thisArg,ge,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(Re)}}},3282:(wt,je,X)=>{"use strict";X.d(je,{J:()=>V});var l=X(9773),B=X(4487);function V(he=Number.POSITIVE_INFINITY){return(0,l.zg)(B.y,he)}},9773:(wt,je,X)=>{"use strict";X.d(je,{zg:()=>he});var l=X(8002),B=X(4402),V=X(5345);function he(me,pe,F=Number.POSITIVE_INFINITY){return"function"==typeof pe?ae=>ae.pipe(he((te,se)=>(0,B.D)(me(te,se)).pipe((0,l.U)((le,Te)=>pe(te,le,se,Te))),F)):("number"==typeof pe&&(F=pe),ae=>ae.lift(new De(me,F)))}class De{constructor(pe,F=Number.POSITIVE_INFINITY){this.project=pe,this.concurrent=F}call(pe,F){return F.subscribe(new ge(pe,this.project,this.concurrent))}}class ge extends V.Ds{constructor(pe,F,ae=Number.POSITIVE_INFINITY){super(pe),this.project=F,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(pe){this.active<this.concurrent?this._tryNext(pe):this.buffer.push(pe)}_tryNext(pe){let F;const ae=this.index++;try{F=this.project(pe,ae)}catch(te){return void this.destination.error(te)}this.active++,this._innerSub(F)}_innerSub(pe){const F=new V.IY(this),ae=this.destination;ae.add(F);const te=(0,V.ft)(pe,F);te!==F&&ae.add(te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(pe){this.destination.next(pe)}notifyComplete(){const pe=this.buffer;this.active--,pe.length>0?this._next(pe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(wt,je,X)=>{"use strict";X.d(je,{ht:()=>ae,QV:()=>pe});var l=X(7393),B=X(9193),V=X(5917),he=X(7574);class me{constructor(le,Te,ke){this.kind=le,this.value=Te,this.error=ke,this.hasValue="N"===le}observe(le){switch(this.kind){case"N":return le.next&&le.next(this.value);case"E":return le.error&&le.error(this.error);case"C":return le.complete&&le.complete()}}do(le,Te,ke){switch(this.kind){case"N":return le&&le(this.value);case"E":return Te&&Te(this.error);case"C":return ke&&ke()}}accept(le,Te,ke){return le&&"function"==typeof le.next?this.observe(le):this.do(le,Te,ke)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return se=this.error,new he.y(Te=>Te.error(se));case"C":return(0,B.c)()}var se;throw new Error("unexpected notification kind value")}static createNext(le){return void 0!==le?new me("N",le):me.undefinedValueNotification}static createError(le){return new me("E",void 0,le)}static createComplete(){return me.completeNotification}}function pe(se,le=0){return function(ke){return ke.lift(new F(se,le))}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0);class F{constructor(le,Te=0){this.scheduler=le,this.delay=Te}call(le,Te){return Te.subscribe(new ae(le,this.scheduler,this.delay))}}class ae extends l.L{constructor(le,Te,ke=0){super(le),this.scheduler=Te,this.delay=ke}static dispatch(le){const{notification:Te,destination:ke}=le;Te.observe(ke),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new te(le,this.destination)))}_next(le){this.scheduleMessage(me.createNext(le))}_error(le){this.scheduleMessage(me.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(me.createComplete()),this.unsubscribe()}}class te{constructor(le,Te){this.notification=le,this.destination=Te}}},1307:(wt,je,X)=>{"use strict";X.d(je,{x:()=>B});var l=X(7393);function B(){return function(ge){return ge.lift(new V(ge))}}class V{constructor(ge){this.connectable=ge}call(ge,Re){const{connectable:me}=this;me._refCount++;const pe=new he(ge,me),F=Re.subscribe(pe);return pe.closed||(pe.connection=me.connect()),F}}class he extends l.L{constructor(ge,Re){super(ge),this.connectable=Re}_unsubscribe(){const{connectable:ge}=this;if(!ge)return void(this.connection=null);this.connectable=null;const Re=ge._refCount;if(Re<=0)return void(this.connection=null);if(ge._refCount=Re-1,Re>1)return void(this.connection=null);const{connection:me}=this,pe=ge._connection;this.connection=null,pe&&(!me||pe===me)&&pe.unsubscribe()}}},8819:(wt,je,X)=>{"use strict";X.d(je,{B:()=>Re});var l=X(2441);var he=X(1307),De=X(9765);function ge(){return new De.xQ}function Re(){return me=>(0,he.x)()(function(me,pe){return function(ae){let te;te="function"==typeof me?me:function(){return me};const se=Object.create(ae,l.N);return se.source=ae,se.subjectFactory=te,se}}(ge)(me))}},3101:(wt,je,X)=>{"use strict";X.d(je,{R:()=>Ne});var l=X(7574);let B=1;const V=Promise.resolve(),he={};function De(Oe){return Oe in he&&(delete he[Oe],!0)}const ge={setImmediate(Oe){const Ge=B++;return he[Ge]=!0,V.then(()=>De(Ge)&&Oe()),Ge},clearImmediate(Oe){De(Oe)}};var me=X(6465),F=X(6102);const se=new class extends F.v{flush(Ge){this.active=!0,this.scheduled=void 0;const{actions:nt}=this;let Qe,Bt=-1,ot=nt.length;Ge=Ge||nt.shift();do{if(Qe=Ge.execute(Ge.state,Ge.delay))break}while(++Bt<ot&&(Ge=nt.shift()));if(this.active=!1,Qe){for(;++Bt<ot&&(Ge=nt.shift());)Ge.unsubscribe();throw Qe}}}(class extends me.o{constructor(Ge,nt){super(Ge,nt),this.scheduler=Ge,this.work=nt}requestAsyncId(Ge,nt,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Ge,nt,Qe):(Ge.actions.push(this),Ge.scheduled||(Ge.scheduled=ge.setImmediate(Ge.flush.bind(Ge,null))))}recycleAsyncId(Ge,nt,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(Ge,nt,Qe);0===Ge.actions.length&&(ge.clearImmediate(nt),Ge.scheduled=void 0)}});var le=X(9796);class ke extends l.y{constructor(Ge,nt=0,Qe=se){var Oe;super(),this.source=Ge,this.delayTime=nt,this.scheduler=Qe,(!(!(0,le.k)(Oe=nt)&&Oe-parseFloat(Oe)+1>=0)||nt<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=se)}static create(Ge,nt=0,Qe=se){return new ke(Ge,nt,Qe)}static dispatch(Ge){const{source:nt,subscriber:Qe}=Ge;return this.add(nt.subscribe(Qe))}_subscribe(Ge){return this.scheduler.schedule(ke.dispatch,this.delayTime,{source:this.source,subscriber:Ge})}}function Ne(Oe,Ge=0){return function(Qe){return Qe.lift(new Ie(Oe,Ge))}}class Ie{constructor(Ge,nt){this.scheduler=Ge,this.delay=nt}call(Ge,nt){return new ke(nt,this.delay,this.scheduler).subscribe(Ge)}}},3342:(wt,je,X)=>{"use strict";X.d(je,{b:()=>he});var l=X(7393);function B(){}var V=X(9105);function he(Re,me,pe){return function(ae){return ae.lift(new De(Re,me,pe))}}class De{constructor(me,pe,F){this.nextOrObserver=me,this.error=pe,this.complete=F}call(me,pe){return pe.subscribe(new ge(me,this.nextOrObserver,this.error,this.complete))}}class ge extends l.L{constructor(me,pe,F,ae){super(me),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=F||B,this._tapComplete=ae||B,(0,V.m)(pe)?(this._context=this,this._tapNext=pe):pe&&(this._context=pe,this._tapNext=pe.next||B,this._tapError=pe.error||B,this._tapComplete=pe.complete||B)}_next(me){try{this._tapNext.call(this._context,me)}catch(pe){return void this.destination.error(pe)}this.destination.next(me)}_error(me){try{this._tapError.call(this._context,me)}catch(pe){return void this.destination.error(pe)}this.destination.error(me)}_complete(){try{this._tapComplete.call(this._context)}catch(me){return void this.destination.error(me)}return this.destination.complete()}}},4087:(wt,je,X)=>{"use strict";X.d(je,{r:()=>V});var l=X(7574),B=X(5319);function V(he,De){return new l.y(ge=>{const Re=new B.w;let me=0;return Re.add(De.schedule(function(){me!==he.length?(ge.next(he[me++]),ge.closed||Re.add(this.schedule())):ge.complete()})),Re})}},6465:(wt,je,X)=>{"use strict";X.d(je,{o:()=>V});var l=X(5319);class B extends l.w{constructor(De,ge){super()}schedule(De,ge=0){return this}}class V extends B{constructor(De,ge){super(De,ge),this.scheduler=De,this.work=ge,this.pending=!1}schedule(De,ge=0){if(this.closed)return this;this.state=De;const Re=this.id,me=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(me,Re,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(me,this.id,ge),this}requestAsyncId(De,ge,Re=0){return setInterval(De.flush.bind(De,this),Re)}recycleAsyncId(De,ge,Re=0){if(null!==Re&&this.delay===Re&&!1===this.pending)return ge;clearInterval(ge)}execute(De,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(De,ge);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ge){let me,Re=!1;try{this.work(De)}catch(pe){Re=!0,me=!!pe&&pe||new Error(pe)}if(Re)return this.unsubscribe(),me}_unsubscribe(){const De=this.id,ge=this.scheduler,Re=ge.actions,me=Re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&Re.splice(me,1),null!=De&&(this.id=this.recycleAsyncId(ge,De,null)),this.delay=null}}},6102:(wt,je,X)=>{"use strict";X.d(je,{v:()=>B});let l=(()=>{class V{constructor(De,ge=V.now){this.SchedulerAction=De,this.now=ge}schedule(De,ge=0,Re){return new this.SchedulerAction(this,De).schedule(Re,ge)}}return V.now=()=>Date.now(),V})();class B extends l{constructor(he,De=l.now){super(he,()=>B.delegate&&B.delegate!==this?B.delegate.now():De()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(he,De=0,ge){return B.delegate&&B.delegate!==this?B.delegate.schedule(he,De,ge):super.schedule(he,De,ge)}flush(he){const{actions:De}=this;if(this.active)return void De.push(he);let ge;this.active=!0;do{if(ge=he.execute(he.state,he.delay))break}while(he=De.shift());if(this.active=!1,ge){for(;he=De.shift();)he.unsubscribe();throw ge}}}},3637:(wt,je,X)=>{"use strict";X.d(je,{z:()=>V,P:()=>he});var l=X(6465);const V=new(X(6102).v)(l.o),he=V},7771:(wt,je,X)=>{"use strict";X.d(je,{c:()=>ge,N:()=>De});var l=X(6465),V=X(6102);const De=new class extends V.v{}(class extends l.o{constructor(me,pe){super(me,pe),this.scheduler=me,this.work=pe}schedule(me,pe=0){return pe>0?super.schedule(me,pe):(this.delay=pe,this.state=me,this.scheduler.flush(this),this)}execute(me,pe){return pe>0||this.closed?super.execute(me,pe):this._execute(me,pe)}requestAsyncId(me,pe,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(me,pe,F):me.flush(this)}}),ge=De},377:(wt,je,X)=>{"use strict";X.d(je,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(wt,je,X)=>{"use strict";X.d(je,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(wt,je,X)=>{"use strict";X.d(je,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(wt,je,X)=>{"use strict";X.d(je,{N:()=>B});const B=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(wt,je,X)=>{"use strict";function l(B){setTimeout(()=>{throw B},0)}X.d(je,{z:()=>l})},4487:(wt,je,X)=>{"use strict";function l(B){return B}X.d(je,{y:()=>l})},9796:(wt,je,X)=>{"use strict";X.d(je,{k:()=>l});const l=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(wt,je,X)=>{"use strict";X.d(je,{z:()=>l});const l=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(wt,je,X)=>{"use strict";function l(B){return"function"==typeof B}X.d(je,{m:()=>l})},1555:(wt,je,X)=>{"use strict";function l(B){return null!==B&&"object"==typeof B}X.d(je,{K:()=>l})},4072:(wt,je,X)=>{"use strict";function l(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}X.d(je,{t:()=>l})},4869:(wt,je,X)=>{"use strict";function l(B){return B&&"function"==typeof B.schedule}X.d(je,{K:()=>l})},7444:(wt,je,X)=>{"use strict";X.d(je,{s:()=>ae});var l=X(5015),B=X(4449),he=X(377),ge=X(6554),me=X(9489),pe=X(4072),F=X(1555);const ae=te=>{if(te&&"function"==typeof te[ge.L])return(te=>se=>{const le=te[ge.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(se)})(te);if((0,me.z)(te))return(0,l.V)(te);if((0,pe.t)(te))return(te=>se=>(te.then(le=>{se.closed||(se.next(le),se.complete())},le=>se.error(le)).then(null,B.z),se))(te);if(te&&"function"==typeof te[he.hZ])return(te=>se=>{const le=te[he.hZ]();for(;;){let Te;try{Te=le.next()}catch(ke){return se.error(ke),se}if(Te.done){se.complete();break}if(se.next(Te.value),se.closed)break}return"function"==typeof le.return&&se.add(()=>{le.return&&le.return()}),se})(te);{const le=`You provided ${(0,F.K)(te)?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(wt,je,X)=>{"use strict";X.d(je,{V:()=>l});const l=B=>V=>{for(let he=0,De=B.length;he<De&&!V.closed;he++)V.next(B[he]);V.complete()}},5703:(wt,je,X)=>{"use strict";var l=X(7716);let B=null;function V(){return B}const Re=new l.OlP("DocumentToken");let me=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,l.Yz7)({factory:pe,token:t,providedIn:"platform"}),t})();function pe(){return(0,l.LFG)(ae)}const F=new l.OlP("Location Initialized");let ae=(()=>{class t extends me{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(n){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,s){te()?this._history.pushState(n,r,s):this.location.hash=s}replaceState(n,r,s){te()?this._history.replaceState(n,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re))},t.\u0275prov=(0,l.Yz7)({factory:se,token:t,providedIn:"platform"}),t})();function te(){return!!window.history.pushState}function se(){return new ae((0,l.LFG)(Re))}function le(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Te(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ke(t){return t&&"?"!==t[0]?"?"+t:t}let Ne=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,l.Yz7)({factory:Ie,token:t,providedIn:"root"}),t})();function Ie(t){const e=(0,l.LFG)(Re).location;return new Ge((0,l.LFG)(me),e&&e.origin||"")}const Oe=new l.OlP("appBaseHref");let Ge=(()=>{class t extends Ne{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return le(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ke(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,u){const m=this.prepareExternalUrl(s+ke(u));this._platformLocation.pushState(n,r,m)}replaceState(n,r,s,u){const m=this.prepareExternalUrl(s+ke(u));this._platformLocation.replaceState(n,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(me),l.LFG(Oe,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends Ne{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=le(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,u){let m=this.prepareExternalUrl(s+ke(u));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(n,r,m)}replaceState(n,r,s,u){let m=this.prepareExternalUrl(s+ke(u));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(me),l.LFG(Oe,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t{constructor(n,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(Zt(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ke(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Zt(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._platformStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ke(r)),s)}replaceState(n,r="",s=null){this._platformStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ke(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Ne),l.LFG(me))},t.normalizeQueryParams=ke,t.joinWithSlash=le,t.stripTrailingSlash=Te,t.\u0275prov=(0,l.Yz7)({factory:Bt,token:t,providedIn:"root"}),t})();function Bt(){return new Qe((0,l.LFG)(Ne),(0,l.LFG)(me))}function Zt(t){return t.replace(/\/index.html$/,"")}var Ae=(()=>((Ae=Ae||{})[Ae.Zero=0]="Zero",Ae[Ae.One=1]="One",Ae[Ae.Two=2]="Two",Ae[Ae.Few=3]="Few",Ae[Ae.Many=4]="Many",Ae[Ae.Other=5]="Other",Ae))(),$=(()=>(($=$||{})[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),Be=(()=>((Be=Be||{})[Be.Short=0]="Short",Be[Be.Medium=1]="Medium",Be[Be.Long=2]="Long",Be[Be.Full=3]="Full",Be))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function En(t,e){return en((0,l.cg1)(t)[l.wAp.DateFormat],e)}function rn(t,e){return en((0,l.cg1)(t)[l.wAp.TimeFormat],e)}function Lr(t,e){return en((0,l.cg1)(t)[l.wAp.DateTimeFormat],e)}function Xn(t,e){const n=(0,l.cg1)(t),r=n[l.wAp.NumberSymbols][e];if(void 0===r){if(e===Ee.CurrencyDecimal)return n[l.wAp.NumberSymbols][Ee.Decimal];if(e===Ee.CurrencyGroup)return n[l.wAp.NumberSymbols][Ee.Group]}return r}const Kt=l.kL8;function zt(t){if(!t[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function en(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Hn(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const qi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hr={},Hc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Un=(()=>((Un=Un||{})[Un.Short=0]="Short",Un[Un.ShortGMT=1]="ShortGMT",Un[Un.Long=2]="Long",Un[Un.Extended=3]="Extended",Un))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function Sn(t,e,n,r){let s=function(t){if(vo(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[s,u=1,m=1]=t.split("-").map(_=>+_);return go(s,u-1,m)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(qi))return function(t){const e=new Date(0);let n=0,r=0;const s=t[8]?e.setUTCFullYear:e.setFullYear,u=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),s.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const m=Number(t[4]||0)-n,_=Number(t[5]||0)-r,E=Number(t[6]||0),I=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return u.call(e,m,_,E,I),e}(r)}const e=new Date(t);if(!vo(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Er(n,e)||e;let _,m=[];for(;e;){if(_=Hc.exec(e),!_){m.push(e);break}{m=m.concat(_.slice(1));const N=m.pop();if(!N)break;e=N}}let E=s.getTimezoneOffset();r&&(E=un(r,E),s=function(t,e,n){const s=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(un(e,s)-s))}(s,r));let I="";return m.forEach(N=>{const R=function(t){if($t[t])return $t[t];let e;switch(t){case"G":case"GG":case"GGG":e=re(Pt.Eras,we.Abbreviated);break;case"GGGG":e=re(Pt.Eras,we.Wide);break;case"GGGGG":e=re(Pt.Eras,we.Narrow);break;case"y":e=Mn(lt.FullYear,1,0,!1,!0);break;case"yy":e=Mn(lt.FullYear,2,0,!0,!0);break;case"yyy":e=Mn(lt.FullYear,3,0,!1,!0);break;case"yyyy":e=Mn(lt.FullYear,4,0,!1,!0);break;case"Y":e=pt(1);break;case"YY":e=pt(2,!0);break;case"YYY":e=pt(3);break;case"YYYY":e=pt(4);break;case"M":case"L":e=Mn(lt.Month,1,1);break;case"MM":case"LL":e=Mn(lt.Month,2,1);break;case"MMM":e=re(Pt.Months,we.Abbreviated);break;case"MMMM":e=re(Pt.Months,we.Wide);break;case"MMMMM":e=re(Pt.Months,we.Narrow);break;case"LLL":e=re(Pt.Months,we.Abbreviated,$.Standalone);break;case"LLLL":e=re(Pt.Months,we.Wide,$.Standalone);break;case"LLLLL":e=re(Pt.Months,we.Narrow,$.Standalone);break;case"w":e=Ke(1);break;case"ww":e=Ke(2);break;case"W":e=Ke(1,!0);break;case"d":e=Mn(lt.Date,1);break;case"dd":e=Mn(lt.Date,2);break;case"c":case"cc":e=Mn(lt.Day,1);break;case"ccc":e=re(Pt.Days,we.Abbreviated,$.Standalone);break;case"cccc":e=re(Pt.Days,we.Wide,$.Standalone);break;case"ccccc":e=re(Pt.Days,we.Narrow,$.Standalone);break;case"cccccc":e=re(Pt.Days,we.Short,$.Standalone);break;case"E":case"EE":case"EEE":e=re(Pt.Days,we.Abbreviated);break;case"EEEE":e=re(Pt.Days,we.Wide);break;case"EEEEE":e=re(Pt.Days,we.Narrow);break;case"EEEEEE":e=re(Pt.Days,we.Short);break;case"a":case"aa":case"aaa":e=re(Pt.DayPeriods,we.Abbreviated);break;case"aaaa":e=re(Pt.DayPeriods,we.Wide);break;case"aaaaa":e=re(Pt.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":e=re(Pt.DayPeriods,we.Abbreviated,$.Standalone,!0);break;case"bbbb":e=re(Pt.DayPeriods,we.Wide,$.Standalone,!0);break;case"bbbbb":e=re(Pt.DayPeriods,we.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":e=re(Pt.DayPeriods,we.Abbreviated,$.Format,!0);break;case"BBBB":e=re(Pt.DayPeriods,we.Wide,$.Format,!0);break;case"BBBBB":e=re(Pt.DayPeriods,we.Narrow,$.Format,!0);break;case"h":e=Mn(lt.Hours,1,-12);break;case"hh":e=Mn(lt.Hours,2,-12);break;case"H":e=Mn(lt.Hours,1);break;case"HH":e=Mn(lt.Hours,2);break;case"m":e=Mn(lt.Minutes,1);break;case"mm":e=Mn(lt.Minutes,2);break;case"s":e=Mn(lt.Seconds,1);break;case"ss":e=Mn(lt.Seconds,2);break;case"S":e=Mn(lt.FractionalSeconds,1);break;case"SS":e=Mn(lt.FractionalSeconds,2);break;case"SSS":e=Mn(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=K(Un.Short);break;case"ZZZZZ":e=K(Un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=K(Un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=K(Un.Long);break;default:return null}return $t[t]=e,e}(N);I+=R?R(s,n,E):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function go(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Er(t,e){const n=function(t){return(0,l.cg1)(t)[l.wAp.LocaleId]}(t);if(hr[n]=hr[n]||{},hr[n][e])return hr[n][e];let r="";switch(e){case"shortDate":r=En(t,Be.Short);break;case"mediumDate":r=En(t,Be.Medium);break;case"longDate":r=En(t,Be.Long);break;case"fullDate":r=En(t,Be.Full);break;case"shortTime":r=rn(t,Be.Short);break;case"mediumTime":r=rn(t,Be.Medium);break;case"longTime":r=rn(t,Be.Long);break;case"fullTime":r=rn(t,Be.Full);break;case"short":const s=Er(t,"shortTime"),u=Er(t,"shortDate");r=bn(Lr(t,Be.Short),[s,u]);break;case"medium":const m=Er(t,"mediumTime"),_=Er(t,"mediumDate");r=bn(Lr(t,Be.Medium),[m,_]);break;case"long":const E=Er(t,"longTime"),I=Er(t,"longDate");r=bn(Lr(t,Be.Long),[E,I]);break;case"full":const N=Er(t,"fullTime"),R=Er(t,"fullDate");r=bn(Lr(t,Be.Full),[N,R])}return r&&(hr[n][e]=r),r}function bn(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Ci(t,e,n="-",r,s){let u="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,u=n));let m=String(t);for(;m.length<e;)m="0"+m;return r&&(m=m.substr(m.length-e)),u+m}function Mn(t,e,n=0,r=!1,s=!1){return function(u,m){let _=function(t,e){switch(t){case lt.FullYear:return e.getFullYear();case lt.Month:return e.getMonth();case lt.Date:return e.getDate();case lt.Hours:return e.getHours();case lt.Minutes:return e.getMinutes();case lt.Seconds:return e.getSeconds();case lt.FractionalSeconds:return e.getMilliseconds();case lt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,u);if((n>0||_>-n)&&(_+=n),t===lt.Hours)0===_&&-12===n&&(_=12);else if(t===lt.FractionalSeconds)return function(t,e){return Ci(t,3).substr(0,e)}(_,e);const E=Xn(m,Ee.MinusSign);return Ci(_,e,E,r,s)}}function re(t,e,n=$.Format,r=!1){return function(s,u){return function(t,e,n,r,s,u){switch(n){case Pt.Months:return function(t,e,n){const r=(0,l.cg1)(t),u=en([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return en(u,n)}(e,s,r)[t.getMonth()];case Pt.Days:return function(t,e,n){const r=(0,l.cg1)(t),u=en([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return en(u,n)}(e,s,r)[t.getDay()];case Pt.DayPeriods:const m=t.getHours(),_=t.getMinutes();if(u){const I=function(t){const e=(0,l.cg1)(t);return zt(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Hn(r):[Hn(r[0]),Hn(r[1])])}(e),N=function(t,e,n){const r=(0,l.cg1)(t);zt(r);const u=en([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return en(u,n)||[]}(e,s,r),R=I.findIndex(H=>{if(Array.isArray(H)){const[G,J]=H,ue=m>=G.hours&&_>=G.minutes,Me=m<J.hours||m===J.hours&&_<J.minutes;if(G.hours<J.hours){if(ue&&Me)return!0}else if(ue||Me)return!0}else if(H.hours===m&&H.minutes===_)return!0;return!1});if(-1!==R)return N[R]}return function(t,e,n){const r=(0,l.cg1)(t),u=en([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return en(u,n)}(e,s,r)[m<12?0:1];case Pt.Eras:return function(t,e){return en((0,l.cg1)(t)[l.wAp.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,u,t,e,n,r)}}function K(t){return function(e,n,r){const s=-1*r,u=Xn(n,Ee.MinusSign),m=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case Un.Short:return(s>=0?"+":"")+Ci(m,2,u)+Ci(Math.abs(s%60),2,u);case Un.ShortGMT:return"GMT"+(s>=0?"+":"")+Ci(m,1,u);case Un.Long:return"GMT"+(s>=0?"+":"")+Ci(m,2,u)+":"+Ci(Math.abs(s%60),2,u);case Un.Extended:return 0===r?"Z":(s>=0?"+":"")+Ci(m,2,u)+":"+Ci(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${t}"`)}}}function He(t){return go(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Ke(t,e=!1){return function(n,r){let s;if(e){const u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,m=n.getDate();s=1+Math.floor((m+u)/7)}else{const u=He(n),m=function(t){const e=go(t,0,1).getDay();return go(t,0,1+(e<=4?4:11)-e)}(u.getFullYear()),_=u.getTime()-m.getTime();s=1+Math.round(_/6048e5)}return Ci(s,t,Xn(r,Ee.MinusSign))}}function pt(t,e=!1){return function(n,r){return Ci(He(n).getFullYear(),t,Xn(r,Ee.MinusSign),e)}}const $t={};function un(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function vo(t){return t instanceof Date&&!isNaN(t.valueOf())}class $1{}let Uc=(()=>{class t extends $1{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Kt(r||this.locale)(n)){case Ae.Zero:return"zero";case Ae.One:return"one";case Ae.Two:return"two";case Ae.Few:return"few";case Ae.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Wr(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}let ma=(()=>{class t{constructor(n,r,s,u){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class jt{constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((s,u,m)=>{if(null==s.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new jt(null,this._ngForOf,-1,-1),null===m?void 0:m),E=new Wt(s,_);r.push(E)}else if(null==m)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const _=this._viewContainer.get(u);this._viewContainer.move(_,m);const E=new Wt(s,_);r.push(E)}});for(let s=0;s<r.length;s++)this._perViewChange(r[s].view,r[s].record);for(let s=0,u=this._viewContainer.length;s<u;s++){const m=this._viewContainer.get(s);m.context.index=s,m.context.count=u,m.context.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Wt{constructor(e,n){this.record=e,this.view=n}}let Jt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new K2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Xa("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Xa("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.s_b),l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class K2{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Yn=(()=>{class t{constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[s,u]=n.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,s,r):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();let Vs=(()=>{class t{constructor(n){this.locale=n}transform(n,r="mediumDate",s,u){if(null==n||""===n||n!=n)return null;try{return Sn(n,r,u||this.locale,s)}catch(m){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,l.AaK)(t)}'`)}(t,m.message)}}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.soG,16))},t.\u0275pipe=l.Yjl({name:"date",type:t,pure:!0}),t})(),Z4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[{provide:$1,useClass:Uc}]}),t})();function sl(t){return"server"===t}let Ln=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new Y4((0,l.LFG)(Re),window)}),t})();class Y4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const m=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(m)return m}s=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=al(this.window.history)||al(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function al(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q2{}class Fo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Fo,B||(B=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Lt=Lt||document.querySelector("base"),Lt?Lt.getAttribute("href"):null);return null==n?null:function(t){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",t);const e=Pn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wr(document.cookie,e)}}let Pn,Lt=null;const Bn=new l.OlP("TRANSITION_ID"),$i=[{provide:l.ip1,useFactory:function(t,e,n){return()=>{n.get(l.CZH).donePromise.then(()=>{const r=V(),s=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Bn,Re,l.zs3],multi:!0}];class Q1{static init(){(0,l.VLi)(new Q1)}addToWindow(e){l.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const s=l.dqk.getAllAngularTestabilities();let u=s.length,m=!1;const _=function(E){m=m||E,u--,0==u&&r(m)};s.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const s=e.getTestability(n);return null!=s?s:r?V().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Fs=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Ir=new l.OlP("EventManagerPlugins");let Ze=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>s.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}addGlobalEventListener(n,r,s){return this._findPluginFor(r).addGlobalEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const m=s[u];if(m.supports(n))return this._eventNameToPlugin.set(n,m),m}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Ir),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class sn{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const s=V().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,r)}}let t1=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Qn=(()=>{class t extends t1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,s){n.forEach(u=>{const m=this._doc.createElement("style");m.textContent=u,s.push(r.appendChild(m))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Bs),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(n,s,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Bs))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Bs(t){V().remove(t)}const n1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ui=/%COMP%/g;function zn(t,e,n){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?zn(t,s,n):(s=s.replace(ui,t),n.push(s))}return n}function Yr(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let us=(()=>{class t{constructor(n,r,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Cn(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Xc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(n),s}case 1:case l.ifc.ShadowDom:return new Rr(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const s=zn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Ze),l.LFG(Qn),l.LFG(l.AFp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class Cn{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(n1[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const u=n1[s];u?e.setAttributeNS(u,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=n1[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(n,r,s&l.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&l.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Yr(r)):this.eventManager.addEventListener(e,n,Yr(r))}}class Xc extends Cn{constructor(e,n,r,s){super(e),this.component=r;const u=zn(s+"-"+r.id,r.styles,[]);n.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(ui,s+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ui,t)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Rr extends Cn{constructor(e,n,r,s){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=zn(s.id,s.styles,[]);for(let m=0;m<u.length;m++){const _=document.createElement("style");_.textContent=u[m],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let eu=(()=>{class t extends sn{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const fs=["alt","control","meta","shift"],c3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ll={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Dh=(()=>{class t extends sn{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,s){const u=t.parseEventName(r),m=t.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(n,u.domEventName,m))}static parseEventName(n){const r=n.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=t._normalizeKey(r.pop());let m="";if(fs.forEach(E=>{const I=r.indexOf(E);I>-1&&(r.splice(I,1),m+=E+".")}),m+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=m,_}static getEventFullKey(n){let r="",s=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nr.hasOwnProperty(e)&&(e=nr[e]))}return c3[e]||e}(n);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),fs.forEach(u=>{u!=s&&ll[u](n)&&(r+=u+".")}),r+=s,r}static eventCallback(n,r,s){return u=>{t.getEventFullKey(u)===n&&s.runGuarded(()=>r(u))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Ki=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,l.Yz7)({factory:function(){return(0,l.LFG)(ba)},token:t,providedIn:"root"}),t})(),ba=(()=>{class t extends Ki{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,l.JVY)(n)}bypassSecurityTrustStyle(n){return(0,l.L6k)(n)}bypassSecurityTrustScript(n){return(0,l.eBb)(n)}bypassSecurityTrustUrl(n){return(0,l.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,l.pB0)(n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re))},t.\u0275prov=(0,l.Yz7)({factory:function(){return function(t){return new ba(t.get(Re))}((0,l.LFG)(l.gxx))},token:t,providedIn:"root"}),t})();const ds=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Fo.makeCurrent(),Q1.init()},multi:!0},{provide:Re,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),r0=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:Ir,useClass:eu,multi:!0,deps:[Re,l.R0b,l.Lbi]},{provide:Ir,useClass:Dh,multi:!0,deps:[Re]},[],{provide:us,useClass:us,deps:[Ze,Qn,l.AFp]},{provide:l.FYo,useExisting:us},{provide:t1,useExisting:Qn},{provide:Qn,useClass:Qn,deps:[Re]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ze,useClass:Ze,deps:[Ir,l.R0b]},{provide:Q2,useClass:Fs,deps:[]},[]];let o0=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:l.AFp,useValue:n.appId},{provide:Bn,useExisting:l.AFp},$i]}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(t,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:r0,imports:[Z4,l.hGG]}),t})();"undefined"!=typeof window&&window;var Xt=X(57),n2=X(3637),rr=X(7574),It=X(5917),ml=X(6682),xt=X(8002),a0=X(8819),jn=X(4402),$s=X(5345);function cr(t,e){return"function"==typeof e?n=>n.pipe(cr((r,s)=>(0,jn.D)(t(r,s)).pipe((0,xt.U)((u,m)=>e(r,u,s,m))))):n=>n.lift(new u1(t))}class u1{constructor(e){this.project=e}call(e,n){return n.subscribe(new l1(e,this.project))}}class l1 extends $s.Ds{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(s){return void this.destination.error(s)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new $s.IY(this),s=this.destination;s.add(r),this.innerSubscription=(0,$s.ft)(e,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Ni=X(7393);function ht(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new Pr(t,e,n))}}class Pr{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new ki(e,this.accumulator,this.seed,this.hasSeed))}}class ki extends Ni.L{constructor(e,n,r,s){super(e),this.accumulator=n,this._seed=r,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(s){this.destination.error(s)}this.seed=r,this.destination.next(r)}}function c0(t,e){return n=>n.lift(new u0(t,e))}class u0{constructor(e,n){this.compare=e,this.keySelector=n}call(e,n){return n.subscribe(new ou(e,this.compare,this.keySelector))}}class ou extends Ni.L{constructor(e,n,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(e,n){return e===n}_next(e){let n;try{const{keySelector:s}=this;n=s?s(e):e}catch(s){return this.destination.error(s)}let r=!1;if(this.hasKey)try{const{compare:s}=this;r=s(this.key,n)}catch(s){return this.destination.error(s)}else this.hasKey=!0;r||(this.key=n,this.destination.next(e))}}class Ea extends Ni.L{notifyNext(e,n,r,s,u){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class f1 extends Ni.L{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var r2=X(7444);function Aa(t,e,n,r,s=new f1(t,n,r)){if(!s.closed)return e instanceof rr.y?e.subscribe(s):(0,r2.s)(e)(s)}class Ws{constructor(e,n){this.observables=e,this.project=n}call(e,n){return n.subscribe(new au(e,this.observables,this.project))}}class au extends Ea{constructor(e,n,r){super(e),this.observables=n,this.project=r,this.toRespond=[];const s=n.length;this.values=new Array(s);for(let u=0;u<s;u++)this.toRespond.push(u);for(let u=0;u<s;u++)this.add(Aa(this,n[u],void 0,u))}notifyNext(e,n,r){this.values[r]=n;const s=this.toRespond;if(s.length>0){const u=s.indexOf(r);-1!==u&&s.splice(u,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const n=[e,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(e){let n;try{n=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}class gl{constructor(e){this.predicate=e}call(e,n){return n.subscribe(new nc(e,this.predicate))}}class nc extends Ni.L{constructor(e,n){super(e),this.predicate=n,this.skipping=!0,this.index=0}_next(e){const n=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||n.next(e)}tryCallPredicate(e){try{const n=this.predicate(e,this.index++);this.skipping=Boolean(n)}catch(n){this.destination.error(n)}}}X(9192);var St=X(9765),Ks=X(309),h3=X(7771),l0=X(5319),f0=X(7971),Nh=X(8858);class Dd extends St.xQ{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new d3(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,u=r.length;let m;if(this.closed)throw new f0.N;if(this.isStopped||this.hasError?m=l0.w.EMPTY:(this.observers.push(e),m=new Nh.W(this,e)),s&&e.add(e=new Ks.ht(e,s)),n)for(let _=0;_<u&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<u&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),m}_getNow(){return(this.scheduler||h3.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,r=this._windowTime,s=this._events,u=s.length;let m=0;for(;m<u&&!(e-s[m].time<r);)m++;return u>n&&(m=Math.max(m,u-n)),m>0&&s.splice(0,m),s}}class d3{constructor(e,n){this.time=e,this.value=n}}function h1(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},s=>s.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,m,u=0,_=!1,E=!1;return function(N){let R;u++,!s||_?(_=!1,s=new Dd(t,e,r),R=s.subscribe(this),m=N.subscribe({next(H){s.next(H)},error(H){_=!0,s.error(H)},complete(){E=!0,m=void 0,s.complete()}}),E&&(m=void 0)):R=s.subscribe(this),this.add(()=>{u--,R.unsubscribe(),R=void 0,m&&!E&&n&&0===u&&(m.unsubscribe(),m=void 0,s=void 0)})}}(r))}const ms=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function zr(t,e){return function(r){return r.lift(new h0(t,e))}}class h0{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new xr(e,this.predicate,this.thisArg))}}class xr extends Ni.L{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}const uu=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var d1=X(9193);function rc(t){return e=>0===t?(0,d1.c)():e.lift(new Li(t))}class Li{constructor(e){if(this.total=e,this.total<0)throw new uu}call(e,n){return n.subscribe(new Vr(e,this.total))}}class Vr extends Ni.L{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function Ys(t=null){return e=>e.lift(new Ma(t))}class Ma{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new Ta(e,this.defaultValue))}}class Ta extends Ni.L{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function d0(t=Lh){return e=>e.lift(new yl(t))}class yl{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new m3(e,this.errorFactory))}}class m3 extends Ni.L{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function Lh(){return new ms}var p0=X(4487);function Yi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zr((s,u)=>t(s,u,r)):p0.y,rc(1),n?Ys(e):d0(()=>new ms))}function Qi(t,e){return e?cr(()=>t,e):cr(()=>t)}var Ji=X(3101);const ic=new l.OlP("angularfire2.auth.use-emulator"),_l=new l.OlP("angularfire2.auth.settings"),p1=new l.OlP("angularfire2.auth.tenant-id"),m1=new l.OlP("angularfire2.auth.langugage-code"),lu=new l.OlP("angularfire2.auth.use-device-language"),fu=new l.OlP("angularfire.auth.persistence");let pr=(()=>{class t{constructor(n,r,s,u,m,_,E,I,N,R){const H=new Xt.HU(u),G=(0,Xt.ss)(H),J=new St.xQ,ue=(0,It.of)(void 0).pipe((0,Ks.QV)(H.outsideAngular),cr(()=>u.runOutsideAngular(()=>X.e(952).then(X.bind(X,1952)))),(0,xt.U)(()=>(0,Xt.on)(n,u,r)),(0,xt.U)(Me=>u.runOutsideAngular(()=>{const Se=m,Fe=_;return(0,Xt.sI)(`${Me.name}.auth`,"AngularFireAuth",Me,()=>{const $e=u.runOutsideAngular(()=>Me.auth());if(Se&&$e.useEmulator(`http://${Se.join(":")}`),E&&($e.tenantId=E),$e.languageCode=I,N&&$e.useDeviceLanguage(),Fe)for(const[gt,Je]of Object.entries(Fe))$e.settings[gt]=Je;return R&&$e.setPersistence(R),$e},[Se,E,I,N,Fe,R])})),h1({bufferSize:1,refCount:!1}));if(sl(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{ue.pipe(Yi()).subscribe();const Se=ue.pipe(cr(Je=>Je.getRedirectResult().then(Ut=>Ut,()=>null)),G,h1({bufferSize:1,refCount:!1})),Fe=Je=>new rr.y(Ut=>({unsubscribe:u.runOutsideAngular(()=>Je(Ut))})),$e=ue.pipe(cr(Je=>Fe(Je.onAuthStateChanged.bind(Je)))),gt=ue.pipe(cr(Je=>Fe(Je.onIdTokenChanged.bind(Je))));this.authState=Se.pipe(Qi($e),(0,Ji.R)(H.outsideAngular),(0,Ks.QV)(H.insideAngular)),this.user=Se.pipe(Qi(gt),(0,Ji.R)(H.outsideAngular),(0,Ks.QV)(H.insideAngular)),this.idToken=this.user.pipe(cr(Je=>Je?(0,jn.D)(Je.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe(cr(Je=>Je?(0,jn.D)(Je.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,ml.T)(Se,J,this.authState.pipe(zr(Je=>!Je))).pipe((0,xt.U)(Je=>(null==Je?void 0:Je.user)?Je:null),(0,Ji.R)(H.outsideAngular),(0,Ks.QV)(H.insideAngular))}return(0,Xt.pX)(this,ue,u,{spy:{apply:(Me,Se,Fe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&Fe.then($e=>J.next($e))}}})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ic,8),l.LFG(_l,8),l.LFG(p1,8),l.LFG(m1,8),l.LFG(lu,8),l.LFG(fu,8))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ic,8),l.LFG(_l,8),l.LFG(p1,8),l.LFG(m1,8),l.LFG(lu,8),l.LFG(fu,8))},token:t,providedIn:"any"}),t})(),s2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[pr]}),t})();var Qs=X(2329);function a2(t){return null==t}function oc(t){return"function"==typeof t.set}function hi(t,e){return oc(e)?e:t.ref(e)}function m0(t,e){if(function(t){return"string"==typeof t}(t))return e.stringCase();if(oc(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function c2(t,e,n="on",r=n2.z){return new rr.y(s=>{let u=null;return u=t[n](e,(m,_)=>{r.schedule(()=>{s.next({snapshot:m,prevKey:_})}),"once"===n&&r.schedule(()=>s.complete())},m=>{r.schedule(()=>s.error(m))}),"on"===n?{unsubscribe(){null!=u&&t.off(e,u)}}:{unsubscribe(){}}}).pipe((0,xt.U)(s=>{const{snapshot:u,prevKey:m}=s;let _=null;return u.exists()&&(_=u.key),{type:e,payload:u,prevKey:m,key:_}}),(0,a0.B)())}function du(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function g1(t,e){const{payload:n,prevKey:r,key:s}=e,u=du(t,s),m=function(t,e){if(a2(e))return 0;{const n=du(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let _=null;e.payload.forEach(E=>{const I={payload:E,type:"value",prevKey:_,key:E.key};return _=E.key,t=[...t,I],!1})}return t;case"child_added":if(u>-1){const _=t[u-1];(_&&_.key||null)!==r&&(t=t.filter(E=>E.payload.key!==n.key)).splice(m,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(m,0,e)}return t;case"child_removed":return t.filter(_=>_.payload.key!==n.key);case"child_changed":return t.map(_=>_.payload.key===s?e:_);case"child_moved":if(u>-1){const _=t.splice(u,1)[0];return(t=t.slice()).splice(m,0,_),t}return t;default:return t}}function Bo(t){return(a2(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function jo(t,e,n){return function(t,e,n){return c2(t,"value","once",n).pipe(cr(r=>{const s=[(0,It.of)(r)];return e.forEach(u=>s.push(c2(t,u,"on",n))),(0,ml.T)(...s).pipe(ht(g1,[]))}),c0())}(t,e=Bo(e),n)}function Js(t,e,n){const r=(e=Bo(e)).map(s=>c2(t,s,"on",n));return(0,ml.T)(...r)}function v1(t,e){return function(r,s){return m0(r,{stringCase:()=>t.child(r)[e](s),firebaseCase:()=>r[e](s),snapshotCase:()=>r.ref[e](s)})}}function di(t){return function(n){return n?m0(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function v0(t,e){return function(){return c2(t,"value","on",e)}}const Cl=new l.OlP("angularfire2.realtimeDatabaseURL"),Sr=new l.OlP("angularfire2.database.use-emulator");let Qr=(()=>{class t{constructor(n,r,s,u,m,_,E){this.schedulers=new Xt.HU(m),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const I=_,N=(0,Xt.on)(n,m,r);!Qs.Z.auth&&E&&(0,Xt.yq)(),this.database=(0,Xt.sI)(`${N.name}.database.${s}`,"AngularFireDatabase",N,()=>{const R=m.runOutsideAngular(()=>N.database(s||void 0));return I&&R.useEmulator(...I),R},[I])}list(n,r){const s=this.schedulers.ngZone.runOutsideAngular(()=>hi(this.database,n));let u=s;return r&&(u=r(s)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:v1(r,"update"),set:v1(r,"set"),push:s=>r.push(s),remove:di(r),snapshotChanges:s=>jo(t,s,n).pipe(e.keepUnstableUntilFirst),stateChanges:s=>Js(t,s,n).pipe(e.keepUnstableUntilFirst),auditTrail:s=>function(t,e,n){return function(t,e,n){return function(t,e){return c2(t,"value","on",e).pipe((0,xt.U)(n=>{let r;return n.payload.forEach(s=>(r=s.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Ws(t,n))}}(e),(0,xt.U)(([s,u])=>{const m=s.lastKeyToLoad,_=u.map(E=>E.key);return{actions:u,lastKeyToLoad:m,loadedKeys:_}}),function(t){return e=>e.lift(new gl(t))}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,xt.U)(s=>s.actions))}(t,Js(t,e).pipe(ht((s,u)=>[...s,u],[])),n)}(t,s,n).pipe(e.keepUnstableUntilFirst),valueChanges:(s,u)=>jo(t,s,n).pipe((0,xt.U)(_=>_.map(E=>u&&u.idField?Object.assign(Object.assign({},E.payload.val()),{[u.idField]:E.key}):E.payload.val())),e.keepUnstableUntilFirst)}}(u,this)}object(n){return function(t,e){return{query:t,snapshotChanges:()=>v0(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>v0(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst,(0,xt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hi(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(Cl,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sr,8),l.LFG(ic,8))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(Cl,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sr,8),l.LFG(ic,8))},token:t,providedIn:"any"}),t})(),pu=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[Qr]}),t})();class mu{constructor(e,n){this.dueTime=e,this.scheduler=n}call(e,n){return n.subscribe(new Ia(e,this.dueTime,this.scheduler))}}class Ia extends Ni.L{constructor(e,n,r){super(e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wl,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function wl(t){t.debouncedNext()}var qn=X(9759),L=X(4762),ut=X(4685),xa=X(6034),Dr="firebasestorage.googleapis.com",Sa="storageBucket",Jn=function(t){function e(n,r){var s=t.call(this,u2(n),"Firebase Storage: "+r+" ("+u2(n)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,e.prototype),s}return(0,L.__extends)(e,t),e.prototype._codeEquals=function(n){return u2(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ut.FirebaseError);function u2(t){return"storage/"+t}function br(){return new Jn("unknown","An unknown error occurred, please check the error payload for server response.")}function gu(){return new Jn("canceled","User canceled the upload/download.")}function l2(){return new Jn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mo(t){return new Jn("invalid-argument",t)}function Go(){return new Jn("app-deleted","The Firebase app was deleted.")}function E0(t){return new Jn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(t,e){return new Jn("invalid-format","String does not match format '"+t+"': "+e)}function vu(t){throw new Jn("internal-error","Internal error: "+t)}var ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vs=function(e,n){this.data=e,this.contentType=n||null};function ys(t,e){switch(t){case ei.RAW:return new vs(f2(e));case ei.BASE64:case ei.BASE64URL:return new vs(Al(t,e));case ei.DATA_URL:return new vs(function(t){var e=new A0(t);return e.base64?Al(ei.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Da(ei.DATA_URL,"Malformed data URL.")}return f2(e)}(e.rest)}(e),function(t){return new A0(t).contentType}(e))}throw br()}function f2(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var u=r,m=t.charCodeAt(++n);e.push(240|(r=65536|(1023&u)<<10|1023&m)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Al(t,e){switch(t){case ei.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Da(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ei.BASE64URL:var u=-1!==e.indexOf("+"),m=-1!==e.indexOf("/");if(u||m)throw Da(t,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var _;try{_=function(t){return atob(t)}(e)}catch(N){throw Da(t,"Invalid character found")}for(var E=new Uint8Array(_.length),I=0;I<_.length;I++)E[I]=_.charCodeAt(I);return E}var A0=function(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(null===n)throw Da(ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},Fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xi(t){switch(t){case"running":case"pausing":case"canceling":return Fr.RUNNING;case"paused":return Fr.PAUSED;case"success":return Fr.SUCCESS;case"canceled":return Fr.CANCELED;case"error":default:return Fr.ERROR}}var _s=(()=>{return(t=_s||(_s={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",_s;var t})(),M0=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=_s.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=_s.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,s){if(this.sent_)throw vu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==s)for(var u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw vu("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},t}(),To=function(){function t(){}return t.prototype.createConnection=function(){return new M0},t}(),ti=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(s){return new t(e,"")}if(""===r.path)return r;throw function(t){return new Jn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e,n){var r=null,s="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+s+"(/(.*))?$","i");function I(Zr){Zr.path_=decodeURIComponent(Zr.path)}for(var R=n.replace(/[.]/g,"\\."),$e=[{regex:_,indices:{bucket:1,path:3},postModify:function(Zr){"/"===Zr.path.charAt(Zr.path.length-1)&&(Zr.path_=Zr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+R+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp("^https?://"+(n===Dr?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+s+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:I}],gt=0;gt<$e.length;gt++){var Je=$e[gt],Ut=Je.regex.exec(e);if(Ut){var is=Ut[Je.indices.path];is||(is=""),r=new t(Ut[Je.indices.bucket],is),Je.postModify(r);break}}if(null==r)throw function(t){return new Jn("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),mi=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function Tl(t){return"string"==typeof t||t instanceof String}function w3(t){return Na()&&t instanceof Blob}function Na(){return"undefined"!=typeof Blob}function b1(t,e,n,r){if(r<e)throw Mo("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Mo("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Io(t,e){var n=e.match(/^(\w+):\/\/.+/),s=e;return null==(null==n?void 0:n[1])&&(s="https://"+e),s+"/v0"+t}function Il(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var zh=function(){function t(e,n,r,s,u,m,_,E,I,N,R){var H=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=u.slice(),this.additionalRetryCodes_=m.slice(),this.callback_=_,this.errorCallback_=E,this.progressCallback_=N,this.timeout_=I,this.pool_=R,this.promise_=new Promise(function(G,J){H.resolve_=G,H.reject_=J,H.start_()})}return t.prototype.start_=function(){var e=this;function r(s,u){var m=e.resolve_,_=e.reject_,E=u.connection;if(u.wasSuccessCode)try{var I=e.callback_(E,E.getResponseText());!function(t){return void 0!==t}(I)?m():m(I)}catch(R){_(R)}else if(null!==E)(N=br()).serverResponse=E.getResponseText(),_(e.errorCallback_?e.errorCallback_(E,N):N);else if(u.canceled)_(N=e.appDelete_?Go():gu());else{var N;_(N=new Jn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?r(0,new bs(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,s=null,u=!1,m=0;function _(){return 2===m}var E=!1;function I(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];E||(E=!0,e.apply(null,J))}function N(J){s=setTimeout(function(){s=null,t(R,_())},J)}function R(J){for(var ue=[],Me=1;Me<arguments.length;Me++)ue[Me-1]=arguments[Me];if(!E){if(J)return void I.call.apply(I,(0,L.__spreadArray)([null,J],ue));var Fe;if(_()||u)return void I.call.apply(I,(0,L.__spreadArray)([null,J],ue));r<64&&(r*=2),1===m?(m=2,Fe=0):Fe=1e3*(r+Math.random()),N(Fe)}}var H=!1;function G(J){H||(H=!0,!E&&(null!==s?(J||(m=2),clearTimeout(s),N(0)):J||(m=1)))}return N(0),setTimeout(function(){u=!0,G(!0)},n),G}(function(s,u){if(u)s(!1,new bs(!1,null,!0));else{var m=e.pool_.createConnection();e.pendingConnection_=m,null!==e.progressCallback_&&m.addUploadProgressListener(_),m.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&m.removeUploadProgressListener(_),e.pendingConnection_=null;var E=m.getErrorCode()===_s.NO_ERROR,I=m.getStatus();if(E&&!e.isRetryStatusCode_(I)){var R=-1!==e.successCodes_.indexOf(I);s(!0,new bs(R,m))}else{var N=m.getErrorCode()===_s.ABORT;s(!1,new bs(!1,null,N))}})}function _(E){null!==e.progressCallback_&&e.progressCallback_(E.loaded,E.lengthComputable?E.total:-1)}},r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return n||s||u},t}(),bs=function(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r};function Hr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Hr();if(void 0!==n){for(var r=new n,s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}if(Na())return new Blob(t);throw new Jn("unsupported-environment","This browser doesn't seem to support creating Blobs")}var d2=function(){function t(e,n){var r=0,s="";w3(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(w3(this.data_)){var s=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===s?null:new t(s)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Na()){var r=e.map(function(E){return E instanceof t?E.data_:E});return new t(_u.apply(null,r))}var s=e.map(function(E){return Tl(E)?ys(ei.RAW,E).data:E.data_}),u=0;s.forEach(function(E){u+=E.byteLength});var m=new Uint8Array(u),_=0;return s.forEach(function(E){for(var I=0;I<E.length;I++)m[_++]=E[I]}),new t(m,!0)},t.prototype.uploadData=function(){return this.data_},t}();function pn(t){var e;try{e=JSON.parse(t)}catch(n){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function fc(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Cs(t,e){return e}var ni=function(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Cs},Sl=null;function p2(){if(Sl)return Sl;var t=[];t.push(new ni("bucket")),t.push(new ni("generation")),t.push(new ni("metageneration")),t.push(new ni("name","fullPath",!0));var n=new ni("name");n.xform=function(u,m){return function(t){return!Tl(t)||t.length<2?t:fc(t)}(m)},t.push(n);var s=new ni("size");return s.xform=function(u,m){return void 0!==m?Number(m):m},t.push(s),t.push(new ni("timeCreated")),t.push(new ni("updated")),t.push(new ni("md5Hash",null,!0)),t.push(new ni("cacheControl",null,!0)),t.push(new ni("contentDisposition",null,!0)),t.push(new ni("contentEncoding",null,!0)),t.push(new ni("contentLanguage",null,!0)),t.push(new ni("contentType",null,!0)),t.push(new ni("metadata","customMetadata",!0)),Sl=t}function x0(t,e,n){var r=pn(e);return null===r?null:function(t,e,n){for(var r={type:"file"},s=n.length,u=0;u<s;u++){var m=n[u];r[m.local]=m.xform(r,e[m.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var u=new ti(t.bucket,t.fullPath);return e._makeStorageReference(u)}})}(r,t),r}(t,r,n)}function Rn(t,e){for(var n={},r=e.length,s=0;s<r;s++){var u=e[s];u.writable&&(n[u.server]=t[u.local])}return JSON.stringify(n)}var ta="prefixes";var eo=function(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function xo(t){if(!t)throw br()}function hc(t,e){return function(r,s){var u=x0(t,s,e);return xo(null!==u),u}}function m2(t){return function(n,r){var s;return(s=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Jn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Jn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(t){return new Jn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function(t){return new Jn("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r).serverResponse=r.serverResponse,s}}function dc(t){var e=m2(t);return function(r,s){var u=e(r,s);return 404===r.getStatus()&&(u=function(t){return new Jn("object-not-found","Object '"+t+"' does not exist.")}(t.path)),u.serverResponse=s.serverResponse,u}}function A3(t,e,n){var s=Io(e.fullServerUrl(),t.host),m=t.maxOperationRetryTime,_=new eo(s,"GET",hc(t,n),m);return _.errorHandler=dc(e),_}function Dl(t,e,n,r,s){var u={};u.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),s&&(u.maxResults=s);var _=Io(e.bucketOnlyServerUrl(),t.host),I=t.maxOperationRetryTime,N=new eo(_,"GET",function(t,e){return function(r,s){var u=function(t,e,n){var r=pn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ta])for(var s=0,u=n[ta];s<u.length;s++){var _=u[s].replace(/\/$/,""),E=t._makeStorageReference(new ti(e,_));r.prefixes.push(E)}if(n.items)for(var I=0,N=n.items;I<N.length;I++)E=t._makeStorageReference(new ti(e,N[I].name)),r.items.push(E);return r}(t,e,r)}(t,e,s);return xo(null!==u),u}}(t,e.bucket),I);return N.urlParams=u,N.errorHandler=m2(e),N}function Cu(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Nl=function(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null};function Ri(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(s){xo(!1)}return xo(!!n&&-1!==(e||["active"]).indexOf(n)),n}var g2=function(e,n,r){if(function(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n,this.complete=r;else{var u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}};function pc(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var x3=function(){function t(e,n,r){var s=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=p2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){s._request=void 0,s._chunkMultiplier=1,u._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=u,s._transition("error"))},this._metadataErrorHandler=function(u){s._request=void 0,u._codeEquals("canceled")?s.completeTransitions_():(s._error=u,s._transition("error"))},this._promise=new Promise(function(u,m){s._resolve=u,s._reject=m,s._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var s=r[0],u=r[1];switch(n._state){case"running":e(s,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused")}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var s=function(t,e,n,r,s){var u=e.bucketOnlyServerUrl(),m=Cu(e,r,s),_={name:m.fullPath},E=Io(u,t.host),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},R=Rn(m,n),J=new eo(E,"POST",function(ue){var Me;Ri(ue);try{Me=ue.getResponseHeader("X-Goog-Upload-URL")}catch(Se){xo(!1)}return xo(Tl(Me)),Me},t.maxUploadRetryTime);return J.urlParams=_,J.headers=N,J.body=R,J.errorHandler=m2(e),J}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),u=e._ref.storage._makeRequest(s,n,r);e._request=u,u.getPromise().then(function(m){e._request=void 0,e._uploadUrl=m,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,s){var u=function(t,e,n,r){var E=new eo(n,"POST",function(I){var N=Ri(I,["active","final"]),R=null;try{R=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch(G){xo(!1)}R||xo(!1);var H=Number(R);return xo(!isNaN(H)),new Nl(H,r.size(),"final"===N)},t.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=m2(e),E}(e._ref.storage,e._ref._location,n,e._blob),m=e._ref.storage._makeRequest(u,r,s);e._request=m,m.getPromise().then(function(_){_=_,e._request=void 0,e._updateProgress(_.current),e._needToFetchStatus=!1,_.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=262144*this._chunkMultiplier,r=new Nl(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(u,m){var _;try{_=function(t,e,n,r,s,u,m,_){var E=new Nl(0,0);if(m?(E.current=m.current,E.total=m.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw new Jn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var I=E.total-E.current,N=I;s>0&&(N=Math.min(N,s));var R=E.current,J={"X-Goog-Upload-Command":N===I?"upload, finalize":"upload","X-Goog-Upload-Offset":""+E.current},ue=r.slice(R,R+N);if(null===ue)throw l2();var $e=new eo(n,"POST",function(gt,Je){var Zr,Ut=Ri(gt,["active","final"]),fr=E.current+N,is=r.size();return Zr="final"===Ut?hc(e,u)(gt,Je):null,new Nl(fr,is,"final"===Ut,Zr)},e.maxUploadRetryTime);return $e.headers=J,$e.body=ue.uploadData(),$e.progressCallback=_||null,$e.errorHandler=m2(t),$e}(e._ref._location,e._ref.storage,s,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(I){return e._error=I,void e._transition("error")}var E=e._ref.storage._makeRequest(_,u,m);e._request=E,E.getPromise().then(function(I){e._increaseMultiplier(),e._request=void 0,e._updateProgress(I.current),I.finalized?(e._metadata=I.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var s=A3(e._ref.storage,e._ref._location,e._mappings),u=e._ref.storage._makeRequest(s,n,r);e._request=u,u.getPromise().then(function(m){e._request=void 0,e._metadata=m,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var s=function(t,e,n,r,s){var u=e.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},E=function(){for(var $e="",gt=0;gt<2;gt++)$e+=Math.random().toString().slice(2);return $e}();m["Content-Type"]="multipart/related; boundary="+E;var I=Cu(e,r,s),N=Rn(I,n),G=d2.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+E+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===G)throw l2();var J={name:I.fullPath},ue=Io(u,t.host),Se=t.maxUploadRetryTime,Fe=new eo(ue,"POST",hc(t,n),Se);return Fe.urlParams=J,Fe.headers=m,Fe.body=G.uploadData(),Fe.errorHandler=m2(e),Fe}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),u=e._ref.storage._makeRequest(s,n,r);e._request=u,u.getPromise().then(function(m){e._request=void 0,e._metadata=m,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=gu(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=Xi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,s){var u=this,m=new g2(n,r,s);return this._addObserver(m),function(){u._removeObserver(m)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Xi(this._state)){case Fr.SUCCESS:pc(this._resolve.bind(null,this.snapshot))();break;case Fr.CANCELED:case Fr.ERROR:pc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){switch(Xi(this._state)){case Fr.RUNNING:case Fr.PAUSED:e.next&&pc(e.next.bind(e,this.snapshot))();break;case Fr.SUCCESS:e.complete&&pc(e.complete.bind(e))();break;case Fr.CANCELED:case Fr.ERROR:e.error&&pc(e.error.bind(e,this._error))();break;default:e.error&&pc(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},t.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},t}(),mc=function(){function t(e,n){this._service=e,this._location=n instanceof ti?n:ti.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ti(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return fc(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ti(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(""===this._location.path)throw E0(e)},t}();function Wo(t){var e={prefixes:[],items:[]};return v2(t,e).then(function(){return e})}function v2(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,ii(t,{pageToken:n})];case 1:return s=_.sent(),(u=e.prefixes).push.apply(u,s.prefixes),(m=e.items).push.apply(m,s.items),null==s.nextPageToken?[3,3]:[4,v2(t,e,s.nextPageToken)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function ii(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&b1("options.maxResults",1,1e3,e.maxResults),r=Dl(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,s.sent().getPromise()]}})})}function S3(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var s=Io(e.fullServerUrl(),t.host),m=t.maxOperationRetryTime,_=new eo(s,"GET",function(t,e){return function(r,s){var u=x0(t,s,e);return xo(null!==u),function(t,e,n){var r=pn(e);if(null===r||!Tl(r.downloadTokens))return null;var s=r.downloadTokens;if(0===s.length)return null;var u=encodeURIComponent;return s.split(",").map(function(E){var N=t.fullPath;return Io("/b/"+u(t.bucket)+"/o/"+u(N),n)+Il({alt:"media",token:E})})[0]}(u,s,t.host)}}(t,n),m);return _.errorHandler=dc(e),_}(t.storage,t._location,p2()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(null===r)throw new Jn("no-download-url","The given file does not have any download URLs.");return r})]}})})}function Bh(t,e){var n=function(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ti(t._location.bucket,n);return new mc(t.storage,r)}function Ol(t){return/^[A-Za-z]+:\/\//.test(t)}function N3(t,e){if(t instanceof k0){var n=t;if(null==n._bucket)throw new Jn("no-default-bucket","No default bucket found. Did you set the '"+Sa+"' property when initializing the app?");var r=new mc(n,n._bucket);return null!=e?N3(r,e):r}return void 0!==e?Bh(t,e):t}function qh(t,e){if(e&&Ol(e)){if(t instanceof k0)return function(t,e){return new mc(t,e)}(t,e);throw Mo("To use ref(service, url), the first argument must be a Storage instance.")}return N3(t,e)}function y2(t,e){var n=null==e?void 0:e[Sa];return null==n?null:ti.makeFromBucketSpec(n,t)}var k0=function(){function t(e,n,r,s,u,m){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=s,this._url=u,this._firebaseVersion=m,this._bucket=null,this._host=Dr,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?ti.makeFromBucketSpec(u,this._host):y2(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?ti.makeFromBucketSpec(this._url,e):y2(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(n=r.sent()))return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new mc(this,e)},t.prototype._makeRequest=function(e,n,r){var s=this;if(this._deleted)return new mi(Go());var u=function(t,e,n,r,s,u){var m=Il(t.urlParams),_=t.url+m,E=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(E,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(E,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,u),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(E,r),new zh(_,t.method,E,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return s._requests.delete(u)},function(){return s._requests.delete(u)}),u},t.prototype.makeRequestWithTokens=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),[2,this._makeRequest(e,n[0],n[1])]}})})},t}();function La(t,e){return qh(t=(0,ut.getModularInstance)(t),e)}var t,e,gc=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Rl=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new gc(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(s){if(e)return e(new gc(s,r,r._ref))},n)},t.prototype.on=function(e,n,r,s){var u=this,m=void 0;return n&&(m="function"==typeof n?function(_){return n(new gc(_,u,u._ref))}:{next:n.next?function(_){return n.next(new gc(_,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,m,r||void 0,s||void 0)},t}(),Pl=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new vc(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new vc(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),vc=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Bh(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new Rl(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new x3(t,new d2(e),n)}(t=(0,ut.getModularInstance)(t),e,n)}(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){void 0===n&&(n=ei.RAW),this._throwIfRoot("putString");var s=ys(n,e),u=(0,L.__assign)({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new Rl(new x3(this._delegate,new d2(s.data,!0),u),this)},t.prototype.listAll=function(){var e=this;return function(t){return Wo(t=(0,ut.getModularInstance)(t))}(this._delegate).then(function(n){return new Pl(n,e.storage)})},t.prototype.list=function(e){var n=this;return function(t,e){return ii(t=(0,ut.getModularInstance)(t),e)}(this._delegate,e||void 0).then(function(r){return new Pl(r,n.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=A3(t.storage,t._location,p2()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(e){return function(t,e){return function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var u=Io(e.fullServerUrl(),t.host),_=Rn(n,r),I=t.maxOperationRetryTime,N=new eo(u,"PATCH",hc(t,r),I);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=_,N.errorHandler=dc(e),N}(t.storage,t._location,e,p2()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t),e)}(this._delegate,e)},t.prototype.getDownloadURL=function(){return function(t){return S3(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var r=Io(e.fullServerUrl(),t.host),_=new eo(r,"DELETE",function(E,I){},t.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=dc(e),_}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw E0(e)},t}(),Od=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(Ol(e))throw Mo("ref() expected a child path but got a URL, use refFromURL instead.");return new vc(La(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!Ol(e))throw Mo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ti.makeFromUrl(e,this._delegate.host)}catch(n){throw Mo("refFromUrl() expected a valid full URL but got an invalid one.")}return new vc(La(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var s=r.mockUserToken;s&&(t._overrideAuthToken="string"==typeof s?s:(0,ut.createMockUserToken)(s,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)},t}();function P3(t){const e=function(t){return new rr.y(e=>{const n=m=>e.next(m);n(t.snapshot);const u=t.on("state_changed",n);return t.then(m=>{n(m),e.complete()},m=>{n(t.snapshot),(m=>{e.error(m)})(m)}),function(){u()}}).pipe(function(t,e=n2.P){return n=>n.lift(new mu(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,xt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function zl(t,e,n){return{getDownloadURL:()=>(0,It.of)(void 0).pipe((0,Ks.QV)(e.outsideAngular),cr(()=>t.getDownloadURL()),n),getMetadata:()=>(0,It.of)(void 0).pipe((0,Ks.QV)(e.outsideAngular),cr(()=>t.getMetadata()),n),delete:()=>(0,jn.D)(t.delete()),child:r=>zl(t.child(r),e,n),updateMetadata:r=>(0,jn.D)(t.updateMetadata(r)),put:(r,s)=>P3(t.put(r,s)),putString:(r,s,u)=>P3(t.putString(r,s,u)),listAll:()=>(0,jn.D)(t.listAll())}}e={TaskState:Fr,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ei,Storage:k0,Reference:vc},(t=qn.default).INTERNAL.registerComponent(new xa.Component("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return new Od(r,new k0(r,s,u,new To,n,qn.default.SDK_VERSION))},"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1");const an=new l.OlP("angularfire2.storageBucket"),z0=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Vl=new l.OlP("angularfire2.storage.maxOperationRetryTime");let Eu=(()=>{class t{constructor(n,r,s,u,m,_,E){this.schedulers=new Xt.HU(m),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const I=(0,Xt.on)(n,m,r);this.storage=(0,Xt.sI)(`${I.name}.storage.${s}`,"AngularFireStorage",I,()=>{const N=m.runOutsideAngular(()=>I.storage(s||void 0));return _&&N.setMaxUploadRetryTime(_),E&&N.setMaxOperationRetryTime(E),N},[_,E])}ref(n){return zl(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(n){return zl(this.storage.refFromURL(n),this.schedulers,this.keepUnstableUntilFirst)}upload(n,r,s){return zl(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst).put(r,s)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(an,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(z0,8),l.LFG(Vl,8))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(an,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(z0,8),l.LFG(Vl,8))},token:t,providedIn:"any"}),t})(),p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),d=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[Eu],imports:[p]}),t})();var v=X(3282);function T(...t){return(0,v.J)(1)((0,It.of)(...t))}var D=X(4869);function O(...t){const e=t[t.length-1];return(0,D.K)(e)?(t.pop(),n=>T(t,n,e)):n=>T(t,n)}function j(){return t=>t.lift(new Z)}class Z{call(e,n){return n.subscribe(new ee(e))}}class ee extends Ni.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let n;this.hasPrev?n=[this.prev,e]:this.hasPrev=!0,this.prev=e,n&&this.destination.next(n)}}var ne=X(300),be=function(t,e){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])})(t,e)};function We(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ue,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},At=At||{},Xe=rt||self;function Gn(){}function no(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var M1="closure_uid_"+(1e9*Math.random()>>>0),_c=0;function Rd(t,e,n){return t.call.apply(t.bind,arguments)}function V3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function gi(t,e,n){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rd:V3).apply(null,arguments)}function Fl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vi(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,s,u){for(var m=Array(arguments.length-2),_=2;_<arguments.length;_++)m[_-2]=arguments[_];return e.prototype[s].apply(r,m)}}function Oa(){this.s=this.s,this.o=this.o}var Zh={};Oa.prototype.s=!1,Oa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,M1)&&t[M1]||(t[M1]=++_c)}(this);delete Zh[t]}},Oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var V0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Hl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,s="string"==typeof t?t.split(""):t,u=0;u<r;u++)u in s&&e.call(n,s[u],u,t)};function Mu(t){return Array.prototype.concat.apply([],arguments)}function H3(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function So(t){return/^[\s\xa0]*$/.test(t)}var oi,Pd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pi(t,e){return-1!=t.indexOf(e)}function U3(t,e){return t<e?-1:t>e?1:0}e:{var F0=Xe.navigator;if(F0){var $h=F0.userAgent;if($h){oi=$h;break e}}oi=""}function B3(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j3(t){var e={};for(var n in t)e[n]=t[n];return e}var q3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wh(t,e){for(var n,r,s=1;s<arguments.length;s++){for(n in r=arguments[s])t[n]=r[n];for(var u=0;u<q3.length;u++)n=q3[u],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vt(t){return Vt[" "](t),t}Vt[" "]=Gn;var Tu,G3=Pi(oi,"Opera"),b2=Pi(oi,"Trident")||Pi(oi,"MSIE"),oa=Pi(oi,"Edge"),Z3=oa||b2,Vd=Pi(oi,"Gecko")&&!(Pi(oi.toLowerCase(),"webkit")&&!Pi(oi,"Edge"))&&!(Pi(oi,"Trident")||Pi(oi,"MSIE"))&&!Pi(oi,"Edge"),bc=Pi(oi.toLowerCase(),"webkit")&&!Pi(oi,"Edge");function T1(){var t=Xe.document;return t?t.documentMode:void 0}e:{var Bl="",C2=function(){var t=oi;return Vd?/rv:([^\);]+)(\)|;)/.exec(t):oa?/Edge\/([\d\.]+)/.exec(t):b2?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bc?/WebKit\/(\S+)/.exec(t):G3?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(C2&&(Bl=C2?C2[1]:""),b2){var Cc=T1();if(null!=Cc&&Cc>parseFloat(Bl)){Tu=String(Cc);break e}}Tu=Bl}var Iu={};function ug(){return function(t){var e=Iu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=Pd(String(Tu)).split("."),n=Pd("9").split("."),r=Math.max(e.length,n.length),s=0;0==t&&s<r;s++){var u=e[s]||"",m=n[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==u[0].length&&0==m[0].length)break;t=U3(0==u[1].length?0:parseInt(u[1],10),0==m[1].length?0:parseInt(m[1],10))||U3(0==u[2].length,0==m[2].length)||U3(u[2],m[2]),u=u[3],m=m[3]}while(0==t)}return 0<=t}()}()}var jl=Xe.document&&b2&&(T1()||parseInt(Tu,10))||void 0,Kh=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",Gn,e),Xe.removeEventListener("test",Gn,e)}catch(n){}return t}();function zi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function U0(t,e){if(zi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Vd){e:{try{Vt(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fd[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&U0.Z.h.call(this)}}zi.prototype.h=function(){this.defaultPrevented=!0},vi(U0,zi);var Fd={2:"touch",3:"pen",4:"mouse"};U0.prototype.h=function(){U0.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $3="closure_listenable_"+(1e6*Math.random()|0),W3=0;function Yh(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=s,this.key=++W3,this.ca=this.fa=!1}function ql(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function B0(t){this.src=t,this.g={},this.h=0}function K3(t,e){var n=e.type;if(n in t.g){var u,r=t.g[n],s=V0(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(ql(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xu(t,e,n,r){for(var s=0;s<t.length;++s){var u=t[s];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==r)return s}return-1}B0.prototype.add=function(t,e,n,r,s){var u=t.toString();(t=this.g[u])||(t=this.g[u]=[],this.h++);var m=xu(t,e,r,s);return-1<m?(e=t[m],n||(e.fa=!1)):((e=new Yh(e,this.src,u,!!r,s)).fa=n,t.push(e)),e};var Qh="closure_lm_"+(1e6*Math.random()|0),Y3={};function Jh(t,e,n,r,s){if(r&&r.once)return m7(t,e,n,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Jh(t,e[u],n,r,s);return null}return n=Gl(n),t&&t[$3]?t.N(e,n,ia(r)?!!r.capture:!!r,s):Hd(t,e,n,!1,r,s)}function Hd(t,e,n,r,s,u){if(!e)throw Error("Invalid event type");var m=ia(s)?!!s.capture:!!s,_=Bd(t);if(_||(t[Qh]=_=new B0(t)),(n=_.add(e,n,r,m,u)).proxy)return n;if(r=function(){var e=lg;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kh||(s=m),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(g7(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function m7(t,e,n,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)m7(t,e[u],n,r,s);return null}return n=Gl(n),t&&t[$3]?t.O(e,n,ia(r)?!!r.capture:!!r,s):Hd(t,e,n,!0,r,s)}function Ud(t,e,n,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ud(t,e[u],n,r,s);else r=ia(r)?!!r.capture:!!r,n=Gl(n),t&&t[$3]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=xu(u=t.g[e],n,r,s))&&(ql(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete t.g[e],t.h--))):t&&(t=Bd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xu(e,n,r,s)),(n=-1<t?e[t]:null)&&j0(n))}function j0(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[$3])K3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bd(e))?(K3(n,t),0==n.h&&(n.src=null,e[Qh]=null)):ql(t)}}}function g7(t){return t in Y3?Y3[t]:Y3[t]="on"+t}function lg(t,e){if(t.ca)t=!0;else{e=new U0(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&j0(t),t=n.call(r,e)}return t}function Bd(t){return(t=t[Qh])instanceof B0?t:null}var Ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gl(t){return"function"==typeof t?t:(t[Ra]||(t[Ra]=function(e){return t.handleEvent(e)}),t[Ra])}function Ur(){Oa.call(this),this.i=new B0(this),this.P=this,this.I=null}function yi(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new zi(e,t);else if(e instanceof zi)e.target=e.target||t;else{var s=e;Wh(e=new zi(r,t),s)}if(s=!0,n)for(var u=n.length-1;0<=u;u--){var m=e.g=n[u];s=Zl(m,r,!0,e)&&s}if(s=Zl(m=e.g=t,r,!0,e)&&s,s=Zl(m,r,!1,e)&&s,n)for(u=0;u<n.length;u++)s=Zl(m=e.g=n[u],r,!1,e)&&s}function Zl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.ca&&m.capture==n){var _=m.listener,E=m.ia||m.src;m.fa&&K3(t.i,m),s=!1!==_.call(E,r)&&s}}return s&&!r.defaultPrevented}vi(Ur,Oa),Ur.prototype[$3]=!0,Ur.prototype.removeEventListener=function(t,e,n,r){Ud(this,t,e,n,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ql(n[r]);delete t.g[e],t.h--}}this.I=null},Ur.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ur.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var $l=Xe.JSON.stringify;function Xh(){var t=qd,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wl,e8=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=w2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),w2=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new q0},function(t){return t.reset()}),q0=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function jd(t){Xe.setTimeout(function(){throw t},0)}function t8(t,e){Wl||function(){var t=Xe.Promise.resolve(void 0);Wl=function(){t.then(v7)}}(),Kl||(Wl(),Kl=!0),qd.add(t,e)}var Kl=!1,qd=new e8;function v7(){for(var t;t=Xh();){try{t.h.call(t.g)}catch(n){jd(n)}var e=w2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kl=!1}function E2(t,e){Ur.call(this),this.h=t||1,this.g=e||Xe,this.j=gi(this.kb,this),this.l=Date.now()}function I1(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Yl(t,e,n){if("function"==typeof t)n&&(t=gi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function wc(t){t.g=Yl(function(){t.g=null,t.i&&(t.i=!1,wc(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}vi(E2,Ur),(Ue=E2.prototype).da=!1,Ue.S=null,Ue.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(I1(this),this.start()))}},Ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.M=function(){E2.Z.M.call(this),I1(this),delete this.g};var Su=function(t){function e(n,r){var s=t.call(this)||this;return s.m=n,s.j=r,s.h=null,s.i=!1,s.g=null,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:wc(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Oa);function Pa(t){Oa.call(this),this.h=t,this.g={}}vi(Pa,Oa);var J3=[];function Ql(t,e,n,r){Array.isArray(n)||(n&&(J3[0]=n.toString()),n=J3);for(var s=0;s<n.length;s++){var u=Jh(e,n[s],r||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function X3(t){B3(t.g,function(e,n){this.g.hasOwnProperty(n)&&j0(e)},t),t.g={}}function A2(){this.g=!0}function x1(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<s.length;m++)s[m]=""}}}return $l(n)}catch(_){return e}}(t,n)+(r?" "+r:"")})}Pa.prototype.M=function(){Pa.Z.M.call(this),X3(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},A2.prototype.Aa=function(){this.g=!1},A2.prototype.info=function(){};var Nu={},r8=null;function Jl(){return r8=r8||new Ur}function ef(t){zi.call(this,Nu.Ma,t)}function Ec(t){var e=Jl();yi(e,new ef(e,t))}function $d(t,e){zi.call(this,Nu.STAT_EVENT,t),this.stat=e}function Vi(t){var e=Jl();yi(e,new $d(e,t))}function Do(t,e){zi.call(this,Nu.Na,t),this.size=e}function Xl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}Nu.Ma="serverreachability",vi(ef,zi),Nu.STAT_EVENT="statevent",vi($d,zi),Nu.Na="timingevent",vi(Do,zi);var e4={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Wd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function i8(){}function y7(){}i8.prototype.h=null;var G0,ku={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function t4(){zi.call(this,"d")}function M2(){zi.call(this,"c")}function tf(){}function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Pa(this),this.P=_7,this.W=new E2(t=Z3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}vi(t4,zi),vi(M2,zi),vi(tf,i8),tf.prototype.g=function(){return new XMLHttpRequest},tf.prototype.i=function(){return{}},G0=new tf;var _7=45e3,n4={},r4={};function nf(t,e,n){t.K=1,t.v=J0(Fi(e)),t.s=n,t.U=!0,rf(t,null)}function rf(t,e){t.F=Date.now(),Lu(t),t.A=Fi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),s4(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Z0,t.g=Qo(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Su(gi(t.Ia,t,t.g),t.O)),Ql(t.V,t.g,"readystatechange",t.gb),e=t.H?j3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ec(1),function(t,e,n,r,s,u){t.info(function(){if(t.g)if(u)for(var m="",_=u.split("&"),E=0;E<_.length;E++){var I=_[E].split("=");if(1<I.length){var N=I[0];I=I[1];var R=N.split("_");m=2<=R.length&&"type"==R[1]?m+(N+"=")+I+"&":m+(N+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+m})}(t.j,t.u,t.A,t.m,t.X,t.s)}function s8(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Kd(t,e,n){for(var s,r=!0;!t.I&&t.C<n.length;){if((s=ws(t,n))==r4){4==e&&(t.o=4,Vi(14),r=!1),x1(t.j,t.m,null,"[Incomplete Response]");break}if(s==n4){t.o=4,Vi(15),x1(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}x1(t.j,t.m,s,null),$0(t,s)}s8(t)&&s!=r4&&s!=n4&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Vi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),i6(e),e.L=!0,Vi(11))):(x1(t.j,t.m,n,"[Invalid Chunked Response]"),S1(t),i4(t))}function ws(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?r4:(n=Number(e.substring(n,r)),isNaN(n)?n4:(r+=1)+n>e.length?r4:(e=e.substr(r,n),t.C=r+n,e))}function Lu(t){t.Y=Date.now()+t.P,Yd(t,t.P)}function Yd(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xl(gi(t.eb,t),e)}function io(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function i4(t){0==t.l.G||t.I||o6(t.l,t)}function S1(t){io(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,I1(t.W),X3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $0(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||t6(n.i,t)))if(n.I=t.N,!t.J&&t6(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(Me){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(n.u)n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=Xl(gi(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;hf(n),Fu(n)}g8(n),Vi(18)}if(1>=cf(n.i)&&n.ka){try{n.ka()}catch(Me){}n.ka=void 0}}else Dc(n,11)}else if((t.J||n.g==t)&&hf(n),!So(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){var u=s[e];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var m=u[3];null!=m&&(n.ma=m,n.h.info("VER="+n.ma));var _=u[4];null!=_&&(n.za=_,n.h.info("SVER="+n.za));var E=u[5];null!=E&&"number"==typeof E&&0<E&&(n.K=r=1.5*E,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var I=t.g;if(I){var N=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var R=r.i;!R.g&&(Pi(N,"spdy")||Pi(N,"quic")||Pi(N,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(n6(R,R.h),R.h=null))}if(r.D){var H=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(r.sa=H,Zn(r.F,r.D,H))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var G=t;if((r=n).oa=E7(r,r.H?r.la:null,r.W),G.J){f8(r.i,G);var J=G,ue=r.K;ue&&J.setTimeout(ue),J.B&&(io(J),Lu(J)),r.g=G}else m8(r);0<n.l.length&&h4(n)}else"stop"!=u[0]&&"close"!=u[0]||Dc(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Dc(n,7):l4(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ec(4)}catch(Me){}}function K0(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(no(t)||"string"==typeof t)Hl(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(no(t)||"string"==typeof t){n=[];for(var r=t.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,t)n[r++]=s;s=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(no(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var u=0;u<s;u++)e.call(void 0,r[u],n&&n[u],t)}}function D1(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof D1)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function a8(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Mc(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)Mc(s,r=t.g[e])||(t.g[n++]=r,s[r]=1),e++;t.g.length=n}}function Mc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ue=Ac.prototype).setTimeout=function(t){this.P=t},Ue.gb=function(t){t=t.target;var e=this.L;e&&3==As(t)?e.l():this.Ia(t)},Ue.Ia=function(t){try{if(t==this.g)e:{var e=As(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Z3||this.g&&(this.h.h||this.g.ga()||u4(this.g)))){this.I||4!=e||7==n||Ec(8==n||0>=r?3:2),io(this);var s=this.g.ba();this.N=s;t:if(s8(this)){var u=u4(this.g);t="";var m=u.length,_=4==As(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){S1(this),i4(this);var E="";break t}this.h.i=new Xe.TextDecoder}for(n=0;n<m;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:_&&n==m-1});u.splice(0,m),this.h.g+=t,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==s,function(t,e,n,r,s,u,m){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.X,e,s),this.i){if(this.$&&!this.J){t:{if(this.g){var I,N=this.g;if((I=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(I)){var R=I;break t}}R=null}if(!(s=R)){this.i=!1,this.o=3,Vi(12),S1(this),i4(this);break e}x1(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$0(this,s)}this.U?(Kd(this,e,E),Z3&&this.i&&3==e&&(Ql(this.V,this.W,"tick",this.fb),this.W.start())):(x1(this.j,this.m,E,null),$0(this,E)),4==e&&S1(this),this.i&&!this.I&&(4==e?o6(this.l,this):(this.i=!1,Lu(this)))}else 400==s&&0<E.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),S1(this),i4(this)}}}catch(H){}},Ue.fb=function(){if(this.g){var t=As(this.g),e=this.g.ga();this.C<e.length&&(io(this),Kd(this,t,e),this.i&&4!=t&&Lu(this))}},Ue.cancel=function(){this.I=!0,S1(this)},Ue.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ec(3),Vi(17)),S1(this),this.o=2,i4(this)):Yd(this,this.Y-t)},(Ue=D1.prototype).R=function(){a8(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Ue.T=function(){return a8(this),this.g.concat()},Ue.get=function(t,e){return Mc(this.h,t)?this.h[t]:e},Ue.set=function(t,e){Mc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Ue.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],u=this.get(s);t.call(e,u,s,this)}};var Ou=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ru(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ru){this.g=void 0!==e?e:t.g,N1(this,t.j),this.s=t.s,o4(this,t.i),Q0(this,t.m),this.l=t.l,e=t.h;var n=new e6;n.i=e.i,e.g&&(n.g=new D1(e.g),n.h=e.h),of(this,n),this.o=t.o}else t&&(n=String(t).match(Ou))?(this.g=!!e,N1(this,n[1]||"",!0),this.s=I2(n[2]||""),o4(this,n[3]||"",!0),Q0(this,n[4]),this.l=I2(n[5]||"",!0),of(this,n[6]||"",!0),this.o=I2(n[7]||"")):(this.g=!!e,this.h=new e6(null,this.g))}function Fi(t){return new Ru(t)}function N1(t,e,n){t.j=n?I2(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function o4(t,e,n){t.i=n?I2(e,!0):e}function Q0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function of(t,e,n){e instanceof e6?(t.h=e,function(t,e){e&&!t.j&&(Ko(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(sf(this,r),s4(this,s,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Tc(e,X0)),t.h=new e6(e,t.g))}function Zn(t,e,n){t.h.set(e,n)}function J0(t){return Zn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function I2(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,za),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function za(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ru.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tc(e,c8,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Tc(e,c8,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Tc(n,"/"==n.charAt(0)?Pu:x2,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tc(n,Jd)),t.join("")};var c8=/[#\/\?@]/g,x2=/[#\?:]/g,Pu=/[#\?]/g,X0=/[#\?@]/g,Jd=/#/g;function e6(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ko(t){t.g||(t.g=new D1,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var u=t[n].substring(0,r);s=t[n].substring(r+1)}else u=t[n];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sf(t,e){Ko(t),e=zu(t,e),Mc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Mc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&a8(t)))}function mr(t,e){return Ko(t),e=zu(t,e),Mc(t.g.h,e)}function s4(t,e,n){sf(t,e),0<n.length&&(t.i=null,t.g.set(zu(t,e),H3(n)),t.h+=n.length)}function zu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ue=e6.prototype).add=function(t,e){Ko(this),this.i=null,t=zu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ue.forEach=function(t,e){Ko(this),this.g.forEach(function(n,r){Hl(n,function(s){t.call(e,s,r,this)},this)},this)},Ue.T=function(){Ko(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var s=t[r],u=0;u<s.length;u++)n.push(e[r]);return n},Ue.R=function(t){Ko(this);var e=[];if("string"==typeof t)mr(this,t)&&(e=Mu(e,this.g.get(zu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Mu(e,t[n])}return e},Ue.set=function(t,e){return Ko(this),this.i=null,mr(this,t=zu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ue.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var m=s;""!==r[u]&&(m+="="+encodeURIComponent(String(r[u]))),t.push(m)}}return this.i=t.join("&")};var Xd=function(e,n){this.h=e,this.g=n};function e5(t){this.l=t||af,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ea&&Xe.g.Ea()&&Xe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var af=10;function l8(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cf(t){return t.h?1:t.g?t.g.size:0}function t6(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function n6(t,e){t.g?t.g.add(e):t.h=e}function f8(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function S2(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var s=We(t.g.values()),u=s.next();!u.done;u=s.next())r=r.concat(u.value.D)}catch(_){e={error:_}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return H3(t.i)}function Es(){}function b7(){this.g=new Es}function t5(t,e,n){var r=n||"";try{K0(t,function(s,u){var m=s;ia(s)&&(m=$l(s)),e.push(r+u+"="+encodeURIComponent(m))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function r6(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function k1(t){this.l=t.$b||null,this.j=t.ib||!1}function Yo(t,e){Ur.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=uf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}e5.prototype.cancel=function(){var t,e;if(this.i=S2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=We(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(u){t={error:u}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Es.prototype.stringify=function(t){return Xe.JSON.stringify(t,void 0)},Es.prototype.parse=function(t){return Xe.JSON.parse(t,void 0)},vi(k1,i8),k1.prototype.g=function(){return new Yo(this.l,this.j)},k1.prototype.i=function(t){return function(){return t}}({}),vi(Yo,Ur);var uf=0;function n5(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function a4(t){t.readyState=4,t.l=null,t.j=null,t.A=null,c4(t)}function c4(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ue=Yo.prototype).open=function(t,e){if(this.readyState!=uf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,c4(this)},Ue.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Xe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,a4(this)),this.readyState=uf},Ue.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,c4(this)),this.g&&(this.readyState=3,c4(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Xe.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;n5(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Ue.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?a4(this):c4(this),3==this.readyState&&n5(this)}},Ue.Ua=function(t){this.g&&(this.response=this.responseText=t,a4(this))},Ue.Ta=function(t){this.g&&(this.response=t,a4(this))},Ue.ha=function(){this.g&&a4(this)},Ue.setRequestHeader=function(t,e){this.v.append(t,e)},Ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Yo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var gr=Xe.JSON.parse;function vr(t){Ur.call(this),this.headers=new D1,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=C7,this.K=this.L=!1}vi(vr,Ur);var C7="",L1=/^https?$/i,h8=["POST","PUT"];function fg(t){return"content-type"==t.toLowerCase()}function r5(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,i5(t),Dn(t)}function i5(t){t.D||(t.D=!0,yi(t,"complete"),yi(t,"error"))}function D2(t){if(t.h&&void 0!==At&&(!t.C[1]||4!=As(t)||2!=t.ba()))if(t.v&&4==As(t))Yl(t.Fa,0,t);else if(yi(t,"readystatechange"),4==As(t)){t.h=!1;try{var r,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(r=n)){var s;if(s=0===e){var u=String(t.H).match(Ou)[1]||null;if(!u&&Xe.self&&Xe.self.location){var m=Xe.self.location.protocol;u=m.substr(0,m.length-1)}s=!L1.test(u?u.toLowerCase():"")}r=s}if(r)yi(t,"complete"),yi(t,"success");else{t.m=6;try{var _=2<As(t)?t.g.statusText:""}catch(E){_=""}t.j=_+" ["+t.ba()+"]",i5(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.g){Yt(t);var n=t.g,r=t.C[0]?Gn:null;t.g=null,t.C=null,e||yi(t,"ready");try{n.onreadystatechange=r}catch(s){}}}function Yt(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function As(t){return t.g?t.g.readyState:0}function u4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case C7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $n(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){var e="";return B3(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zn(t,e,n))}function Va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xc(t){this.za=0,this.l=[],this.h=new A2,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Va("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Va("baseRetryDelayMs",5e3,t),this.$a=Va("retryDelaySeedMs",1e4,t),this.Ya=Va("forwardChannelMaxRetries",2,t),this.ra=Va("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new e5(t&&t.concurrentRequestLimit),this.Ca=new b7,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function l4(t){if(lf(t),3==t.G){var e=t.V++,n=Fi(t.F);Zn(n,"SID",t.J),Zn(n,"RID",e),Zn(n,"TYPE","terminate"),Sc(t,n),(e=new Ac(t,t.h,e,void 0)).K=2,e.v=J0(Fi(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon&&(n=Xe.navigator.sendBeacon(e.v.toString(),"")),!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=Qo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Lu(e)}df(t)}function Fu(t){t.g&&(i6(t),t.g.cancel(),t.g=null)}function lf(t){Fu(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),hf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function f4(t,e){t.l.push(new Xd(t.Za++,e)),3==t.G&&h4(t)}function h4(t){l8(t.i)||t.m||(t.m=!0,t8(t.Ha,t),t.C=0)}function ff(t,e){var n;n=e?e.m:t.V++;var r=Fi(t.F);Zn(r,"SID",t.J),Zn(r,"RID",n),Zn(r,"AID",t.U),Sc(t,r),t.o&&t.s&&$n(r,t.o,t.s),n=new Ac(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=p8(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),n6(t.i,n),nf(n,r,e)}function Sc(t,e){t.j&&K0({},function(n,r){Zn(e,r,n)})}function p8(t,e,n){n=Math.min(t.l.length,n);var r=t.j?gi(t.j.Oa,t.j,t):null;e:for(var s=t.l,u=-1;;){var m=["count="+n];-1==u?0<n?m.push("ofs="+(u=s[0].h)):u=0:m.push("ofs="+u);for(var _=!0,E=0;E<n;E++){var I=s[E].h,N=s[E].g;if(0>(I-=u))u=Math.max(0,s[E].h-100),_=!1;else try{t5(N,m,"req"+I+"_")}catch(R){r&&r(N)}}if(_){r=m.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function m8(t){t.g||t.u||(t.Y=1,t8(t.Ga,t),t.A=0)}function g8(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Xl(gi(t.Ga,t),y8(t,t.A)),t.A++,0))}function i6(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function v8(t){t.g=new Ac(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Fi(t.oa);Zn(e,"RID","rpc"),Zn(e,"SID",t.J),Zn(e,"CI",t.N?"0":"1"),Zn(e,"AID",t.U),Sc(t,e),Zn(e,"TYPE","xmlhttp"),t.o&&t.s&&$n(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=J0(Fi(e)),n.s=null,n.U=!0,rf(n,t)}function hf(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function o6(t,e){var n=null;if(t.g==e){hf(t),i6(t),t.g=null;var r=2}else{if(!t6(t.i,e))return;n=e.D,f8(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;yi(r=Jl(),new Do(r,n,e,s)),h4(t)}else m8(t);else if(3==(s=e.o)||0==s&&0<t.I||!(1==r&&function(t,e){return!(cf(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Xl(gi(t.Ha,t,e),y8(t,t.C)),t.C++,0)))}(t,e)||2==r&&g8(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Dc(t,5);break;case 4:Dc(t,10);break;case 3:Dc(t,6);break;default:Dc(t,2)}}function y8(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Dc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=gi(t.jb,t);n||(n=new Ru("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||N1(n,"https"),J0(n)),function(t,e){var n=new A2;if(Xe.Image){var r=new Image;r.onload=Fl(r6,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fl(r6,n,r,"TestLoadImage: error",!1,e),r.onabort=Fl(r6,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fl(r6,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Vi(2);t.G=0,t.j&&t.j.va(e),df(t),lf(t)}function df(t){t.G=0,t.I=-1,t.j&&((0!=S2(t.i).length||0!=t.l.length)&&(t.i.i.length=0,H3(t.l),t.l.length=0),t.j.ua())}function E7(t,e,n){var r=function(t){return t instanceof Ru?Fi(t):new Ru(t,void 0)}(n);if(""!=r.i)e&&o4(r,e+"."+r.i),Q0(r,r.m);else{var s=Xe.location;r=function(t,e,n,r){var s=new Ru(null,void 0);return t&&N1(s,t),e&&o4(s,e),n&&Q0(s,n),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&B3(t.aa,function(u,m){Zn(r,m,u)}),n=t.sa,(e=t.D)&&n&&Zn(r,e,n),Zn(r,"VER",t.ma),Sc(t,r),r}function Qo(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(n&&t.Ba&&!t.qa?new k1({ib:!0}):t.qa)).L=t.H,e}function pf(){}function s6(){if(b2&&!(10<=Number(jl)))throw Error("Environmental error: no available transport.")}function Ms(t,e){Ur.call(this),this.g=new xc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!So(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!So(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new N2(this)}function mf(t){t4.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vt(){M2.call(this),this.status=1}function N2(t){this.g=t}(Ue=vr.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():G0.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:G0),this.g.onreadystatechange=gi(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){return void r5(this,u)}t=n||"";var s=new D1(this.headers);r&&K0(r,function(u,m){s.set(m,u)}),r=function(t){e:{for(var e=fg,n=t.length,r="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.T()),n=Xe.FormData&&t instanceof Xe.FormData,!(0<=V0(h8,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,m){this.g.setRequestHeader(m,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yt(this),0<this.B&&((this.K=function(t){return b2&&ug()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.pa,this)):this.A=Yl(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){r5(this,u)}},Ue.pa=function(){void 0!==At&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},Ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yi(this,"complete"),yi(this,"abort"),Dn(this))},Ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),vr.Z.M.call(this)},Ue.Fa=function(){this.s||(this.F||this.v||this.l?D2(this):this.cb())},Ue.cb=function(){D2(this)},Ue.ba=function(){try{return 2<As(this)?this.g.status:-1}catch(t){return-1}},Ue.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Ue.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gr(e)}},Ue.Da=function(){return this.m},Ue.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=xc.prototype).ma=8,Ue.G=1,Ue.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Ue.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ac(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Wh(n=j3(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)e:{for(var r=0,s=0;s<this.l.length;s++){var u=this.l[s];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(r+=u)){r=s;break e}if(4096===r||s===this.l.length-1){r=s+1;break e}}r=1e3}else r=1e3;r=p8(this,e,r),Zn(s=Fi(this.F),"RID",t),Zn(s,"CVER",22),this.D&&Zn(s,"X-HTTP-Session-Id",this.D),Sc(this,s),this.o&&n&&$n(s,this.o,n),n6(this.i,e),this.Ra&&Zn(s,"TYPE","init"),this.ja?(Zn(s,"$req",r),Zn(s,"SID","null"),e.$=!0,nf(e,s,null)):nf(e,s,r),this.G=2}}else 3==this.G&&(t?ff(this,t):0==this.l.length||l8(this.i)||ff(this))},Ue.Ga=function(){if(this.u=null,v8(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Xl(gi(this.bb,this),t)}},Ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vi(10),Fu(this),v8(this))},Ue.ab=function(){null!=this.v&&(this.v=null,Fu(this),g8(this),Vi(19))},Ue.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Vi(2)):(this.h.info("Failed to ping google.com"),Vi(1))},(Ue=pf.prototype).xa=function(){},Ue.wa=function(){},Ue.va=function(){},Ue.ua=function(){},Ue.Oa=function(){},s6.prototype.g=function(t,e){return new Ms(t,e)},vi(Ms,Ur),Ms.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),t8(gi(t.hb,t,e))),Vi(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=E7(t,null,t.W),h4(t)},Ms.prototype.close=function(){l4(this.g)},Ms.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,f4(this.g,e)}else this.v?((e={}).__data__=$l(t),f4(this.g,e)):f4(this.g,t)},Ms.prototype.M=function(){this.g.j=null,delete this.j,l4(this.g),delete this.g,Ms.Z.M.call(this)},vi(mf,t4),vi(vt,M2),vi(N2,pf),N2.prototype.xa=function(){yi(this.g,"a")},N2.prototype.wa=function(t){yi(this.g,new mf(t))},N2.prototype.va=function(t){yi(this.g,new vt(t))},N2.prototype.ua=function(){yi(this.g,"b")},s6.prototype.createWebChannel=s6.prototype.g,Ms.prototype.send=Ms.prototype.u,Ms.prototype.open=Ms.prototype.m,Ms.prototype.close=Ms.prototype.close,e4.NO_ERROR=0,e4.TIMEOUT=8,e4.HTTP_ERROR=6,Wd.COMPLETE="complete",y7.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.La,vr.prototype.getLastErrorCode=vr.prototype.Da,vr.prototype.getStatus=vr.prototype.ba,vr.prototype.getResponseJson=vr.prototype.Qa,vr.prototype.getResponseText=vr.prototype.ga,vr.prototype.send=vr.prototype.ea;var Jo=e4,gf=Wd,o5=Nu,a6_PROXY=10,a6_NOPROXY=11,k2=k1,p4=y7,Hu=vr,oo=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(s){return r.t(s)},this.i=function(s){return n.writeSequenceNumber(s)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();oo.o=-1;var Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ze=function(t){function e(n,r){var s=this;return(s=t.call(this,r)||this).code=n,s.message=r,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,L.__extends)(e,t),e}(Error),Ts=new ne.Logger("@firebase/firestore");function In(){return Ts.logLevel}function tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.DEBUG){var r=e.map(h);Ts.debug.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Br(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.ERROR){var r=e.map(h);Ts.error.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.WARN){var r=e.map(h);Ts.warn.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function h(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Br(e),new Error(e)}function M(t,e){t||b()}function S(t,e){return t}function z(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var U=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var s=z(40),u=0;u<s.length;++u)r.length<20&&s[u]<n&&(r+=e.charAt(s[u]%e.length));return r},t}();function Y(t,e){return t<e?-1:t>e?1:0}function Le(t,e,n){return t.length===e.length&&t.every(function(r,s){return n(r,e[s])})}function qe(t){return t+"\0"}var bt=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new bt(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function hn(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vn(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function No(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var L2=function(){function t(e,n,r){void 0===n?n=0:n>e.length&&b(),void 0===r?r=e.length-n:r>e.length-n&&b(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),s=0;s<r;s++){var u=e.get(s),m=n.get(s);if(u<m)return-1;if(u>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.construct=function(n,r,s){return new e(n,r,s)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var s=[],u=0,m=n;u<m.length;u++){var _=m[u];if(_.indexOf("//")>=0)throw new ze(Ce.INVALID_ARGUMENT,"Invalid segment ("+_+"). Paths must not contain // in them.");s.push.apply(s,_.split("/").filter(function(E){return E.length>0}))}return new e(s)},e.emptyPath=function(){return new e([])},e}(L2),vf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,O1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.construct=function(n,r,s){return new e(n,r,s)},e.isValidIdentifier=function(n){return vf.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],s="",u=0,m=function(){if(0===s.length)throw new ze(Ce.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(s),s=""},_=!1;u<n.length;){var E=n[u];if("\\"===E){if(u+1===n.length)throw new ze(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var I=n[u+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new ze(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=I,u+=2}else"`"===E?(_=!_,u++):"."!==E||_?(s+=E,u++):(m(),u++)}if(m(),_)throw new ze(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(L2),c6=function(){function t(e){this.fields=e,e.sort(O1.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Le(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Xo=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",s=0;s<n.length;++s)r+=String.fromCharCode(n[s]);return r}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Y(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Xo.EMPTY_BYTE_STRING=new Xo("");var hg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uu(t){if(M(!!t),"string"==typeof t){var e=0,n=hg.exec(t);if(M(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:si(t.seconds),nanos:si(t.nanos)}}function si(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function u6(t){return"string"==typeof t?Xo.fromBase64String(t):Xo.fromUint8Array(t)}function a5(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function M7(t){var e=t.mapValue.fields.__previous_value__;return a5(e)?M7(e):e}function _8(t){var e=Uu(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}function m4(t){return null==t}function c5(t){return 0===t&&1/t==-1/0}function T7(t){return"number"==typeof t&&Number.isInteger(t)&&!c5(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(gn.fromString(e))},t.fromName=function(e){return new t(gn.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===gn.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return gn.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new gn(e.slice()))},t}();function l6(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a5(t)?4:10:b()}function Bu(t,e){var s,n=l6(t);if(n!==l6(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _8(t).isEqual(_8(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;var u=Uu(r.timestampValue),m=Uu(s.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,u6(t.bytesValue).isEqual(u6(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return si(r.geoPointValue.latitude)===si(s.geoPointValue.latitude)&&si(r.geoPointValue.longitude)===si(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return si(r.integerValue)===si(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){var u=si(r.doubleValue),m=si(s.doubleValue);return u===m?c5(u)===c5(m):isNaN(u)&&isNaN(m)}return!1}(t,e);case 9:return Le(t.arrayValue.values||[],e.arrayValue.values||[],Bu);case 10:return function(r,s){var u=r.mapValue.fields||{},m=s.mapValue.fields||{};if(hn(u)!==hn(m))return!1;for(var _ in u)if(u.hasOwnProperty(_)&&(void 0===m[_]||!Bu(u[_],m[_])))return!1;return!0}(t,e);default:return b()}}function b8(t,e){return void 0!==(t.values||[]).find(function(n){return Bu(n,e)})}function f6(t,e){var s,u,m,_,n=l6(t),r=l6(e);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return u=e,(m=si((s=t).integerValue||s.doubleValue))<(_=si(u.integerValue||u.doubleValue))?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1;case 3:return dg(t.timestampValue,e.timestampValue);case 4:return dg(_8(t),_8(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(s,u){var m=u6(s),_=u6(u);return m.compareTo(_)}(t.bytesValue,e.bytesValue);case 7:return function(s,u){for(var m=s.split("/"),_=u.split("/"),E=0;E<m.length&&E<_.length;E++){var I=Y(m[E],_[E]);if(0!==I)return I}return Y(m.length,_.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,u){var m=Y(si(s.latitude),si(u.latitude));return 0!==m?m:Y(si(s.longitude),si(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,u){for(var m=s.values||[],_=u.values||[],E=0;E<m.length&&E<_.length;++E){var I=f6(m[E],_[E]);if(I)return I}return Y(m.length,_.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,u){var m=s.fields||{},_=Object.keys(m),E=u.fields||{},I=Object.keys(E);_.sort(),I.sort();for(var N=0;N<_.length&&N<I.length;++N){var R=Y(_[N],I[N]);if(0!==R)return R;var H=f6(m[_[N]],E[I[N]]);if(0!==H)return H}return Y(_.length,I.length)}(t.mapValue,e.mapValue);default:throw b()}}function dg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=Uu(t),r=Uu(e),s=Y(n.seconds,r.seconds);return 0!==s?s:Y(n.nanos,r.nanos)}function u5(t){return I7(t)}function I7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(s=Uu(t.timestampValue)).seconds+","+s.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?u6(t.bytesValue).toBase64():"referenceValue"in t?Dt.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var s="[",u=!0,m=0,_=r.values||[];m<_.length;m++)u?u=!1:s+=",",s+=I7(_[m]);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var s="{",u=!0,m=0,_=Object.keys(r.fields||{}).sort();m<_.length;m++){var E=_[m];u?u=!1:s+=",",s+=E+":"+I7(r.fields[E])}return s+"}"}(t.mapValue):b();var s,e}function l5(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function pg(t){return!!t&&"integerValue"in t}function x7(t){return!!t&&"arrayValue"in t}function S7(t){return!!t&&"nullValue"in t}function eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D7(t){return!!t&&"mapValue"in t}function f5(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Vn(t.mapValue.fields,function(s,u){return e.mapValue.fields[s]=f5(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=f5(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Fa=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!D7(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=f5(n)},t.prototype.setAll=function(e){var n=this,r=O1.emptyPath(),s={},u=[];e.forEach(function(_,E){if(!r.isImmediateParentOf(E)){var I=n.getFieldsMap(r);n.applyChanges(I,s,u),s={},u=[],r=E.popLast()}_?s[E.lastSegment()]=f5(_):u.push(E.lastSegment())});var m=this.getFieldsMap(r);this.applyChanges(m,s,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());D7(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Bu(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var s=n.mapValue.fields[e.get(r)];D7(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){Vn(n,function(_,E){return e[_]=E});for(var s=0,u=r;s<u.length;s++)delete e[u[s]]},t.prototype.clone=function(){return new t(f5(this.value))},t}();function tb(t){var e=[];return Vn(t.fields,function(n,r){var s=new O1([n]);if(D7(r)){var u=tb(r.mapValue).fields;if(0===u.length)e.push(s);else for(var m=0,_=u;m<_.length;m++)e.push(s.child(_[m]))}else e.push(s)}),new c6(e)}var ko=function(){function t(e,n,r,s,u){this.key=e,this.documentType=n,this.version=r,this.data=s,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,dt.min(),Fa.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Fa.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Fa.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Fa.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Fa.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),nb=function(t,e,n,r,s,u,m){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===u&&(u=null),void 0===m&&(m=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=u,this.endAt=m,this.h=null};function h5(t,e,n,r,s,u,m){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===u&&(u=null),void 0===m&&(m=null),new nb(t,e,n,r,s,u,m)}function h6(t){var e=S(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return(s=r).field.canonicalString()+s.op.toString()+u5(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return(s=r).field.canonicalString()+s.dir;var s}).join(","),m4(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=w8(e.startAt)),e.endAt&&(n+="|ub:",n+=w8(e.endAt)),e.h=n}return e.h}function d5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ab(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((s=t.filters[r]).op!==(u=e.filters[r]).op||!s.field.isEqual(u.field)||!Bu(s.value,u.value))return!1;var s,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vg(t.startAt,e.startAt)&&vg(t.endAt,e.endAt)}function N7(t){return Dt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var R1=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).field=n,u.op=r,u.value=s,u}return(0,L.__extends)(e,t),e.create=function(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.l(n,r,s):new pA(n,r,s):"array-contains"===r?new ob(n,s):"in"===r?new yf(n,s):"not-in"===r?new sb(n,s):"array-contains-any"===r?new gg(n,s):new e(n,r,s)},e.l=function(n,r,s){return"in"===r?new rb(n,s):new mg(n,s)},e.prototype.matches=function(n){var r=n.data.field(this.field);return"!="===this.op?null!==r&&this.m(f6(r,this.value)):null!==r&&l6(this.value)===l6(r)&&this.m(f6(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return b()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),pA=function(t){function e(n,r,s){var u=this;return(u=t.call(this,n,r,s)||this).key=Dt.fromName(s.referenceValue),u}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=Dt.comparator(n.key,this.key);return this.m(r)},e}(R1),rb=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"in",r)||this).keys=ib(0,r),s}return(0,L.__extends)(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(R1),mg=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"not-in",r)||this).keys=ib(0,r),s}return(0,L.__extends)(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(R1);function ib(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(r){return Dt.fromName(r.referenceValue)})}var ob=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return x7(r)&&b8(r.arrayValue,this.value)},e}(R1),yf=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return null!==r&&b8(this.value.arrayValue,r)},e}(R1),sb=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){if(b8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return null!==r&&!b8(this.value.arrayValue,r)},e}(R1),gg=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=this,s=n.data.field(this.field);return!(!x7(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(u){return b8(r.value.arrayValue,u)})},e}(R1),C8=function(t,e){this.position=t,this.before=e};function w8(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return u5(e)}).join(",")}var ju=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ab(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function k7(t,e,n){for(var r=0,s=0;s<t.position.length;s++){var u=e[s],m=t.position[s];if(r=u.field.isKeyField()?Dt.comparator(Dt.fromName(m.referenceValue),n.key):f6(m,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vg(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Bu(t.position[n],e.position[n]))return!1;return!0}var qu=function(t,e,n,r,s,u,m,_){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===u&&(u="F"),void 0===m&&(m=null),void 0===_&&(_=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=u,this.startAt=m,this.endAt=_,this.p=null,this.T=null};function yg(t,e,n,r,s,u,m,_){return new qu(t,e,n,r,s,u,m,_)}function _f(t){return new qu(t)}function p5(t){return!m4(t.limit)&&"F"===t.limitType}function E8(t){return!m4(t.limit)&&"L"===t.limitType}function L7(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function m5(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function g5(t){return null!==t.collectionGroup}function g4(t){var e=S(t);if(null===e.p){e.p=[];var n=m5(e),r=L7(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ju(n)),e.p.push(new ju(O1.keyField(),"asc"));else{for(var s=!1,u=0,m=e.explicitOrderBy;u<m.length;u++){var _=m[u];e.p.push(_),_.field.isKeyField()&&(s=!0)}if(!s){var E=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ju(O1.keyField(),E))}}}return e.p}function O2(t){var e=S(t);if(!e.T)if("F"===e.limitType)e.T=h5(e.path,e.collectionGroup,g4(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,s=g4(e);r<s.length;r++){var u=s[r];n.push(new ju(u.field,"desc"===u.dir?"asc":"desc"))}var _=e.endAt?new C8(e.endAt.position,!e.endAt.before):null,E=e.startAt?new C8(e.startAt.position,!e.startAt.before):null;e.T=h5(e.path,e.collectionGroup,n,e.filters,e.limit,_,E)}return e.T}function v5(t,e,n){return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function A8(t,e){return d5(O2(t),O2(e))&&t.limitType===e.limitType}function cb(t){return h6(O2(t))+"|lt:"+t.limitType}function d6(t){return"Query(target="+function(e){var n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(s=r).field.canonicalString()+" "+s.op+" "+u5(s.value);var s}).join(", ")+"]"),m4(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return(s=r).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+w8(e.startAt)),e.endAt&&(n+=", endAt: "+w8(e.endAt)),"Target("+n+")"}(O2(t))+"; limitType="+t.limitType+")"}function M8(t,e){return e.isFoundDocument()&&(s=(r=e).key.path,null!==(n=t).collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Dt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s))&&function(n,r){for(var s=0,u=n.explicitOrderBy;s<u.length;s++){var m=u[s];if(!m.field.isKeyField()&&null===r.data.field(m.field))return!1}return!0}(t,e)&&function(n,r){for(var s=0,u=n.filters;s<u.length;s++)if(!u[s].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!k7(n.startAt,g4(n),r)||n.endAt&&k7(n.endAt,g4(n),r))}(t,e);var n,r,s}function y5(t){return function(e,n){for(var r=!1,s=0,u=g4(t);s<u.length;s++){var m=u[s],_=O7(m,e,n);if(0!==_)return _;r=r||m.field.isKeyField()}return 0}}function O7(t,e,n){var s,m,_,E,r=t.field.isKeyField()?Dt.comparator(e.key,n.key):(m=n,_=e.data.field(s=t.field),E=m.data.field(s),null!==_&&null!==E?f6(_,E):b());switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function _g(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c5(e)?"-0":e}}function _5(t){return{integerValue:""+t}}function b5(t,e){return T7(e)?_5(e):_g(t,e)}var T8=function(){this._=void 0};function mA(t,e,n){return t instanceof p6?(u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},(s=e)&&(u.fields.__previous_value__=s),{mapValue:u}):t instanceof m6?P7(t,e):t instanceof Gu?z7(t,e):function(r,s){var u=R7(r,s),m=C5(u)+C5(r.A);return pg(u)&&pg(r.A)?_5(m):_g(r.R,m)}(t,e);var r,s,u}function ub(t,e,n){return t instanceof m6?P7(t,e):t instanceof Gu?z7(t,e):n}function R7(t,e){return t instanceof v4?pg(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}var p6=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e}(T8),m6=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return(0,L.__extends)(e,t),e}(T8);function P7(t,e){for(var n=V7(e),r=function(m){n.some(function(_){return Bu(_,m)})||n.push(m)},s=0,u=t.elements;s<u.length;s++)r(u[s]);return{arrayValue:{values:n}}}var Gu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return(0,L.__extends)(e,t),e}(T8);function z7(t,e){for(var n=V7(e),r=function(m){n=n.filter(function(_){return!Bu(_,m)})},s=0,u=t.elements;s<u.length;s++)r(u[s]);return{arrayValue:{values:n}}}var v4=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).R=n,s.A=r,s}return(0,L.__extends)(e,t),e}(T8);function C5(t){return si(t.integerValue||t.doubleValue)}function V7(t){return x7(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var I8=function(t,e){this.field=t,this.transform=e},bg=function(t,e){this.version=t,this.transformResults=e},Lo=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function bf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var x8=function(){};function lb(t,e,n){var r,s,u,m,_;t instanceof Cf?(s=e,u=n,m=(r=t).value.clone(),_=U7(r.fieldTransforms,s,u.transformResults),m.setAll(_),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()):t instanceof Zu?function(r,s,u){if(bf(r.precondition,s)){var m=U7(r.fieldTransforms,s,u.transformResults),_=s.data;_.setAll(H7(r)),_.setAll(m),s.convertToFoundDocument(u.version,_).setHasCommittedMutations()}else s.convertToUnknownDocument(u.version)}(t,e,n):function(r,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function w5(t,e,n){var s;t instanceof Cf?function(r,s,u){if(bf(r.precondition,s)){var m=r.value.clone(),_=B7(r.fieldTransforms,u,s);m.setAll(_),s.convertToFoundDocument(E5(s),m).setHasLocalMutations()}}(t,e,n):t instanceof Zu?function(r,s,u){if(bf(r.precondition,s)){var m=B7(r.fieldTransforms,u,s),_=s.data;_.setAll(H7(r)),_.setAll(m),s.convertToFoundDocument(E5(s),_).setHasLocalMutations()}}(t,e,n):bf(t.precondition,s=e)&&s.convertToNoDocument(dt.min())}function Cg(t,e){for(var n=null,r=0,s=t.fieldTransforms;r<s.length;r++){var u=s[r],m=e.data.field(u.field),_=R7(u.transform,m||null);null!=_&&(null==n&&(n=Fa.empty()),n.set(u.field,_))}return n||null}function F7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Le(n,r,function(s,u){return(m=s).field.isEqual((_=u).field)&&(I=_.transform,(E=m.transform)instanceof m6&&I instanceof m6||E instanceof Gu&&I instanceof Gu?Le(E.elements,I.elements,Bu):E instanceof v4&&I instanceof v4?Bu(E.A,I.A):E instanceof p6&&I instanceof p6);var m,_,E,I})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function E5(t){return t.isFoundDocument()?t.version:dt.min()}var Cf=function(t){function e(n,r,s,u){void 0===u&&(u=[]);var m=this;return(m=t.call(this)||this).key=n,m.value=r,m.precondition=s,m.fieldTransforms=u,m.type=0,m}return(0,L.__extends)(e,t),e}(x8),Zu=function(t){function e(n,r,s,u,m){void 0===m&&(m=[]);var _=this;return(_=t.call(this)||this).key=n,_.data=r,_.fieldMask=s,_.precondition=u,_.fieldTransforms=m,_.type=1,_}return(0,L.__extends)(e,t),e}(x8);function H7(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function U7(t,e,n){var r=new Map;M(t.length===n.length);for(var s=0;s<n.length;s++){var u=t[s],m=u.transform,_=e.data.field(u.field);r.set(u.field,ub(m,_,n[s]))}return r}function B7(t,e,n){for(var r=new Map,s=0,u=t;s<u.length;s++){var m=u[s],_=m.transform,E=n.data.field(m.field);r.set(m.field,mA(_,E,e))}return r}var ai,xn,wf=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.precondition=r,s.type=2,s.fieldTransforms=[],s}return(0,L.__extends)(e,t),e}(x8),wg=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.precondition=r,s.type=3,s.fieldTransforms=[],s}return(0,L.__extends)(e,t),e}(x8),fb=function(t){this.count=t};function Eg(t){switch(t){case Ce.OK:return b();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return b()}}function j7(t){if(void 0===t)return Br("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case ai.OK:return Ce.OK;case ai.CANCELLED:return Ce.CANCELLED;case ai.UNKNOWN:return Ce.UNKNOWN;case ai.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case ai.INTERNAL:return Ce.INTERNAL;case ai.UNAVAILABLE:return Ce.UNAVAILABLE;case ai.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case ai.NOT_FOUND:return Ce.NOT_FOUND;case ai.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case ai.ABORTED:return Ce.ABORTED;case ai.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case ai.DATA_LOSS:return Ce.DATA_LOSS;default:return b()}}(xn=ai||(ai={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";var es=function(){function t(e,n){this.comparator=e,this.root=n||$u.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$u.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$u.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new jr(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new jr(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new jr(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new jr(this.root,e,this.comparator,!0)},t}(),jr=function(){function t(e,n,r,s){this.isReverse=s,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?r(e.key,n):1,s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),$u=function(){function t(e,n,r,s,u){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=s?s:t.EMPTY,this.right=null!=u?u:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,s,u){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var s=this,u=r(e,s.key);return(s=u<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===u?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw b();var e=this.left.check();if(e!==this.right.check())throw b();return e+(this.isRed()?0:1)},t}();$u.EMPTY=null,$u.RED=!0,$u.BLACK=!1,$u.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,s,u){return this},t.prototype.insert=function(e,n,r){return new $u(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Hi=function(){function t(e){this.comparator=e,this.data=new es(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new Ag(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new Ag(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var s=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ag=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Mg=new es(Dt.comparator);function P1(){return Mg}var Tg=new es(Dt.comparator);function A5(){return Tg}var Ef=new es(Dt.comparator);function Ig(){return Ef}var hb=new Hi(Dt.comparator);function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hb,r=0,s=t;r<s.length;r++){var u=s[r];n=n.add(u)}return n}var db=new Hi(Y);function S8(){return db}var xg=function(){function t(e,n,r,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,M5.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(dt.min(),r,S8(),P1(),Wn())},t}(),M5=function(){function t(e,n,r,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xo.EMPTY_BYTE_STRING,n,Wn(),Wn(),Wn())},t}(),Af=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},R2=function(t,e){this.targetId=t,this.V=e},Sg=function(t,e,n,r){void 0===n&&(n=Xo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Dg=function(){function t(){this.S=0,this.D=V1(),this.C=Xo.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Wn(),n=Wn(),r=Wn();return this.D.forEach(function(s,u){switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:b()}}),new M5(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=V1()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Nc=function(){function t(e){this.W=e,this.G=new Map,this.H=P1(),this.J=z1(),this.Y=new Hi(Y)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var s=r[n];e.P&&e.P.isFoundDocument()?this.Z(s,e.P):this.tt(s,e.key,e.P)}for(var u=0,m=e.removedTargetIds;u<m.length;u++)this.tt(s=m[u],e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var s=n.nt(r);switch(e.state){case 0:n.st(r)&&s.O(e.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(e.resumeToken);break;case 2:s.K(),s.F||n.removeTarget(r);break;case 3:n.st(r)&&(s.j(),s.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),s.O(e.resumeToken));break;default:b()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(s,u){r.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,s=this.ot(n);if(s){var u=s.target;if(N7(u))if(0===r){var m=new Dt(u.path);this.tt(n,m,ko.newNoDocument(m,dt.min()))}else M(1===r);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(m,_){var E=n.ot(_);if(E){if(m.current&&N7(E.target)){var I=new Dt(E.target.path);null!==n.H.get(I)||n.at(_,I)||n.tt(_,I,ko.newNoDocument(I,e))}m.$&&(r.set(_,m.M()),m.L())}});var s=Wn();this.J.forEach(function(m,_){var E=!0;_.forEachWhile(function(I){var N=n.ot(I);return!N||2===N.purpose||(E=!1,!1)}),E&&(s=s.add(m))});var u=new xg(e,r,this.Y,this.H,s);return this.H=P1(),this.J=z1(),this.Y=new Hi(Y),u},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var s=this.nt(e);this.at(e,n)?s.B(n,1):s.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new Dg,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Hi(Y),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=null!==this.ot(e);return n||tt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new Dg),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function z1(){return new es(Dt.comparator)}function V1(){return new es(Dt.comparator)}var Ng={asc:"ASCENDING",desc:"DESCENDING"},kg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb=function(t,e){this.databaseId=t,this.I=e};function D8(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lg(t,e){return t.I?e.toBase64():e.toUint8Array()}function mb(t,e){return D8(t,e.toTimestamp())}function _i(t){return M(!!t),dt.fromTimestamp(function(e){var n=Uu(e);return new bt(n.seconds,n.nanos)}(t))}function g6(t,e){return(n=t,new gn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Og(t){var e=gn.fromString(t);return M(Vg(e)),e}function Mf(t,e){return g6(t.databaseId,e.path)}function kc(t,e){var n=Og(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Dt(Rg(n))}function T5(t,e){return g6(t.databaseId,e)}function q7(t){var e=Og(t);return 4===e.length?gn.emptyPath():Rg(e)}function y4(t){return new gn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rg(t){return M(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function G7(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function Z7(t,e,n){var r=kc(t,e.name),s=_i(e.updateTime),u=new Fa({mapValue:{fields:e.fields}}),m=ko.newFoundDocument(r,s,u);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Tf(t,e){var n,s;if(e instanceof Cf)n={update:G7(t,e.key,e.value)};else if(e instanceof wf)n={delete:Mf(t,e.key)};else if(e instanceof Zu)n={update:G7(t,e.key,e.data),updateMask:yb(e.fieldMask)};else{if(!(e instanceof wg))return b();n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(s,u){var m=u.transform;if(m instanceof p6)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof m6)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof v4)return{fieldPath:u.field.canonicalString(),increment:m.A};throw b()}(0,r)})),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:mb(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:b()),n}function N8(t,e){var I,n=e.currentDocument?void 0!==(I=e.currentDocument).updateTime?Lo.updateTime(_i(I.updateTime)):void 0!==I.exists?Lo.exists(I.exists):Lo.none():Lo.none(),r=e.updateTransforms?e.updateTransforms.map(function(I){return function(N,R){var H=null;"setToServerValue"in R?(M("REQUEST_TIME"===R.setToServerValue),H=new p6):"appendMissingElements"in R?H=new m6(R.appendMissingElements.values||[]):"removeAllFromArray"in R?H=new Gu(R.removeAllFromArray.values||[]):"increment"in R?H=new v4(N,R.increment):b();var ue=O1.fromServerFormat(R.fieldPath);return new I8(ue,H)}(t,I)}):[];if(e.update){var s=kc(t,e.update.name),u=new Fa({mapValue:{fields:e.update.fields}});if(e.updateMask){var m=function(I){return new c6((I.fieldPaths||[]).map(function(R){return O1.fromServerFormat(R)}))}(e.updateMask);return new Zu(s,u,m,n,r)}return new Cf(s,u,n,r)}if(e.delete){var _=kc(t,e.delete);return new wf(_,n)}if(e.verify){var E=kc(t,e.verify);return new wg(E,n)}return b()}function $7(t,e){return{documents:[T5(t,e.path)]}}function W7(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=T5(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=T5(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var s=function(_){if(0!==_.length){var E=_.map(function(I){return function(N){if("=="===N.op){if(eb(N.value))return{unaryFilter:{field:If(N.field),op:"IS_NAN"}};if(S7(N.value))return{unaryFilter:{field:If(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(eb(N.value))return{unaryFilter:{field:If(N.field),op:"IS_NOT_NAN"}};if(S7(N.value))return{unaryFilter:{field:If(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:If(N.field),op:zg(N.op),value:N.value}}}(I)});return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}}(e.filters);s&&(n.structuredQuery.where=s);var u=function(_){if(0!==_.length)return _.map(function(E){return{field:If((I=E).field),direction:Pg(I.dir)};var I})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var E,m=(E=e.limit,t.I||m4(E)?E:{value:E});return null!==m&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=Q7(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Q7(e.endAt)),n}function K7(t){var e=q7(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){M(1===r);var u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}var m=[];n.where&&(m=Y7(n.where));var _=[];n.orderBy&&(_=n.orderBy.map(function(R){return new ju(xf((H=R).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));var R,H,E=null;n.limit&&(E=m4(H="object"==typeof(R=n.limit)?R.value:R)?null:H);var I=null;n.startAt&&(I=J7(n.startAt));var N=null;return n.endAt&&(N=J7(n.endAt)),yg(e,s,_,m,E,"F",I,N)}function Y7(t){return t?void 0!==t.unaryFilter?[vb(t)]:void 0!==t.fieldFilter?[gb(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return Y7(e)}).reduce(function(e,n){return e.concat(n)}):b():[]}function Q7(t){return{before:t.before,values:t.position}}function J7(t){return new C8(t.values||[],!!t.before)}function Pg(t){return Ng[t]}function zg(t){return kg[t]}function If(t){return{fieldPath:t.canonicalString()}}function xf(t){return O1.fromServerFormat(t.fieldPath)}function gb(t){return R1.create(xf(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function vb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xf(t.unaryFilter.field);return R1.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xf(t.unaryFilter.field);return R1.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xf(t.unaryFilter.field);return R1.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=xf(t.unaryFilter.field);return R1.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function yb(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function Vg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function P2(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Fg(e)),e=_b(t.get(n),e);return Fg(e)}function _b(t,e){for(var n=e,r=t.length,s=0;s<r;s++){var u=t.charAt(s);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Fg(t){return t+"\x01\x01"}function Wu(t){var e=t.length;if(M(e>=2),2===e)return M("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),gn.emptyPath();for(var n=e-2,r=[],s="",u=0;u<e;){var m=t.indexOf("\x01",u);switch((m<0||m>n)&&b(),t.charAt(m+1)){case"\x01":var _=t.substring(u,m),E=void 0;0===s.length?E=_:(E=s+=_,s=""),r.push(E);break;case"\x10":s+=t.substring(u,m),s+="\0";break;case"\x11":s+=t.substring(u,m+1);break;default:b()}u=m+2}return new gn(r)}var bb=function(t,e){this.seconds=t,this.nanoseconds=e},Ha=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ha.store="owner",Ha.key="owner";var _4=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};_4.store="mutationQueues",_4.keyPath="userId";var Cr=function(t,e,n,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s};Cr.store="mutations",Cr.keyPath="batchId",Cr.userMutationsIndex="userMutationsIndex",Cr.userMutationsKeyPath=["userId","batchId"];var ts=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,P2(n)]},t.key=function(e,n,r){return[e,P2(n),r]},t}();ts.store="documentMutations",ts.PLACEHOLDER=new ts;var Cb=function(t,e){this.path=t,this.readTime=e},wb=function(t,e){this.path=t,this.version=e},qr=function(t,e,n,r,s,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=u};qr.store="remoteDocuments",qr.readTimeIndex="readTimeIndex",qr.readTimeIndexPath="readTime",qr.collectionReadTimeIndex="collectionReadTimeIndex",qr.collectionReadTimeIndexPath=["parentPath","readTime"];var z2=function(t){this.byteSize=t};z2.store="remoteDocumentGlobal",z2.key="remoteDocumentGlobalKey";var Is=function(t,e,n,r,s,u,m){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=u,this.query=m};Is.store="targets",Is.keyPath="targetId",Is.queryTargetsIndexName="queryTargetsIndex",Is.queryTargetsKeyPath=["canonicalId","targetId"];var so=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};so.store="targetDocuments",so.keyPath=["targetId","path"],so.documentTargetsIndex="documentTargetsIndex",so.documentTargetsKeyPath=["path","targetId"];var sa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sa.key="targetGlobalKey",sa.store="targetGlobal";var b4=function(t,e){this.collectionId=t,this.parent=e};b4.store="collectionParents",b4.keyPath=["collectionId","parent"];var Lc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Lc.store="clientMetadata",Lc.keyPath="clientId";var v6=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};v6.store="bundles",v6.keyPath="bundleId";var y6=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};y6.store="namedQueries",y6.keyPath="name";var Hg=(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],[_4.store,Cr.store,ts.store,qr.store,Is.store,Ha.store,sa.store,so.store]),[Lc.store])),[z2.store])),[b4.store])),[v6.store,y6.store]),I5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",X7=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Gr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},et=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(s,u){r.nextCallback=function(m){r.wrapSuccess(e,m).next(s,u)},r.catchCallback=function(m){r.wrapFailure(n,m).next(s,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var s=0,u=0,m=!1;e.forEach(function(_){++s,_.next(function(){++u,m&&u===s&&n()},function(E){return r(E)})}),m=!0,u===s&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(m){n=n.next(function(_){return _?t.resolve(_):m()})},s=0,u=e;s<u.length;s++)r(u[s]);return n},t.forEach=function(e,n){var r=this,s=[];return e.forEach(function(u,m){s.push(n.call(r,u,m))}),this.waitFor(s)},t}(),Ug=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Gr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new _6(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(s){var u=kt(s.target.error);r.ft.reject(new _6(e,u))}}return t.open=function(e,n,r,s){try{return new t(n,e.transaction(s,r))}catch(u){throw new _6(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new Bg(n)},t}(),V2=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,ut.getUA)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return tt("SimpleDb","Removing database:",e),C4(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,ut.getUA)(),n=t._t(e),r=0<n&&n<10,s=t.Et(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(tt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,m){var _=indexedDB.open(r.name,r.version);_.onsuccess=function(E){u(E.target.result)},_.onblocked=function(){m(new _6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=function(E){var I=E.target.error;m("VersionError"===I.name?new ze(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _6(e,I))},_.onupgradeneeded=function(E){tt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.wt.Rt(E.target.result,_.transaction,E.oldVersion,r.version).next(function(){tt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return r.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var u,m,_,E,I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:u="readonly"===n,m=0,_=function(){var R,H,G,J,ue;return(0,L.__generator)(this,function(Me){switch(Me.label){case 0:++m,Me.label=1;case 1:return Me.trys.push([1,4,,5]),[4,E.At(e)];case 2:return E.db=Me.sent(),R=Ug.open(E.db,e,u?"readonly":"readwrite",r),H=s(R).catch(function(Se){return R.abort(Se),et.reject(Se)}).toPromise(),G={},H.catch(function(){}),[4,R.dt];case 3:return[2,(G.value=(Me.sent(),H),G)];case 4:return tt("SimpleDb","Transaction failed with error:",(J=Me.sent()).message,"Retrying:",ue="FirebaseError"!==J.name&&m<3),E.close(),ue?[3,5]:[2,{value:Promise.reject(J)}];case 5:return[2]}})},E=this,N.label=1;case 1:return[5,_()];case 2:if("object"==typeof(I=N.sent()))return[2,I.value];N.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gA=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return C4(this.Pt.delete())},t}(),_6=function(t){function e(n,r){var s=this;return(s=t.call(this,Ce.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",s}return(0,L.__extends)(e,t),e}(ze);function Sf(t){return"IndexedDbTransactionError"===t.name}var Bg=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return void 0!==n?(tt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),C4(r)},t.prototype.add=function(e){return tt("SimpleDb","ADD",this.store.name,e,e),C4(this.store.add(e))},t.prototype.get=function(e){var n=this;return C4(this.store.get(e)).next(function(r){return void 0===r&&(r=null),tt("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return tt("SimpleDb","DELETE",this.store.name,e),C4(this.store.delete(e))},t.prototype.count=function(){return tt("SimpleDb","COUNT",this.store.name),C4(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),s=[];return this.xt(r,function(u,m){s.push(m)}).next(function(){return s})},t.prototype.kt=function(e,n){tt("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var s=this.cursor(r);return this.xt(s,function(u,m,_){return _.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var s=this.cursor(r);return this.xt(s,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new et(function(r,s){n.onerror=function(u){var m=kt(u.target.error);s(m)},n.onsuccess=function(u){var m=u.target.result;m?e(m.primaryKey,m.value).next(function(_){_?m.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new et(function(s,u){e.onerror=function(m){u(m.target.error)},e.onsuccess=function(m){var _=m.target.result;if(_){var E=new gA(_),I=n(_.primaryKey,_.value,E);if(I instanceof et){var N=I.catch(function(R){return E.done(),et.reject(R)});r.push(N)}E.isDone?s():null===E.Dt?_.continue():_.continue(E.Dt)}else s()}}).next(function(){return et.waitFor(r)})},t.prototype.options=function(e,n){var r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function C4(t){return new et(function(e,n){t.onsuccess=function(r){e(r.target.result)},t.onerror=function(r){var s=kt(r.target.error);n(s)}})}var Eb=!1;function kt(t){var e=V2._t((0,ut.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ze("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Eb||(Eb=!0,setTimeout(function(){throw r},0)),r}}return t}var jg=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).Mt=n,s.currentSequenceNumber=r,s}return(0,L.__extends)(e,t),e}(X7);function aa(t,e){var n=S(t);return V2.It(n.Mt,e)}var e9=function(){function t(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,s=0;s<this.mutations.length;s++){var u=this.mutations[s];u.key.isEqual(e.key)&&lb(u,e,r[s])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(m=r[n]).key.isEqual(e.key)&&w5(m,e,this.localWriteTime);for(var s=0,u=this.mutations;s<u.length;s++){var m;(m=u[s]).key.isEqual(e.key)&&w5(m,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var s=e.get(r.key),u=s;n.applyToLocalView(u),s.isValidDocument()||u.convertToNoDocument(dt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Wn())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Le(this.mutations,e.mutations,function(n,r){return F7(n,r)})&&Le(this.baseMutations,e.baseMutations,function(n,r){return F7(n,r)})},t}(),x5=function(){function t(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}return t.from=function(e,n,r){M(e.mutations.length===r.length);for(var s=Ig(),u=e.mutations,m=0;m<u.length;m++)s=s.insert(u[m].key,r[m].version);return new t(e,n,r,s)},t}(),S5=function(){function t(e,n,r,s,u,m,_){void 0===u&&(u=dt.min()),void 0===m&&(m=dt.min()),void 0===_&&(_=Xo.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=_}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),k8=function(t){this.Lt=t};function Df(t,e){if(e.document)return Z7(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Dt.fromSegments(e.noDocument.path),r=Nf(e.noDocument.readTime),s=ko.newNoDocument(n,r);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){var u=Dt.fromSegments(e.unknownDocument.path);return r=Nf(e.unknownDocument.version),ko.newUnknownDocument(u,r)}return b()}function kr(t,e,n){var R,H,r=qg(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u={name:Mf(R=t.Lt,(H=e).key),fields:H.data.value.mapValue.fields,updateTime:D8(R,H.version.toTimestamp())},m=e.hasCommittedMutations;return new qr(null,null,u,m,r,s)}if(e.isNoDocument()){var _=e.key.path.toArray(),E=w4(e.version);return m=e.hasCommittedMutations,new qr(null,new Cb(_,E),null,m,r,s)}if(e.isUnknownDocument()){var I=e.key.path.toArray(),N=w4(e.version);return new qr(new wb(I,N),null,null,!0,r,s)}return b()}function qg(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function t9(t){var e=new bt(t[0],t[1]);return dt.fromTimestamp(e)}function w4(t){var e=t.toTimestamp();return new bb(e.seconds,e.nanoseconds)}function Nf(t){var e=new bt(t.seconds,t.nanoseconds);return dt.fromTimestamp(e)}function b6(t,e){for(var n=(e.baseMutations||[]).map(function(E){return N8(t.Lt,E)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var m=e.mutations.map(function(E){return N8(t.Lt,E)}),_=bt.fromMillis(e.localWriteTimeMs);return new e9(e.batchId,_,n,m)}function kf(t){var e,n,r=Nf(t.readTime),s=void 0!==t.lastLimboFreeSnapshotVersion?Nf(t.lastLimboFreeSnapshotVersion):dt.min();return void 0!==t.query.documents?(M(1===(n=t.query).documents.length),e=O2(_f(q7(n.documents[0])))):e=O2(K7(t.query)),new S5(e,t.targetId,0,t.lastListenSequenceNumber,r,s,Xo.fromBase64String(t.resumeToken))}function n9(t,e){var n,r=w4(e.snapshotVersion),s=w4(e.lastLimboFreeSnapshotVersion);n=N7(e.target)?$7(t.Lt,e.target):W7(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Is(e.targetId,h6(e.target),r,u,e.sequenceNumber,s,n)}function D5(t){var e=K7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?v5(e,e.limit,"L"):e}var Ab=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return Gg(e).get(n).next(function(r){if(r)return{id:(s=r).bundleId,createTime:Nf(s.createTime),version:s.version};var s})},t.prototype.saveBundleMetadata=function(e,n){return Gg(e).put({bundleId:(r=n).id,createTime:w4(_i(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return Zg(e).get(n).next(function(r){if(r)return{name:(s=r).name,query:D5(s.bundledQuery),readTime:Nf(s.readTime)};var s})},t.prototype.saveNamedQuery=function(e,n){return Zg(e).put({name:(r=n).name,readTime:w4(_i(r.readTime)),bundledQuery:r.bundledQuery});var r},t}();function Gg(t){return aa(t,v6.store)}function Zg(t){return aa(t,y6.store)}var L8=function(){function t(){this.Bt=new r9}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),et.resolve()},t.prototype.getCollectionParents=function(e,n){return et.resolve(this.Bt.getEntries(n))},t}(),r9=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Hi(gn.comparator),u=!s.has(r);return this.index[n]=s.add(r),u},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Hi(gn.comparator)).toArray()},t}(),Mb=function(){function t(){this.qt=new r9}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var s=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var m={collectionId:s,parent:P2(u)};return $g(e).put(m)}return et.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],s=IDBKeyRange.bound([n,""],[qe(n),""],!1,!0);return $g(e).Nt(s).next(function(u){for(var m=0,_=u;m<_.length;m++){var E=_[m];if(E.collectionId!==n)break;r.push(Wu(E.parent))}return r})},t}();function $g(t){return aa(t,b4.store)}var O8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F2=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function i9(t,e,n){var r=t.store(Cr.store),s=t.store(ts.store),u=[],m=IDBKeyRange.only(n.batchId),_=0,E=r.$t({range:m},function(J,ue,Me){return _++,Me.delete()});u.push(E.next(function(){M(1===_)}));for(var I=[],N=0,R=n.mutations;N<R.length;N++){var H=R[N],G=ts.key(e,H.key.path,n.batchId);u.push(s.delete(G)),I.push(H.key)}return et.waitFor(u).next(function(){return I})}function R8(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}F2.DEFAULT_COLLECTION_PERCENTILE=10,F2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,F2.DEFAULT=new F2(41943040,F2.DEFAULT_COLLECTION_PERCENTILE,F2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),F2.DISABLED=new F2(-1,0,0);var Tb=function(){function t(e,n,r,s){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=s,this.Kt={}}return t.Qt=function(e,n,r,s){return M(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,s)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return F1(e).$t({index:Cr.userMutationsIndex,range:r},function(s,u,m){n=!1,m.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,s){var u=this,m=Of(e),_=F1(e);return _.add({}).next(function(E){M("number"==typeof E);for(var I=new e9(E,n,r,s),N=function(Se,Fe,$e){var gt=$e.baseMutations.map(function(Ut){return Tf(Se.Lt,Ut)}),Je=$e.mutations.map(function(Ut){return Tf(Se.Lt,Ut)});return new Cr(Fe,$e.batchId,$e.localWriteTime.toMillis(),gt,Je)}(u.R,u.userId,I),R=[],H=new Hi(function(Se,Fe){return Y(Se.canonicalString(),Fe.canonicalString())}),G=0,J=s;G<J.length;G++){var ue=J[G],Me=ts.key(u.userId,ue.key.path,E);H=H.add(ue.key.path.popLast()),R.push(_.put(N)),R.push(m.put(Me,ts.PLACEHOLDER))}return H.forEach(function(Se){R.push(u.Ut.addToCollectionParentIndex(e,Se))}),e.addOnCommittedListener(function(){u.Kt[E]=I.keys()}),et.waitFor(R).next(function(){return I})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return F1(e).get(n).next(function(s){return s?(M(s.userId===r.userId),b6(r.R,s)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?et.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(s){if(s){var u=s.keys();return r.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,s=n+1,u=IDBKeyRange.lowerBound([this.userId,s]),m=null;return F1(e).$t({index:Cr.userMutationsIndex,range:u},function(_,E,I){E.userId===r.userId&&(M(E.batchId>=s),m=b6(r.R,E)),I.done()}).next(function(){return m})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return F1(e).$t({index:Cr.userMutationsIndex,range:n,reverse:!0},function(s,u,m){r=u.batchId,m.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return F1(e).Nt(Cr.userMutationsIndex,r).next(function(s){return s.map(function(u){return b6(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,s=ts.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(s),m=[];return Of(e).$t({range:u},function(_,E,I){var N=_[0],H=_[2],G=Wu(_[1]);if(N===r.userId&&n.path.isEqual(G))return F1(e).get(H).next(function(J){if(!J)throw b();M(J.userId===r.userId),m.push(b6(r.R,J))});I.done()}).next(function(){return m})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,s=new Hi(Y),u=[];return n.forEach(function(m){var _=ts.prefixForPath(r.userId,m.path),E=IDBKeyRange.lowerBound(_),I=Of(e).$t({range:E},function(N,R,H){var G=N[0],ue=N[2],Me=Wu(N[1]);G===r.userId&&m.path.isEqual(Me)?s=s.add(ue):H.done()});u.push(I)}),et.waitFor(u).next(function(){return r.Wt(e,s)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,s=n.path,u=s.length+1,m=ts.prefixForPath(this.userId,s),_=IDBKeyRange.lowerBound(m),E=new Hi(Y);return Of(e).$t({range:_},function(I,N,R){var H=I[0],J=I[2],ue=Wu(I[1]);H===r.userId&&s.isPrefixOf(ue)?ue.length===u&&(E=E.add(J)):R.done()}).next(function(){return r.Wt(e,E)})},t.prototype.Wt=function(e,n){var r=this,s=[],u=[];return n.forEach(function(m){u.push(F1(e).get(m).next(function(_){if(null===_)throw b();M(_.userId===r.userId),s.push(b6(r.R,_))}))}),et.waitFor(u).next(function(){return s})},t.prototype.removeMutationBatch=function(e,n){var r=this;return i9(e.Mt,this.userId,n).next(function(s){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),et.forEach(s,function(u){return r.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return et.resolve();var s=IDBKeyRange.lowerBound(ts.prefixForUser(n.userId)),u=[];return Of(e).$t({range:s},function(m,_,E){if(m[0]===n.userId){var I=Wu(m[1]);u.push(I)}else E.done()}).next(function(){M(0===u.length)})})},t.prototype.containsKey=function(e,n){return Lf(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return Wg(e).get(this.userId).next(function(r){return r||new _4(n.userId,-1,"")})},t}();function Lf(t,e,n){var r=ts.prefixForPath(e,n.path),s=r[1],u=IDBKeyRange.lowerBound(r),m=!1;return Of(t).$t({range:u,Ft:!0},function(_,E,I){_[0]===e&&_[1]===s&&(m=!0),I.done()}).next(function(){return m})}function F1(t){return aa(t,Cr.store)}function Of(t){return aa(t,ts.store)}function Wg(t){return aa(t,_4.store)}var N5=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Kg=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var s=new N5(r.highestTargetId);return r.highestTargetId=s.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return dt.fromTimestamp(new bt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var s=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,r&&(u.lastRemoteSnapshotVersion=r.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),s.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(s){return s.targetCount+=1,r.ee(n,s),r.Zt(e,s)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return C6(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(s){return M(s.targetCount>0),s.targetCount-=1,r.Zt(e,s)})},t.prototype.removeTargets=function(e,n,r){var s=this,u=0,m=[];return C6(e).$t(function(_,E){var I=kf(E);I.sequenceNumber<=n&&null===r.get(I.targetId)&&(u++,m.push(s.removeTargetData(e,I)))}).next(function(){return et.waitFor(m)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return C6(e).$t(function(r,s){var u=kf(s);n(u)})},t.prototype.Xt=function(e){return o9(e).get(sa.key).next(function(n){return M(null!==n),n})},t.prototype.Zt=function(e,n){return o9(e).put(sa.key,n)},t.prototype.te=function(e,n){return C6(e).put(n9(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=h6(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),u=null;return C6(e).$t({range:s,index:Is.queryTargetsIndexName},function(m,_,E){var I=kf(_);d5(n,I.target)&&(u=I,E.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,r){var s=this,u=[],m=E4(e);return n.forEach(function(_){var E=P2(_.path);u.push(m.put(new so(r,E))),u.push(s.referenceDelegate.addReference(e,r,_))}),et.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,r){var s=this,u=E4(e);return et.forEach(n,function(m){var _=P2(m.path);return et.waitFor([u.delete([r,_]),s.referenceDelegate.removeReference(e,r,m)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=E4(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),s=E4(e),u=Wn();return s.$t({range:r,Ft:!0},function(m,_,E){var I=Wu(m[1]),N=new Dt(I);u=u.add(N)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var r=P2(n.path),s=IDBKeyRange.bound([r],[qe(r)],!1,!0),u=0;return E4(e).$t({index:so.documentTargetsIndex,Ft:!0,range:s},function(m,_,E){0!==m[0]&&(u++,E.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return C6(e).get(n).next(function(r){return r?kf(r):null})},t}();function C6(t){return aa(t,Is.store)}function o9(t){return aa(t,sa.store)}function E4(t){return aa(t,so.store)}function A4(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==I5)throw t;return tt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Yg(t,e){var r=t[1],u=e[1],m=Y(t[0],e[0]);return 0===m?Y(r,u):m}var Ib=function(){function t(e){this.ne=e,this.buffer=new Hi(Yg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Yg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vA=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;tt("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Sf(s=u.sent())?(tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,A4(s)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),yA=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(0===n)return et.resolve(oo.o);var s=new Ib(n);return this.ae.forEachTarget(e,function(u){return s.re(u.sequenceNumber)}).next(function(){return r.ae.le(e,function(u){return s.re(u)})}).next(function(){return s.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(O8)):this.getCacheSize(e).next(function(s){return s<r.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),O8):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,s,u,m,_,E,I,N=this,R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(H){return H>N.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+N.params.maximumSequenceNumbersToCollect+" from "+H),s=N.params.maximumSequenceNumbersToCollect):s=H,m=Date.now(),N.nthSequenceNumber(e,s)}).next(function(H){return r=H,_=Date.now(),N.removeTargets(e,r,n)}).next(function(H){return u=H,E=Date.now(),N.removeOrphanedDocuments(e,r)}).next(function(H){return I=Date.now(),In()<=ne.LogLevel.DEBUG&&tt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(m-R)+"ms\n\tDetermined least recently used "+s+" in "+(_-m)+"ms\n\tRemoved "+u+" targets in "+(E-_)+"ms\n\tRemoved "+H+" documents in "+(I-E)+"ms\nTotal Duration: "+(I-R)+"ms"),et.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:H})})},t}(),_A=function(){function t(e,n){this.db=e,this.garbageCollector=new yA(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(s){return r+s})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,s){return n(s)})},t.prototype.addReference=function(e,n,r){return s9(e,r)},t.prototype.removeReference=function(e,n,r){return s9(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return s9(e,n)},t.prototype._e=function(e,n){return s=n,u=!1,Wg(r=e).Ot(function(m){return Lf(r,m,s).next(function(_){return _&&(u=!0),et.resolve(!_)})}).next(function(){return u});var r,s,u},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],m=0;return this.we(e,function(_,E){if(E<=n){var I=r._e(e,_).next(function(N){if(!N)return m++,s.getEntry(e,_).next(function(){return s.removeEntry(_),E4(e).delete([0,P2(_.path)])})});u.push(I)}}).next(function(){return et.waitFor(u)}).next(function(){return s.apply(e)}).next(function(){return m})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return s9(e,n)},t.prototype.we=function(e,n){var r,s=E4(e),u=oo.o;return s.$t({index:so.documentTargetsIndex},function(m,_){var I=_.path,N=_.sequenceNumber;0===m[0]?(u!==oo.o&&n(new Dt(Wu(r)),u),u=N,r=I):u=oo.o}).next(function(){u!==oo.o&&n(new Dt(Wu(r)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function s9(t,e){return E4(t).put((r=t.currentSequenceNumber,new so(0,P2(e.path),r)));var r}var w6=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(var s=0,u=r;s<u.length;s++){var m=u[s],E=m[1];if(this.equalsFn(m[0],e))return E}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s){for(var u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),!0;return!1},t.prototype.forEach=function(e){Vn(this.inner,function(n,r){for(var s=0,u=r;s<u.length;s++){var m=u[s];e(m[0],m[1])}})},t.prototype.isEmpty=function(){return No(this.inner)},t}(),P8=function(){function t(){this.changes=new w6(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:dt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){void 0===n&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:ko.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return void 0!==r?et.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),xb=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return H1(e).put(k5(n),r)},t.prototype.removeEntry=function(e,n){var r=H1(e),s=k5(n);return r.delete(s)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(s){return s.byteSize+=n,r.me(e,s)})},t.prototype.getEntry=function(e,n){var r=this;return H1(e).get(k5(n)).next(function(s){return r.ye(n,s)})},t.prototype.ge=function(e,n){var r=this;return H1(e).get(k5(n)).next(function(s){return{document:r.ye(n,s),size:R8(s)}})},t.prototype.getEntries=function(e,n){var r=this,s=P1();return this.pe(e,n,function(u,m){var _=r.ye(u,m);s=s.insert(u,_)}).next(function(){return s})},t.prototype.Ee=function(e,n){var r=this,s=P1(),u=new es(Dt.comparator);return this.pe(e,n,function(m,_){var E=r.ye(m,_);s=s.insert(m,E),u=u.insert(m,R8(_))}).next(function(){return{documents:s,Te:u}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return et.resolve();var s=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),m=u.getNext();return H1(e).$t({range:s},function(_,E,I){for(var N=Dt.fromSegments(_);m&&Dt.comparator(m,N)<0;)r(m,null),m=u.getNext();m&&m.isEqual(N)&&(r(m,E),m=u.hasNext()?u.getNext():null),m?I.Ct(m.path.toArray()):I.done()}).next(function(){for(;m;)r(m,null),m=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var s=this,u=P1(),m=n.path.length+1,_={};if(r.isEqual(dt.min())){var E=n.path.toArray();_.range=IDBKeyRange.lowerBound(E)}else{var I=n.path.toArray(),N=qg(r);_.range=IDBKeyRange.lowerBound([I,N],!0),_.index=qr.collectionReadTimeIndex}return H1(e).$t(_,function(R,H,G){if(R.length===m){var J=Df(s.R,H);n.path.isPrefixOf(J.key.path)?M8(n,J)&&(u=u.insert(J.key,J)):G.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new Sb(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return a9(e).get(z2.key).next(function(n){return M(!!n),n})},t.prototype.me=function(e,n){return a9(e).put(z2.key,n)},t.prototype.ye=function(e,n){if(n){var r=Df(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(dt.min()))return r}return ko.newInvalidDocument(e)},t}(),Sb=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).Ie=n,s.trackRemovals=r,s.Ae=new w6(function(u){return u.toString()},function(u,m){return u.isEqual(m)}),s}return(0,L.__extends)(e,t),e.prototype.applyChanges=function(n){var r=this,s=[],u=0,m=new Hi(function(_,E){return Y(_.canonicalString(),E.canonicalString())});return this.changes.forEach(function(_,E){var I=r.Ae.get(_);if(E.document.isValidDocument()){var N=kr(r.Ie.R,E.document,r.getReadTime(_));m=m.add(_.path.popLast());var R=R8(N);u+=R-I,s.push(r.Ie.addEntry(n,_,N))}else if(u-=I,r.trackRemovals){var H=kr(r.Ie.R,ko.newNoDocument(_,dt.min()),r.getReadTime(_));s.push(r.Ie.addEntry(n,_,H))}else s.push(r.Ie.removeEntry(n,_))}),m.forEach(function(_){s.push(r.Ie.Ut.addToCollectionParentIndex(n,_))}),s.push(this.Ie.updateMetadata(n,u)),et.waitFor(s)},e.prototype.getFromCache=function(n,r){var s=this;return this.Ie.ge(n,r).next(function(u){return s.Ae.set(r,u.size),u.document})},e.prototype.getAllFromCache=function(n,r){var s=this;return this.Ie.Ee(n,r).next(function(u){var m=u.documents;return u.Te.forEach(function(_,E){s.Ae.set(_,E)}),m})},e}(P8);function a9(t){return aa(t,z2.store)}function H1(t){return aa(t,qr.store)}function k5(t){return t.path.toArray()}var Db=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,s){var u=this;M(r<s&&r>=0&&s<=11);var E,m=new Ug("createOrUpgrade",n);r<1&&s>=1&&(e.createObjectStore(Ha.store),(E=e).createObjectStore(_4.store,{keyPath:_4.keyPath}),E.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0}),E.createObjectStore(ts.store),Qg(e),function(E){E.createObjectStore(qr.store)}(e));var _=et.resolve();return r<3&&s>=3&&(0!==r&&(function(E){E.deleteObjectStore(so.store),E.deleteObjectStore(Is.store),E.deleteObjectStore(sa.store)}(e),Qg(e)),_=_.next(function(){return function(E){var I=E.store(sa.store),N=new sa(0,0,dt.min().toTimestamp(),0);return I.put(sa.key,N)}(m)})),r<4&&s>=4&&(0!==r&&(_=_.next(function(){return function(E,I){return I.store(Cr.store).Nt().next(function(N){E.deleteObjectStore(Cr.store),E.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0});var R=I.store(Cr.store),H=N.map(function(G){return R.put(G)});return et.waitFor(H)})}(e,m)})),_=_.next(function(){!function(E){E.createObjectStore(Lc.store,{keyPath:Lc.keyPath})}(e)})),r<5&&s>=5&&(_=_.next(function(){return u.Re(m)})),r<6&&s>=6&&(_=_.next(function(){return function(E){E.createObjectStore(z2.store)}(e),u.be(m)})),r<7&&s>=7&&(_=_.next(function(){return u.ve(m)})),r<8&&s>=8&&(_=_.next(function(){return u.Pe(e,m)})),r<9&&s>=9&&(_=_.next(function(){(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(e),function(E){var I=E.objectStore(qr.store);I.createIndex(qr.readTimeIndex,qr.readTimeIndexPath,{unique:!1}),I.createIndex(qr.collectionReadTimeIndex,qr.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&s>=10&&(_=_.next(function(){return u.Ve(m)})),r<11&&s>=11&&(_=_.next(function(){(function(E){E.createObjectStore(v6.store,{keyPath:v6.keyPath})})(e),function(E){E.createObjectStore(y6.store,{keyPath:y6.keyPath})}(e)})),_},t.prototype.be=function(e){var n=0;return e.store(qr.store).$t(function(r,s){n+=R8(s)}).next(function(){var r=new z2(n);return e.store(z2.store).put(z2.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(_4.store),s=e.store(Cr.store);return r.Nt().next(function(u){return et.forEach(u,function(m){var _=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.Nt(Cr.userMutationsIndex,_).next(function(E){return et.forEach(E,function(I){M(I.userId===m.userId);var N=b6(n.R,I);return i9(e,m.userId,N).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(so.store),r=e.store(qr.store);return e.store(sa.store).get(sa.key).next(function(s){var u=[];return r.$t(function(m,_){var E=new gn(m),I=[0,P2(E)];u.push(n.get(I).next(function(N){return N?et.resolve():n.put(new so(0,P2(E),s.highestListenSequenceNumber))}))}).next(function(){return et.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(b4.store,{keyPath:b4.keyPath});var r=n.store(b4.store),s=new r9,u=function(m){if(s.add(m)){var _=m.lastSegment(),E=m.popLast();return r.put({collectionId:_,parent:P2(E)})}};return n.store(qr.store).$t({Ft:!0},function(m,_){var E=new gn(m);return u(E.popLast())}).next(function(){return n.store(ts.store).$t({Ft:!0},function(m,_){var I=Wu(m[1]);return u(I.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Is.store);return r.$t(function(s,u){var m=kf(u),_=n9(n.R,m);return r.put(_)})},t}();function Qg(t){t.createObjectStore(so.store,{keyPath:so.keyPath}).createIndex(so.documentTargetsIndex,so.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Is.store,{keyPath:Is.keyPath}).createIndex(Is.queryTargetsIndexName,Is.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sa.store)}var c9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nb=function(){function t(e,n,r,s,u,m,_,E,I,N){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=u,this.window=m,this.document=_,this.De=I,this.Ce=N,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(R){return Promise.resolve()},!t.yt())throw new ze(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _A(this,s),this.Le=n+"main",this.R=new k8(E),this.Be=new V2(this.Le,11,new Db(this.R)),this.qe=new Kg(this.referenceDelegate,this.R),this.Ut=new Mb,this.Ue=new xb(this.R,this.Ut),this.Ke=new Ab,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===N&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ze(Ce.FAILED_PRECONDITION,c9);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new oo(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(s){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(s){switch(s.label){case 0:return null===r.newVersion?[4,e()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return L5(n).put(new Lc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Sf(n))return tt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Rf(e).get(Ha.key).next(function(r){return et.resolve(n.tn(r))})},t.prototype.en=function(e){return L5(e).delete(this.clientId)},t.prototype.nn=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,u=this;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(_){var E=aa(_,Lc.store);return E.Nt().next(function(I){var N=u.rn(I,18e5),R=I.filter(function(H){return-1===N.indexOf(H)});return et.forEach(R,function(H){return E.delete(H.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(e=m.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)this.Qe.removeItem(this.on(r[n].clientId));m.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?et.resolve(!0):Rf(e).get(Ha.key).next(function(r){if(null!==r&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new ze(Ce.FAILED_PRECONDITION,c9);return!1}}return!(!n.networkEnabled||!n.inForeground)||L5(e).Nt().next(function(s){return void 0===n.rn(s,5e3).find(function(u){return!(n.clientId===u.clientId||!(!n.networkEnabled&&u.networkEnabled||!n.inForeground&&u.inForeground&&n.networkEnabled===u.networkEnabled))})})}).next(function(r){return n.isPrimary!==r&&tt("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ha.store,Lc.store],function(r){var s=new jg(r,oo.o);return e.Xe(s).next(function(){return e.en(s)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(s){return r.sn(s.updateTimeMs,n)&&!r.cn(s.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return L5(n).Nt().next(function(r){return e.rn(r,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return Tb.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var u,s=this;return tt("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===n?"readonly":"readwrite",Hg,function(_){return u=new jg(_,s.Ne?s.Ne.next():oo.o),"readwrite-primary"===n?s.Je(u).next(function(E){return!!E||s.Ye(u)}).next(function(E){if(!E)throw Br("Failed to obtain primary lease for action '"+e+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new ze(Ce.FAILED_PRECONDITION,I5);return r(u)}).next(function(E){return s.Ze(u).next(function(){return E})}):s.dn(u).next(function(){return r(u)})}).then(function(_){return u.raiseOnCommittedEvent(),_})},t.prototype.dn=function(e){var n=this;return Rf(e).get(Ha.key).next(function(r){if(null!==r&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ze(Ce.FAILED_PRECONDITION,c9)})},t.prototype.Ze=function(e){var n=new Ha(this.clientId,this.allowTabSynchronization,Date.now());return Rf(e).put(Ha.key,n)},t.yt=function(){return V2.yt()},t.prototype.Xe=function(e){var n=this,r=Rf(e);return r.get(Ha.key).next(function(s){return n.tn(s)?(tt("IndexedDbPersistence","Releasing primary lease."),r.delete(Ha.key)):et.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Br("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){n.un(),(0,ut.isSafari)()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=null!==(null===(n=this.Qe)||void 0===n?void 0:n.getItem(this.on(e)));return tt("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(s){return Br("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Rf(t){return aa(t,Ha.store)}function L5(t){return aa(t,Lc.store)}function u9(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Pf=function(t,e){this.progress=t,this.wn=e},Jg=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(s){return r.yn(e,n,s)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(s){for(var u=0,m=r;u<m.length;u++)m[u].applyToLocalView(s);return s})},t.prototype.gn=function(e,n){e.forEach(function(r,s){for(var u=0,m=n;u<m.length;u++)m[u].applyToLocalView(s)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(s){return r.En(e,s).next(function(){return s})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(s){return r.gn(n,s)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return Dt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(e,n.path):g5(n)?this.In(e,n,r):this.An(e,n,r);var s},t.prototype.Tn=function(e,n){return this.mn(e,new Dt(n)).next(function(r){var s=A5();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})},t.prototype.In=function(e,n,r){var s=this,u=n.collectionGroup,m=A5();return this.Ut.getCollectionParents(e,u).next(function(_){return et.forEach(_,function(E){var N,R,I=(N=n,R=E.child(u),new qu(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));return s.An(e,I,r).next(function(N){N.forEach(function(R,H){m=m.insert(R,H)})})}).next(function(){return m})})},t.prototype.An=function(e,n,r){var s,u,m=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(_){return s=_,m._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(_){return m.Rn(e,u=_,s).next(function(E){s=E;for(var I=0,N=u;I<N.length;I++)for(var R=N[I],H=0,G=R.mutations;H<G.length;H++){var J=G[H],ue=J.key,Me=s.get(ue);null==Me&&(Me=ko.newInvalidDocument(ue),s=s.insert(ue,Me)),w5(J,Me,R.localWriteTime),Me.isFoundDocument()||(s=s.remove(ue))}})}).next(function(){return s.forEach(function(_,E){M8(n,E)||(s=s.remove(_))}),s})},t.prototype.Rn=function(e,n,r){for(var s=Wn(),u=0,m=n;u<m.length;u++)for(var _=0,E=m[u].mutations;_<E.length;_++){var I=E[_];I instanceof Zu&&null===r.get(I.key)&&(s=s.add(I.key))}var N=r;return this.Ue.getEntries(e,s).next(function(R){return R.forEach(function(H,G){G.isFoundDocument()&&(N=N.insert(H,G))}),N})},t}(),Xg=function(){function t(e,n,r,s){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=s}return t.Pn=function(e,n){for(var r=Wn(),s=Wn(),u=0,m=n.docChanges;u<m.length;u++){var _=m[u];switch(_.type){case 0:r=r.add(_.doc.key);break;case 1:s=s.add(_.doc.key)}}return new t(e,n.fromCache,r,s)},t}(),ev=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,s){var m,u=this;return 0===(m=n).filters.length&&null===m.limit&&null==m.startAt&&null==m.endAt&&(0===m.explicitOrderBy.length||1===m.explicitOrderBy.length&&m.explicitOrderBy[0].field.isKeyField())||r.isEqual(dt.min())?this.Dn(e,n):this.Sn.pn(e,s).next(function(m){var _=u.Cn(n,m);return(p5(n)||E8(n))&&u.Nn(n.limitType,_,s,r)?u.Dn(e,n):(In()<=ne.LogLevel.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),d6(n)),u.Sn.getDocumentsMatchingQuery(e,n,r).next(function(E){return _.forEach(function(I){E=E.insert(I.key,I)}),E}))})},t.prototype.Cn=function(e,n){var r=new Hi(y5(e));return n.forEach(function(s,u){M8(e,u)&&(r=r.add(u))}),r},t.prototype.Nn=function(e,n,r,s){if(r.size!==n.size)return!0;var u="F"===e?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)},t.prototype.Dn=function(e,n){return In()<=ne.LogLevel.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",d6(n)),this.Sn.getDocumentsMatchingQuery(e,n,dt.min())},t}(),tv=function(){function t(e,n,r,s){this.persistence=e,this.xn=n,this.R=s,this.kn=new es(Y),this.Fn=new w6(function(u){return h6(u)},d5),this.$n=dt.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Jg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();function nv(t,e,n,r){return new tv(t,e,n,r)}function l9(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return n=S(t),r=n._n,s=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(_){var E;return n._n.getAllMutationBatches(_).next(function(I){return E=I,r=n.persistence.getMutationQueue(e),s=new Jg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(_)}).next(function(I){for(var N=[],R=[],H=Wn(),G=0,J=E;G<J.length;G++){var ue=J[G];N.push(ue.batchId);for(var Me=0,Se=ue.mutations;Me<Se.length;Me++)H=H.add(Se[Me].key)}for(var $e=0,gt=I;$e<gt.length;$e++){var Je=gt[$e];R.push(Je.batchId);for(var Ut=0,fr=Je.mutations;Ut<fr.length;Ut++)H=H.add(fr[Ut].key)}return s.pn(_,H).next(function(Zr){return{Ln:Zr,removedBatchIds:N,addedBatchIds:R}})})})];case 1:return u=m.sent(),[2,(n._n=r,n.Mn=s,n.xn.Vn(n.Mn),u)]}})})}function kb(t,e){var n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var m,_,E,I,N,R,H,s=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return(m=n,_=r,E=e,I=u,N=E.batch,R=N.keys(),H=et.resolve(),R.forEach(function(G){H=H.next(function(){return I.getEntry(_,G)}).next(function(J){var ue=E.docVersions.get(G);M(null!==ue),J.version.compareTo(ue)<0&&(N.applyToRemoteDocument(J,E),J.isValidDocument()&&I.addEntry(J,E.commitVersion))})}),H.next(function(){return m._n.removeMutationBatch(_,N)})).next(function(){return u.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,s)})})}function O5(t){var e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Lb(t,e){var n=S(t),r=e.snapshotVersion,s=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var m=n.On.newChangeBuffer({trackRemovals:!0});s=n.kn;var _=[];e.targetChanges.forEach(function(N,R){var ue,Me,Se,H=s.get(R);if(H){_.push(n.qe.removeMatchingKeys(u,N.removedDocuments,R).next(function(){return n.qe.addMatchingKeys(u,N.addedDocuments,R)}));var G=N.resumeToken;if(G.approximateByteSize()>0){var J=H.withResumeToken(G,r).withSequenceNumber(u.currentSequenceNumber);s=s.insert(R,J),ue=H,Se=N,M((Me=J).resumeToken.approximateByteSize()>0),(0===ue.resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&_.push(n.qe.updateTargetData(u,J))}}});var E=P1();if(e.documentUpdates.forEach(function(N,R){e.resolvedLimboDocuments.has(N)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(u,N))}),_.push(f9(u,m,e.documentUpdates,r,void 0).next(function(N){E=N})),!r.isEqual(dt.min())){var I=n.qe.getLastRemoteSnapshotVersion(u).next(function(N){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,r)});_.push(I)}return et.waitFor(_).next(function(){return m.apply(u)}).next(function(){return n.Mn.En(u,E)}).next(function(){return E})}).then(function(u){return n.kn=s,u})}function f9(t,e,n,r,s){var u=Wn();return n.forEach(function(m){return u=u.add(m)}),e.getEntries(t,u).next(function(m){var _=P1();return n.forEach(function(E,I){var N=m.get(E),R=(null==s?void 0:s.get(E))||r;I.isNoDocument()&&I.version.isEqual(dt.min())?(e.removeEntry(E,R),_=_.insert(E,I)):!N.isValidDocument()||I.version.compareTo(N.version)>0||0===I.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(I,R),_=_.insert(E,I)):tt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",N.version," Watch version:",I.version)}),_})}function rv(t,e){var n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function zf(t,e){var n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var s;return n.qe.getTargetData(r,e).next(function(u){return u?et.resolve(s=u):n.qe.allocateTargetId(r).next(function(m){return s=new S5(e,m,0,r.currentSequenceNumber),n.qe.addTargetData(r,s).next(function(){return s})})})}).then(function(r){var s=n.kn.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Vf(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:r=S(t),s=r.kn.get(e),u=n?"readwrite":"readwrite-primary",_.label=1;case 1:return _.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",u,function(E){return r.persistence.referenceDelegate.removeTarget(E,s)})];case 2:_.sent(),_.label=3;case 3:return[3,5];case 4:if(!Sf(m=_.sent()))throw m;return tt("LocalStore","Failed to update sequence numbers for target "+e+": "+m),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(s.target),[2]}})})}function R5(t,e,n){var r=S(t),s=dt.min(),u=Wn();return r.persistence.runTransaction("Execute query","readonly",function(m){return(_=r,E=m,I=O2(e),N=S(_),R=N.Fn.get(I),void 0!==R?et.resolve(N.kn.get(R)):N.qe.getTargetData(E,I)).next(function(_){if(_)return s=_.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(m,_.targetId).next(function(E){u=E})}).next(function(){return r.xn.getDocumentsMatchingQuery(m,e,n?s:dt.min(),n?u:Wn())}).next(function(_){return{documents:_,Bn:u}});var _,E,I,N,R})}function P5(t,e){var n=S(t),r=S(n.qe),s=n.kn.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",function(u){return r.lt(u,e).next(function(m){return m?m.target:null})})}function iv(t){var e=S(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return s=n,u=e.$n,m=S(e.On),_=P1(),E=qg(u),I=H1(s),N=IDBKeyRange.lowerBound(E,!0),I.$t({index:qr.readTimeIndex,range:N},function(R,H){var G=Df(m.R,H);_=_.insert(G.key,G),E=H.readTime}).next(function(){return{wn:_,readTime:t9(E)}});var s,u,m,_,E,I,N}).then(function(n){var r=n.wn;return e.$n=n.readTime,r})}function ov(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){return[2,(e=S(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return u=H1(r),m=dt.min(),u.$t({index:qr.readTimeIndex,reverse:!0},function(_,E,I){E.readTime&&(m=t9(E.readTime)),I.done()}).next(function(){return m});var u,m}).then(function(r){e.$n=r})]})})}function Ob(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,_,E,I,N,R,H,G;return(0,L.__generator)(this,function(J){switch(J.label){case 0:for(s=S(t),u=Wn(),m=P1(),_=Ig(),E=0,I=n;E<I.length;E++)R=e.qn((N=I[E]).metadata.name),N.document&&(u=u.add(R)),m=m.insert(R,e.Un(N)),_=_.insert(R,e.Kn(N.metadata.readTime));return H=s.On.newChangeBuffer({trackRemovals:!0}),[4,zf(s,(ue=r,O2(_f(gn.fromString("__bundle__/docs/"+ue)))))];case 1:return G=J.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(ue){return f9(ue,H,m,dt.min(),_).next(function(Me){return H.apply(ue),Me}).next(function(Me){return s.qe.removeMatchingKeysForTargetId(ue,G.targetId).next(function(){return s.qe.addMatchingKeys(ue,u,G.targetId)}).next(function(){return s.Mn.En(ue,Me)}).next(function(){return Me})})})]}var ue})})}function Rb(t,e,n){return void 0===n&&(n=Wn()),(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,zf(t,O2(D5(e.bundledQuery)))];case 1:return r=u.sent(),[2,(s=S(t)).persistence.runTransaction("Save named query","readwrite",function(m){var _=_i(e.readTime);if(r.snapshotVersion.compareTo(_)>=0)return s.Ke.saveNamedQuery(m,e);var E=r.withResumeToken(Xo.EMPTY_BYTE_STRING,_);return s.kn=s.kn.insert(E.targetId,E),s.qe.updateTargetData(m,E).next(function(){return s.qe.removeMatchingKeysForTargetId(m,r.targetId)}).next(function(){return s.qe.addMatchingKeys(m,n,r.targetId)}).next(function(){return s.Ke.saveNamedQuery(m,e)})})]}})})}var Pb=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return et.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:_i(r.createTime)}),et.resolve()},t.prototype.getNamedQuery=function(e,n){return et.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,{name:(r=n).name,query:D5(r.bundledQuery),readTime:_i(r.readTime)}),et.resolve();var r},t}(),h9=function(){function t(){this.Wn=new Hi(ao.Gn),this.zn=new Hi(ao.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new ao(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(s){return r.addReference(s,n)})},t.prototype.removeReference=function(e,n){this.Yn(new ao(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(s){return r.removeReference(s,n)})},t.prototype.Zn=function(e){var n=this,r=new Dt(new gn([])),s=new ao(r,e),u=new ao(r,e+1),m=[];return this.zn.forEachInRange([s,u],function(_){n.Yn(_),m.push(_.key)}),m},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new Dt(new gn([])),r=new ao(n,e),s=new ao(n,e+1),u=Wn();return this.zn.forEachInRange([r,s],function(m){u=u.add(m.key)}),u},t.prototype.containsKey=function(e){var n=new ao(e,0),r=this.Wn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)},t}(),ao=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return Dt.comparator(e.key,n.key)||Y(e.ns,n.ns)},t.Hn=function(e,n){return Y(e.ns,n.ns)||Dt.comparator(e.key,n.key)},t}(),zb=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Hi(ao.Gn)}return t.prototype.checkEmpty=function(e){return et.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,n,r,s){var u=this.ss;this.ss++;var m=new e9(u,n,r,s);this._n.push(m);for(var _=0,E=s;_<E.length;_++){var I=E[_];this.rs=this.rs.add(new ao(I.key,u)),this.Ut.addToCollectionParentIndex(e,I.key.path.popLast())}return et.resolve(m)},t.prototype.lookupMutationBatch=function(e,n){return et.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var s=this.cs(n+1),u=s<0?0:s;return et.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return et.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return et.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,s=new ao(n,0),u=new ao(n,Number.POSITIVE_INFINITY),m=[];return this.rs.forEachInRange([s,u],function(_){var E=r.os(_.ns);m.push(E)}),et.resolve(m)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,s=new Hi(Y);return n.forEach(function(u){var m=new ao(u,0),_=new ao(u,Number.POSITIVE_INFINITY);r.rs.forEachInRange([m,_],function(E){s=s.add(E.ns)})}),et.resolve(this.us(s))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,s=r.length+1,u=r;Dt.isDocumentKey(u)||(u=u.child(""));var m=new ao(new Dt(u),0),_=new Hi(Y);return this.rs.forEachWhile(function(E){var I=E.key.path;return!!r.isPrefixOf(I)&&(I.length===s&&(_=_.add(E.ns)),!0)},m),et.resolve(this.us(_))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(s){var u=n.os(s);null!==u&&r.push(u)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;M(0===this.hs(n.batchId,"removed")),this._n.shift();var s=this.rs;return et.forEach(n.mutations,function(u){var m=new ao(u.key,n.batchId);return s=s.delete(m),r.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){r.rs=s})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new ao(n,0),s=this.rs.firstAfterOrEqual(r);return et.resolve(n.isEqual(s&&s.key))},t.prototype.performConsistencyCheck=function(e){return et.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),Vb=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new es(Dt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var s=n.key,u=this.docs.get(s),m=u?u.size:0,_=this.ls(n);return this.docs=this.docs.insert(s,{document:n.clone(),size:_,readTime:r}),this.size+=_-m,this.Ut.addToCollectionParentIndex(e,s.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return et.resolve(r?r.document.clone():ko.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,s=P1();return n.forEach(function(u){var m=r.docs.get(u);s=s.insert(u,m?m.document.clone():ko.newInvalidDocument(u))}),et.resolve(s)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var s=P1(),u=new Dt(n.path.child("")),m=this.docs.getIteratorFrom(u);m.hasNext();){var _=m.getNext(),I=_.value,N=I.document,R=I.readTime;if(!n.path.isPrefixOf(_.key.path))break;R.compareTo(r)<=0||M8(n,N)&&(s=s.insert(N.key,N.clone()))}return et.resolve(s)},t.prototype.fs=function(e,n){return et.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new Fb(this)},t.prototype.getSize=function(e){return et.resolve(this.size)},t}(),Fb=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return(0,L.__extends)(e,t),e.prototype.applyChanges=function(n){var r=this,s=[];return this.changes.forEach(function(u,m){m.document.isValidDocument()?s.push(r.Ie.addEntry(n,m.document,r.getReadTime(u))):r.Ie.removeEntry(u)}),et.waitFor(s)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(P8),sv=function(){function t(e){this.persistence=e,this.ds=new w6(function(n){return h6(n)},d5),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.ws=0,this._s=new h9,this.targetCount=0,this.ys=N5.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,s){return n(s)}),et.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return et.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return et.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),et.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),et.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new N5(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,et.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),et.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,et.resolve()},t.prototype.removeTargets=function(e,n,r){var s=this,u=0,m=[];return this.ds.forEach(function(_,E){E.sequenceNumber<=n&&null===r.get(E.targetId)&&(s.ds.delete(_),m.push(s.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),et.waitFor(m).next(function(){return u})},t.prototype.getTargetCount=function(e){return et.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return et.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),et.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(function(m){u.push(s.markPotentiallyOrphaned(e,m))}),et.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),et.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return et.resolve(r)},t.prototype.containsKey=function(e,n){return et.resolve(this._s.containsKey(n))},t}(),av=function(){function t(e,n){var r=this;this.gs={},this.Ne=new oo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sv(this),this.Ut=new L8,this.Ue=new Vb(this.Ut,function(m){return r.referenceDelegate.ps(m)}),this.R=new k8(n),this.Ke=new Pb(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new zb(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var s=this;tt("MemoryPersistence","Starting transaction:",e);var u=new Hb(this.Ne.next());return this.referenceDelegate.Es(),r(u).next(function(m){return s.referenceDelegate.Ts(u).next(function(){return m})}).toPromise().then(function(m){return u.raiseOnCommittedEvent(),m})},t.prototype.Is=function(e,n){return et.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),Hb=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return(0,L.__extends)(e,t),e}(X7),Ub=function(){function t(e){this.persistence=e,this.As=new h9,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw b()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),et.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),et.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),et.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(u){return r.vs.add(u.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(m){return r.vs.add(m.toString())})}).next(function(){return s.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.vs,function(s){var u=Dt.fromPath(s);return n.Ps(e,u).next(function(m){m||r.removeEntry(u)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(s){s?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return et.or([function(){return et.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),co=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function cv(t,e){return"firestore_clients_"+t+"_"+e}function uv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function d9(t,e){return"firestore_targets_"+t+"_"+e}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");var z5=function(){function t(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}return t.Vs=function(e,n,r){var s,u=JSON.parse(r),m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(s=new ze(u.error.code,u.error.message)),m?new t(e,n,u.state,s):(Br("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),z8=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,s=JSON.parse(n),u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(r=new ze(s.error.code,s.error.message)),u?new t(e,s.state,r):(Br("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),p9=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),s="object"==typeof r&&r.activeTargetIds instanceof Array,u=S8(),m=0;s&&m<r.activeTargetIds.length;++m)s=T7(r.activeTargetIds[m]),u=u.add(r.activeTargetIds[m]);return s?new t(e,u):(Br("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),m9=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Br("SharedClientState","Failed to parse online state: "+e),null)},t}(),g9=function(){function t(){this.activeTargetIds=S8()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),v9=function(){function t(e,n,r,s,u){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new es(Y),this.started=!1,this.$s=[];var m=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=cv(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new g9),this.Ls=new RegExp("^firestore_clients_"+m+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+m+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+m+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(_){return"firestore_bundle_loaded_"+_}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,u,m,_,E,I,N,H=this;return(0,L.__generator)(this,function(G){switch(G.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=G.sent(),n=0,r=e;n<r.length;n++)(s=r[n])!==this.Ns&&(u=this.getItem(cv(this.persistenceKey,s)))&&(m=p9.Vs(s,u))&&(this.Fs=this.Fs.insert(m.clientId,m));for(this.Qs(),(_=this.storage.getItem(this.Us))&&(E=this.js(_))&&this.Ws(E),I=0,N=this.$s;I<N.length;I++)this.ks(N[I]);return this.$s=[],this.window.addEventListener("pagehide",function(){return H.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,s){s.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(d9(this.persistenceKey,e));if(r){var s=z8.Vs(e,r);s&&(n=s.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(d9(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var s=this;n.forEach(function(u){s.Hs(u)}),this.currentUser=e,r.forEach(function(u){s.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return tt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){tt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(tt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s,u,m,_,E,I;return(0,L.__generator)(this,function(N){if(this.started){if(null!==r.key)if(this.Ls.test(r.key)){if(null==r.newValue)return s=this.ti(r.key),[2,this.ei(s,null)];if(u=this.ni(r.key,r.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(r.key)){if(null!==r.newValue&&(m=this.si(r.key,r.newValue)))return[2,this.ii(m)]}else if(this.qs.test(r.key)){if(null!==r.newValue&&(_=this.ri(r.key,r.newValue)))return[2,this.oi(_)]}else if(r.key===this.Us){if(null!==r.newValue&&(E=this.js(r.newValue)))return[2,this.Ws(E)]}else if(r.key===this.Ms)(I=function(R){var H=oo.o;if(null!=R)try{var G=JSON.parse(R);M("number"==typeof G),H=G}catch(J){Br("SharedClientState","Failed to read sequence number from WebStorage",J)}return H}(r.newValue))!==oo.o&&this.sequenceNumberHandler(I);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var s=new z5(this.currentUser,e,n,r),u=uv(this.persistenceKey,this.currentUser,e);this.setItem(u,s.Ss())},t.prototype.Hs=function(e){var n=uv(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,n,r){var s=d9(this.persistenceKey,e),u=new z8(e,n,r);this.setItem(s,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return p9.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),s=Number(r[1]);return z5.Vs(new co(void 0!==r[2]?r[2]:null),s,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),s=Number(r[1]);return z8.Vs(s,n)},t.prototype.js=function(e){return m9.Vs(e)},t.prototype.ii=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(tt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,s=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),m=this.Gs(s),_=[],E=[];return m.forEach(function(I){u.has(I)||_.push(I)}),u.forEach(function(I){m.has(I)||E.push(I)}),this.syncEngine.hi(_,E).then(function(){r.Fs=s})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=S8();return e.forEach(function(r,s){n=n.unionWith(s.activeTargetIds)}),n},t}(),V5=function(){function t(){this.li=new g9,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new g9,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),Bb=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),y9=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lv=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),fv=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return(0,L.__extends)(e,t),e.prototype.Fi=function(n,r,s,u){return new Promise(function(m,_){var E=new Hu;E.listenOnce(gf.COMPLETE,function(){try{switch(E.getLastErrorCode()){case Jo.NO_ERROR:var N=E.getResponseJson();tt("Connection","XHR received:",JSON.stringify(N)),m(N);break;case Jo.TIMEOUT:tt("Connection",'RPC "'+n+'" timed out'),_(new ze(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Jo.HTTP_ERROR:var R=E.getStatus();if(tt("Connection",'RPC "'+n+'" failed with status:',R,"response text:",E.getResponseText()),R>0){var H=E.getResponseJson().error;if(H&&H.status&&H.message){var G=(ue=H.status.toLowerCase().replace(/_/g,"-"),Object.values(Ce).indexOf(ue)>=0?ue:Ce.UNKNOWN);_(new ze(G,H.message))}else _(new ze(Ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new ze(Ce.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{tt("Connection",'RPC "'+n+'" completed.')}var ue});var I=JSON.stringify(u);E.send(r,"POST",I,s,15)})},e.prototype.Oi=function(n,r){var s=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=new s6,m=Jl(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new k2({})),this.ki(_.initMessageHeaders,r),(0,ut.isMobileCordova)()||(0,ut.isReactNative)()||(0,ut.isElectron)()||(0,ut.isIE)()||(0,ut.isUWP)()||(0,ut.isBrowserExtension)()||(_.httpHeadersOverwriteParam="$httpHeaders");var E=s.join("");tt("Connection","Creating WebChannel: "+E,_);var I=u.createWebChannel(E,_),N=!1,R=!1,H=new lv({Ei:function(J){R?tt("Connection","Not sending because WebChannel is closed:",J):(N||(tt("Connection","Opening WebChannel transport."),I.open(),N=!0),tt("Connection","WebChannel sending:",J),I.send(J))},Ti:function(){return I.close()}}),G=function(J,ue,Me){J.listen(ue,function(Se){try{Me(Se)}catch(Fe){setTimeout(function(){throw Fe},0)}})};return G(I,p4.EventType.OPEN,function(){R||tt("Connection","WebChannel transport opened.")}),G(I,p4.EventType.CLOSE,function(){R||(R=!0,tt("Connection","WebChannel transport closed"),H.Vi())}),G(I,p4.EventType.ERROR,function(J){R||(R=!0,a("Connection","WebChannel transport errored:",J),H.Vi(new ze(Ce.UNAVAILABLE,"The operation could not be completed")))}),G(I,p4.EventType.MESSAGE,function(J){var ue;if(!R){var Me=J.data[0];M(!!Me);var Fe=Me.error||(null===(ue=Me[0])||void 0===ue?void 0:ue.error);if(Fe){tt("Connection","WebChannel received error:",Fe);var $e=Fe.status,gt=function(Ut){var fr=ai[Ut];if(void 0!==fr)return j7(fr)}($e),Je=Fe.message;void 0===gt&&(gt=Ce.INTERNAL,Je="Unknown error status: "+$e+" with message "+Fe.message),R=!0,H.Vi(new ze(gt,Je)),I.close()}else tt("Connection","WebChannel received:",Me),H.Si(Me)}}),G(m,o5.STAT_EVENT,function(J){J.stat===a6_PROXY?tt("Connection","Detected buffering proxy"):J.stat===a6_NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(function(){H.Pi()},0),H},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,s){var u=this.xi(e,n);tt("RestConnection","Sending: ",u,r);var m={};return this.ki(m,s),this.Fi(e,u,m,r).then(function(_){return tt("RestConnection","Received: ",_),_},function(_){throw a("RestConnection",e+" failed with error: ",_,"url: ",u,"request:",r),_})},t.prototype.$i=function(e,n,r,s){return this.Ni(e,n,r,s)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){return this.Di+"/v1/"+n+":"+jb[e]},t}());function _9(){return"undefined"!=typeof window?window:null}function b9(){return"undefined"!=typeof document?document:null}function V8(t){return new pb(t,!0)}var M4=function(){function t(e,n,r,s,u){void 0===r&&(r=1e3),void 0===s&&(s=1.5),void 0===u&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=s,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),u=Math.max(0,r-s);u>0&&tt("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),qb=function(){function t(e,n,r,s,u,m){this.Se=e,this.zi=r,this.Hi=s,this.Ji=u,this.listener=m,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new M4(e,n)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===Ce.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(s){e.Yi===r&&e.lr(s)},function(s){n(function(){var u=new ze(Ce.UNKNOWN,"Fetching auth token failed: "+s.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(s){r(function(){return n.dr(s)})}),this.stream.onMessage(function(s){r(function(){return n.onMessage(s)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return tt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),C9=function(t){function e(n,r,s,u,m){var _=this;return(_=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,s,m)||this).R=u,_}return(0,L.__extends)(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(u,m){var _,Me;if("targetChange"in m){var E="NO_CHANGE"===(Me=m.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Me?1:"REMOVE"===Me?2:"CURRENT"===Me?3:"RESET"===Me?4:b(),I=m.targetChange.targetIds||[],N=function(Me,Se){return Me.I?(M(void 0===Se||"string"==typeof Se),Xo.fromBase64String(Se||"")):(M(void 0===Se||Se instanceof Uint8Array),Xo.fromUint8Array(Se||new Uint8Array))}(u,m.targetChange.resumeToken),R=(H=m.targetChange.cause)&&function(Me){var Se=void 0===Me.code?Ce.UNKNOWN:j7(Me.code);return new ze(Se,Me.message||"")}(H);_=new Sg(E,I,N,R||null)}else if("documentChange"in m){I=kc(u,(E=m.documentChange).document.name),N=_i(E.document.updateTime);var H=new Fa({mapValue:{fields:E.document.fields}}),G=(R=ko.newFoundDocument(I,N,H),E.targetIds||[]);_=new Af(G,E.removedTargetIds||[],R.key,R)}else if("documentDelete"in m)I=kc(u,(E=m.documentDelete).document),N=E.readTime?_i(E.readTime):dt.min(),H=ko.newNoDocument(I,N),_=new Af([],R=E.removedTargetIds||[],H.key,H);else if("documentRemove"in m)I=kc(u,(E=m.documentRemove).document),_=new Af([],N=E.removedTargetIds||[],I,null);else{if(!("filter"in m))return b();var ue=m.filter;I=new fb(E=ue.count||0),_=new R2(N=ue.targetId,I)}return _}(this.R,n),s=function(u){if(!("targetChange"in u))return dt.min();var m=u.targetChange;return m.targetIds&&m.targetIds.length?dt.min():m.readTime?_i(m.readTime):dt.min()}(n);return this.listener._r(r,s)},e.prototype.mr=function(n){var u,m,_,E,r={};r.database=y4(this.R),r.addTarget=(u=this.R,(_=N7(E=(m=n).target)?{documents:$7(u,E)}:{query:W7(u,E)}).targetId=m.targetId,m.resumeToken.approximateByteSize()>0?_.resumeToken=Lg(u,m.resumeToken):m.snapshotVersion.compareTo(dt.min())>0&&(_.readTime=D8(u,m.snapshotVersion.toTimestamp())),_);var s=function(u,m){var _=function(E,I){switch(I){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,m.purpose);return null==_?null:{"goog-listen-tags":_}}(0,n);s&&(r.labels=s),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=y4(this.R),r.removeTarget=n,this.cr(r)},e}(qb),F5=function(t){function e(n,r,s,u,m){var _=this;return(_=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,s,m)||this).R=u,_.gr=!1,_}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(M(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=(m=n.commitTime,(u=n.writeResults)&&u.length>0?(M(void 0!==m),u.map(function(_){return I=m,(N=_i((E=_).updateTime?E.updateTime:I)).isEqual(dt.min())&&(N=_i(I)),new bg(N,E.transformResults||[]);var E,I,N})):[]),s=_i(n.commitTime);return this.listener.Tr(s,r)}var u,m;return M(!n.writeResults||0===n.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=y4(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,s={streamToken:this.lastStreamToken,writes:n.map(function(u){return Tf(r.R,u)})};this.cr(s)},e}(qb),Gb=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=r,u.R=s,u.Rr=!1,u}return(0,L.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,s){var u=this;return this.br(),this.credentials.getToken().then(function(m){return u.Hi.Ni(n,r,s,m)}).catch(function(m){throw"FirebaseError"===m.name?(m.code===Ce.UNAUTHENTICATED&&u.credentials.invalidateToken(),m):new ze(Ce.UNKNOWN,m.toString())})},e.prototype.$i=function(n,r,s){var u=this;return this.br(),this.credentials.getToken().then(function(m){return u.Hi.$i(n,r,s,m)}).catch(function(m){throw"FirebaseError"===m.name?(m.code===Ce.UNAUTHENTICATED&&u.credentials.invalidateToken(),m):new ze(Ce.UNKNOWN,m.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ff=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Br(n),this.Vr=!1):tt("OnlineStateTracker",n)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Zb=function(t,e,n,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(m){n.enqueueAndForget(function(){return(0,L.__awaiter)(u,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return E6(this)?(tt("RemoteStore","Restarting streams for network reachability change."),[4,function(E){return(0,L.__awaiter)(this,void 0,void 0,function(){var I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return(I=S(E)).Or.add(4),[4,Hf(I)];case 1:return N.sent(),I.Br.set("Unknown"),I.Or.delete(4),[4,H5(I)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})})}),this.Br=new Ff(n,r)};function H5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(!E6(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hf(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ua(t,e){var n=S(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),E9(n)?w9(n):M6(n).er()&&hv(n,e))}function Uf(t,e){var n=S(t),r=M6(n);n.$r.delete(e),r.er()&&F8(n,e),0===n.$r.size&&(r.er()?r.ir():E6(n)&&n.Br.set("Unknown"))}function hv(t,e){t.qr.U(e.targetId),M6(t).mr(e)}function F8(t,e){t.qr.U(e),M6(t).yr(e)}function w9(t){t.qr=new Nc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),M6(t).start(),t.Br.Sr()}function E9(t){return E6(t)&&!M6(t).tr()&&t.$r.size>0}function E6(t){return 0===S(t).Or.size}function dv(t){t.qr=void 0}function $b(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return t.$r.forEach(function(n,r){hv(t,n)}),[2]})})}function Wb(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return dv(t),E9(t)?(t.Br.Nr(e),w9(t)):t.Br.set("Unknown"),[2]})})}function A9(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:if(t.Br.set("Online"),!(e instanceof Sg&&2===e.state&&e.cause))return[3,6];m.label=1;case 1:return m.trys.push([1,3,,5]),[4,function(_,E){return(0,L.__awaiter)(this,void 0,void 0,function(){var I,N,R,H;return(0,L.__generator)(this,function(G){switch(G.label){case 0:I=E.cause,N=0,R=E.targetIds,G.label=1;case 1:return N<R.length?_.$r.has(H=R[N])?[4,_.remoteSyncer.rejectListen(H,I)]:[3,3]:[3,5];case 2:G.sent(),_.$r.delete(H),_.qr.removeTarget(H),G.label=3;case 3:G.label=4;case 4:return N++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return m.sent(),[3,5];case 3:return r=m.sent(),tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,H8(t,r)];case 4:return m.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Af?t.qr.X(e):e instanceof R2?t.qr.rt(e):t.qr.et(e),n.isEqual(dt.min()))return[3,13];m.label=7;case 7:return m.trys.push([7,11,,13]),[4,O5(t.localStore)];case 8:return s=m.sent(),n.compareTo(s)>=0?[4,(_=t,E=n,I=_.qr.ut(E),I.targetChanges.forEach(function(N,R){if(N.resumeToken.approximateByteSize()>0){var H=_.$r.get(R);H&&_.$r.set(R,H.withResumeToken(N.resumeToken,E))}}),I.targetMismatches.forEach(function(N){var R=_.$r.get(N);if(R){_.$r.set(N,R.withResumeToken(Xo.EMPTY_BYTE_STRING,R.snapshotVersion)),F8(_,N);var H=new S5(R.target,N,1,R.sequenceNumber);hv(_,H)}}),_.remoteSyncer.applyRemoteEvent(I))]:[3,10];case 9:m.sent(),m.label=10;case 10:return[3,13];case 11:return tt("RemoteStore","Failed to raise snapshot:",u=m.sent()),[4,H8(t,u)];case 12:return m.sent(),[3,13];case 13:return[2]}var _,E,I})})}function H8(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:if(!Sf(e))throw e;return t.Or.add(1),[4,Hf(t)];case 1:return s.sent(),t.Br.set("Offline"),n||(n=function(){return O5(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){return(0,L.__generator)(this,function(u){switch(u.label){case 0:return tt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,H5(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function U5(t,e){return e().catch(function(n){return H8(t,n,e)})}function A6(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:e=S(t),n=T4(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,m.label=1;case 1:if(!(E6(_=e)&&_.Fr.length<10))return[3,7];m.label=2;case 2:return m.trys.push([2,4,,6]),[4,rv(e.localStore,r)];case 3:return null===(s=m.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=s.batchId,function(_,E){_.Fr.push(E);var I=T4(_);I.er()&&I.pr&&I.Er(E.mutations)}(e,s),[3,6]);case 4:return u=m.sent(),[4,H8(e,u)];case 5:return m.sent(),[3,6];case 6:return[3,1];case 7:return pv(e)&&Kb(e),[2]}var _})})}function pv(t){return E6(t)&&!T4(t).tr()&&t.Fr.length>0}function Kb(t){T4(t).start()}function Yb(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return T4(t).Ar(),[2]})})}function Qb(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(u){for(e=T4(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Jb(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return r=t.Fr.shift(),s=x5.from(r,e,n),[4,U5(t,function(){return t.remoteSyncer.applySuccessfulWrite(s)})];case 1:return u.sent(),[4,A6(t)];case 2:return u.sent(),[2]}})})}function mv(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return e&&T4(t).pr?[4,function(r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return Eg(m=s.code)&&m!==Ce.ABORTED?(u=r.Fr.shift(),T4(r).sr(),[4,U5(r,function(){return r.remoteSyncer.rejectFailedWrite(u.batchId,s)})]):[3,3];case 1:return _.sent(),[4,A6(r)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return pv(t)&&Kb(t),[2]}})})}function B5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n=S(t),e?(n.Or.delete(2),[4,H5(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Hf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function M6(t){var n,r,s,u,e=this;return t.Ur||(t.Ur=(n=t.datastore,r=t.asyncQueue,s={Ii:$b.bind(null,t),Ri:Wb.bind(null,t),_r:A9.bind(null,t)},(u=S(n)).br(),new C9(r,u.Hi,u.credentials,u.R,s)),t.Mr.push(function(n){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),E9(t)?w9(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),dv(t),r.label=3;case 3:return[2]}})})})),t.Ur}function T4(t){var n,r,s,u,e=this;return t.Kr||(t.Kr=(n=t.datastore,r=t.asyncQueue,s={Ii:Yb.bind(null,t),Ri:mv.bind(null,t),Ir:Qb.bind(null,t),Tr:Jb.bind(null,t)},(u=S(n)).br(),new F5(r,u.Hi,u.credentials,u.R,s)),t.Mr.push(function(n){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,A6(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(tt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var Xb=function(){function t(e,n,r,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(m){})}return t.createAndSchedule=function(e,n,r,s,u){var m=new t(e,n,Date.now()+r,s,u);return m.start(r),m},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function T6(t,e){if(Br("AsyncQueue",e+": "+t),Sf(t))return new ze(Ce.UNAVAILABLE,e+": "+t);throw t}var U8=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||Dt.comparator(n.key,r.key)}:function(n,r){return Dt.comparator(n.key,r.key)},this.keyedMap=A5(),this.sortedSet=new es(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var s=n.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),gv=function(){function t(){this.Qr=new es(Dt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?0!==e.type&&3===r.type?this.Qr=this.Qr.insert(n,e):3===e.type&&1!==r.type?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Qr=this.Qr.remove(n):1===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):b():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),B8=function(){function t(e,n,r,s,u,m,_,E){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=_,this.excludesMetadataChanges=E}return t.fromInitialDocuments=function(e,n,r,s){var u=[];return n.forEach(function(m){u.push({type:0,doc:m})}),new t(e,n,U8.emptySet(n),u,r,s,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&A8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0},t}(),j5=function(){this.Wr=void 0,this.listeners=[]},q5=function(){this.queries=new w6(function(t){return cb(t)},A8),this.onlineState="Unknown",this.Gr=new Set};function I6(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:if(n=S(t),s=!1,(u=n.queries.get(r=e.query))||(s=!0,u=new j5),!s)return[3,4];I.label=1;case 1:return I.trys.push([1,3,,4]),m=u,[4,n.onListen(r)];case 2:return m.Wr=I.sent(),[3,4];case 3:return _=I.sent(),E=T6(_,"Initialization of query '"+d6(e.query)+"' failed"),[2,void e.onError(E)];case 4:return n.queries.set(r,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&T9(n),[2]}})})}function M9(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m;return(0,L.__generator)(this,function(_){return n=S(t),s=!1,(u=n.queries.get(r=e.query))&&(m=u.listeners.indexOf(e))>=0&&(u.listeners.splice(m,1),s=0===u.listeners.length),s?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function eC(t,e){for(var n=S(t),r=!1,s=0,u=e;s<u.length;s++){var m=u[s],E=n.queries.get(m.query);if(E){for(var I=0,N=E.listeners;I<N.length;I++)N[I].Hr(m)&&(r=!0);E.Wr=m}}r&&T9(n)}function bA(t,e,n){var r=S(t),s=r.queries.get(e);if(s)for(var u=0,m=s.listeners;u<m.length;u++)m[u].onError(n);r.queries.delete(e)}function T9(t){t.Gr.forEach(function(e){e.next()})}var I9=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,s=e.docChanges;r<s.length;r++){var u=s[r];3!==u.type&&n.push(u)}e=new B8(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var m=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),m=!0):this.eo(e,this.onlineState)&&(this.no(e),m=!0),this.Xr=e,m},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){return!e.fromCache||!(this.options.so&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=B8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),tC=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),vv=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return kc(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?Z7(this.R,e.document,!1):ko.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return _i(e)},t}(),nC=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=yv(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new vv(this.R),s=0,u=e;s<u.length;s++){var m=u[s];if(m.metadata.queries)for(var _=r.qn(m.metadata.name),E=0,I=m.metadata.queries;E<I.length;E++){var N=I[E],R=(n.get(N)||Wn()).add(_);n.set(N,R)}}return n},t.prototype.complete=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return[4,Ob(this.localStore,new vv(this.R),this.documents,this.ro.id)];case 1:e=m.sent(),n=this.co(this.documents),r=0,s=this.queries,m.label=2;case 2:return r<s.length?[4,Rb(this.localStore,u=s[r],n.get(u.name))]:[3,5];case 3:m.sent(),m.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pf(Object.assign({},this.progress),e))]}})})},t}();function yv(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var _v=function(t){this.key=t},bv=function(t){this.key=t},Cv=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Wn(),this.mutatedKeys=Wn(),this.lo=y5(e),this.fo=new U8(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,s=n?n.mo:new gv,u=n?n.fo:this.fo,m=n?n.mutatedKeys:this.mutatedKeys,_=u,E=!1,I=p5(this.query)&&u.size===this.query.limit?u.last():null,N=E8(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(H,G){var J=u.get(H),ue=M8(r.query,G)?G:null,Me=!!J&&r.mutatedKeys.has(J.key),Se=!!ue&&(ue.hasLocalMutations||r.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations),Fe=!1;J&&ue?J.data.isEqual(ue.data)?Me!==Se&&(s.track({type:3,doc:ue}),Fe=!0):r.yo(J,ue)||(s.track({type:2,doc:ue}),Fe=!0,(I&&r.lo(ue,I)>0||N&&r.lo(ue,N)<0)&&(E=!0)):!J&&ue?(s.track({type:0,doc:ue}),Fe=!0):J&&!ue&&(s.track({type:1,doc:J}),Fe=!0,(I||N)&&(E=!0)),Fe&&(ue?(_=_.add(ue),m=Se?m.add(H):m.delete(H)):(_=_.delete(H),m=m.delete(H)))}),p5(this.query)||E8(this.query))for(;_.size>this.query.limit;){var R=p5(this.query)?_.last():_.first();_=_.delete(R.key),m=m.delete(R.key),s.track({type:1,doc:R})}return{fo:_,mo:s,Nn:E,mutatedKeys:m}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var s=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var m=e.mo.jr();m.sort(function(N,R){return G=R.type,(J=function(ue){switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}})(N.type)-J(G)||s.lo(N.doc,R.doc);var G,J}),this.po(r);var _=n?this.Eo():[],E=0===this.ho.size&&this.current?1:0,I=E!==this.ao;return this.ao=E,0!==m.length||I?{snapshot:new B8(this.query,e.fo,u,m,e.mutatedKeys,0===E,I,!1),To:_}:{To:_}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Wn(),this.fo.forEach(function(s){e.Io(s.key)&&(e.ho=e.ho.add(s.key))});var r=[];return n.forEach(function(s){e.ho.has(s)||r.push(new bv(s))}),this.ho.forEach(function(s){n.has(s)||r.push(new _v(s))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Wn();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return B8.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),CA=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rC=function(t){this.key=t,this.bo=!1},j8=function(){function t(e,n,r,s,u,m){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.vo={},this.Po=new w6(function(_){return cb(_)},A8),this.Vo=new Map,this.So=new Set,this.Do=new es(Dt.comparator),this.Co=new Map,this.No=new h9,this.xo={},this.ko=new Map,this.Fo=N5.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function iC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,u,m,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return n=S6(t),(u=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.Ro(),[3,4]):[3,1];case 1:return[4,zf(n.localStore,O2(e))];case 2:return m=E.sent(),_=n.sharedClientState.addLocalQueryTarget(m.targetId),[4,x9(n,e,m.targetId,"current"===_)];case 3:s=E.sent(),n.isPrimaryClient&&Ua(n.remoteStore,m),E.label=4;case 4:return[2,s]}})})}function x9(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,_,E,I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return t.Oo=function(R,H,G){return function(J,ue,Me,Se){return(0,L.__awaiter)(this,void 0,void 0,function(){var Fe,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return(Fe=ue.view._o(Me)).Nn?[4,R5(J.localStore,ue.query,!1).then(function(Ut){return ue.view._o(Ut.documents,Fe)})]:[3,2];case 1:Fe=Je.sent(),Je.label=2;case 2:return $e=Se&&Se.targetChanges.get(ue.targetId),gt=ue.view.applyChanges(Fe,J.isPrimaryClient,$e),[2,(q8(J,ue.targetId,gt.To),gt.snapshot)]}})})}(t,R,H,G)},[4,R5(t.localStore,e,!0)];case 1:return s=N.sent(),u=new Cv(e,s.Bn),m=u._o(s.documents),_=M5.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),E=u.applyChanges(m,t.isPrimaryClient,_),q8(t,n,E.To),I=new CA(e,n,u),[2,(t.Po.set(e,I),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),E.snapshot)]}})})}function oC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return n=S(t),r=n.Po.get(e),(s=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,s.filter(function(m){return!A8(m,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Vf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Uf(n.remoteStore,r.targetId),x6(n,r.targetId)}).catch(A4)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return x6(n,r.targetId),[4,Vf(n.localStore,r.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function G5(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:r=Mv(t),_.label=1;case 1:return _.trys.push([1,5,,6]),[4,(E=r.localStore,I=e,R=S(E),H=bt.now(),G=I.reduce(function(J,ue){return J.add(ue.key)},Wn()),R.persistence.runTransaction("Locally write mutations","readwrite",function(J){return R.Mn.pn(J,G).next(function(ue){N=ue;for(var Me=[],Se=0,Fe=I;Se<Fe.length;Se++){var $e=Fe[Se],gt=Cg($e,N.get($e.key));null!=gt&&Me.push(new Zu($e.key,gt,tb(gt.value.mapValue),Lo.exists(!0)))}return R._n.addMutationBatch(J,H,Me,I)})}).then(function(J){return J.applyToLocalDocumentSet(N),{batchId:J.batchId,changes:N}}))];case 2:return s=_.sent(),r.sharedClientState.addPendingMutation(s.batchId),function(E,I,N){var R=E.xo[E.currentUser.toKey()];R||(R=new es(Y)),R=R.insert(I,N),E.xo[E.currentUser.toKey()]=R}(r,s.batchId,n),[4,Ku(r,s.changes)];case 3:return _.sent(),[4,A6(r.remoteStore)];case 4:return _.sent(),[3,6];case 5:return u=_.sent(),m=T6(u,"Failed to persist write"),n.reject(m),[3,6];case 6:return[2]}var E,I,N,R,H,G})})}function I4(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:n=S(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Lb(n.localStore,e)];case 2:return r=s.sent(),e.targetChanges.forEach(function(u,m){var _=n.Co.get(m);_&&(M(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.bo=!0:u.modifiedDocuments.size>0?M(_.bo):u.removedDocuments.size>0&&(M(_.bo),_.bo=!1))}),[4,Ku(n,r,e)];case 3:return s.sent(),[3,6];case 4:return[4,A4(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function S9(t,e,n){var r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var s=[];r.Po.forEach(function(u,m){var _=m.view.zr(e);_.snapshot&&s.push(_.snapshot)}),function(u,m){var _=S(u);_.onlineState=m;var E=!1;_.queries.forEach(function(I,N){for(var R=0,H=N.listeners;R<H.length;R++)H[R].zr(m)&&(E=!0)}),E&&T9(_)}(r.eventManager,e),s.length&&r.vo._r(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return(r=S(t)).sharedClientState.updateQueryState(e,"rejected",n),s=r.Co.get(e),(u=s&&s.key)?(m=(m=new es(Dt.comparator)).insert(u,ko.newNoDocument(u,dt.min())),_=Wn().add(u),E=new xg(dt.min(),new Map,new Hi(Y),m,_),[4,I4(r,E)]):[3,2];case 1:return I.sent(),r.Do=r.Do.remove(u),r.Co.delete(e),$5(r),[3,4];case 2:return[4,Vf(r.localStore,e,!1).then(function(){return x6(r,e,n)}).catch(A4)];case 3:I.sent(),I.label=4;case 4:return[2]}})})}function wA(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:n=S(t),r=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,kb(n.localStore,e)];case 2:return s=u.sent(),N9(n,r,null),D9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ku(n,s)];case 3:return u.sent(),[3,6];case 4:return[4,A4(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function aC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:r=S(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,(m=r.localStore,_=e,E=S(m),E.persistence.runTransaction("Reject batch","readwrite-primary",function(I){var N;return E._n.lookupMutationBatch(I,_).next(function(R){return M(null!==R),N=R.keys(),E._n.removeMutationBatch(I,R)}).next(function(){return E._n.performConsistencyCheck(I)}).next(function(){return E.Mn.pn(I,N)})}))];case 2:return s=u.sent(),N9(r,e,n),D9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ku(r,s)];case 3:return u.sent(),[3,6];case 4:return[4,A4(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}var m,_,E})})}function Z5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:E6((n=S(t)).remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,(E=n.localStore,I=S(E),I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(N){return I._n.getHighestUnacknowledgedBatchId(N)}))];case 2:return-1===(r=_.sent())?[2,void e.resolve()]:((s=n.ko.get(r)||[]).push(e),n.ko.set(r,s),[3,4]);case 3:return u=_.sent(),m=T6(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(m),[3,4];case 4:return[2]}var E,I})})}function D9(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function N9(t,e,n){var r=S(t),s=r.xo[r.currentUser.toKey()];if(s){var u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),r.xo[r.currentUser.toKey()]=s}}function x6(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,s=t.Vo.get(e);r<s.length;r++){var u=s[r];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(m){t.No.containsKey(m)||k9(t,m)})}function k9(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Uf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),$5(t))}function q8(t,e,n){for(var r=0,s=n;r<s.length;r++){var u=s[r];u instanceof _v?(t.No.addReference(u.key,e),wv(t,u)):u instanceof bv?(tt("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||k9(t,u.key)):b()}}function wv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(tt("SyncEngine","New document in limbo: "+n),t.So.add(r),$5(t))}function $5(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Dt(gn.fromString(e)),r=t.Fo.next();t.Co.set(r,new rC(n)),t.Do=t.Do.insert(n,r),Ua(t.remoteStore,new S5(O2(_f(n.path)),r,2,oo.o))}}function Ku(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r=S(t),s=[],u=[],m=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(E,I){m.push(r.Oo(I,e,n).then(function(N){if(N){r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,N.fromCache?"not-current":"current"),s.push(N);var R=Xg.Pn(I.targetId,N);u.push(R)}}))}),[4,Promise.all(m)]);case 1:return _.sent(),r.vo._r(s),[4,function(E,I){return(0,L.__awaiter)(this,void 0,void 0,function(){var N,R,H,G,J,ue,Me,Fe;return(0,L.__generator)(this,function($e){switch($e.label){case 0:N=S(E),$e.label=1;case 1:return $e.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gt){return et.forEach(I,function(Je){return et.forEach(Je.bn,function(Ut){return N.persistence.referenceDelegate.addReference(gt,Je.targetId,Ut)}).next(function(){return et.forEach(Je.vn,function(Ut){return N.persistence.referenceDelegate.removeReference(gt,Je.targetId,Ut)})})})})];case 2:return $e.sent(),[3,4];case 3:if(!Sf(R=$e.sent()))throw R;return tt("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(H=0,G=I;H<G.length;H++)ue=(J=G[H]).targetId,J.fromCache||(Me=N.kn.get(ue),Fe=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion),N.kn=N.kn.insert(ue,Fe));return[2]}})})}(r.localStore,u)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function cC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return(n=S(t)).currentUser.isEqual(e)?[3,3]:(tt("SyncEngine","User change. New user:",e.toKey()),[4,l9(n.localStore,e)]);case 1:return r=s.sent(),n.currentUser=e,(u=n).ko.forEach(function(_){_.forEach(function(E){E.reject(new ze(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ku(n,r.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var u})})}function Ev(t,e){var n=S(t),r=n.Co.get(e);if(r&&r.bo)return Wn().add(r.key);var s=Wn(),u=n.Vo.get(e);if(!u)return s;for(var m=0,_=u;m<_.length;m++){var I=n.Po.get(_[m]);s=s.unionWith(I.view.wo)}return s}function uC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,R5((n=S(t)).localStore,e.query,!0)];case 1:return r=u.sent(),s=e.view.Ao(r),[2,(n.isPrimaryClient&&q8(n,e.targetId,s.To),s)]}})})}function Av(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){return[2,iv((e=S(t)).localStore).then(function(r){return Ku(e,r)})]})})}function W5(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return[4,(_=(s=S(t)).localStore,E=e,I=S(_),N=S(I._n),I.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return N.jt(R,E).next(function(H){return H?I.Mn.pn(R,H):et.resolve(null)})}))];case 1:return null===(u=m.sent())?[3,6]:"pending"!==n?[3,3]:[4,A6(s.remoteStore)];case 2:return m.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(N9(s,e,r||null),D9(s,e),function(_,E){S(S(_)._n).Gt(E)}(s.localStore,e)):b(),m.label=4;case 4:return[4,Ku(s,u)];case 5:return m.sent(),[3,7];case 6:tt("SyncEngine","Cannot apply mutation batch with id: "+e),m.label=7;case 7:return[2]}var _,E,I,N})})}function K5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m,E,I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return S6(n=S(t)),Mv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,lC(n,r.toArray())]);case 1:return s=N.sent(),n.$o=!0,[4,B5(n.remoteStore,!0)];case 2:for(N.sent(),u=0,m=s;u<m.length;u++)Ua(n.remoteStore,m[u]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(E=[],I=Promise.resolve(),n.Vo.forEach(function(R,H){n.sharedClientState.isLocalQueryTarget(H)?E.push(H):I=I.then(function(){return x6(n,H),Vf(n.localStore,H,!0)}),Uf(n.remoteStore,H)}),[4,I]);case 4:return N.sent(),[4,lC(n,E)];case 5:return N.sent(),(H=S(n)).Co.forEach(function(G,J){Uf(H.remoteStore,J)}),H.No.ts(),H.Co=new Map,H.Do=new es(Dt.comparator),n.$o=!1,[4,B5(n.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var H})})}function lC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m,_,E,I,N,R,H,J,ue,Me;return(0,L.__generator)(this,function(Se){switch(Se.label){case 0:r=S(t),s=[],u=[],m=0,_=e,Se.label=1;case 1:return m<_.length?(I=void 0,(N=r.Vo.get(E=_[m]))&&0!==N.length?[4,zf(r.localStore,O2(N[0]))]:[3,7]):[3,13];case 2:I=Se.sent(),R=0,H=N,Se.label=3;case 3:return R<H.length?(J=r.Po.get(H[R]),[4,uC(r,J)]):[3,6];case 4:(ue=Se.sent()).snapshot&&u.push(ue.snapshot),Se.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,P5(r.localStore,E)];case 8:return Me=Se.sent(),[4,zf(r.localStore,Me)];case 9:return I=Se.sent(),[4,x9(r,Bf(Me),E,!1)];case 10:Se.sent(),Se.label=11;case 11:s.push(I),Se.label=12;case 12:return m++,[3,1];case 13:return[2,(r.vo._r(u),s)]}})})}function Bf(t){return yg(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Kn(t){var e=S(t);return S(S(e.localStore).persistence).fn()}function x4(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return(s=S(t)).$o?(tt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,iv(s.localStore)];case 3:return u=_.sent(),m=xg.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ku(s,u,m)];case 4:return _.sent(),[3,8];case 5:return[4,Vf(s.localStore,e,!0)];case 6:return _.sent(),x6(s,e,r),[3,8];case 7:b(),_.label=8;case 8:return[2]}})})}function jf(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m,_,E,I,N,R;return(0,L.__generator)(this,function(G){switch(G.label){case 0:if(!(r=S6(t)).$o)return[3,10];s=0,u=e,G.label=1;case 1:return s<u.length?r.Vo.has(m=u[s])?(tt("SyncEngine","Adding an already active target "+m),[3,5]):[4,P5(r.localStore,m)]:[3,6];case 2:return _=G.sent(),[4,zf(r.localStore,_)];case 3:return E=G.sent(),[4,x9(r,Bf(_),E.targetId,!1)];case 4:G.sent(),Ua(r.remoteStore,E),G.label=5;case 5:return s++,[3,1];case 6:I=function(J){return(0,L.__generator)(this,function(ue){switch(ue.label){case 0:return r.Vo.has(J)?[4,Vf(r.localStore,J,!1).then(function(){Uf(r.remoteStore,J),x6(r,J)}).catch(A4)]:[3,2];case 1:ue.sent(),ue.label=2;case 2:return[2]}})},N=0,R=n,G.label=7;case 7:return N<R.length?[5,I(R[N])]:[3,10];case 8:G.sent(),G.label=9;case 9:return N++,[3,7];case 10:return[2]}})})}function S6(t){var e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ev.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sC.bind(null,e),e.vo._r=eC.bind(null,e.eventManager),e.vo.Mo=bA.bind(null,e.eventManager),e}function Mv(t){var e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,e),e}function Qt(t,e,n){var r=S(t);(function(s,u,m){return(0,L.__awaiter)(this,void 0,void 0,function(){var _,E,I,N,R,H;return(0,L.__generator)(this,function(G){switch(G.label){case 0:return G.trys.push([0,14,,15]),[4,u.getMetadata()];case 1:return _=G.sent(),[4,(J=s.localStore,ue=_,Me=S(J),Se=_i(ue.createTime),Me.persistence.runTransaction("hasNewerBundle","readonly",function(Fe){return Me.Ke.getBundleMetadata(Fe,ue.id)}).then(function(Fe){return!!Fe&&Fe.createTime.compareTo(Se)>=0}))];case 2:return G.sent()?[4,u.close()]:[3,4];case 3:return[2,(G.sent(),void m._completeWith(function(J){return{taskState:"Success",documentsLoaded:J.totalDocuments,bytesLoaded:J.totalBytes,totalDocuments:J.totalDocuments,totalBytes:J.totalBytes}}(_)))];case 4:return m._updateProgress(yv(_)),E=new nC(_,s.localStore,u.R),[4,u.Lo()];case 5:I=G.sent(),G.label=6;case 6:return I?[4,E.oo(I)]:[3,10];case 7:return(N=G.sent())&&m._updateProgress(N),[4,u.Lo()];case 8:I=G.sent(),G.label=9;case 9:return[3,6];case 10:return[4,E.complete()];case 11:return R=G.sent(),[4,Ku(s,R.wn,void 0)];case 12:return G.sent(),[4,function(J,ue){var Me=S(J);return Me.persistence.runTransaction("Save bundle","readwrite",function(Se){return Me.Ke.saveBundleMetadata(Se,ue)})}(s.localStore,_)];case 13:return G.sent(),m._completeWith(R.progress),[3,15];case 14:return a("SyncEngine","Loading bundle failed with "+(H=G.sent())),m._failWith(H),[3,15];case 15:return[2]}var J,ue,Me,Se})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Ba=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return this.R=V8(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return nv(this.persistence,new ev,e.initialUser,this.R)},t.prototype.qo=function(e){return new av(Ub.bs,this.R)},t.prototype.Bo=function(e){return new V5},t.prototype.terminate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),Y5=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=r,u.forceOwnership=s,u.synchronizeTabs=!1,u}return(0,L.__extends)(e,t),e.prototype.initialize=function(n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),[4,ov(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,n)];case 3:return s.sent(),[4,Mv(this.Qo.syncEngine)];case 4:return s.sent(),[4,A6(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},e.prototype.Ko=function(n){return nv(this.persistence,new ev,n.initialUser,this.R)},e.prototype.Uo=function(n){return new vA(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)},e.prototype.qo=function(n){var r=u9(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?F2.withCacheSize(this.cacheSizeBytes):F2.DEFAULT;return new Nb(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,_9(),b9(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new V5},e}(Ba),D6=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r,!1)||this).Qo=n,s.cacheSizeBytes=r,s.synchronizeTabs=!0,s}return(0,L.__extends)(e,t),e.prototype.initialize=function(n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s=this;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof v9?(this.sharedClientState.syncEngine={ui:W5.bind(null,r),ai:x4.bind(null,r),hi:jf.bind(null,r),fn:Kn.bind(null,r),ci:Av.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(m){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,K5(this.Qo.syncEngine,m)];case 1:return _.sent(),this.gcScheduler&&(m&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):m||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var r=_9();if(!v9.yt(r))throw new ze(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=u9(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new v9(r,n.asyncQueue,s,n.clientId,n.initialUser)},e}(Y5),Tv=function(){function t(){}return t.prototype.initialize=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return S9(r.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),[4,B5(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new q5},t.prototype.createDatastore=function(e){var r=V8(e.databaseInfo.databaseId),s=new fv(e.databaseInfo);return new Gb(e.credentials,s,r)},t.prototype.createRemoteStore=function(e){var n,r,s,u,m,_=this;return n=this.localStore,r=this.datastore,s=e.asyncQueue,u=function(E){return S9(_.syncEngine,E,0)},m=y9.yt()?new y9:new Bb,new Zb(n,r,s,u,m)},t.prototype.createSyncEngine=function(e,n){return I=n,N=new j8(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),I&&(N.$o=!0),N;var I,N},t.prototype.terminate=function(){return function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n=S(e),tt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Hf(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function L9(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var G8=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),EA=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Gr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?r.metadata.resolve(s.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return r.metadata.reject(s)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,this.Jo()];case 1:return null===(e=u.sent())?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return s=u.sent(),[2,new tC(JSON.parse(s),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),fC=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ze(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,m){return(0,L.__awaiter)(this,void 0,void 0,function(){var _,E,I,N,R,H;return(0,L.__generator)(this,function(G){switch(G.label){case 0:return _=S(u),E=y4(_.R)+"/documents",I={documents:m.map(function(J){return Mf(_.R,J)})},[4,_.$i("BatchGetDocuments",E,I)];case 1:return N=G.sent(),R=new Map,N.forEach(function(J){var Me,Se,ue=(Me=_.R,"found"in(Se=J)?function(Fe,$e){M(!!$e.found);var gt=kc(Fe,$e.found.name),Je=_i($e.found.updateTime),Ut=new Fa({mapValue:{fields:$e.found.fields}});return ko.newFoundDocument(gt,Je,Ut)}(Me,Se):"missing"in Se?function(Fe,$e){M(!!$e.missing),M(!!$e.readTime);var gt=kc(Fe,$e.missing),Je=_i($e.readTime);return ko.newNoDocument(gt,Je)}(Me,Se):b());R.set(ue.key.toString(),ue)}),H=[],[2,(m.forEach(function(J){var ue=R.get(J.toString());M(!!ue),H.push(ue)}),H)]}})})}(this.datastore,e)];case 1:return[2,((n=s.sent()).forEach(function(u){return r.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(s){e.delete(s.key.toString())}),e.forEach(function(s,u){var m=Dt.fromPath(u);n.mutations.push(new wg(m,n.precondition(m)))}),[4,function(s,u){return(0,L.__awaiter)(this,void 0,void 0,function(){var m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return m=S(s),_=y4(m.R)+"/documents",E={writes:u.map(function(N){return Tf(m.R,N)})},[4,m.Ni("Commit",_,E)];case 1:return I.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw b();n=dt.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ze(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Lo.updateTime(n):Lo.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(dt.min()))throw new ze(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lo.updateTime(n)}return Lo.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),hC=function(){function t(e,n,r,s){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=s,this.ec=5,this.Zi=new M4(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){var n,r,s=this;return(0,L.__generator)(this,function(u){return n=new fC(this.datastore),(r=this.sc(n))&&r.then(function(m){s.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){s.deferred.resolve(m)}).catch(function(_){s.ic(_)})})}).catch(function(m){s.ic(m)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!m4(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var n=e.code;return"aborted"===n||"failed-precondition"===n||!Eg(n)}return!1},t}(),U1=function(){function t(e,n,r){var s=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=co.UNAUTHENTICATED,this.clientId=U.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(m){switch(m.label){case 0:return tt("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return m.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=u.sent(),s=T6(r,"Failed to shutdown persistence"),n.reject(s),[3,6];case 6:return[2]}})})}),n.promise},t}();function Ar(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s=this;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),r=n.initialUser,t.setCredentialChangeListener(function(m){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r.isEqual(m)?[3,2]:[4,l9(e.localStore,m)];case 1:_.sent(),r=m,_.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function B1(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Q5(t)];case 1:return n=s.sent(),tt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=s.sent(),[4,e.initialize(n,r)];case 3:return s.sent(),t.setCredentialChangeListener(function(u){return function(m,_){return(0,L.__awaiter)(this,void 0,void 0,function(){var E,I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return(E=S(m)).asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials"),I=E6(E),E.Or.add(3),[4,Hf(E)];case 1:return N.sent(),I&&E.Br.set("Unknown"),[4,E.remoteSyncer.handleCredentialChange(_)];case 2:return N.sent(),E.Or.delete(3),[4,H5(E)];case 3:return N.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Q5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tt("FirestoreClient","Using default OfflineComponentProvider"),[4,Ar(t,new Ba)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function J5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tt("FirestoreClient","Using default OnlineComponentProvider"),[4,B1(t,new Tv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function O9(t){return Q5(t).then(function(e){return e.persistence})}function Z8(t){return Q5(t).then(function(e){return e.localStore})}function N6(t){return J5(t).then(function(e){return e.remoteStore})}function k6(t){return J5(t).then(function(e){return e.syncEngine})}function qf(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,J5(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=iC.bind(null,e.syncEngine),n.onUnlisten=oC.bind(null,e.syncEngine),n)]}})})}function S4(t,e,n){var r=this;void 0===n&&(n={});var s=new Gr;return t.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return u=function(_,E,I,N,R){var H=new G8({next:function(J){E.enqueueAndForget(function(){return M9(_,G)});var ue=J.docs.has(I);!ue&&J.fromCache?R.reject(new ze(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&J.fromCache&&N&&"server"===N.source?R.reject(new ze(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(J)},error:function(J){return R.reject(J)}}),G=new I9(_f(I.path),H,{includeMetadataChanges:!0,so:!0});return I6(_,G)},[4,qf(t)];case 1:return[2,u.apply(void 0,[m.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}function Iv(t,e,n){var r=this;void 0===n&&(n={});var s=new Gr;return t.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return u=function(_,E,I,N,R){var H=new G8({next:function(J){E.enqueueAndForget(function(){return M9(_,G)}),J.fromCache&&"server"===N.source?R.reject(new ze(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(J)},error:function(J){return R.reject(J)}}),G=new I9(I,H,{includeMetadataChanges:!0,so:!0});return I6(_,G)},[4,qf(t)];case 1:return[2,u.apply(void 0,[m.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}var xv=function(t,e,n,r,s,u,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.useFetchStreams=_},Gf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Zf=new Map,X5=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},R9=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(co.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$f=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),dC=function(){function t(e){var n=this;this.currentUser=co.UNAUTHENTICATED,this.oc=new Gr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(s){tt("FirebaseCredentialsProvider","Auth detected"),n.auth=s,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(s){return r(s)}),setTimeout(function(){if(!n.auth){var s=e.getImmediate({optional:!0});s?r(s):(tt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(s){return e.cc!==n?(tt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):s?(M("string"==typeof s.accessToken),new X5(s.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,n(this.currentUser)];case 2:return s.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e),new co(e)},t}(),ep=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=co.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Sv=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new ep(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(co.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function tp(t,e,n){if(!n)throw new ze(Ce.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function np(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ze(Ce.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $8(t,e,n,r){if(!0===e&&!0===r)throw new ze(Ce.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dv(t){if(!Dt.isDocumentKey(t))throw new ze(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function rp(t){if(Dt.isDocumentKey(t))throw new ze(Ce.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wf(t);throw new ze(Ce.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function pC(t,e){if(e<=0)throw new ze(Ce.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gt=function(){function t(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),ip=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gt({}),this._settingsFrozen=!1,e instanceof Gf?(this._databaseId=e,this._credentials=new R9):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ze(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(r.options.projectId)}(e),this._credentials=new dC(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ze(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ze(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gt(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new R9;switch(n.type){case"gapi":var r=n.client;return M(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Sv(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ze(Ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(n=Zf.get(this))&&(tt("ComponentProvider","Removing Datastore"),Zf.delete(this),n.terminate()),Promise.resolve();var n},t}(),ur=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new D4(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ca=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),D4=function(t){function e(n,r,s){var u=this;return(u=t.call(this,n,r,_f(s))||this)._path=s,u.type="collection",u}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ur(this.firestore,null,new Dt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(ca);function Nv(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,ut.getModularInstance)(t),tp("collection","path",e),t instanceof ip)return rp(n=gn.fromString.apply(gn,(0,L.__spreadArray)([e],r))),new D4(t,null,n);if(!(t instanceof ur||t instanceof D4))throw new ze(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rp(n=gn.fromString.apply(gn,(0,L.__spreadArray)([t.path],r)).child(gn.fromString(e))),new D4(t.firestore,null,n)}function P9(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,ut.getModularInstance)(t),1===arguments.length&&(e=U.u()),tp("doc","path",e),t instanceof ip)return Dv(n=gn.fromString.apply(gn,(0,L.__spreadArray)([e],r))),new ur(t,null,new Dt(n));if(!(t instanceof ur||t instanceof D4))throw new ze(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dv(n=t._path.child(gn.fromString.apply(gn,(0,L.__spreadArray)([e],r)))),new ur(t.firestore,t instanceof D4?t.converter:null,new Dt(n))}function mC(t,e){return t=(0,ut.getModularInstance)(t),e=(0,ut.getModularInstance)(e),(t instanceof ur||t instanceof D4)&&(e instanceof ur||e instanceof D4)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function kv(t,e){return t=(0,ut.getModularInstance)(t),e=(0,ut.getModularInstance)(e),t instanceof ca&&e instanceof ca&&t.firestore===e.firestore&&A8(t._query,e._query)&&t.converter===e.converter}var ns=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new M4(this,"async_queue_retry"),this.Ic=function(){var r=b9();r&&tt("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=b9();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=b9();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Gr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(0===this.wc.length)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Sf(e=r.sent()))throw e;return tt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(s){throw n.yc=s,n.gc=!1,Br("INTERNAL UNHANDLED ERROR: ",(m=(u=s).message||"",u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m)),s;var u,m}).then(function(s){return n.gc=!1,s})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var s=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=Xb.createAndSchedule(this,e,n,r,function(m){return s.vc(m)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&b()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(m,_){return m.targetTimeMs-_.targetTimeMs});for(var r=0,s=n.mc;r<s.length;r++){var u=s[r];if(u.skipDelay(),"all"!==e&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Kf(t){return function(e,n){if("object"!=typeof e||null===e)return!1;for(var r=e,s=0,u=["next","error","complete"];s<u.length;s++){var m=u[s];if(m in r&&"function"==typeof r[m])return!0}return!1}(t)}var gC=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),ci=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this).type="firestore",s._queue=new ns,s._persistenceKey="name"in n?n.name:"[DEFAULT]",s}return(0,L.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Lv(this),this._firestoreClient.terminate()},e}(ip);function uo(t){return t._firestoreClient||Lv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lv(t){var e,u,_,n=t._freezeSettings(),r=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xv(t._databaseId,u,t._persistenceKey,(_=n).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));t._firestoreClient=new U1(t._credentials,t._queue,r)}function Ov(t,e,n){var r=this,s=new Gr;return t.asyncQueue.enqueue(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return m.trys.push([0,3,,4]),[4,Ar(t,n)];case 1:return m.sent(),[4,B1(t,e)];case 2:return m.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(_=u=m.sent()).name?_.code===Ce.FAILED_PRECONDITION||_.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u),[3,4];case 4:return[2]}var _})})}).then(function(){return s.promise})}function Rv(t){if(t._initialized||t._terminated)throw new ze(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Oc=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(0===e[r].length)throw new ze(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new O1(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Yu=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Xo.fromBase64String(e))}catch(n){throw new ze(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Xo.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),L6=function(t){this._methodName=t},op=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)},t}(),Pv=/^__.*__$/,V9=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cf(e,this.data,n,this.fieldTransforms)},t}(),zv=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Zu(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function vC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var Vv=function(){function t(e,n,r,s,u,m){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=s,void 0===u&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.xc({path:r,Fc:!1});return s.$c(e),s},t.prototype.Oc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.xc({path:r,Fc:!1});return s.Cc(),s},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return ap(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(n){return e.isPrefixOf(n)})||void 0!==this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(vC(this.Nc)&&Pv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),yC=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||V8(e)}return t.prototype.Uc=function(e,n,r,s){return void 0===s&&(s=!1),new Vv({Nc:e,methodName:n,qc:r,path:O1.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function O6(t){var e=t._freezeSettings(),n=V8(t._databaseId);return new yC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sp(t,e,n,r,s,u){void 0===u&&(u={});var m=t.Uc(u.merge||u.mergeFields?2:0,e,n,s);U9("Data must be an object, but it was:",m,r);var _,E,I=Bv(r,m);if(u.merge)_=new c6(m.fieldMask),E=m.fieldTransforms;else if(u.mergeFields){for(var N=[],R=0,H=u.mergeFields;R<H.length;R++){var G=B9(e,H[R],n);if(!m.contains(G))throw new ze(Ce.INVALID_ARGUMENT,"Field '"+G+"' is specified in your field mask but missing from your input data.");CC(N,G)||N.push(G)}_=new c6(N),E=m.fieldTransforms.filter(function(J){return _.covers(J.field)})}else _=null,E=m.fieldTransforms;return new V9(new Fa(I),_,E)}var F9=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){if(2!==n.Nc)throw n.Lc(1===n.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(L6);function Fv(t,e,n){return new Vv({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var W8=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){return new I8(n.path,new p6)},e.prototype.isEqual=function(n){return n instanceof e},e}(L6),_C=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Kc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=Fv(this,n,!0),s=this.Kc.map(function(m){return P6(m,r)}),u=new m6(s);return new I8(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(L6),bC=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Kc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=Fv(this,n,!0),s=this.Kc.map(function(m){return P6(m,r)}),u=new Gu(s);return new I8(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(L6),Hv=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Qc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=new v4(n.R,b5(n.R,this.Qc));return new I8(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(L6);function R6(t,e,n,r){var s=t.Uc(1,e,n);U9("Data must be an object, but it was:",s,r);var u=[],m=Fa.empty();Vn(r,function(E,I){var N=j9(e,E,n);I=(0,ut.getModularInstance)(I);var R=s.Oc(N);if(I instanceof F9)u.push(N);else{var H=P6(I,R);null!=H&&(u.push(N),m.set(N,H))}});var _=new c6(u);return new zv(m,_,s.fieldTransforms)}function Uv(t,e,n,r,s,u){var m=t.Uc(1,e,n),_=[B9(e,r,n)],E=[s];if(u.length%2!=0)throw new ze(Ce.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var I=0;I<u.length;I+=2)_.push(B9(e,u[I])),E.push(u[I+1]);for(var N=[],R=Fa.empty(),H=_.length-1;H>=0;--H)if(!CC(N,_[H])){var G=_[H],J=E[H];J=(0,ut.getModularInstance)(J);var ue=m.Oc(G);if(J instanceof F9)N.push(G);else{var Me=P6(J,ue);null!=Me&&(N.push(G),R.set(G,Me))}}var Se=new c6(N);return new zv(R,Se,m.fieldTransforms)}function H9(t,e,n,r){return void 0===r&&(r=!1),P6(n,t.Uc(r?4:3,e))}function P6(t,e){if(jv(t=(0,ut.getModularInstance)(t)))return U9("Unsupported field value:",e,t),Bv(t,e);if(t instanceof L6)return function(n,r){if(!vC(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var s=[],u=0,m=0,_=n;m<_.length;m++){var E=P6(_[m],r.Mc(u));null==E&&(E={nullValue:"NULL_VALUE"}),s.push(E),u++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(null===(n=(0,ut.getModularInstance)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return b5(r.R,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){var s=bt.fromDate(n);return{timestampValue:D8(r.R,s)}}if(n instanceof bt)return s=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:D8(r.R,s)};if(n instanceof op)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yu)return{bytesValue:Lg(r.R,n._byteString)};if(n instanceof ur){var u=n.firestore._databaseId;if(!u.isEqual(s=r.databaseId))throw r.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:g6(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Wf(n))}(t,e)}function Bv(t,e){var n={};return No(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vn(t,function(r,s){var u=P6(s,e.kc(r));null!=u&&(n[r]=u)}),{mapValue:{fields:n}}}function jv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof op||t instanceof Yu||t instanceof ur||t instanceof L6)}function U9(t,e,n){if(!jv(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var r=Wf(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}var s}function B9(t,e,n){if((e=(0,ut.getModularInstance)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return j9(t,e);throw ap("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var qv=new RegExp("[~\\*/\\[\\]]");function j9(t,e,n){if(e.search(qv)>=0)throw ap("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Oc.bind.apply(Oc,(0,L.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw ap("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ap(t,e,n,r,s){var u=r&&!r.isEmpty(),m=void 0!==s,_="Function "+e+"() called with invalid data";n&&(_+=" (via `toFirestore()`)");var E="";return(u||m)&&(E+=" (found",u&&(E+=" in field "+r),m&&(E+=" in document "+s),E+=")"),new ze(Ce.INVALID_ARGUMENT,(_+=". ")+t+E)}function CC(t,e){return t.some(function(n){return n.isEqual(e)})}var cp=function(){function t(e,n,r,s,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ur(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Yf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}},t}(),AA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(cp);function Yf(t,e){return"string"==typeof e?j9(t,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}var z6=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Qu=function(t){function e(n,r,s,u,m,_){var E=this;return(E=t.call(this,n,r,s,u,_)||this)._firestore=n,E._firestoreImpl=n,E.metadata=m,E}return(0,L.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(void 0===n&&(n={}),this._document){if(this._converter){var r=new K8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(void 0===r&&(r={}),this._document){var s=this._document.data.field(Yf("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}},e}(cp),K8=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(n){return void 0===n&&(n={}),t.prototype.data.call(this,n)},e}(Qu),N4=function(){function t(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new z6(s.hasPendingWrites,s.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(s){e.call(n,new K8(r._firestore,r._userDataWriter,s.key,s,new z6(r._snapshot.mutatedKeys.has(s.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){var u=0;return r._snapshot.docChanges.map(function(_){return{type:"added",doc:new K8(r._firestore,r._userDataWriter,_.doc.key,_.doc,new z6(r._snapshot.mutatedKeys.has(_.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}})}var m=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(_){return s||3!==_.type}).map(function(_){var E=new K8(r._firestore,r._userDataWriter,_.doc.key,_.doc,new z6(r._snapshot.mutatedKeys.has(_.doc.key),r._snapshot.fromCache),r.query.converter),I=-1,N=-1;return 0!==_.type&&(I=m.indexOf(_.doc.key),m=m.delete(_.doc.key)),1!==_.type&&(N=(m=m.add(_.doc)).indexOf(_.doc.key)),{type:wC(_.type),doc:E,oldIndex:I,newIndex:N}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function wC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function Gv(t,e){return t instanceof Qu&&e instanceof Qu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof N4&&e instanceof N4&&t._firestore===e._firestore&&kv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function q9(t){if(E8(t)&&0===t.explicitOrderBy.length)throw new ze(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var V6=function(){};function k4(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,s=e;r<s.length;r++){var u=s[r];t=u._apply(t)}return t}var Qf=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=r,u.Gc=s,u.type="where",u}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var u,_,r=O6(n.firestore),s=function(u,m,_,E,I,N,R){var H;if(I.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new ze(Ce.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+N+"' queries on FieldPath.documentId().");if("in"===N||"not-in"===N){$9(R,N);for(var G=[],J=0,ue=R;J<ue.length;J++)G.push(Z9(E,u,ue[J]));H={arrayValue:{values:G}}}else H=Z9(E,u,R)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||$9(R,N),H=H9(_,"where",R,"in"===N||"not-in"===N);var Se=R1.create(I,N,H);return function(Fe,$e){if($e.g()){var gt=m5(Fe);if(null!==gt&&!gt.isEqual($e.field))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+gt.toString()+"' and '"+$e.field.toString()+"'");var Je=L7(Fe);null!==Je&&W9(0,$e.field,Je)}var Ut=function(fr,is){for(var Zr=0,_x=fr.filters;Zr<_x.length;Zr++){var bx=_x[Zr];if(is.indexOf(bx.op)>=0)return bx.op}return null}(Fe,function(fr){switch(fr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($e.op));if(null!==Ut)throw new ze(Ce.INVALID_ARGUMENT,Ut===$e.op?"Invalid query. You cannot use more than one '"+$e.op.toString()+"' filter.":"Invalid query. You cannot use '"+$e.op.toString()+"' filters with '"+Ut.toString()+"' filters.")}(u,Se),Se}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ca(n.firestore,n.converter,(_=(u=n._query).filters.concat([s]),new qu(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)))},e}(V6),rs=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).jc=n,s.zc=r,s.type="orderBy",s}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,m,r=function(s,u,m){if(null!==s.startAt)throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var _=new ju(u,m);return function(E,I){if(null===L7(E)){var N=m5(E);null!==N&&W9(0,N,I.field)}}(s,_),_}(n._query,this.jc,this.zc);return new ca(n.firestore,n.converter,(m=(s=n._query).explicitOrderBy.concat([r]),new qu(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},e}(V6),G9=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).type=n,u.Hc=r,u.Jc=s,u}return(0,L.__extends)(e,t),e.prototype._apply=function(n){return new ca(n.firestore,n.converter,v5(n._query,this.Hc,this.Jc))},e}(V6),j1=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).type=n,u.Yc=r,u.Xc=s,u}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,u,r=Zv(n,this.type,this.Yc,this.Xc);return new ca(n.firestore,n.converter,(u=r,new qu((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)))},e}(V6),up=function(t){function e(n,r,s){var u=this;return(u=t.call(this)||this).type=n,u.Yc=r,u.Xc=s,u}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,u,r=Zv(n,this.type,this.Yc,this.Xc);return new ca(n.firestore,n.converter,(u=r,new qu((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)))},e}(V6);function Zv(t,e,n,r){if(n[0]=(0,ut.getModularInstance)(n[0]),n[0]instanceof cp)return function(u,m,_,E,I){if(!E)throw new ze(Ce.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+_+"().");for(var N=[],R=0,H=g4(u);R<H.length;R++){var G=H[R];if(G.field.isKeyField())N.push(l5(m,E.key));else{var J=E.data.field(G.field);if(a5(J))throw new ze(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+G.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===J){var ue=G.field.canonicalString();throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ue+"' (used as the orderBy) does not exist.")}N.push(J)}}return new C8(N,I)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var s=O6(t.firestore);return function(u,m,_,E,I,N){var R=u.explicitOrderBy;if(I.length>R.length)throw new ze(Ce.INVALID_ARGUMENT,"Too many arguments provided to "+E+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var H=[],G=0;G<I.length;G++){var J=I[G];if(R[G].field.isKeyField()){if("string"!=typeof J)throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+E+"(), but got a "+typeof J);if(!g5(u)&&-1!==J.indexOf("/"))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+E+"() must be a plain document ID, but '"+J+"' contains a slash.");var ue=u.path.child(gn.fromString(J));if(!Dt.isDocumentKey(ue))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+E+"() must result in a valid document path, but '"+ue+"' is not because it contains an odd number of segments.");var Me=new Dt(ue);H.push(l5(m,Me))}else{var Se=H9(_,E,J);H.push(Se)}}return new C8(H,N)}(t._query,t.firestore._databaseId,s,e,n,r)}function Z9(t,e,n){if("string"==typeof(n=(0,ut.getModularInstance)(n))){if(""===n)throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!g5(e)&&-1!==n.indexOf("/"))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gn.fromString(n));if(!Dt.isDocumentKey(r))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return l5(t,new Dt(r))}if(n instanceof ur)return l5(t,n._key);throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wf(n)+".")}function $9(t,e){if(!Array.isArray(t)||0===t.length)throw new ze(Ce.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ze(Ce.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function W9(t,e,n){if(!n.isEqual(e))throw new ze(Ce.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var K9=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(void 0===n&&(n="none"),l6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(u6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw b()}},t.prototype.convertObject=function(e,n){var r=this,s={};return Vn(e.fields,function(u,m){s[u]=r.convertValue(m,n)}),s},t.prototype.convertGeoPoint=function(e){return new op(si(e.latitude),si(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(s){return r.convertValue(s,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=M7(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_8(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Uu(e);return new bt(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=gn.fromString(e);M(Vg(r));var s=new Gf(r.get(1),r.get(3)),u=new Dt(r.popFirst(5));return s.isEqual(n)||Br("Document "+u+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();function lp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var EC=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Yu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ur(this.firestore,null,r)},e}(K9),$v=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=O6(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var s=L4(e,this._firestore),u=lp(s.converter,n,r),m=sp(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(m.toMutation(s._key,Lo.none())),this},t.prototype.update=function(e,n,r){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this._verifyNotCommitted();var m,_=L4(e,this._firestore);return m="string"==typeof(n=(0,ut.getModularInstance)(n))||n instanceof Oc?Uv(this._dataReader,"WriteBatch.update",_._key,n,r,s):R6(this._dataReader,"WriteBatch.update",_._key,n),this._mutations.push(m.toMutation(_._key,Lo.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=L4(e,this._firestore);return this._mutations=this._mutations.concat(new wf(n._key,Lo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ze(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function L4(t,e){if((t=(0,ut.getModularInstance)(t)).firestore!==e)throw new ze(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Jf=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Yu(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ur(this.firestore,null,r)},e}(K9);function Wv(t,e,n){t=Fn(t,ur);var r=Fn(t.firestore,ci),s=lp(t.converter,e,n);return fp(r,[sp(O6(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,Lo.none())])}function Kv(t,e,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];t=Fn(t,ur);var u=Fn(t.firestore,ci),m=O6(u);return fp(u,[("string"==typeof(e=(0,ut.getModularInstance)(e))||e instanceof Oc?Uv(m,"updateDoc",t._key,e,n,r):R6(m,"updateDoc",t._key,e)).toMutation(t._key,Lo.exists(!0))])}function F6(t){for(var e,n,r,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];t=(0,ut.getModularInstance)(t);var m={includeMetadataChanges:!1},_=0;"object"!=typeof s[_]||Kf(s[_])||(m=s[_],_++);var E,I,N,R={includeMetadataChanges:m.includeMetadataChanges};if(Kf(s[_])){var H=s[_];s[_]=null===(e=H.next)||void 0===e?void 0:e.bind(H),s[_+1]=null===(n=H.error)||void 0===n?void 0:n.bind(H),s[_+2]=null===(r=H.complete)||void 0===r?void 0:r.bind(H)}if(t instanceof ur)I=Fn(t.firestore,ci),N=_f(t._key.path),E={next:function(ue){s[_]&&s[_](hp(I,t,ue))},error:s[_+1],complete:s[_+2]};else{var G=Fn(t,ca);I=Fn(G.firestore,ci),N=G._query;var J=new Jf(I);E={next:function(ue){s[_]&&s[_](new N4(I,J,G,ue))},error:s[_+1],complete:s[_+2]},q9(t._query)}return function(ue,Me,Se,Fe){var $e=this,gt=new G8(Fe),Je=new I9(Me,gt,Se);return ue.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)($e,void 0,void 0,function(){var Ut;return(0,L.__generator)(this,function(fr){switch(fr.label){case 0:return Ut=I6,[4,qf(ue)];case 1:return[2,Ut.apply(void 0,[fr.sent(),Je])]}})})}),function(){gt.Wo(),ue.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)($e,void 0,void 0,function(){var Ut;return(0,L.__generator)(this,function(fr){switch(fr.label){case 0:return Ut=M9,[4,qf(ue)];case 1:return[2,Ut.apply(void 0,[fr.sent(),Je])]}})})})}}(uo(I),N,R,E)}function fp(t,e){return function(n,r){var s=this,u=new Gr;return n.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(s,void 0,void 0,function(){var m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return m=G5,[4,k6(n)];case 1:return[2,m.apply(void 0,[_.sent(),r,u])]}})})}),u.promise}(uo(t),e)}function hp(t,e,n){var r=n.docs.get(e._key),s=new Jf(t);return new Qu(t,s,e._key,r,new z6(n.hasPendingWrites,n.fromCache),e.converter)}var AC=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this)._firestore=n,s}return(0,L.__extends)(e,t),e.prototype.get=function(n){var r=this,s=L4(n,this._firestore),u=new Jf(this._firestore);return t.prototype.get.call(this,n).then(function(m){return new Qu(r._firestore,u,s._key,m._document,new z6(!1,!1),s.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=O6(e)}return t.prototype.get=function(e){var n=this,r=L4(e,this._firestore),s=new EC(this._firestore);return this._transaction.lookup([r._key]).then(function(u){if(!u||1!==u.length)return b();var m=u[0];if(m.isFoundDocument())return new cp(n._firestore,s,m.key,m,r.converter);if(m.isNoDocument())return new cp(n._firestore,s,r._key,null,r.converter);throw b()})},t.prototype.set=function(e,n,r){var s=L4(e,this._firestore),u=lp(s.converter,n,r),m=sp(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,m),this},t.prototype.update=function(e,n,r){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var m,_=L4(e,this._firestore);return m="string"==typeof(n=(0,ut.getModularInstance)(n))||n instanceof Oc?Uv(this._dataReader,"Transaction.update",_._key,n,r,s):R6(this._dataReader,"Transaction.update",_._key,n),this._transaction.update(_._key,m),this},t.prototype.delete=function(e){var n=L4(e,this._firestore);return this._transaction.delete(n._key),this},t}());function MC(){if("undefined"==typeof Uint8Array)throw new ze(Ce.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Y9(){if("undefined"==typeof atob)throw new ze(Ce.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yv=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Y9(),new t(Yu.fromBase64String(e))},t.fromUint8Array=function(e){return MC(),new t(Yu.fromUint8Array(e))},t.prototype.toBase64=function(){return Y9(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return MC(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Q9=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,s){Rv(r=Fn(r,ci));var u=uo(r),m=r._freezeSettings(),_=new Tv;return Ov(u,_,new Y5(_,m.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){Rv(n=Fn(n,ci));var r=uo(n),s=n._freezeSettings(),u=new Tv;return Ov(r,u,new D6(u,s.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new ze(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,function(_){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(I){switch(I.label){case 0:return V2.yt()?[4,V2.delete(_+"main")]:[2,Promise.resolve()];case 1:return I.sent(),[2]}})})}(u9(n._databaseId,n._persistenceKey))];case 1:return m.sent(),s.resolve(),[3,3];case 2:return u=m.sent(),s.reject(u),[3,3];case 3:return[2]}})})}),s.promise}(e._delegate)},t}(),dp=function(){function t(e,n,r){var s=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return s.terminate()}},e instanceof Gf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){void 0===r&&(r={}),function(s,u,m,_){var E;void 0===_&&(_={});var I=(s=Fn(s,ip))._getSettings();if("firestore.googleapis.com"!==I.host&&I.host!==u&&a("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},I),{host:u+":"+m,ssl:!1})),_.mockUserToken){var N,R;if("string"==typeof _.mockUserToken)N=_.mockUserToken,R=co.MOCK_USER;else{N=(0,ut.createMockUserToken)(_.mockUserToken,null===(E=s._app)||void 0===E?void 0:E.options.projectId);var H=_.mockUserToken.sub||_.mockUserToken.user_id;if(!H)throw new ze(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new co(H)}s._credentials=new $f(new X5(N,R))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,O9(e)];case 1:return r=u.sent(),[4,N6(e)];case 2:return s=u.sent(),[2,(r.setNetworkEnabled(!0),m=s,_=S(m),_.Or.delete(0),H5(_))]}var m,_})})})}(uo(Fn(this._delegate,ci)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,O9(e)];case 1:return r=u.sent(),[4,N6(e)];case 2:return s=u.sent(),[2,(r.setNetworkEnabled(!1),function(m){return(0,L.__awaiter)(this,void 0,void 0,function(){var _;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return(_=S(m)).Or.add(0),[4,Hf(_)];case 1:return E.sent(),_.Br.set("Offline"),[2]}})})}(s))]}})})})}(uo(Fn(this._delegate,ci)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&$8("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Gr;return e.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return s=Z5,[4,k6(e)];case 1:return[2,s.apply(void 0,[u.sent(),r])]}})})}),r.promise}(uo(Fn(this._delegate,ci)))},t.prototype.onSnapshotsInSync=function(e){return r=e,function(s,u){var m=this,_=new G8(u);return s.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(m,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return E=function(N,R){S(N).Gr.add(R),R.next()},[4,qf(s)];case 1:return[2,E.apply(void 0,[I.sent(),_])]}})})}),function(){_.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(m,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return E=function(N,R){S(N).Gr.delete(R)},[4,qf(s)];case 1:return[2,E.apply(void 0,[I.sent(),_])]}})})})}}(uo(Fn(this._delegate,ci)),Kf(r)?r:{next:r});var r},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ze(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Q8(this,Nv(this._delegate,e))}catch(n){throw xs(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new H6(this,P9(this._delegate,e))}catch(n){throw xs(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new eh(this,function(n,r){if(n=Fn(n,ip),tp("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ze(Ce.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ca(n,null,(s=r,new qu(gn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw xs(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var r,n=this;return function(u,m){var _=this,E=new Gr;return u.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(_,void 0,void 0,function(){var I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return[4,(R=u,J5(R).then(function(H){return H.datastore}))];case 1:return I=N.sent(),new hC(u.asyncQueue,I,m,E).run(),[2]}var R})})}),E.promise}(uo(r=this._delegate),function(u){return function(r){return e(new J9(n,r))}(new AC(r,u))})},t.prototype.batch=function(){var e=this;return uo(this._delegate),new Qv(new $v(this._delegate,function(n){return fp(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new ze(Ce.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new ze(Ce.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Y8=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Yv(new Yu(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return H6.eu(r,this.firestore,null)},e}(K9),J9=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Y8(e)}return t.prototype.get=function(e){var n=this,r=O4(e);return this._delegate.get(r).then(function(s){return new Ju(n._firestore,new Qu(n._firestore._delegate,n._userDataWriter,s._key,s._document,s.metadata,r.converter))})},t.prototype.set=function(e,n,r){var s=O4(e);return r?(np("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this},t.prototype.update=function(e,n,r){for(var s,u=[],m=3;m<arguments.length;m++)u[m-3]=arguments[m];var _=O4(e);return 2===arguments.length?this._delegate.update(_,n):(s=this._delegate).update.apply(s,(0,L.__spreadArray)([_,n,r],u)),this},t.prototype.delete=function(e){var n=O4(e);return this._delegate.delete(n),this},t}(),Qv=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var s=O4(e);return r?(np("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this},t.prototype.update=function(e,n,r){for(var s,u=[],m=3;m<arguments.length;m++)u[m-3]=arguments[m];var _=O4(e);return 2===arguments.length?this._delegate.update(_,n):(s=this._delegate).update.apply(s,(0,L.__spreadArray)([_,n,r],u)),this},t.prototype.delete=function(e){var n=O4(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),pp=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new K8(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xf(this._firestore,r),null!=n?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,s=r.get(e);s||(s=new WeakMap,r.set(e,s));var u=s.get(n);return u||(u=new t(e,new Y8(e),n),s.set(n,u)),u},t}();pp.su=new WeakMap;var H6=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y8(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ze(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ur(n._delegate,r,new Dt(e)))},t.eu=function(e,n,r){return new t(n,new ur(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Q8(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Q8(this.firestore,Nv(this._delegate,e))}catch(n){throw xs(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,ut.getModularInstance)(e))instanceof ur&&mC(this._delegate,e)},t.prototype.set=function(e,n){n=np("DocumentReference.set",n);try{return n?Wv(this._delegate,e,n):Wv(this._delegate,e)}catch(r){throw xs(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];try{return 1===arguments.length?Kv(this._delegate,e):Kv.apply(void 0,(0,L.__spreadArray)([this._delegate,e,n],r))}catch(u){throw xs(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return fp(Fn((e=this._delegate).firestore,ci),[new wf(e._key,Lo.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=Jv(n),u=Xv(n,function(m){return new Ju(e.firestore,new Qu(e.firestore._delegate,e._userDataWriter,m._key,m._document,m.metadata,e._delegate.converter))});return F6(this._delegate,s,u)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(r){r=Fn(r,ur);var s=Fn(r.firestore,ci),u=uo(s),m=new Jf(s);return function(_,E){var I=this,N=new Gr;return _.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(I,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=function(G,J,ue){return(0,L.__awaiter)(this,void 0,void 0,function(){var Me,Se;return(0,L.__generator)(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,2,,3]),[4,($e=G,gt=J,Je=S($e),Je.persistence.runTransaction("read document","readonly",function(Ut){return Je.Mn.mn(Ut,gt)}))];case 1:return(Se=Fe.sent()).isFoundDocument()?ue.resolve(Se):Se.isNoDocument()?ue.resolve(null):ue.reject(new ze(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Me=Fe.sent(),Se=T6(Me,"Failed to get document '"+J+" from cache"),ue.reject(Se),[3,3];case 3:return[2]}var $e,gt,Je})})},[4,Z8(_)];case 1:return[2,R.apply(void 0,[H.sent(),E,N])]}})})}),N.promise}(u,r._key).then(function(_){return new Qu(s,m,r._key,_,new z6(null!==_&&_.hasLocalMutations,!0),r.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=Fn(r,ur);var s=Fn(r.firestore,ci);return S4(uo(s),r._key,{source:"server"}).then(function(u){return hp(s,r,u)})}(this._delegate):function(r){r=Fn(r,ur);var s=Fn(r.firestore,ci);return S4(uo(s),r._key).then(function(u){return hp(s,r,u)})}(this._delegate)).then(function(r){return new Ju(n.firestore,new Qu(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?pp.nu(this.firestore,e):null))},t}();function xs(t,e,n){return t.message=t.message.replace(e,n),t}function Jv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Kf(r))return r}return{}}function Xv(t,e){var n,r,s;return{next:function(u){s.next&&s.next(e(u))},error:null===(n=(s=Kf(t[0])?t[0]:Kf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}var Ju=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new H6(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return Gv(this._delegate,e._delegate)},t}(),Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Ju),eh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Y8(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,k4(this._delegate,(m=r,_=n,E=Yf("where",s=e),new Qf(E,_,m))))}catch(s){throw xs(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,m,_,E},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,k4(this._delegate,function(r,s){void 0===s&&(s="asc");var u=s,m=Yf("orderBy",r);return new rs(m,u)}(e,n)))}catch(r){throw xs(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,k4(this._delegate,(pC("limit",n=e),new G9("limit",n,"F"))))}catch(n){throw xs(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,k4(this._delegate,(pC("limitToLast",n=e),new G9("limitToLast",n,"L"))))}catch(n){throw xs(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new j1("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw xs(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new j1("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw xs(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new up("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw xs(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,k4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new up("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw xs(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return kv(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(r){r=Fn(r,ca);var s=Fn(r.firestore,ci),u=uo(s),m=new Jf(s);return function(_,E){var I=this,N=new Gr;return _.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(I,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=function(G,J,ue){return(0,L.__awaiter)(this,void 0,void 0,function(){var Me,Se,Fe,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return Je.trys.push([0,2,,3]),[4,R5(G,J,!0)];case 1:return gt=Je.sent(),Me=new Cv(J,gt.Bn),Se=Me._o(gt.documents),Fe=Me.applyChanges(Se,!1),ue.resolve(Fe.snapshot),[3,3];case 2:return $e=Je.sent(),gt=T6($e,"Failed to execute query '"+J+" against cache"),ue.reject(gt),[3,3];case 3:return[2]}})})},[4,Z8(_)];case 1:return[2,R.apply(void 0,[H.sent(),E,N])]}})})}),N.promise}(u,r._query).then(function(_){return new N4(s,m,r,_)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=Fn(r,ca);var s=Fn(r.firestore,ci),u=uo(s),m=new Jf(s);return Iv(u,r._query,{source:"server"}).then(function(_){return new N4(s,m,r,_)})}(this._delegate):function(r){r=Fn(r,ca);var s=Fn(r.firestore,ci),u=uo(s),m=new Jf(s);return q9(r._query),Iv(u,r._query).then(function(_){return new N4(s,m,r,_)})}(this._delegate)).then(function(r){return new mp(n.firestore,new N4(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=Jv(n),u=Xv(n,function(m){return new mp(e.firestore,new N4(e.firestore._delegate,e._userDataWriter,e._delegate,m._snapshot))});return F6(this._delegate,s,u)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?pp.nu(this.firestore,e):null))},t}(),ey=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Xf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),mp=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new eh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Xf(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new ey(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(s){e.call(n,new Xf(r._firestore,s))})},t.prototype.isEqual=function(e){return Gv(this._delegate,e._delegate)},t}(),Q8=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this).firestore=n,s._delegate=r,s}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new H6(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new H6(this.firestore,void 0===n?P9(this._delegate):P9(this._delegate,n))}catch(r){throw xs(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var s,u,m,_,E,r=this;return(s=this._delegate,u=n,m=Fn(s.firestore,ci),_=P9(s),E=lp(s.converter,u),fp(m,[sp(O6(s.firestore),"addDoc",_._key,E,null!==s.converter,{}).toMutation(_._key,Lo.exists(!1))]).then(function(){return _})).then(function(s){return new H6(r.firestore,s)})},e.prototype.isEqual=function(n){return mC(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,this._delegate.withConverter(n?pp.nu(this.firestore,n):null))},e}(eh);function O4(t){return Fn(t,ur)}var IC=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Oc.bind.apply(Oc,(0,L.__spreadArray)([void 0],e)))}return t.documentId=function(){return new t(O1.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,ut.getModularInstance)(e))instanceof Oc&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),xC=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new W8("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new F9("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new _C("arrayUnion",s)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new bC("arrayRemove",s)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Hv("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function ty(t){return function(e,n){var r=uo(e=Fn(e,ci)),s=new gC;return function(u,m,_,E){var R,H,G,I=this,N=(R=_,H=V8(m),G=function(G,J){if(G instanceof Uint8Array)return L9(G,J);if(G instanceof ArrayBuffer)return L9(new Uint8Array(G),J);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof R?(new TextEncoder).encode(R):R),new EA(G,H));u.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(I,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=Qt,[4,k6(u)];case 1:return R.apply(void 0,[H.sent(),N,E]),[2]}})})})}(r,e._databaseId,n,s),s}(this._delegate,t)}function SC(t){var e,n,r=this;return(e=this._delegate,n=t,function(s,u){var m=this;return s.asyncQueue.enqueue(function(){return(0,L.__awaiter)(m,void 0,void 0,function(){var _;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return _=function(I,N){var R=S(I);return R.persistence.runTransaction("Get named query","readonly",function(H){return R.Ke.getNamedQuery(H,N)})},[4,Z8(s)];case 1:return[2,_.apply(void 0,[E.sent(),u])]}})})})}(uo(e=Fn(e,ci)),n).then(function(s){return s?new ca(e,null,s.query):null})).then(function(s){return s?new eh(r,s):null})}var DC={Firestore:dp,GeoPoint:op,Timestamp:bt,Blob:Yv,Transaction:J9,WriteBatch:Qv,DocumentReference:H6,DocumentSnapshot:Ju,Query:eh,QueryDocumentSnapshot:Xf,QuerySnapshot:mp,CollectionReference:Q8,FieldPath:IC,FieldValue:xC,setLogLevel:function(t){Ts.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function th(t,e){return function(t,e=n2.z){return new rr.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function X8(t,e){return th(t,e).pipe((0,xt.U)(n=>({payload:n,type:"query"})))}function ja(t,e){return X8(t,e).pipe(O(void 0),j(),(0,xt.U)(([n,r])=>{const s=r.payload.docChanges(),u=s.map(m=>({type:m.type,payload:m}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((m,_)=>{const E=s.find(N=>N.doc.ref.isEqual(m.ref)),I=null==n?void 0:n.payload.docs.find(N=>N.ref.isEqual(m.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(m.metadata)||!E&&I&&JSON.stringify(I.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:m}})}),u}))}function ny(t,e,n){return ja(t,n).pipe(ht((r,s)=>function(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return X9(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return X9(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return X9(t,e.oldIndex,1)}return t}(t,r))}),t}(r,s.map(u=>u.payload),e),[]),c0(),(0,xt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function X9(t,e,n,...r){const s=t.slice();return s.splice(e,n,...r),s}function OC(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){(function(e,n){e.INTERNAL.registerComponent(new xa.Component("firestore",function(r){return function(e,n){return new dp(e,new ci(e,n),new Q9)}(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},DC)))})(t),t.registerVersion("@firebase/firestore","2.4.1")}(qn.default);class vp{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=ja(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,xt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),n.pipe(O(void 0),j(),zr(([r,s])=>s.length>0||!r),(0,xt.U)(([r,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ht((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=OC(e);return ny(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return X8(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,jn.D)(this.query.get(e)).pipe((0,Ks.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new yp(this.ref.doc(e),this.afs)}}class yp{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:s,query:u}=sy(r,n);return new vp(s,u,this.afs)}snapshotChanges(){return function(t,e){return th(t,e).pipe(O(void 0),j(),(0,xt.U)(([n,r])=>r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,jn.D)(this.ref.get(e)).pipe((0,Ks.QV)(this.afs.schedulers.insideAngular))}}class ry{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?ja(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),zr(n=>n.length>0),this.afs.keepUnstableUntilFirst):ja(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ht((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=OC(e);return ny(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return X8(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,jn.D)(this.query.get(e)).pipe((0,Ks.QV)(this.afs.schedulers.insideAngular))}}const ed=new l.OlP("angularfire2.enableFirestorePersistence"),td=new l.OlP("angularfire2.firestore.persistenceSettings"),iy=new l.OlP("angularfire2.firestore.settings"),oy=new l.OlP("angularfire2.firestore.use-emulator");function sy(t,e=(n=>n)){return{query:e(t),ref:t}}let q1=(()=>{class t{constructor(n,r,s,u,m,_,E,I,N){this.schedulers=new Xt.HU(_),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const R=(0,Xt.on)(n,_,r);!Qs.Z.auth&&N&&(0,Xt.yq)();const H=I;[this.firestore,this.persistenceEnabled$]=(0,Xt.sI)(`${R.name}.firestore`,"AngularFirestore",R,()=>{const G=_.runOutsideAngular(()=>R.firestore());if(u&&G.settings(u),H&&G.useEmulator(...H),s&&!sl(m)){const J=()=>{try{return(0,jn.D)(G.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ue){return"undefined"!=typeof console&&console.warn(ue),(0,It.of)(!1)}};return[G,_.runOutsideAngular(J)]}return[G,(0,It.of)(!1)]},[u,H,s])}collection(n,r){let s;s="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:m}=sy(s,r),_=this.schedulers.ngZone.run(()=>u);return new vp(_,m,this)}collectionGroup(n,r){const s=r||(m=>m),u=this.firestore.collectionGroup(n);return new ry(s(u),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const s=this.schedulers.ngZone.run(()=>r);return new yp(s,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(ed,8),l.LFG(iy,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(td,8),l.LFG(oy,8),l.LFG(ic,8))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Xt.Dh),l.LFG(Xt.xv,8),l.LFG(ed,8),l.LFG(iy,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(td,8),l.LFG(oy,8),l.LFG(ic,8))},token:t,providedIn:"any"}),t})(),ay=(()=>{class t{static enablePersistence(n){return{ngModule:t,providers:[{provide:ed,useValue:!0},{provide:td,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[q1]}),t})();const _p_firebaseConfig={apiKey:"AIzaSyDyawPquR9k41-4DIY1YX2cnCZhtvlPfbo",authDomain:"go2parts-senior-3490d.firebaseapp.com",projectId:"go2parts-senior-3490d",storageBucket:"go2parts-senior-3490d.appspot.com",messagingSenderId:"225368192480",appId:"1:225368192480:web:ee2fa075afd79ef20aa785"};function em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?em(Object(n),!0).forEach(function(r){PC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nd(t){return(nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ly(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var m,_,r=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(m=n.next()).done)&&(r.push(m.value),!e||r.length!==e);s=!0);}catch(E){u=!0,_=E}finally{try{!s&&null!=n.return&&n.return()}finally{if(u)throw _}}return r}}(t,e)||ih(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t){return function(t){if(Array.isArray(t))return nm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ih(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ih(t,e){if(t){if("string"==typeof t)return nm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nm(t,e)}}function nm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var im=function(){},om={},fy={},Cp=null,sm={mark:im,measure:im};try{"undefined"!=typeof window&&(om=window),"undefined"!=typeof document&&(fy=document),"undefined"!=typeof MutationObserver&&(Cp=MutationObserver),"undefined"!=typeof performance&&(sm=performance)}catch(t){}var rd=(om.navigator||{}).userAgent,wp=void 0===rd?"":rd,U6=om,yr=fy,dy=Cp,id=sm,Rc=!!yr.documentElement&&!!yr.head&&"function"==typeof yr.addEventListener&&"function"==typeof yr.createElement,py=~wp.indexOf("MSIE")||~wp.indexOf("Trident/"),H2="___FONT_AWESOME___",gy="svg-inline--fa",R4="data-fa-i2svg",Ep="data-fa-pseudo-element",cm="data-prefix",Ap="data-icon",um="fontawesome-i2svg",UC=["HTML","HEAD","STYLE","SCRIPT"],lm=function(){try{return!0}catch(t){return!1}}(),fm={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},sd={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},hm={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},yy={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},_y=/fa[srltdbk\-\ ]/,by="fa-layers-text",BC=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,jC={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},dm=[1,2,3,4,5,6,7,8,9,10],TA=dm.concat([11,12,13,14,15,16,17,18,19,20]),IA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],xA=[].concat(lo(Object.keys(sd)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(dm.map(function(t){return"".concat(t,"x")})).concat(TA.map(function(t){return"w-".concat(t)})),qC=U6.FontAwesomeConfig||{};yr&&"function"==typeof yr.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=ly(t,2),r=e[1],s=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=yr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=s&&(qC[r]=s)});var Mp=yt(yt({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:gy,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),qC);Mp.autoReplaceSvg||(Mp.observeMutations=!1);var Rt={};Object.keys(Mp).forEach(function(t){Object.defineProperty(Rt,t,{enumerable:!0,set:function(n){Mp[t]=n,pm.forEach(function(r){return r(Rt)})},get:function(){return Mp[t]}})}),U6.FontAwesomeConfig=Rt;var pm=[],Xu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ad(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function sh(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function mm(t){return t.classList?sh(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function GC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gm(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function vm(t){return t.size!==Xu.size||t.x!==Xu.x||t.y!==Xu.y||t.rotate!==Xu.rotate||t.flipX||t.flipY}function WC(){var t="fa",e=gy,n=Rt.familyPrefix,r=Rt.replacementClass,s=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==t||r!==e){var u=new RegExp("\\.".concat(t,"\\-"),"g"),m=new RegExp("\\--".concat(t,"\\-"),"g"),_=new RegExp("\\.".concat(e),"g");s=s.replace(u,".".concat(n,"-")).replace(m,"--".concat(n,"-")).replace(_,".".concat(r))}return s}var KC=!1;function Cy(){Rt.autoAddCss&&!KC&&(function(t){if(t&&Rc){var e=yr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=yr.head.childNodes,r=null,s=n.length-1;s>-1;s--){var u=n[s],m=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(r=u)}yr.head.insertBefore(e,r)}}(WC()),KC=!0)}var YC={mixout:function(){return{dom:{css:WC,insertCss:Cy}}},hooks:function(){return{beforeDOMElementCreation:function(){Cy()},beforeI2svg:function(){Cy()}}}},P4=U6||{};P4[H2]||(P4[H2]={}),P4[H2].styles||(P4[H2].styles={}),P4[H2].hooks||(P4[H2].hooks={}),P4[H2].shims||(P4[H2].shims=[]);var U2=P4[H2],Tp=[],cd=!1;function QC(t){!Rc||(cd?setTimeout(t,0):Tp.push(t))}function ud(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,s=t.children,u=void 0===s?[]:s;return"string"==typeof t?GC(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(GC(t[n]),'" ')},"").trim()}(r),">").concat(u.map(ud).join(""),"</").concat(e,">")}function Ip(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Rc&&((cd=(yr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(yr.readyState))||yr.addEventListener("DOMContentLoaded",function t(){yr.removeEventListener("DOMContentLoaded",t),cd=1,Tp.map(function(e){return e()})}));var xp=function(e,n,r,s){var E,I,N,u=Object.keys(e),m=u.length,_=void 0!==s?function(e,n){return function(r,s,u,m){return e.call(n,r,s,u,m)}}(n,s):n;for(void 0===r?(E=1,N=e[u[0]]):(E=0,N=r);E<m;E++)N=_(N,e[I=u[E]],I,e);return N};function Ay(t){var e=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var u=t.charCodeAt(n++);56320==(64512&u)?e.push(((1023&s)<<10)+(1023&u)+65536):(e.push(s),n--)}else e.push(s)}return e}(t);return 1===e.length?e[0].toString(16):null}function ld(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Sp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,s=void 0!==r&&r,u=ld(e);"function"!=typeof U2.hooks.addPack||s?U2.styles[t]=yt(yt({},U2.styles[t]||{}),u):U2.hooks.addPack(t,ld(e)),"fas"===t&&Sp("fa",e)}var Dp=U2.styles,VA=U2.shims,JC=Object.values(hm),Ty=null,fd={},Iy={},XC={},ew={},Np={},tw=Object.keys(fm);function HA(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r!==t||""===s||function(t){return~xA.indexOf(t)}(s)?null:s}var xy=function(){var e=function(u){return xp(Dp,function(m,_,E){return m[E]=xp(_,u,{}),m},{})};fd=e(function(s,u,m){return u[3]&&(s[u[3]]=m),u[2]&&u[2].filter(function(E){return"number"==typeof E}).forEach(function(E){s[E.toString(16)]=m}),s}),Iy=e(function(s,u,m){return s[m]=m,u[2]&&u[2].filter(function(E){return"string"==typeof E}).forEach(function(E){s[E]=m}),s}),Np=e(function(s,u,m){var _=u[2];return s[m]=m,_.forEach(function(E){s[E]=m}),s});var n="far"in Dp||Rt.autoFetchSvg,r=xp(VA,function(s,u){var m=u[0],_=u[1],E=u[2];return"far"===_&&!n&&(_="fas"),"string"==typeof m&&(s.names[m]={prefix:_,iconName:E}),"number"==typeof m&&(s.unicodes[m.toString(16)]={prefix:_,iconName:E}),s},{names:{},unicodes:{}});XC=r.names,ew=r.unicodes,Ty=kp(Rt.styleDefault)};function Sy(t,e){return(fd[t]||{})[e]}function ch(t,e){return(Np[t]||{})[e]}function nw(t){return XC[t]||{prefix:null,iconName:null}}function z4(){return Ty}function kp(t){return sd[t]||sd[fm[t]]||(t in U2.styles?t:null)||null}function Lp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.skipLookups,r=void 0!==n&&n,s=null,u=t.reduce(function(m,_){var E=HA(Rt.familyPrefix,_);if(Dp[_]?(_=JC.includes(_)?yy[_]:_,s=_,m.prefix=_):tw.indexOf(_)>-1?(s=_,m.prefix=kp(_)):E?m.iconName=E:_!==Rt.replacementClass&&m.rest.push(_),!r&&m.prefix&&m.iconName){var I="fa"===s?nw(m.iconName):{},N=ch(m.prefix,m.iconName);I.prefix&&(s=null),m.iconName=I.iconName||N||m.iconName,m.prefix=I.prefix||m.prefix,"far"===m.prefix&&!Dp.far&&Dp.fas&&!Rt.autoFetchSvg&&(m.prefix="fas")}return m},{prefix:null,iconName:null,rest:[]});return("fa"===u.prefix||"fa"===s)&&(u.prefix=z4()||"fas"),u}pm.push(function(t){Ty=kp(t.styleDefault)}),xy();var rw=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function(t,e,n){e&&tm(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];var m=s.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(_){n.definitions[_]=yt(yt({},n.definitions[_]||{}),m[_]),Sp(_,m[_]);var E=hm[_];E&&Sp(E,m[_]),xy()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(u){var m=s[u],_=m.prefix,E=m.iconName,I=m.icon,N=I[2];n[_]||(n[_]={}),N.length>0&&N.forEach(function(R){"string"==typeof R&&(n[_][R]=I)}),n[_][E]=I}),n}}]),t}(),Op=[],uh={},fo={},iw=Object.keys(fo);function _m(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var u=uh[t]||[];return u.forEach(function(m){e=m.apply(null,[e].concat(r))}),e}function q6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=uh[t]||[];s.forEach(function(u){u.apply(null,n)})}function B2(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return fo[t]?fo[t].apply(null,e):void 0}function Rp(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||z4();if(e)return e=ch(n,e)||e,Ip(bm.definitions,n,e)||Ip(U2.styles,n,e)}var bm=new rw,Ny={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rc?(q6("beforeI2svg",e),B2("pseudoElements2svg",e),B2("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Rt.autoReplaceSvg&&(Rt.autoReplaceSvg=!0),Rt.observeMutations=!0,QC(function(){sw({autoReplaceSvgRoot:n}),q6("watch",e)})}},qa={noAuto:function(){Rt.autoReplaceSvg=!1,Rt.observeMutations=!1,q6("noAuto")},config:Rt,dom:Ny,parse:{icon:function(e){if(null===e)return null;if("object"===nd(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ch(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=kp(e[0]);return{prefix:r,iconName:ch(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Rt.familyPrefix,"-"))>-1||e.match(_y))){var s=Lp(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||z4(),iconName:ch(s.prefix,s.iconName)||s.iconName}}if("string"==typeof e){var u=z4();return{prefix:u,iconName:ch(u,e)||e}}}},library:bm,findIconDefinition:Rp,toHtml:ud},sw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot,r=void 0===n?yr:n;(Object.keys(U2.styles).length>0||Rt.autoFetchSvg)&&Rc&&Rt.autoReplaceSvg&&qa.dom.i2svg({node:r})};function lh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ud(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Rc){var r=yr.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function hd(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,u=t.iconName,m=t.transform,_=t.symbol,E=t.title,I=t.maskId,N=t.titleId,R=t.extra,H=t.watchable,G=void 0!==H&&H,J=r.found?r:n,ue=J.width,Me=J.height,Se="fak"===s,Fe=[Rt.replacementClass,u?"".concat(Rt.familyPrefix,"-").concat(u):""].filter(function(Zr){return-1===R.classes.indexOf(Zr)}).filter(function(Zr){return""!==Zr||!!Zr}).concat(R.classes).join(" "),$e={children:[],attributes:yt(yt({},R.attributes),{},{"data-prefix":s,"data-icon":u,class:Fe,role:R.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ue," ").concat(Me)})},gt=Se&&!~R.classes.indexOf("fa-fw")?{width:"".concat(ue/Me*16*.0625,"em")}:{};G&&($e.attributes[R4]=""),E&&($e.children.push({tag:"title",attributes:{id:$e.attributes["aria-labelledby"]||"title-".concat(N||ad())},children:[E]}),delete $e.attributes.title);var Je=yt(yt({},$e),{},{prefix:s,iconName:u,main:n,mask:r,maskId:I,transform:m,symbol:_,styles:yt(yt({},gt),R.styles)}),Ut=r.found&&n.found?B2("generateAbstractMask",Je)||{children:[],attributes:{}}:B2("generateAbstractIcon",Je)||{children:[],attributes:{}},is=Ut.attributes;return Je.children=Ut.children,Je.attributes=is,_?function(t){var n=t.iconName,r=t.children,s=t.attributes,u=t.symbol,m=!0===u?"".concat(t.prefix,"-").concat(Rt.familyPrefix,"-").concat(n):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yt(yt({},s),{},{id:m}),children:r}]}]}(Je):function(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,u=t.styles,m=t.transform;if(vm(m)&&n.found&&!r.found){var I={x:n.width/n.height/2,y:.5};s.style=gm(yt(yt({},u),{},{"transform-origin":"".concat(I.x+m.x/16,"em ").concat(I.y+m.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}(Je)}function Ry(t){var e=t.content,n=t.width,r=t.height,s=t.transform,u=t.title,m=t.extra,_=t.watchable,E=void 0!==_&&_,I=yt(yt(yt({},m.attributes),u?{title:u}:{}),{},{class:m.classes.join(" ")});E&&(I[R4]="");var N=yt({},m.styles);vm(s)&&(N.transform=function(t){var e=t.transform,n=t.width,s=t.height,u=void 0===s?16:s,m=t.startCentered,_=void 0!==m&&m,E="";return E+=_&&py?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-u/2,"em) "):_?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(E+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:s,startCentered:!0,width:n,height:r}),N["-webkit-transform"]=N.transform);var R=gm(N);R.length>0&&(I.style=R);var H=[];return H.push({tag:"span",attributes:I,children:[e]}),u&&H.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),H}function j2(t){var e=t.content,n=t.title,r=t.extra,s=yt(yt(yt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),u=gm(r.styles);u.length>0&&(s.style=u);var m=[];return m.push({tag:"span",attributes:s,children:[e]}),n&&m.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),m}var Cm=U2.styles;function Py(t){var e=t[0],n=t[1],u=ly(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}var aw={found:!1,width:512,height:512};function wm(t,e){var n=e;return"fa"===e&&null!==Rt.styleDefault&&(e=z4()),new Promise(function(r,s){if(B2("missingIconAbstract"),"fa"===n){var m=nw(t)||{};t=m.iconName||t,e=m.prefix||e}if(t&&e&&Cm[e]&&Cm[e][t])return r(Py(Cm[e][t]));(function(t,e){!lm&&!Rt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(yt(yt({},aw),{},{icon:Rt.showMissingIcons&&t&&B2("missingIconAbstract")||{}}))})}var zy=function(){},Em=Rt.measurePerformance&&id&&id.mark&&id.measure?id:{mark:zy,measure:zy},Pp='FA "6.0.0"',Mm_begin=function(e){return Em.mark("".concat(Pp," ").concat(e," begins")),function(){return function(e){Em.mark("".concat(Pp," ").concat(e," ends")),Em.measure("".concat(Pp," ").concat(e),"".concat(Pp," ").concat(e," begins"),"".concat(Pp," ").concat(e," ends"))}(e)}},zp=function(){};function Tm(t){return"string"==typeof(t.getAttribute?t.getAttribute(R4):null)}function Fy(t){return yr.createElementNS("http://www.w3.org/2000/svg",t)}function lw(t){return yr.createElement(t)}function Hy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ceFn,r=void 0===n?"svg"===t.tag?Fy:lw:n;if("string"==typeof t)return yr.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(m){s.setAttribute(m,t.attributes[m])});var u=t.children||[];return u.forEach(function(m){s.appendChild(Hy(m,{ceFn:r}))}),s}var V4={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(Hy(s),n)}),null===n.getAttribute(R4)&&Rt.keepOriginalSource){var r=yr.createComment(function(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~mm(n).indexOf(Rt.replacementClass))return V4.replace(e);var s=new RegExp("".concat(Rt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var u=r[0].attributes.class.split(" ").reduce(function(_,E){return E===Rt.replacementClass||E.match(s)?_.toSvg.push(E):_.toNode.push(E),_},{toNode:[],toSvg:[]});r[0].attributes.class=u.toSvg.join(" "),0===u.toNode.length?n.removeAttribute("class"):n.setAttribute("class",u.toNode.join(" "))}var m=r.map(function(_){return ud(_)}).join("\n");n.setAttribute(R4,""),n.innerHTML=m}};function Vp(t){t()}function Im(t,e){var n="function"==typeof e?e:zp;if(0===t.length)n();else{var r=Vp;"async"===Rt.mutateApproach&&(r=U6.requestAnimationFrame||Vp),r(function(){var s=!0===Rt.autoReplaceSvg?V4.replace:V4[Rt.autoReplaceSvg]||V4.replace,u=Mm_begin("mutate");t.map(s),u(),n()})}}var xm=!1;function By(){xm=!0}function jy(){xm=!1}var Sm=null;function fw(t){if(dy&&Rt.observeMutations){var e=t.treeCallback,n=void 0===e?zp:e,r=t.nodeCallback,s=void 0===r?zp:r,u=t.pseudoElementsCallback,m=void 0===u?zp:u,_=t.observeMutationsRoot,E=void 0===_?yr:_;Sm=new dy(function(I){if(!xm){var N=z4();sh(I).forEach(function(R){if("childList"===R.type&&R.addedNodes.length>0&&!Tm(R.addedNodes[0])&&(Rt.searchPseudoElements&&m(R.target),n(R.target)),"attributes"===R.type&&R.target.parentNode&&Rt.searchPseudoElements&&m(R.target.parentNode),"attributes"===R.type&&Tm(R.target)&&~IA.indexOf(R.attributeName))if("class"===R.attributeName&&function(t){var e=t.getAttribute?t.getAttribute(cm):null,n=t.getAttribute?t.getAttribute(Ap):null;return e&&n}(R.target)){var H=Lp(mm(R.target)),J=H.iconName;R.target.setAttribute(cm,H.prefix||N),J&&R.target.setAttribute(Ap,J)}else(function(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Rt.replacementClass)})(R.target)&&s(R.target)})}}),Rc&&Sm.observe(E,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Gy(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var u=s.split(":"),m=u[0],_=u.slice(1);return m&&_.length>0&&(r[m]=_.join(":").trim()),r},{})),n}function hw(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",s=Lp(mm(t));return s.prefix||(s.prefix=z4()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||s.prefix&&r.length>0&&(s.iconName=function(t,e){return(Iy[t]||{})[e]}(s.prefix,t.innerText)||Sy(s.prefix,Ay(t.innerText))),s}function dw(t){var e=sh(t.attributes).reduce(function(s,u){return"class"!==s.name&&"style"!==s.name&&(s[u.name]=u.value),s},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Rt.autoA11y&&(n?e["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(r||ad()):(e["aria-hidden"]="true",e.focusable="false")),e}function Zy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=hw(t),r=n.iconName,s=n.prefix,u=n.rest,m=dw(t),_=_m("parseNodeAttributes",{},t),E=e.styleParser?Gy(t):[];return yt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:Xu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:E,attributes:m}},_)}var $y=U2.styles;function mw(t){var e="nest"===Rt.autoReplaceSvg?Zy(t,{styleParser:!1}):Zy(t);return~e.extra.classes.indexOf(by)?B2("generateLayersText",t,e):B2("generateSvgReplacementMutation",t,e)}function gw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Rc)return Promise.resolve();var n=yr.documentElement.classList,r=function(R){return n.add("".concat(um,"-").concat(R))},s=function(R){return n.remove("".concat(um,"-").concat(R))},u=Object.keys(Rt.autoFetchSvg?fm:$y),m=[".".concat(by,":not([").concat(R4,"])")].concat(u.map(function(N){return".".concat(N,":not([").concat(R4,"])")})).join(", ");if(0===m.length)return Promise.resolve();var _=[];try{_=sh(t.querySelectorAll(m))}catch(N){}if(!(_.length>0))return Promise.resolve();r("pending"),s("complete");var E=Mm_begin("onTree"),I=_.reduce(function(N,R){try{var H=mw(R);H&&N.push(H)}catch(G){lm||"MissingIcon"===G.name&&console.error(G)}return N},[]);return new Promise(function(N,R){Promise.all(I).then(function(H){Im(H,function(){r("active"),r("complete"),s("pending"),"function"==typeof e&&e(),E(),N()})}).catch(function(H){E(),R(H)})})}function vw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;mw(t).then(function(n){n&&Im([n],e)})}function Dm(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Rp(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:Rp(s||{})),t(r,yt(yt({},n),{},{mask:s}))}}var ho=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,s=void 0===r?Xu:r,u=n.symbol,m=void 0!==u&&u,_=n.mask,E=void 0===_?null:_,I=n.maskId,N=void 0===I?null:I,R=n.title,H=void 0===R?null:R,G=n.titleId,J=void 0===G?null:G,ue=n.classes,Me=void 0===ue?[]:ue,Se=n.attributes,Fe=void 0===Se?{}:Se,$e=n.styles,gt=void 0===$e?{}:$e;if(e){var Je=e.prefix,Ut=e.iconName,fr=e.icon;return lh(yt({type:"icon"},e),function(){return q6("beforeDOMElementCreation",{iconDefinition:e,params:n}),Rt.autoA11y&&(H?Fe["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(J||ad()):(Fe["aria-hidden"]="true",Fe.focusable="false")),hd({icons:{main:Py(fr),mask:E?Py(E.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Je,iconName:Ut,transform:yt(yt({},Xu),s),symbol:m,title:H,maskId:N,titleId:J,extra:{attributes:Fe,styles:gt,classes:Me}})})}},qA={mixout:function(){return{icon:Dm(ho)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=gw,n.nodeCallback=vw,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,u=n.callback;return gw(void 0===r?yr:r,void 0===u?function(){}:u)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,u=r.title,m=r.titleId,_=r.prefix,E=r.transform,I=r.symbol,N=r.mask,R=r.maskId,H=r.extra;return new Promise(function(G,J){Promise.all([wm(s,_),N.iconName?wm(N.iconName,N.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ue){var Me=ly(ue,2);G([n,hd({icons:{main:Me[0],mask:Me[1]},prefix:_,iconName:s,transform:E,symbol:I,maskId:R,title:u,titleId:m,extra:H,watchable:!0})])}).catch(J)})},e.generateAbstractIcon=function(n){var I,r=n.children,s=n.attributes,u=n.main,m=n.transform,E=gm(n.styles);return E.length>0&&(s.style=E),vm(m)&&(I=B2("generateAbstractTransformGrouping",{main:u,transform:m,containerWidth:u.width,iconWidth:u.width})),r.push(I||u.icon),{children:r,attributes:s}}}},Wy={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.classes,u=void 0===s?[]:s;return lh({type:"layer"},function(){q6("beforeDOMElementCreation",{assembler:n,params:r});var m=[];return n(function(_){Array.isArray(_)?_.map(function(E){m=m.concat(E.abstract)}):m=m.concat(_.abstract)}),[{tag:"span",attributes:{class:["".concat(Rt.familyPrefix,"-layers")].concat(lo(u)).join(" ")},children:m}]})}}}},Ky={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.title,u=void 0===s?null:s,m=r.classes,_=void 0===m?[]:m,E=r.attributes,I=void 0===E?{}:E,N=r.styles,R=void 0===N?{}:N;return lh({type:"counter",content:n},function(){return q6("beforeDOMElementCreation",{content:n,params:r}),j2({content:n.toString(),title:u,extra:{attributes:I,styles:R,classes:["".concat(Rt.familyPrefix,"-layers-counter")].concat(lo(_))}})})}}}},yw={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.transform,u=void 0===s?Xu:s,m=r.title,_=void 0===m?null:m,E=r.classes,I=void 0===E?[]:E,N=r.attributes,R=void 0===N?{}:N,H=r.styles,G=void 0===H?{}:H;return lh({type:"text",content:n},function(){return q6("beforeDOMElementCreation",{content:n,params:r}),Ry({content:n,transform:yt(yt({},Xu),u),title:_,extra:{attributes:R,styles:G,classes:["".concat(Rt.familyPrefix,"-layers-text")].concat(lo(I))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.title,u=r.transform,m=r.extra,_=null,E=null;if(py){var I=parseInt(getComputedStyle(n).fontSize,10),N=n.getBoundingClientRect();_=N.width/I,E=N.height/I}return Rt.autoA11y&&!s&&(m.attributes["aria-hidden"]="true"),Promise.resolve([n,Ry({content:n.innerHTML,width:_,height:E,transform:u,title:s,extra:m,watchable:!0})])}}},Fp=new RegExp('"',"ug"),Yy=[1105920,1112319];function Nm(t,e){var n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,s){if(null!==t.getAttribute(n))return r();var m=sh(t.children).filter(function(Ut){return Ut.getAttribute(Ep)===e})[0],_=U6.getComputedStyle(t,e),E=_.getPropertyValue("font-family").match(BC),I=_.getPropertyValue("font-weight"),N=_.getPropertyValue("content");if(m&&!E)return t.removeChild(m),r();if(E&&"none"!==N&&""!==N){var R=_.getPropertyValue("content"),H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(E[2])?sd[E[2].toLowerCase()]:jC[I],G=function(t){var e=t.replace(Fp,""),n=function(t,e){var s,n=t.length,r=t.charCodeAt(0);return r>=55296&&r<=56319&&n>1&&(s=t.charCodeAt(1))>=56320&&s<=57343?1024*(r-55296)+s-56320+65536:r}(e),r=n>=Yy[0]&&n<=Yy[1],s=2===e.length&&e[0]===e[1];return{value:Ay(s?e[0]:e),isSecondary:r||s}}(R),J=G.value,ue=G.isSecondary,Me=E[0].startsWith("FontAwesome"),Se=Sy(H,J),Fe=Se;if(Me){var $e=function(t){var e=ew[t],n=Sy("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(J);$e.iconName&&$e.prefix&&(Se=$e.iconName,H=$e.prefix)}if(!Se||ue||m&&m.getAttribute(cm)===H&&m.getAttribute(Ap)===Fe)r();else{t.setAttribute(n,Fe),m&&t.removeChild(m);var gt={iconName:null,title:null,titleId:null,prefix:null,transform:Xu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},Je=gt.extra;Je.attributes[Ep]=e,wm(Se,H).then(function(Ut){var fr=hd(yt(yt({},gt),{},{icons:{main:Ut,mask:{prefix:null,iconName:null,rest:[]}},prefix:H,iconName:Fe,extra:Je,watchable:!0})),is=yr.createElement("svg");"::before"===e?t.insertBefore(is,t.firstChild):t.appendChild(is),is.outerHTML=fr.map(function(Zr){return ud(Zr)}).join("\n"),t.removeAttribute(n),r()}).catch(s)}}else r()})}function G6(t){return Promise.all([Nm(t,"::before"),Nm(t,"::after")])}function Qy(t){return!(t.parentNode===document.head||~UC.indexOf(t.tagName.toUpperCase())||t.getAttribute(Ep)||t.parentNode&&"svg"===t.parentNode.tagName)}function Hp(t){if(Rc)return new Promise(function(e,n){var r=sh(t.querySelectorAll("*")).filter(Qy).map(G6),s=Mm_begin("searchPseudoElements");By(),Promise.all(r).then(function(){s(),jy(),e()}).catch(function(){s(),jy(),n()})})}var Jy=!1,Xy=function(e){return e.toLowerCase().split(" ").reduce(function(r,s){var u=s.toLowerCase().split("-"),m=u[0],_=u.slice(1).join("-");if(m&&"h"===_)return r.flipX=!0,r;if(m&&"v"===_)return r.flipY=!0,r;if(_=parseFloat(_),isNaN(_))return r;switch(m){case"grow":r.size=r.size+_;break;case"shrink":r.size=r.size-_;break;case"left":r.x=r.x-_;break;case"right":r.x=r.x+_;break;case"up":r.y=r.y-_;break;case"down":r.y=r.y+_;break;case"rotate":r.rotate=r.rotate+_}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Bp={x:0,y:0,width:"100%",height:"100%"};function Ui(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function GA(t){return"g"===t.tag?t.children:[t]}!function(t,e){var n=e.mixoutsTo;Op=t,uh={},Object.keys(fo).forEach(function(r){-1===iw.indexOf(r)&&delete fo[r]}),Op.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(m){"function"==typeof s[m]&&(n[m]=s[m]),"object"===nd(s[m])&&Object.keys(s[m]).forEach(function(_){n[m]||(n[m]={}),n[m][_]=s[m][_]})}),r.hooks){var u=r.hooks();Object.keys(u).forEach(function(m){uh[m]||(uh[m]=[]),uh[m].push(u[m])})}r.provides&&r.provides(fo)})}([YC,qA,Wy,Ky,yw,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Hp,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Rt.searchPseudoElements&&Hp(void 0===r?yr:r)}}},{mixout:function(){return{dom:{unwatch:function(){By(),Jy=!0}}}},hooks:function(){return{bootstrap:function(){fw(_m("mutationObserverCallbacks",{}))},noAuto:function(){!Sm||Sm.disconnect()},watch:function(n){var r=n.observeMutationsRoot;Jy?jy():fw(_m("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return Xy(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=Xy(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,m=n.iconWidth,_={transform:"translate(".concat(n.containerWidth/2," 256)")},E="translate(".concat(32*s.x,", ").concat(32*s.y,") "),I="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),N="rotate(".concat(s.rotate," 0 0)"),G={outer:_,inner:{transform:"".concat(E," ").concat(I," ").concat(N)},path:{transform:"translate(".concat(m/2*-1," -256)")}};return{tag:"g",attributes:yt({},G.outer),children:[{tag:"g",attributes:yt({},G.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:yt(yt({},r.icon.attributes),G.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),u=s?Lp(s.split(" ").map(function(m){return m.trim()})):{prefix:null,iconName:null,rest:[]};return u.prefix||(u.prefix=z4()),n.mask=u,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,u=n.main,m=n.mask,_=n.maskId,N=u.icon,H=m.icon,G=function(t){var e=t.transform,r=t.iconWidth,s={transform:"translate(".concat(t.containerWidth/2," 256)")},u="translate(".concat(32*e.x,", ").concat(32*e.y,") "),m="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),_="rotate(".concat(e.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(u," ").concat(m," ").concat(_)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:m.width,iconWidth:u.width}),J={tag:"rect",attributes:yt(yt({},Bp),{},{fill:"white"})},ue=N.children?{children:N.children.map(Ui)}:{},Me={tag:"g",attributes:yt({},G.inner),children:[Ui(yt({tag:N.tag,attributes:yt(yt({},N.attributes),G.path)},ue))]},Se={tag:"g",attributes:yt({},G.outer),children:[Me]},Fe="mask-".concat(_||ad()),$e="clip-".concat(_||ad()),gt={tag:"mask",attributes:yt(yt({},Bp),{},{id:Fe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[J,Se]},Je={tag:"defs",children:[{tag:"clipPath",attributes:{id:$e},children:GA(H)},gt]};return r.push(Je,{tag:"rect",attributes:yt({fill:"currentColor","clip-path":"url(#".concat($e,")"),mask:"url(#".concat(Fe,")")},Bp)}),{children:r,attributes:s}}}},{provides:function(e){var n=!1;U6.matchMedia&&(n=U6.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:yt(yt({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var m=yt(yt({},u),{},{attributeName:"opacity"}),_={tag:"circle",attributes:yt(yt({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||_.children.push({tag:"animate",attributes:yt(yt({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yt(yt({},m),{},{values:"1;0;1;1;0;1;"})}),r.push(_),r.push({tag:"path",attributes:yt(yt({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:yt(yt({},m),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:yt(yt({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yt(yt({},m),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol");return n.symbol=null!==s&&(""===s||s),n}}}}],{mixoutsTo:qa});var ww=qa.parse,Ew=qa.icon;const Aw=["*"],XA=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let xw=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sw=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(const r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const s of r.icon[2])"string"==typeof s&&(this.definitions[r.prefix][s]=r)}}addIconPacks(...n){for(const r of n){const s=Object.keys(r).map(u=>r[u]);this.addIcons(...s)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dw=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=l.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),t})(),q2=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(null!=n.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),null!=n.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.Qsj),l.Y36(l.SBq))},t.\u0275cmp=l.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:Aw,decls:1,vars:0,template:function(n,r){1&n&&(l.F$t(),l.Hsn(0))},encapsulation:2}),t})(),qp=(()=>{class t{constructor(n,r,s,u,m){this.sanitizer=n,this.config=r,this.iconLibrary=s,this.stackItem=u,this.classes=[],null!=m&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,n){const s=this.findIconDefinition(r);if(null!=s){const u=this.buildParams();this.renderIcon(s,u)}}}render(){this.ngOnChanges({})}findIconDefinition(n){const r=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0)(n,this.config.defaultPrefix);if("icon"in r)return r;const s=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=s?s:((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const n={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?ww.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...XA(n),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(n,r){const s=Ew(n,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(Ki),l.Y36(xw),l.Y36(Sw),l.Y36(Dw,8),l.Y36(q2,8))},t.\u0275cmp=l.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(n,r){2&n&&(l.Ikx("innerHTML",r.renderedIconHTML,l.oJD),l.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(n,r){},encapsulation:2}),t})(),Nw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();class G2 extends St.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f0.N;return this._value}next(e){super.next(this._value=e)}}var Z6=X(9796),e_=X(6693);const kw={};class iM{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new oM(e,this.resultSelector))}}class oM extends Ea{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(kw),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(Aa(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const s=this.values,m=this.toRespond?s[r]===kw?--this.toRespond:this.toRespond:0;s[r]=n,0===m&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}function Ow(t){return new rr.y(e=>{let n;try{n=t()}catch(s){return void e.error(s)}return(n?(0,jn.D)(n):(0,d1.c)()).subscribe(e)})}var Om=X(2441);function $6(t){return function(n){const r=new Rw(t),s=n.lift(r);return r.caught=s}}class Rw{constructor(e){this.selector=e}call(e,n){return n.subscribe(new Pw(e,this.selector,this.caught))}}class Pw extends $s.Ds{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const r=new $s.IY(this);this.add(r);const s=(0,$s.ft)(n,r);s!==r&&this.add(s)}}}var ua=X(9773);function fh(t,e){return(0,ua.zg)(t,e,1)}function Rm(t){return function(n){return 0===t?(0,d1.c)():n.lift(new zw(t))}}class zw{constructor(e){if(this.total=e,this.total<0)throw new uu}call(e,n){return n.subscribe(new Z2(e,this.total))}}class Z2 extends Ni.L{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,s=this.count++;n.length<r?n.push(e):n[s%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,s=this.ring;for(let u=0;u<r;u++){const m=n++%r;e.next(s[m])}}e.complete()}}var la=X(3342),Vw=X(1307);class n_{constructor(e){this.callback=e}call(e,n){return n.subscribe(new r_(e,this.callback))}}class r_ extends Ni.L{constructor(e,n){super(e),this.add(new l0.w(n))}}class $2{constructor(e,n){this.id=e,this.url=n}}class dd extends $2{constructor(e,n,r="imperative",s=null){super(e,n),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W6 extends $2{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pd extends $2{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gp extends $2{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class i_ extends $2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o_ extends $2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fw extends $2{constructor(e,n,r,s,u){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hw extends $2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s_ extends $2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a_{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class c_{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uw{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bw{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hh{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cn="primary";class u_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function el(t){return new u_(t)}const Zp="ngNavigationCancelingError";function $p(t){const e=Error("NavigationCancelingError: "+t);return e[Zp]=!0,e}function jw(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let u=0;u<r.length;u++){const m=r[u],_=t[u];if(m.startsWith(":"))s[m.substring(1)]=_;else if(m!==_.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function Pc(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let u=0;u<n.length;u++)if(s=n[u],!l_(t[s],e[s]))return!1;return!0}function l_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,u)=>r[u]===s)}return t===e}function zm(t){return Array.prototype.concat.apply([],t)}function f_(t){return t.length>0?t[t.length-1]:null}function Oo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ro(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,jn.D)(Promise.resolve(t)):(0,It.of)(t)}const Vm={exact:function Kp(t,e,n){if(!G1(t.segments,e.segments)||!Yp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Kp(t.children[r],e.children[r],n))return!1;return!0},subset:Fm},h_={exact:function(t,e){return Pc(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>l_(t[n],e[n]))},ignored:()=>!0};function d_(t,e,n){return Vm[n.paths](t.root,e.root,n.matrixParams)&&h_[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Fm(t,e,n){return Hm(t,e,e.segments,n)}function Hm(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!G1(s,n)||e.hasChildren()||!Yp(s,n,r))}if(t.segments.length===n.length){if(!G1(t.segments,n)||!Yp(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!Fm(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),u=n.slice(t.segments.length);return!!(G1(t.segments,s)&&Yp(t.segments,s,r)&&t.children[cn])&&Hm(t.children[cn],e,u,r)}}function Yp(t,e,n){return e.every((r,s)=>h_[n](t[s].parameters,r.parameters))}class K6{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=el(this.queryParams)),this._queryParamMap}toString(){return $w.serialize(this)}}class wn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Oo(n,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jp(this)}}class Ga{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=el(this.parameters)),this._parameterMap}toString(){return Bm(this)}}function G1(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class F4{}class p_{parse(e){const n=new Kw(e);return new K6(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${dh(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(s=>`${vd(n)}=${vd(s)}`).join("&"):`${vd(n)}=${vd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const $w=new p_;function Jp(t){return t.segments.map(e=>Bm(e)).join("/")}function dh(t,e){if(!t.hasChildren())return Jp(t);if(e){const n=t.children[cn]?dh(t.children[cn],!1):"",r=[];return Oo(t.children,(s,u)=>{u!==cn&&r.push(`${u}:${dh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Oo(t.children,(r,s)=>{s===cn&&(n=n.concat(e(r,s)))}),Oo(t.children,(r,s)=>{s!==cn&&(n=n.concat(e(r,s)))}),n}(t,(r,s)=>s===cn?[dh(t.children[cn],!1)]:[`${s}:${dh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[cn]?`${Jp(t)}/${n[0]}`:`${Jp(t)}/(${n.join("//")})`}}function Um(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vd(t){return Um(t).replace(/%3B/gi,";")}function yd(t){return Um(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xp(t){return decodeURIComponent(t)}function g_(t){return Xp(t.replace(/\+/g,"%20"))}function Bm(t){return`${yd(t.path)}${function(t){return Object.keys(t).map(e=>`;${yd(e)}=${yd(t[e])}`).join("")}(t.parameters)}`}const Ww=/^[^\/()?;=#]+/;function e7(t){const e=t.match(Ww);return e?e[0]:""}const cM=/^[^=?&#]+/,lM=/^[^?&#]+/;class Kw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[cn]=new wn(e,n)),r}parseSegment(){const e=e7(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ga(Xp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=e7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=e7(this.remaining);s&&(r=s,this.capture(r))}e[Xp(n)]=Xp(r)}parseQueryParam(e){const n=function(t){const e=t.match(cM);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const m=function(t){const e=t.match(lM);return e?e[0]:""}(this.remaining);m&&(r=m,this.capture(r))}const s=g_(n),u=g_(r);if(e.hasOwnProperty(s)){let m=e[s];Array.isArray(m)||(m=[m],e[s]=m),m.push(u)}else e[s]=u}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=e7(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=cn);const m=this.parseChildren();n[u]=1===Object.keys(m).length?m[cn]:new wn([],m),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class v_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=y_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=y_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=__(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return __(e,this._root).map(n=>n.value)}}function y_(t,e){if(t===e.value)return e;for(const n of e.children){const r=y_(t,n);if(r)return r}return null}function __(t,e){if(t===e.value)return[e];for(const n of e.children){const r=__(t,n);if(r.length)return r.unshift(e),r}return[]}class H4{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function t7(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class b_ extends v_{constructor(e,n){super(e),this.snapshot=n,f(this,e)}toString(){return this.snapshot.toString()}}function Yw(t,e){const n=function(t,e){const m=new o([],{},{},"",{},cn,e,null,t.root,-1,{});return new c("",new H4(m,[]))}(t,e),r=new G2([new Ga("",{})]),s=new G2({}),u=new G2({}),m=new G2({}),_=new G2(""),E=new _d(r,s,m,_,u,cn,e,n.root);return E.snapshot=n.root,new b_(new H4(E,[]),n)}class _d{constructor(e,n,r,s,u,m,_,E){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=m,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>el(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>el(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const s=n[r],u=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class o{constructor(e,n,r,s,u,m,_,E,I,N,R){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=m,this.component=_,this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=N,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=el(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=el(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c extends v_{constructor(e,n){super(n),this.url=e,f(this,n)}toString(){return g(this._root)}}function f(t,e){e.value._routerState=t,e.children.forEach(n=>f(t,n))}function g(t){const e=t.children.length>0?` { ${t.children.map(g).join(", ")} } `:"";return`${t.value}${e}`}function y(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function w(t,e){return Pc(t.params,e.params)&&function(t,e){return G1(t,e)&&t.every((n,r)=>Pc(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||w(t.parent,e.parent))}function x(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return x(t,r,s);return x(t,r)})}(t,e,n);return new H4(r,s)}{if(t.shouldAttach(e.value)){const u=t.retrieve(e.value);if(null!==u){const m=u.route;return k(e,m),m}}const r=function(t){return new _d(new G2(t.url),new G2(t.params),new G2(t.queryParams),new G2(t.fragment),new G2(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(u=>x(t,u));return new H4(r,s)}}function k(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)k(t.children[n],e.children[n])}function oe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fe(t){return"object"==typeof t&&null!=t&&t.outlets}function xe(t,e,n,r,s){let u={};return r&&Oo(r,(m,_)=>{u[_]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),new K6(n.root===t?e:ye(n.root,t,e),u,s)}function ye(t,e,n){const r={};return Oo(t.children,(s,u)=>{r[u]=s===e?n:ye(s,e,n)}),new wn(t.segments,r)}class Ye{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oe(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(fe);if(s&&s!==f_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mt{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Za(t,e,n){if(t||(t=new wn([],{})),0===t.segments.length&&t.hasChildren())return U4(t,e,n);const r=function(t,e,n){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return u;const m=t.segments[s],_=n[r];if(fe(_))break;const E=`${_}`,I=r<n.length-1?n[r+1]:null;if(s>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!r7(E,I,m))return u;r+=2}else{if(!r7(E,{},m))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const u=new wn(t.segments.slice(0,r.pathIndex),{});return u.children[cn]=new wn(t.segments.slice(r.pathIndex),t.children),U4(u,0,s)}return r.match&&0===s.length?new wn(t.segments,{}):r.match&&!t.hasChildren()?B4(t,e,n):r.match?U4(t,0,s):B4(t,e,n)}function U4(t,e,n){if(0===n.length)return new wn(t.segments,{});{const r=function(t){return fe(t[0])?t[0].outlets:{[cn]:t}}(n),s={};return Oo(r,(u,m)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[m]=Za(t.children[m],e,u))}),Oo(t.children,(u,m)=>{void 0===r[m]&&(s[m]=u)}),new wn(t.segments,s)}}function B4(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const u=n[s];if(fe(u)){const E=mh(u.outlets);return new wn(r,E)}if(0===s&&oe(n[0])){r.push(new Ga(t.segments[e].path,n7(n[0]))),s++;continue}const m=fe(u)?u.outlets[cn]:`${u}`,_=s<n.length-1?n[s+1]:null;m&&_&&oe(_)?(r.push(new Ga(m,n7(_))),s+=2):(r.push(new Ga(m,{})),s++)}return new wn(r,{})}function mh(t){const e={};return Oo(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=B4(new wn([],{}),0,n))}),e}function n7(t){const e={};return Oo(t,(n,r)=>e[r]=`${n}`),e}function r7(t,e,n){return t==n.path&&Pc(e,n.parameters)}class Gm{constructor(e,n,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),y(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=t7(n);e.children.forEach(u=>{const m=u.value.outlet;this.deactivateRoutes(u,s[m],r),delete s[m]}),Oo(s,(u,m)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(s===u)if(s.component){const m=r.getContext(s.outlet);m&&this.deactivateChildRoutes(e,n,m.children)}else this.deactivateChildRoutes(e,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const s=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:u})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,u=t7(e);for(const m of Object.keys(u))this.deactivateRouteAndItsChildren(u[m],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const s=t7(n);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Ss(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Pm(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,u=n?n.value:null;if(y(s),s===u)if(s.component){const m=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,m.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const m=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const _=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),m.children.onOutletReAttached(_.contexts),m.attachRef=_.componentRef,m.route=_.route.value,m.outlet&&m.outlet.attach(_.componentRef,_.route.value),i7(_.route)}else{const _=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(s.snapshot),E=_?_.module.componentFactoryResolver:null;m.attachRef=null,m.route=s,m.resolver=E,m.outlet&&m.outlet.activateWith(s,E),this.activateChildRoutes(e,null,m.children)}}else this.activateChildRoutes(e,null,r)}}function i7(t){y(t.value),t.children.forEach(i7)}class Jw{constructor(e,n){this.routes=e,this.module=n}}function gh(t){return"function"==typeof t}function bd(t){return t instanceof K6}const Zm=Symbol("INITIAL_VALUE");function $m(){return cr(t=>function(...t){let e,n;return(0,D.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Z6.k)(t[0])&&(t=t[0]),(0,e_.n)(t,n).lift(new iM(e))}(t.map(e=>e.pipe(rc(1),O(Zm)))).pipe(ht((e,n)=>{let r=!1;return n.reduce((s,u,m)=>s!==Zm?s:(u===Zm&&(r=!0),r||!1!==u&&m!==n.length-1&&!bd(u)?s:u),e)},Zm),zr(e=>e!==Zm),(0,xt.U)(e=>bd(e)?e:!0===e),rc(1)))}let dM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&l._UZ(0,"router-outlet")},directives:function(){return[iE]},encapsulation:2}),t})();function pM(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Lx(r,Ox(e,r))}}function Lx(t,e){t.children&&pM(t.children,e)}function Ox(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xw(t){const e=t.children&&t.children.map(Xw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=dM),n}function zc(t){return t.outlet||cn}function mM(t,e){const n=t.filter(r=>zc(r)===e);return n.push(...t.filter(r=>zc(r)!==e)),n}const gM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function C_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||jw)(n,t,e);if(!u)return Object.assign({},gM);const m={};Oo(u.posParams,(E,I)=>{m[I]=E.path});const _=u.consumed.length>0?Object.assign(Object.assign({},m),u.consumed[u.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:_,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function w_(t,e,n,r,s="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>E_(t,e,r)&&zc(r)!==cn)}(t,n,r)){const m=new wn(e,function(t,e,n,r){const s={};s[cn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const u of n)if(""===u.path&&zc(u)!==cn){const m=new wn([],{});m._sourceSegment=t,m._segmentIndexShift=e.length,s[zc(u)]=m}return s}(t,e,r,new wn(n,t.children)));return m._sourceSegment=t,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>E_(t,e,r))}(t,n,r)){const m=new wn(t.segments,function(t,e,n,r,s,u){const m={};for(const _ of r)if(E_(t,n,_)&&!s[zc(_)]){const E=new wn([],{});E._sourceSegment=t,E._segmentIndexShift="legacy"===u?t.segments.length:e.length,m[zc(_)]=E}return Object.assign(Object.assign({},s),m)}(t,e,n,r,t.children,s));return m._sourceSegment=t,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:n}}const u=new wn(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function E_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function vM(t,e,n,r){return!!(zc(t)===r||r!==cn&&E_(e,n,t))&&("**"===t.path||C_(e,t,n).matched)}function yM(t,e,n){return 0===e.length&&!t.children[n]}class Wm{constructor(e){this.segmentGroup=e||null}}class _M{constructor(e){this.urlTree=e}}function A_(t){return new rr.y(e=>e.error(new Wm(t)))}function bM(t){return new rr.y(e=>e.error(new _M(t)))}function Fx(t){return new rr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Bx{constructor(e,n,r,s,u){this.configLoader=n,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=w_(this.urlTree.root,[],[],this.config).segmentGroup,n=new wn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,cn).pipe((0,xt.U)(u=>this.createUrlTree(eE(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe($6(u=>{if(u instanceof _M)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Wm?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,cn).pipe((0,xt.U)(s=>this.createUrlTree(eE(s),e.queryParams,e.fragment))).pipe($6(s=>{throw s instanceof Wm?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const s=e.segments.length>0?new wn([],{[cn]:e}):e;return new K6(s,n,r)}expandSegmentGroup(e,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe((0,xt.U)(u=>new wn([],u))):this.expandSegment(e,r,n,r.segments,s,!0)}expandChildren(e,n,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,jn.D)(s).pipe(fh(u=>{const m=r.children[u],_=mM(n,u);return this.expandSegmentGroup(e,_,m,u).pipe((0,xt.U)(E=>({segment:E,outlet:u})))}),ht((u,m)=>(u[m.outlet]=m.segment,u),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zr((s,u)=>t(s,u,r)):p0.y,Rm(1),n?Ys(e):d0(()=>new ms))}())}expandSegment(e,n,r,s,u,m){return(0,jn.D)(r).pipe(fh(_=>this.expandSegmentAgainstRoute(e,n,r,_,s,u,m).pipe($6(I=>{if(I instanceof Wm)return(0,It.of)(null);throw I}))),Yi(_=>!!_),$6((_,E)=>{if(_ instanceof ms||"EmptyError"===_.name){if(yM(n,s,u))return(0,It.of)(new wn([],{}));throw new Wm(n)}throw _}))}expandSegmentAgainstRoute(e,n,r,s,u,m,_){return vM(s,n,u,m)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,n,s,u,m):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,s,u,m):A_(n):A_(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,u,m){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,m):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bM(u):this.lineralizeSegments(r,u).pipe((0,ua.zg)(m=>{const _=new wn(m,{});return this.expandSegment(e,_,n,m,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,u,m){const{matched:_,consumedSegments:E,lastChild:I,positionalParamSegments:N}=C_(n,s,u);if(!_)return A_(n);const R=this.applyRedirectCommands(E,s.redirectTo,N);return s.redirectTo.startsWith("/")?bM(R):this.lineralizeSegments(s,R).pipe((0,ua.zg)(H=>this.expandSegment(e,n,r,H.concat(u.slice(I)),m,!1)))}matchSegmentAgainstRoute(e,n,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,It.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,xt.U)(H=>(r._loadedConfig=H,new wn(s,{})))):(0,It.of)(new wn(s,{}));const{matched:m,consumedSegments:_,lastChild:E}=C_(n,r,s);if(!m)return A_(n);const I=s.slice(E);return this.getChildConfig(e,r,s).pipe((0,ua.zg)(R=>{const H=R.module,G=R.routes,{segmentGroup:J,slicedSegments:ue}=w_(n,_,I,G),Me=new wn(J.segments,J.children);if(0===ue.length&&Me.hasChildren())return this.expandChildren(H,G,Me).pipe((0,xt.U)(gt=>new wn(_,gt)));if(0===G.length&&0===ue.length)return(0,It.of)(new wn(_,{}));const Se=zc(r)===u;return this.expandSegment(H,Me,G,ue,Se?cn:u,!0).pipe((0,xt.U)($e=>new wn(_.concat($e.segments),$e.children)))}))}getChildConfig(e,n,r){return n.children?(0,It.of)(new Jw(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?(0,It.of)(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe((0,ua.zg)(s=>s?this.configLoader.load(e.injector,n).pipe((0,xt.U)(u=>(n._loadedConfig=u,u))):function(t){return new rr.y(e=>e.error($p(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):(0,It.of)(new Jw([],e))}runCanLoadGuards(e,n,r){const s=n.canLoad;if(!s||0===s.length)return(0,It.of)(!0);const u=s.map(m=>{const _=e.get(m);let E;if(function(t){return t&&gh(t.canLoad)}(_))E=_.canLoad(n,r);else{if(!gh(_))throw new Error("Invalid CanLoad guard");E=_(n,r)}return Ro(E)});return(0,It.of)(u).pipe($m(),(0,la.b)(m=>{if(!bd(m))return;const _=$p(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw _.url=m,_}),(0,xt.U)(m=>!0===m))}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,It.of)(r);if(s.numberOfChildren>1||!s.children[cn])return Fx(e.redirectTo);s=s.children[cn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,s){const u=this.createSegmentGroup(e,n.root,r,s);return new K6(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Oo(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const _=s.substring(1);r[u]=n[_]}else r[u]=s}),r}createSegmentGroup(e,n,r,s){const u=this.createSegments(e,n.segments,r,s);let m={};return Oo(n.children,(_,E)=>{m[E]=this.createSegmentGroup(e,_,r,s)}),new wn(u,m)}createSegments(e,n,r,s){return n.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}function eE(t){const e={};for(const r of Object.keys(t.children)){const u=eE(t.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(t){if(1===t.numberOfChildren&&t.children[cn]){const e=t.children[cn];return new wn(t.segments.concat(e.segments),e.children)}return t}(new wn(t.segments,e))}class CM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class M_{constructor(e,n){this.component=e,this.route=n}}function Gx(t,e,n){const r=t._root;return Km(r,e?e._root:null,n,[r.value])}function T_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Km(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=t7(e);return t.children.forEach(m=>{(function(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,m=e?e.value:null,_=n?n.getContext(t.value.outlet):null;if(m&&u.routeConfig===m.routeConfig){const E=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!G1(t.url,e.url);case"pathParamsOrQueryParamsChange":return!G1(t.url,e.url)||!Pc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w(t,e)||!Pc(t.queryParams,e.queryParams);case"paramsChange":default:return!w(t,e)}}(m,u,u.routeConfig.runGuardsAndResolvers);E?s.canActivateChecks.push(new CM(r)):(u.data=m.data,u._resolvedData=m._resolvedData),Km(t,e,u.component?_?_.children:null:n,r,s),E&&_&&_.outlet&&_.outlet.isActivated&&s.canDeactivateChecks.push(new M_(_.outlet.component,m))}else m&&Ym(e,_,s),s.canActivateChecks.push(new CM(r)),Km(t,null,u.component?_?_.children:null:n,r,s)})(m,u[m.value.outlet],n,r.concat([m.value]),s),delete u[m.value.outlet]}),Oo(u,(m,_)=>Ym(m,n.getContext(_),s)),s}function Ym(t,e,n){const r=t7(t),s=t.value;Oo(r,(u,m)=>{Ym(u,s.component?e?e.children.getContext(m):null:e,n)}),n.canDeactivateChecks.push(new M_(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class iS{}function wM(t){return new rr.y(e=>e.error(t))}class sS{constructor(e,n,r,s,u,m){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=m}recognize(){const e=w_(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,cn);if(null===n)return null;const r=new o([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new H4(r,n),u=new c(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const n=e.value,r=Qw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const u of Object.keys(n.children)){const m=n.children[u],_=mM(e,u),E=this.processSegmentGroup(_,m,u);if(null===E)return null;r.push(...E)}const s=EM(r);return function(t){t.sort((e,n)=>e.value.outlet===cn?-1:n.value.outlet===cn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}processSegment(e,n,r,s){for(const u of e){const m=this.processSegmentAgainstRoute(u,n,r,s);if(null!==m)return m}return yM(n,r,s)?[]:null}processSegmentAgainstRoute(e,n,r,s){if(e.redirectTo||!vM(e,n,r,s))return null;let u,m=[],_=[];if("**"===e.path){const G=r.length>0?f_(r).parameters:{};u=new o(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TM(e),zc(e),e.component,e,AM(n),MM(n)+r.length,IM(e))}else{const G=C_(n,e,r);if(!G.matched)return null;m=G.consumedSegments,_=r.slice(G.lastChild),u=new o(m,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TM(e),zc(e),e.component,e,AM(n),MM(n)+m.length,IM(e))}const E=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:I,slicedSegments:N}=w_(n,m,_,E.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===N.length&&I.hasChildren()){const G=this.processChildren(E,I);return null===G?null:[new H4(u,G)]}if(0===E.length&&0===N.length)return[new H4(u,[])];const R=zc(e)===s,H=this.processSegment(E,I,N,R?cn:s);return null===H?null:[new H4(u,H)]}}function uS(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EM(t){const e=[],n=new Set;for(const r of t){if(!uS(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=EM(r.children);e.push(new H4(r.value,s))}return e.filter(r=>!n.has(r))}function AM(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function MM(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function TM(t){return t.data||{}}function IM(t){return t.resolve||{}}function tE(t){return cr(e=>{const n=t(e);return n?(0,jn.D)(n).pipe((0,xt.U)(()=>e)):(0,It.of)(e)})}class vS extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const nE=new l.OlP("ROUTES");class xM{constructor(e,n,r,s){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const s=this.loadModuleFactory(n.loadChildren).pipe((0,xt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const m=u.create(e);return new Jw(zm(m.injector.get(nE,void 0,l.XFs.Self|l.XFs.Optional)).map(Xw),m)}),$6(u=>{throw n._loader$=void 0,u}));return n._loader$=new Om.c(s,()=>new St.xQ).pipe((0,Vw.x)()),n._loader$}loadModuleFactory(e){return"string"==typeof e?(0,jn.D)(this.loader.load(e)):Ro(e()).pipe((0,ua.zg)(n=>n instanceof l.YKP?(0,It.of)(n):(0,jn.D)(this.compiler.compileModuleAsync(n))))}}class yS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new o7,this.attachRef=null}}class o7{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new yS,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class bS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function CS(t){throw t}function wS(t,e,n){return e.parse("/")}function SM(t,e){return(0,It.of)(null)}const ES={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let po=(()=>{class t{constructor(n,r,s,u,m,_,E,I){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.xQ,this.errorHandler=CS,this.malformedUriErrorHandler=wS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:SM,afterPreactivation:SM},this.urlHandlingStrategy=new bS,this.routeReuseStrategy=new vS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(l.h0i),this.console=m.get(l.c2e);const H=m.get(l.R0b);this.isNgZoneEnabled=H instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new K6(new wn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xM(_,E,G=>this.triggerEvent(new a_(G)),G=>this.triggerEvent(new c_(G))),this.routerState=Yw(this.currentUrlTree,this.rootComponentType),this.transitions=new G2({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(zr(s=>0!==s.id),(0,xt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),cr(s=>{let u=!1,m=!1;return(0,It.of)(s).pipe((0,la.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cr(_=>{const E=this.browserUrlTree.toString(),I=!this.navigated||_.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return I_(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,It.of)(_).pipe(cr(R=>{const H=this.transitions.getValue();return r.next(new dd(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?d1.E:Promise.resolve(R)}),function(t,e,n,r){return cr(s=>function(t,e,n,r,s){return new Bx(t,e,n,r,s).apply()}(t,e,n,s.extractedUrl,r).pipe((0,xt.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,la.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(t,e,n,r,s){return(0,ua.zg)(u=>function(t,e,n,r,s="emptyOnly",u="legacy"){try{const m=new sS(t,e,n,r,s,u).recognize();return null===m?wM(new iS):(0,It.of)(m)}catch(m){return wM(m)}}(t,e,u.urlAfterRedirects,n(u.urlAfterRedirects),r,s).pipe((0,xt.U)(m=>Object.assign(Object.assign({},u),{targetSnapshot:m}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,la.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const H=new i_(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(H)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:G,source:J,restoredState:ue,extras:Me}=_,Se=new dd(H,this.serializeUrl(G),J,ue);r.next(Se);const Fe=Yw(G,this.rootComponentType).snapshot;return(0,It.of)(Object.assign(Object.assign({},_),{targetSnapshot:Fe,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),d1.E}),tE(_=>{const{targetSnapshot:E,id:I,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:G}}=_;return this.hooks.beforePreactivation(E,{navigationId:I,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!G})}),(0,la.b)(_=>{const E=new o_(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,xt.U)(_=>Object.assign(Object.assign({},_),{guards:Gx(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ua.zg)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:m}}=n;return 0===m.length&&0===u.length?(0,It.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,jn.D)(t).pipe((0,ua.zg)(s=>function(t,e,n,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,It.of)(!0);const m=u.map(_=>{const E=T_(_,e,s);let I;if(function(t){return t&&gh(t.canDeactivate)}(E))I=Ro(E.canDeactivate(t,e,n,r));else{if(!gh(E))throw new Error("Invalid CanDeactivate guard");I=Ro(E(t,e,n,r))}return I.pipe(Yi())});return(0,It.of)(m).pipe($m())}(s.component,s.route,n,e,r)),Yi(s=>!0!==s,!0))}(m,r,s,t).pipe((0,ua.zg)(_=>_&&function(t){return"boolean"==typeof t}(_)?function(t,e,n,r){return(0,jn.D)(e).pipe(fh(s=>T(function(t,e){return null!==t&&e&&e(new Uw(t)),(0,It.of)(!0)}(s.route.parent,r),function(t,e){return null!==t&&e&&e(new Bw(t)),(0,It.of)(!0)}(s.route,r),function(t,e,n){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(m=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(m)).filter(m=>null!==m).map(m=>Ow(()=>{const _=m.guards.map(E=>{const I=T_(E,m.node,n);let N;if(function(t){return t&&gh(t.canActivateChild)}(I))N=Ro(I.canActivateChild(r,t));else{if(!gh(I))throw new Error("Invalid CanActivateChild guard");N=Ro(I(r,t))}return N.pipe(Yi())});return(0,It.of)(_).pipe($m())}));return(0,It.of)(u).pipe($m())}(t,s.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,It.of)(!0);const s=r.map(u=>Ow(()=>{const m=T_(u,e,n);let _;if(function(t){return t&&gh(t.canActivate)}(m))_=Ro(m.canActivate(e,t));else{if(!gh(m))throw new Error("Invalid CanActivate guard");_=Ro(m(e,t))}return _.pipe(Yi())}));return(0,It.of)(s).pipe($m())}(t,s.route,n))),Yi(s=>!0!==s,!0))}(r,u,t,e):(0,It.of)(_)),(0,xt.U)(_=>Object.assign(Object.assign({},n),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,la.b)(_=>{if(bd(_.guardsResult)){const I=$p(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw I.url=_.guardsResult,I}const E=new Fw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),zr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),tE(_=>{if(_.guards.canActivateChecks.length)return(0,It.of)(_).pipe((0,la.b)(E=>{const I=new Hw(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),cr(E=>{let I=!1;return(0,It.of)(E).pipe(function(t,e){return(0,ua.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return(0,It.of)(n);let u=0;return(0,jn.D)(s).pipe(fh(m=>function(t,e,n,r){return function(t,e,n,r){const s=Object.keys(t);if(0===s.length)return(0,It.of)({});const u={};return(0,jn.D)(s).pipe((0,ua.zg)(m=>function(t,e,n,r){const s=T_(t,e,r);return Ro(s.resolve?s.resolve(e,n):s(e,n))}(t[m],e,n,r).pipe((0,la.b)(_=>{u[m]=_}))),Rm(1),(0,ua.zg)(()=>Object.keys(u).length===s.length?(0,It.of)(u):d1.E))}(t._resolve,t,e,r).pipe((0,xt.U)(u=>(t._resolvedData=u,t.data=Object.assign(Object.assign({},t.data),Qw(t,n).resolve),null)))}(m.route,r,t,e)),(0,la.b)(()=>u++),Rm(1),(0,ua.zg)(m=>u===s.length?(0,It.of)(n):d1.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,la.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,la.b)(E=>{const I=new s_(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),tE(_=>{const{targetSnapshot:E,id:I,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:G}}=_;return this.hooks.afterPreactivation(E,{navigationId:I,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!G})}),(0,xt.U)(_=>{const E=function(t,e,n){const r=x(t,e._root,n?n._root:void 0);return new b_(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:E})}),(0,la.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((t,e,n)=>(0,xt.U)(r=>(new Gm(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,la.b)({next(){u=!0},complete(){u=!0}}),function(t){return e=>e.lift(new n_(t))}(()=>{var _;if(!u&&!m){const E=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,E)):this.cancelNavigationTransition(s,E)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===s.id&&(this.currentNavigation=null)}),$6(_=>{if(m=!0,function(t){return t&&t[Zp]}(_)){const E=bd(_.url);E||(this.navigated=!0,this.restoreHistory(s,!0));const I=new pd(s.id,this.serializeUrl(s.extractedUrl),_.message);r.next(I),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||I_(s.source)};this.scheduleNavigation(N,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const E=new Gp(s.id,this.serializeUrl(s.extractedUrl),_);r.next(E);try{s.resolve(this.errorHandler(_))}catch(I){s.reject(I)}}return d1.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:s,state:u,urlTree:m}=r,_={replaceUrl:!0};if(u){const E=Object.assign({},u);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(_.state=E)}this.scheduleNavigation(m,s,u,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const s=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!s||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){pM(n),this.config=n.map(Xw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:s,queryParams:u,fragment:m,queryParamsHandling:_,preserveFragment:E}=r,I=s||this.routerState.root,N=E?this.currentUrlTree.fragment:m;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),function(t,e,n,r,s){if(0===n.length)return xe(e.root,e.root,e,r,s);const u=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ye(!0,0,t);let e=0,n=!1;const r=t.reduce((s,u,m)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return Oo(u.outlets,(E,I)=>{_[I]="string"==typeof E?E.split("/"):E}),[...s,{outlets:_}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===m?(u.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?n=!0:".."===_?e++:""!=_&&s.push(_))}),s):[...s,u]},[]);return new Ye(n,e,r)}(n);if(u.toRoot())return xe(e.root,new wn([],{}),e,r,s);const m=function(t,e,n){if(t.isAbsolute)return new Mt(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new Mt(u,u===e.root,0)}const r=oe(t.commands[0])?0:1;return function(t,e,n){let r=t,s=e,u=n;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Mt(r,!1,s-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(u,e,t),_=m.processChildren?U4(m.segmentGroup,m.index,u.commands):Za(m.segmentGroup,m.index,u.commands);return xe(m.segmentGroup,_,e,r,s)}(I,this.currentUrlTree,n,R,null!=N?N:null)}navigateByUrl(n,r={skipLocationChange:!1}){const s=bd(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return r}isActive(n,r){let s;if(s=!0===r?Object.assign({},ES):!1===r?Object.assign({},AS):r,bd(n))return d_(this.currentUrlTree,n,s);const u=this.parseUrl(n);return d_(this.currentUrlTree,u,s)}removeEmptyProps(n){return Object.keys(n).reduce((r,s)=>{const u=n[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new W6(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,s,u,m){var _,E;if(this.disposed)return Promise.resolve(!1);const I=this.getTransition(),N=I_(r)&&I&&!I_(I.source),G=(this.lastSuccessfulId===I.id||this.currentNavigation?I.rawUrl:I.urlAfterRedirects).toString()===n.toString();if(N&&G)return Promise.resolve(!0);let J,ue,Me;m?(J=m.resolve,ue=m.reject,Me=m.promise):Me=new Promise(($e,gt)=>{J=$e,ue=gt});const Se=++this.navigationId;let Fe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Fe=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Fe=0,this.setTransition({id:Se,targetPageId:Fe,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:J,reject:ue,promise:Me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Me.catch($e=>Promise.reject($e))}setBrowserUrl(n,r){const s=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(n,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===m?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===m&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const s=new pd(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(l.DyG),l.LFG(F4),l.LFG(o7),l.LFG(Qe),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function I_(t){return"imperative"!==t}let s7=(()=>{class t{constructor(n,r,s){this.router=n,this.route=r,this.locationStrategy=s,this.commands=[],this.onChanges=new St.xQ,this.subscription=n.events.subscribe(u=>{u instanceof W6&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,s,u,m){if(0!==n||r||s||u||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:a7(this.skipLocationChange),replaceUrl:a7(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:a7(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(po),l.Y36(_d),l.Y36(Ne))},t.\u0275dir=l.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&n&&(l.Ikx("href",r.href,l.LSH),l.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),t})();function a7(t){return""===t||!!t}let iE=(()=>{class t{constructor(n,r,s,u,m){this.parentContexts=n,this.location=r,this.resolver=s,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=u||cn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const m=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new xS(n,_,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(o7),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xS{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_d?this.route:e===o7?this.childContexts:this.parent.get(e,n)}}class DM{}class NM{preload(e,n){return(0,It.of)(null)}}let kM=(()=>{class t{constructor(n,r,s,u,m){this.router=n,this.injector=u,this.preloadingStrategy=m,this.loader=new xM(r,s,I=>n.triggerEvent(new a_(I)),I=>n.triggerEvent(new c_(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(zr(n=>n instanceof W6),fh(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(l.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const m=u._loadedConfig;s.push(this.processRoutes(m.module,m.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(n,u)):u.children&&s.push(this.processRoutes(n,u.children));return(0,jn.D)(s).pipe((0,v.J)(),(0,xt.U)(u=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,It.of)(r._loadedConfig):this.loader.load(n.injector,r)).pipe((0,ua.zg)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(po),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(DM))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),oE=(()=>{class t{constructor(n,r,s={}){this.router=n,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof dd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof W6&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof hh&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new hh(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(po),l.LFG(Ln),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const Cd=new l.OlP("ROUTER_CONFIGURATION"),LM=new l.OlP("ROUTER_FORROOT_GUARD"),NS=[Qe,{provide:F4,useClass:p_},{provide:po,useFactory:function(t,e,n,r,s,u,m,_={},E,I){const N=new po(null,t,e,n,r,s,u,zm(m));return E&&(N.urlHandlingStrategy=E),I&&(N.routeReuseStrategy=I),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(R=>{var H,G;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(G=console.groupEnd)||void 0===G||G.call(console)}),N},deps:[F4,o7,Qe,l.zs3,l.v3s,l.Sil,nE,Cd,[class{},new l.FiY],[class{},new l.FiY]]},o7,{provide:_d,useFactory:function(t){return t.routerState.root},deps:[po]},{provide:l.v3s,useClass:l.EAV},kM,NM,class{preload(e,n){return n().pipe($6(()=>(0,It.of)(null)))}},{provide:Cd,useValue:{enableTracing:!1}}];function kS(){return new l.PXZ("Router",po)}let OM=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[NS,RM(n),{provide:LM,useFactory:RS,deps:[[po,new l.FiY,new l.tp0]]},{provide:Cd,useValue:r||{}},{provide:Ne,useFactory:OS,deps:[me,[new l.tBr(Oe),new l.FiY],Cd]},{provide:oE,useFactory:LS,deps:[po,Ln,Cd]},{provide:DM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:NM},{provide:l.PXZ,multi:!0,useFactory:kS},[sE,{provide:l.ip1,multi:!0,useFactory:FS,deps:[sE]},{provide:PM,useFactory:HS,deps:[sE]},{provide:l.tb,multi:!0,useExisting:PM}]]}}static forChild(n){return{ngModule:t,providers:[RM(n)]}}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(LM,8),l.LFG(po,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();function LS(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oE(t,e,n)}function OS(t,e,n={}){return n.useHash?new nt(t,e):new Ge(t,e)}function RS(t){return"guarded"}function RM(t){return[{provide:l.deG,multi:!0,useValue:t},{provide:nE,multi:!0,useValue:t}]}let sE=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(_=>r=_),u=this.injector.get(po),m=this.injector.get(Cd);return"disabled"===m.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,It.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(n){const r=this.injector.get(Cd),s=this.injector.get(kM),u=this.injector.get(oE),m=this.injector.get(po),_=this.injector.get(l.z2F);n===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&m.initialNavigation(),s.setUpPreloading(),u.init(),m.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function FS(t){return t.appInitializer.bind(t)}function HS(t){return t.bootstrapListener.bind(t)}const PM=new l.OlP("Router Initializer");function bi(t){return e=>e.lift(new BS(t))}class BS{constructor(e){this.notifier=e}call(e,n){const r=new jS(e),s=(0,$s.ft)(this.notifier,new $s.IY(r));return s&&!r.seenValue?(r.add(s),n.subscribe(r)):r}}class jS extends $s.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function qS(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"li"),l.TgZ(1,"p",4),l._uU(2),l.qZA(),l.TgZ(3,"p",5),l._uU(4),l.qZA(),l.TgZ(5,"p",5),l._uU(6),l.qZA(),l.TgZ(7,"p",5),l._uU(8),l.qZA(),l.TgZ(9,"div",8),l.TgZ(10,"p",9),l.NdJ("click",function(){l.CHM(n);const s=l.oxw();return s.cancelOrder(s.order.id)}),l._uU(11,"Edit"),l.qZA(),l.TgZ(12,"p",10),l.NdJ("click",function(){l.CHM(n);const s=l.oxw();return s.cancelOrder(s.order.id)}),l._uU(13,"Freeze"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=e.$implicit;l.xp6(2),l.Oqu(n.uid),l.xp6(2),l.Oqu(n.displayName),l.xp6(2),l.Oqu(n.phonenumber),l.xp6(2),l.Oqu(n.address)}}function GS(t,e){1&t&&(l.TgZ(0,"div",11),l.TgZ(1,"p",12),l._uU(2,"You have no customers yet!"),l.qZA(),l.qZA())}let ZS=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.loading=!0,this.destroy$=new St.xQ,this.destroy1$=new St.xQ}ngOnInit(){this.getUser().then(()=>{this.getCustomers()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.user=u,this.uid=u.uid,r()})})}getCustomers(){this.firestore.collection("shopOwners").doc(this.uid).collection("clients",n=>n.orderBy("timestamp","desc")).valueChanges().pipe(bi(this.destroy1$)).subscribe(n=>{this.customers=n})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-customers"]],decls:17,vars:2,consts:[[1,"main-customers"],[1,"top-bar","primary"],[1,"customers"],[1,"top-table"],[1,"customers-individual",2,"width","14rem"],[1,"customers-individual"],[4,"ngFor","ngForOf"],["style","height: 5rem;display: flex;flex-direction:row;align-items:center;justify-content:center;",4,"ngIf"],[1,"customers-individual",2,"display","flex","flex-direction","row","justify-content","center","gap","0.5rem","width","15rem"],[1,"edit",3,"click"],[1,"freeze",3,"click"],[2,"height","5rem","display","flex","flex-direction","row","align-items","center","justify-content","center"],[2,"text-align","center"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Customers"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"ul"),l.TgZ(6,"div",3),l.TgZ(7,"p",4),l._uU(8,"UID"),l.qZA(),l.TgZ(9,"p",5),l._uU(10,"Display name"),l.qZA(),l.TgZ(11,"p",5),l._uU(12,"Phone number"),l.qZA(),l.TgZ(13,"p",5),l._uU(14,"Address"),l.qZA(),l.qZA(),l.YNc(15,qS,14,4,"li",6),l.YNc(16,GS,3,0,"div",7),l.qZA(),l.qZA(),l.qZA()),2&n&&(l.xp6(15),l.Q6J("ngForOf",r.customers),l.xp6(1),l.Q6J("ngIf",0==r.customers.length))},directives:[ft,Jt],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0}.customers[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-top:1.5%}.customers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:84vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.customers-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.edit[_ngcontent-%COMP%]{background-color:#d3fd85;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.edit[_ngcontent-%COMP%]:hover{background-color:#694b13;color:#fff}.freeze[_ngcontent-%COMP%]{background-color:#47f3ff;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.freeze[_ngcontent-%COMP%]:hover{background-color:#21487c;color:#fff}"]}),t})();function $S(t,e){if(1&t&&(l.TgZ(0,"li"),l.TgZ(1,"div"),l.TgZ(2,"h1"),l._uU(3,"Order id"),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"div"),l.TgZ(7,"h1"),l._uU(8,"Username"),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div"),l.TgZ(12,"h1"),l._uU(13,"Adress"),l.qZA(),l.TgZ(14,"p"),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"div"),l.TgZ(17,"h1"),l._uU(18,"Ordered at"),l.qZA(),l.TgZ(19,"p"),l._uU(20),l.ALo(21,"date"),l.qZA(),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(5),l.hij("",n.orderid.substring(0,13),"..."),l.xp6(5),l.Oqu(n.username),l.xp6(5),l.Oqu(n.adress),l.xp6(5),l.Oqu(l.xi3(21,4,n.timestamp,"shortTime"))}}function WS(t,e){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"p",16),l._uU(2,"You have no order yet!"),l.qZA(),l.qZA())}function KS(t,e){if(1&t&&(l.TgZ(0,"div",19),l.TgZ(1,"h1",20),l._uU(2),l.qZA(),l.qZA()),2&t){const n=l.oxw(3);l.xp6(2),l.hij(" ",n.topItems.title,"")}}const YS=function(t){return{"background-image":t}};function QS(t,e){if(1&t&&(l.TgZ(0,"div",17),l.YNc(1,KS,3,1,"div",18),l.qZA()),2&t){const n=l.oxw(2);l.Q6J("ngStyle",l.VKq(2,YS,"url("+n.topItems.url[0]+")")),l.xp6(1),l.Q6J("ngIf",n.topItems)}}function JS(t,e){if(1&t&&(l.TgZ(0,"li"),l.TgZ(1,"div"),l.TgZ(2,"h1"),l._uU(3),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(3),l.Oqu(n.username),l.xp6(2),l.Oqu(n.phonenumber),l.xp6(2),l.Oqu(n.timestamp)}}function XS(t,e){1&t&&(l.TgZ(0,"div"),l.TgZ(1,"p",16),l._uU(2,"You have no clients yet!"),l.qZA(),l.qZA())}function eD(t,e){if(1&t&&(l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"h1",5),l._uU(3,"Latest Orders"),l.qZA(),l.TgZ(4,"ul"),l.YNc(5,$S,22,7,"li",6),l.YNc(6,WS,3,0,"div",7),l.qZA(),l.qZA(),l.TgZ(7,"div",8),l.TgZ(8,"ul"),l.TgZ(9,"li",9),l.TgZ(10,"h1"),l._uU(11,"Total Clients"),l.qZA(),l.TgZ(12,"h1"),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"li",10),l.TgZ(15,"h1"),l._uU(16,"Total Orders"),l.qZA(),l.TgZ(17,"h1"),l._uU(18),l.qZA(),l.qZA(),l.TgZ(19,"li",11),l.TgZ(20,"h1"),l._uU(21,"Total Sellings"),l.qZA(),l.TgZ(22,"h1"),l._uU(23),l.qZA(),l.qZA(),l.TgZ(24,"li",12),l.TgZ(25,"h1"),l._uU(26,"Total Clients"),l.qZA(),l.TgZ(27,"h1"),l._uU(28),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"h1",13),l._uU(30,"Latest item added"),l.qZA(),l.YNc(31,QS,2,4,"div",14),l.qZA(),l.TgZ(32,"div",15),l.TgZ(33,"h1",5),l._uU(34,"Latest Clients"),l.qZA(),l.TgZ(35,"ul"),l.YNc(36,JS,8,3,"li",6),l.YNc(37,XS,3,0,"div",7),l.qZA(),l.qZA(),l.qZA()),2&t){const n=l.oxw();l.xp6(5),l.Q6J("ngForOf",n.latestOrders),l.xp6(1),l.Q6J("ngIf",0==n.latestOrders.length),l.xp6(7),l.Oqu(n.userData.totalclients),l.xp6(5),l.Oqu(n.userData.totalorders),l.xp6(5),l.hij("",n.userData.totalselllings,"$"),l.xp6(5),l.Oqu(n.latestClients.length),l.xp6(3),l.Q6J("ngIf",n.topItems),l.xp6(5),l.Q6J("ngForOf",n.only8clients),l.xp6(1),l.Q6J("ngIf",0==n.latestClients.length)}}let zM=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.destroy2$=new St.xQ,this.destroy3$=new St.xQ,this.only8clients=[]}ngOnInit(){this.getUser().then(()=>{this.getUserData(),this.getLatestOrders(),this.getTopItem(),this.getLatestClients()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete(),this.destroy3$.next(),this.destroy3$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.subscribe(u=>{u&&(this.user=u,r())})})}getUserData(){return new Promise((r,s)=>{this.firestore.collection("shopOwners").doc(this.user.uid).valueChanges().pipe(bi(this.destroy$)).subscribe(u=>{this.userData=u})})}getTopItem(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("items",n=>n.orderBy("addedAt","desc").limit(1)).valueChanges().pipe(bi(this.destroy1$)).subscribe(n=>{this.topItems=n[0]})})}getLatestOrders(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("shopOwners").doc(this.user.uid).collection("orders",n=>n.orderBy("timestamp").limitToLast(3)).valueChanges().pipe(bi(this.destroy2$)).subscribe(n=>{this.latestOrders=n})})}getLatestClients(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("shopOwners").doc(this.user.uid).collection("clients",n=>n.orderBy("timestamp","desc")).valueChanges().pipe(bi(this.destroy3$)).subscribe(n=>{this.latestClients=n,this.only8clients=n.slice(0,8)})})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[[1,"main-dashboard"],[1,"top-bar","primary"],["class","container",4,"ngIf"],[1,"container"],[1,"left"],[2,"margin-bottom","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"middle"],[2,"background-color","rgb(211, 192, 111)","color","white"],[2,"background-color","rgb(167, 255, 189)"],[2,"background-color","rgb(177, 239, 255)"],[2,"background-color","rgb(255, 167, 126)","color","white"],[2,"margin-left","5%","margin-bottom","0.5rem"],["class","middle-div",3,"ngStyle",4,"ngIf"],[1,"right"],[2,"font-size","14px"],[1,"middle-div",3,"ngStyle"],["style","padding: 0.5rem;background-color: rgba(54, 54, 54, 0.74);\n                display: flex;flex-direction: row;justify-content: space-between;",4,"ngIf"],[2,"padding","0.5rem","background-color","rgba(54, 54, 54, 0.74)","display","flex","flex-direction","row","justify-content","space-between"],[2,"color","white"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Dashboard"),l.qZA(),l.qZA(),l.YNc(4,eD,38,9,"div",2),l.qZA()),2&n&&(l.xp6(4),l.Q6J("ngIf",r.userData))},directives:[Jt,ft,Yn],pipes:[Vs],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}.container[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:row;flex-wrap:nowrap;padding-top:1rem;padding-left:.4rem}h1[_ngcontent-%COMP%]{font-weight:bold}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.left[_ngcontent-%COMP%]{width:25%;height:91.5vh}.left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%}.left[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#ced3d649;width:100%;display:flex;flex-direction:column;justify-content:center;padding-left:5%;padding-right:5%;height:8rem;border-radius:.3rem;margin-bottom:2rem}.left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.middle[_ngcontent-%COMP%]{width:40%;margin-right:2.5%;margin-left:2.5%;height:91.5vh}.middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;padding-top:8.5%}.middle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:40%;margin-right:5%;margin-left:5%;height:6rem;border-radius:.3rem;margin-bottom:1.5rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.middle-div[_ngcontent-%COMP%]{width:90%;margin-right:5%;margin-left:5%;height:13rem;background-position:center;background-size:cover;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:flex-end;background-color:#c0bfbf;border-radius:.3rem;transition:.3s ease-in-out}.middle-div[_ngcontent-%COMP%]:hover{transform:scale(105%);cursor:pointer}.right[_ngcontent-%COMP%]{width:30%;height:91.5vh}.right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%}.right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#ced3d649;width:95%;width:100%;display:flex;flex-direction:column;justify-content:center;padding-left:5%;padding-right:5%;height:2.5rem;border-radius:.3rem;margin-bottom:1.5rem}.right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}li[_ngcontent-%COMP%]{transition:.3s ease-in-out}li[_ngcontent-%COMP%]:hover{transform:scale(102%);cursor:default;box-shadow:0 1px 2px 2px #80808027}"]}),t})();function tD(t,e){1&t&&l._UZ(0,"input",15)}function nD(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).showInput=!1}),l.qZA()}}function rD(t,e){if(1&t&&(l.TgZ(0,"div",10),l.TgZ(1,"div",11),l.YNc(2,tD,1,0,"input",12),l.YNc(3,nD,1,0,"button",13),l.qZA(),l._UZ(4,"div",14),l.qZA()),2&t){const n=l.oxw();l.xp6(2),l.Q6J("ngIf",1==n.showInput),l.xp6(1),l.Q6J("ngIf",1==n.showInput)}}const iD=function(){return{color:"orange"}};function oD(t,e){if(1&t&&(l.TgZ(0,"p",20),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.Q6J("ngStyle",l.DdM(2,iD)),l.xp6(1),l.hij(" ",n.orderstatus,"")}}function sD(t,e){if(1&t&&(l.TgZ(0,"p",21),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.xp6(1),l.hij(" ",n.orderstatus,"")}}function aD(t,e){if(1&t&&(l.TgZ(0,"p",22),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.xp6(1),l.hij(" ",n.orderstatus,"")}}function cD(t,e){if(1&t&&(l.TgZ(0,"li"),l.TgZ(1,"p",7),l._uU(2),l.qZA(),l.TgZ(3,"p",7),l._uU(4),l.qZA(),l.TgZ(5,"p",7),l._uU(6),l.qZA(),l.TgZ(7,"p",7),l._uU(8),l.qZA(),l.YNc(9,oD,2,3,"p",17),l.YNc(10,sD,2,1,"p",18),l.YNc(11,aD,2,1,"p",19),l.TgZ(12,"p",7),l._uU(13),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(2),l.Oqu(n.orderid),l.xp6(2),l.Oqu(n.username),l.xp6(2),l.Oqu(n.phonenumber),l.xp6(2),l.Oqu(n.adress),l.xp6(1),l.Q6J("ngIf","pending"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","canceled"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","started"==n.orderstatus),l.xp6(2),l.Oqu(n.totlaprice)}}function uD(t,e){1&t&&(l.TgZ(0,"div",23),l.TgZ(1,"p",24),l._uU(2,"You didn't start any order yet!"),l.qZA(),l.qZA())}let lD=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.showInput=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.loading=!0,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.destroy2$=new St.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("orders",n=>n.where("orderstatus","==","started")).valueChanges().pipe(bi(this.destroy2$)).subscribe(n=>{this.orders=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.uid=u.uid,r()})})}showInputMeth(){this.showInput=!this.showInput}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-deliveries"]],decls:26,vars:4,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-space",4,"ngIf"],[1,"orders"],[2,"margin-top","1rem","margin-left","0.5rem"],[2,"font-weight","bold","margin-right","2rem","margin-bottom","1rem","text-align","right"],[1,"top-table"],[1,"order-individual"],[4,"ngFor","ngForOf"],["style","height: 5rem;display: flex;flex-direction:row;align-items:center;justify-content:center;",4,"ngIf"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],["class","order-individual",3,"ngStyle",4,"ngIf"],["class","order-individual","style","color: tomato;",4,"ngIf"],["class","order-individual","style","color: rgb(68, 172, 70);",4,"ngIf"],[1,"order-individual",3,"ngStyle"],[1,"order-individual",2,"color","tomato"],[1,"order-individual",2,"color","rgb(68, 172, 70)"],[2,"height","5rem","display","flex","flex-direction","row","align-items","center","justify-content","center"],[2,"text-align","center"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Orders"),l.qZA(),l.qZA(),l.YNc(4,rD,5,2,"div",2),l.TgZ(5,"div",3),l.TgZ(6,"h3",4),l._uU(7,"Today's orders"),l.qZA(),l.TgZ(8,"h1",5),l._uU(9),l.qZA(),l.TgZ(10,"ul"),l.TgZ(11,"div",6),l.TgZ(12,"p",7),l._uU(13,"Id"),l.qZA(),l.TgZ(14,"p",7),l._uU(15,"To name"),l.qZA(),l.TgZ(16,"p",7),l._uU(17,"To phone number"),l.qZA(),l.TgZ(18,"p",7),l._uU(19,"To Address"),l.qZA(),l.TgZ(20,"p",7),l._uU(21,"Order status"),l.qZA(),l.TgZ(22,"p",7),l._uU(23,"Total Price $"),l.qZA(),l.qZA(),l.YNc(24,cD,14,8,"li",8),l.YNc(25,uD,3,0,"div",9),l.qZA(),l.qZA(),l.qZA()),2&n&&(l.xp6(4),l.Q6J("ngIf",1==r.showInput),l.xp6(5),l.hij("",r.orders.length," concurrent deliveries"),l.xp6(15),l.Q6J("ngForOf",r.orders),l.xp6(1),l.Q6J("ngIf",0==r.orders.length))},directives:[Jt,ft,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0;background-color:#e5e9ecd3}.orders[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-bottom:10%}.orders[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:65vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.order-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.Start[_ngcontent-%COMP%]{background-color:#4bce5f;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.Start[_ngcontent-%COMP%]:hover{background-color:#2aa580;color:#000}.Started[_ngcontent-%COMP%]{background-color:#3eaba7;width:5rem;cursor:default;border-radius:.5rem;color:#000;opacity:.4}"]}),t})();var aE={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},VM={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},FM={prefix:"fas",iconName:"bell",icon:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"]},HM={prefix:"fas",iconName:"car",icon:[512,512,[],"f1b9","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"]},UM={prefix:"fas",iconName:"comment",icon:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"]},cE={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},BM={prefix:"fas",iconName:"hand-holding-heart",icon:[576,512,[],"f4be","M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"]},jM={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},qM={prefix:"fas",iconName:"magnet",icon:[512,512,[],"f076","M164.07 148.1H12a12 12 0 0 1-12-12v-80a36 36 0 0 1 36-36h104a36 36 0 0 1 36 36v80a11.89 11.89 0 0 1-11.93 12zm347.93-12V56a36 36 0 0 0-36-36H372a36 36 0 0 0-36 36v80a12 12 0 0 0 12 12h152a11.89 11.89 0 0 0 12-11.9zm-164 44a12 12 0 0 0-12 12v52c0 128.1-160 127.9-160 0v-52a12 12 0 0 0-12-12H12.1a12 12 0 0 0-12 12.1c.1 21.4.6 40.3 0 53.3 0 150.6 136.17 246.6 256.75 246.6s255-96 255-246.7c-.6-12.8-.2-33 0-53.2a12 12 0 0 0-12-12.1z"]},GM={prefix:"fas",iconName:"receipt",icon:[384,512,[],"f543","M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"]},ZM={prefix:"fas",iconName:"shopping-basket",icon:[576,512,[],"f291","M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"]},$M={prefix:"fas",iconName:"user-alt",icon:[512,512,[],"f406","M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"]};let Qm=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,console.log("yes iam run"),this.getUserId().then(s=>{this.user=this.getUser()})}getUserId(){return new Promise((r,s)=>{this.auth.authState.subscribe(m=>{m&&(this.uid=m.uid,r())})})}getUser(){return this.firestore.collection("shopOwners").doc(this.uid).valueChanges()}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pr),l.LFG(q1))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class WM{}class KM{}class Q6{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const s=n.slice(0,r),u=s.toLowerCase(),m=n.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(m):this.headers.set(u,[m])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const s=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(n,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Q6?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Q6;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Q6?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const s=("a"===e.op?this.headers.get(n):void 0)||[];s.push(...r),this.headers.set(n,s);break;case"d":const u=e.value;if(u){let m=this.headers.get(n);if(!m)return;m=m.filter(_=>-1===u.indexOf(_)),0===m.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,m)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class SW{encodeKey(e){return YM(e)}encodeValue(e){return YM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const NW=/%(\d[a-f0-9])/gi,kW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function YM(t){return encodeURIComponent(t).replace(NW,(e,n)=>{var r;return null!==(r=kW[n])&&void 0!==r?r:e})}function QM(t){return`${t}`}class vh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new SW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[m,_]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],E=n.get(m)||[];E.push(_),n.set(m,E)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{n.push({param:r,value:u,op:"a"})}):n.push({param:r,value:s,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new vh({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(QM(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(QM(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class LW{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function JM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function XM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function eT(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Jm{constructor(e,n,r,s){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Q6),this.context||(this.context=new LW),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=n;else{const _=n.indexOf("?");this.urlWithParams=n+(-1===_?"?":_<n.length-1?"&":"")+m}}else this.params=new vh,this.urlWithParams=n}serializeBody(){return null===this.body?null:JM(this.body)||XM(this.body)||eT(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eT(this.body)?null:XM(this.body)?this.body.type||null:JM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,s=e.url||this.url,u=e.responseType||this.responseType,m=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let I=e.headers||this.headers,N=e.params||this.params;const R=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(I=Object.keys(e.setHeaders).reduce((H,G)=>H.set(G,e.setHeaders[G]),I)),e.setParams&&(N=Object.keys(e.setParams).reduce((H,G)=>H.set(G,e.setParams[G]),N)),new Jm(r,s,m,{params:N,headers:I,context:R,reportProgress:E,responseType:u,withCredentials:_})}}var mo=(()=>((mo=mo||{})[mo.Sent=0]="Sent",mo[mo.UploadProgress=1]="UploadProgress",mo[mo.ResponseHeader=2]="ResponseHeader",mo[mo.DownloadProgress=3]="DownloadProgress",mo[mo.Response=4]="Response",mo[mo.User=5]="User",mo))();class uE{constructor(e,n=200,r="OK"){this.headers=e.headers||new Q6,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lE extends uE{constructor(e={}){super(e),this.type=mo.ResponseHeader}clone(e={}){return new lE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x_ extends uE{constructor(e={}){super(e),this.type=mo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new x_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tT extends uE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fE(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hE=(()=>{class t{constructor(n){this.handler=n}request(n,r,s={}){let u;if(n instanceof Jm)u=n;else{let E,I;E=s.headers instanceof Q6?s.headers:new Q6(s.headers),s.params&&(I=s.params instanceof vh?s.params:new vh({fromObject:s.params})),u=new Jm(n,r,void 0!==s.body?s.body:null,{headers:E,context:s.context,params:I,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const m=(0,It.of)(u).pipe(fh(E=>this.handler.handle(E)));if(n instanceof Jm||"events"===s.observe)return m;const _=m.pipe(zr(E=>E instanceof x_));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return _.pipe((0,xt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return _.pipe((0,xt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return _.pipe((0,xt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));case"json":default:return _.pipe((0,xt.U)(E=>E.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new vh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,fE(s,r))}post(n,r,s={}){return this.request("POST",n,fE(s,r))}put(n,r,s={}){return this.request("PUT",n,fE(s,r))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(WM))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class nT{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const rT=new l.OlP("HTTP_INTERCEPTORS");let PW=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const zW=/^\)\]\}',?\n/;let iT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new rr.y(r=>{const s=this.xhrFactory.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((G,J)=>s.setRequestHeader(G,J.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const G=n.detectContentTypeHeader();null!==G&&s.setRequestHeader("Content-Type",G)}if(n.responseType){const G=n.responseType.toLowerCase();s.responseType="json"!==G?G:"text"}const u=n.serializeBody();let m=null;const _=()=>{if(null!==m)return m;const G=1223===s.status?204:s.status,J=s.statusText||"OK",ue=new Q6(s.getAllResponseHeaders()),Me=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||n.url;return m=new lE({headers:ue,status:G,statusText:J,url:Me}),m},E=()=>{let{headers:G,status:J,statusText:ue,url:Me}=_(),Se=null;204!==J&&(Se=void 0===s.response?s.responseText:s.response),0===J&&(J=Se?200:0);let Fe=J>=200&&J<300;if("json"===n.responseType&&"string"==typeof Se){const $e=Se;Se=Se.replace(zW,"");try{Se=""!==Se?JSON.parse(Se):null}catch(gt){Se=$e,Fe&&(Fe=!1,Se={error:gt,text:Se})}}Fe?(r.next(new x_({body:Se,headers:G,status:J,statusText:ue,url:Me||void 0})),r.complete()):r.error(new tT({error:Se,headers:G,status:J,statusText:ue,url:Me||void 0}))},I=G=>{const{url:J}=_(),ue=new tT({error:G,status:s.status||0,statusText:s.statusText||"Unknown Error",url:J||void 0});r.error(ue)};let N=!1;const R=G=>{N||(r.next(_()),N=!0);let J={type:mo.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(J.total=G.total),"text"===n.responseType&&!!s.responseText&&(J.partialText=s.responseText),r.next(J)},H=G=>{let J={type:mo.UploadProgress,loaded:G.loaded};G.lengthComputable&&(J.total=G.total),r.next(J)};return s.addEventListener("load",E),s.addEventListener("error",I),s.addEventListener("timeout",I),s.addEventListener("abort",I),n.reportProgress&&(s.addEventListener("progress",R),null!==u&&s.upload&&s.upload.addEventListener("progress",H)),s.send(u),r.next({type:mo.Sent}),()=>{s.removeEventListener("error",I),s.removeEventListener("abort",I),s.removeEventListener("load",E),s.removeEventListener("timeout",I),n.reportProgress&&(s.removeEventListener("progress",R),null!==u&&s.upload&&s.upload.removeEventListener("progress",H)),s.readyState!==s.DONE&&s.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Q2))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const dE=new l.OlP("XSRF_COOKIE_NAME"),pE=new l.OlP("XSRF_HEADER_NAME");class oT{}let FW=(()=>{class t{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wr(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Re),l.LFG(l.Lbi),l.LFG(dE))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),mE=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const s=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(n);const u=this.tokenService.getToken();return null!==u&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,u)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(oT),l.LFG(pE))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),HW=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(rT,[]);this.chain=r.reduceRight((s,u)=>new nT(s,u),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(KM),l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),UW=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:mE,useClass:PW}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:dE,useValue:n.cookieName}:[],n.headerName?{provide:pE,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[mE,{provide:rT,useExisting:mE,multi:!0},{provide:oT,useClass:FW},{provide:dE,useValue:"XSRF-TOKEN"},{provide:pE,useValue:"X-XSRF-TOKEN"}]}),t})(),BW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[hE,{provide:WM,useClass:HW},iT,{provide:KM,useExisting:iT}],imports:[[UW.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var jW=X(1555);function S_(t,e){return new rr.y(n=>{const r=t.length;if(0===r)return void n.complete();const s=new Array(r);let u=0,m=0;for(let _=0;_<r;_++){const E=(0,jn.D)(t[_]);let I=!1;n.add(E.subscribe({next:N=>{I||(I=!0,m++),s[_]=N},error:N=>n.error(N),complete:()=>{u++,(u===r||!I)&&(m===r&&n.next(e?e.reduce((N,R,H)=>(N[R]=s[H],N),{}):s),n.complete())}}))}})}let sT=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.Qsj),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t}),t})(),wd=(()=>{class t extends sT{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(t)))(r||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t})();const j4=new l.OlP("NgValueAccessor"),ZW={provide:j4,useExisting:(0,l.Gpc)(()=>Xm),multi:!0},WW=new l.OlP("CompositionEventMode");let Xm=(()=>{class t extends sT{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=V()?V().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(WW,8))},t.\u0275dir=l.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([ZW]),l.qOj]}),t})();const fa=new l.OlP("NgValidators"),_h=new l.OlP("NgAsyncValidators");function vT(t){return null!=t}function yT(t){const e=(0,l.QGY)(t)?(0,jn.D)(t):t;return(0,l.CqO)(e),e}function _T(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function bT(t,e){return e.map(n=>n(t))}function CT(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function gE(t){return null!=t?function(t){if(!t)return null;const e=t.filter(vT);return 0==e.length?null:function(n){return _T(bT(n,e))}}(CT(t)):null}function vE(t){return null!=t?function(t){if(!t)return null;const e=t.filter(vT);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if((0,Z6.k)(e))return S_(e,null);if((0,jW.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return S_(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return S_(t=1===t.length&&(0,Z6.k)(t[0])?t[0]:t,null).pipe((0,xt.U)(n=>e(...n)))}return S_(t,null)}(bT(n,e).map(yT)).pipe((0,xt.U)(_T))}}(CT(t)):null}function AT(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function yE(t){return t?Array.isArray(t)?t:[t]:[]}function D_(t,e){return Array.isArray(t)?t.includes(e):t===e}function IT(t,e){const n=yE(e);return yE(t).forEach(s=>{D_(n,s)||n.push(s)}),n}function xT(t,e){return yE(e).filter(n=>!D_(t,n))}let ST=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=gE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=vE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=l.lG2({type:t}),t})(),$a=(()=>{class t extends ST{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(t)))(r||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t})();class Ch extends ST{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DT{constructor(e){this._cd=e}is(e){var n,r,s;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let _E=(()=>{class t extends DT{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(Ch,2))},t.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),t})(),N_=(()=>{class t extends DT{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36($a,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),t})();function eg(t,e){wE(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&NT(t,e)})}(t,e),function(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&NT(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function R_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wE(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(AT(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(AT(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();R_(e._rawValidators,s),R_(e._rawAsyncValidators,s)}function NT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function z_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tg="VALID",V_="INVALID",c7="PENDING",ng="DISABLED";function ME(t){return(IE(t)?t.validators:t)||null}function OT(t){return Array.isArray(t)?gE(t):t||null}function TE(t,e){return(IE(e)?e.asyncValidators:t)||null}function RT(t){return Array.isArray(t)?vE(t):t||null}function IE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xE{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=OT(this._rawValidators),this._composedAsyncValidatorFn=RT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tg}get invalid(){return this.status===V_}get pending(){return this.status==c7}get disabled(){return this.status===ng}get enabled(){return this.status!==ng}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=OT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=RT(e)}addValidators(e){this.setValidators(IT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xT(e,this._rawAsyncValidators))}hasValidator(e){return D_(this._rawValidators,e)}hasAsyncValidator(e){return D_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=c7,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ng,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tg,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tg||this.status===c7)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ng:tg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=c7,this._hasOwnPendingAsyncValidator=!0;const n=yT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(s=>{r=r instanceof SE?r.controls.hasOwnProperty(s)?r.controls[s]:null:r instanceof cK&&r.at(s)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ng:this.errors?V_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(c7)?c7:this._anyControlsHaveStatus(V_)?V_:tg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){IE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class F_ extends xE{constructor(e=null,n,r){super(ME(n),TE(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class SE extends xE{constructor(e,n,r){super(ME(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof F_?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,u)=>{r=n(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class cK extends xE{constructor(e,n,r){super(ME(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof F_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const uK={provide:$a,useExisting:(0,l.Gpc)(()=>u7)},rg=(()=>Promise.resolve(null))();let u7=(()=>{class t extends $a{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new SE({},gE(n),vE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){rg.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),eg(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){rg.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),z_(this._directives,n)})}addFormGroup(n){rg.then(()=>{const r=this._findContainer(n.path),s=new SE({});(function(t,e){wE(t,e)})(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){rg.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){rg.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(fa,10),l.Y36(_h,10))},t.\u0275dir=l.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([uK]),l.qOj]}),t})();const fK={provide:Ch,useExisting:(0,l.Gpc)(()=>H_)},VT=(()=>Promise.resolve(null))();let H_=(()=>{class t extends Ch{constructor(n,r,s,u){super(),this.control=new F_,this._registered=!1,this.update=new l.vpe,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Xm?n=u:function(t){return Object.getPrototypeOf(t.constructor)===wd}(u)?r=u:s=u}),s||r||n||null}(0,u)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){VT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,s=""===r||r&&"false"!==r;VT.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36($a,9),l.Y36(fa,10),l.Y36(_h,10),l.Y36(j4,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([fK]),l.qOj,l.TTD]}),t})(),U_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=l.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),HT=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const CK={provide:j4,useExisting:(0,l.Gpc)(()=>OE),multi:!0};function ZT(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let OE=(()=>{class t extends wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=this._getOptionId(n);null==r&&this.setProperty("selectedIndex",-1);const s=ZT(r,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(t)))(r||t)}}(),t.\u0275dir=l.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&l.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([CK]),l.qOj]}),t})(),B_=(()=>{class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(ZT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(OE,9))},t.\u0275dir=l.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const EK={provide:j4,useExisting:(0,l.Gpc)(()=>RE),multi:!0};function $T(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let RE=(()=>{class t extends wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const s=n.map(u=>this._getOptionId(u));r=(u,m)=>{u._setSelected(s.indexOf(m.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const s=[];if(void 0!==r.selectedOptions){const u=r.selectedOptions;for(let m=0;m<u.length;m++){const _=u.item(m),E=this._getOptionValue(_.value);s.push(E)}}else{const u=r.options;for(let m=0;m<u.length;m++){const _=u.item(m);if(_.selected){const E=this._getOptionValue(_.value);s.push(E)}}}this.value=s,n(s)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(t)))(r||t)}}(),t.\u0275dir=l.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&l.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([EK]),l.qOj]}),t})(),j_=(()=>{class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue($T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue($T(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(RE,9))},t.\u0275dir=l.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),rI=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[HT]]}),t})(),LK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[rI]}),t})();function OK(t,e){if(1&t&&(l.TgZ(0,"option",24),l._uU(1),l.qZA()),2&t){const n=e.$implicit;l.Q6J("value",n.Location_Name_En),l.xp6(1),l.Oqu(n.Location_Name_En)}}function RK(t,e){if(1&t&&(l.TgZ(0,"p",25),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopname)}}function PK(t,e){if(1&t&&(l.TgZ(0,"p",25),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopnameData)}}function zK(t,e){if(1&t&&(l.TgZ(0,"p",26),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopAdress)}}function VK(t,e){if(1&t&&(l.TgZ(0,"p",26),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopAdressData)}}function FK(t,e){if(1&t&&(l.TgZ(0,"p",27),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopDescription)}}function HK(t,e){if(1&t&&(l.TgZ(0,"p",27),l._uU(1),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Oqu(n.shopDescriptionData)}}const iI=function(t){return{"background-image":t}};function UK(t,e){if(1&t&&l._UZ(0,"div",28),2&t){const n=l.oxw();l.Q6J("ngStyle",l.VKq(1,iI,"url("+n.imagePreiviewUrl+")"))}}function BK(t,e){if(1&t&&l._UZ(0,"div",28),2&t){const n=l.oxw();l.Q6J("ngStyle",l.VKq(1,iI,"url("+n.imagePreiviewUrlData+")"))}}const jK=function(t){return{"is-loading":t}};let qK=(()=>{class t{constructor(n,r,s,u,m){this.auth=n,this.userdata=r,this.firestore=s,this.storage=u,this.http=m,this.faArrowLeft=aE,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.location=[],this.isLOading=!1,this.shopAreaLocation="",this.coordinates=[],this.options={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},this.uploading=!1,this.uploadImageProgress=.1,this.uploaded=!1}clearWatch(n){throw new Error("Method not implemented.")}getCurrentPosition(n,r,s){throw new Error("Method not implemented.")}watchPosition(n,r,s){throw new Error("Method not implemented.")}success(n){var r=n.coords,u=r.longitude;this.location.push(r.latitude),this.location.push(u),console.log("Your current position is:"),console.log(`Latitude : ${r.latitude}`),console.log(`Longitude: ${r.longitude}`),console.log(`More or less ${r.accuracy} meters.`)}error(n){console.warn(`ERROR(${n.code}): ${n.message}`)}getLocation(){navigator.geolocation.getCurrentPosition(this.success,this.error,this.options)}ngOnInit(){this.getUser().then(()=>{this.getJSON().subscribe(n=>{this.locations=n.Locations}),this.userdata.user.pipe(bi(this.destroy1$)).subscribe(n=>{n&&(this.shopnameData=n.shopname,this.shopDescriptionData=n.Description,this.shopAdressData=n.Address,this.imagePreiviewUrlData=n.infoimage,this.imagePreiviewUrlData0=n.shopurl)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.uid=u.uid,r()})})}getJSON(){return this.http.get("assets/1437711263.json")}selectOptionLoc(n){return new Promise((s,u)=>{this.shopAreaLocation=n;let m=this.locations.filter(_=>-1!=_.Location_Name_En.indexOf(n)?_:null);this.coordinates=[m[0].Latitude,m[0].Longitude],s(m)})}changeName(n){this.shopname=n}changeAddress(n){this.shopAdress=n}changeDescription(n){this.shopDescription=n}previewImageShop(n){this.imagePath0=n.target.files[0];const r=new FileReader;r.onload=()=>{this.imagePreiviewUrl0=r.result},r.readAsDataURL(this.imagePath)}previewImage(n){this.imagePath=n.target.files[0];const r=new FileReader;r.onload=()=>{this.imagePreiviewUrl=r.result},r.readAsDataURL(this.imagePath)}uploadImgae(){return new Promise((r,s)=>{var u=this.firestore.createId();const m=this.storage.upload(`/shopOwners/${this.uid}/${u}`,this.imagePath);m.then(_=>{_.ref.getDownloadURL().then(E=>{this.shopImageToUploadURl=E,r()})}).catch(_=>console.log("image not uploaded")),m.percentageChanges().subscribe(_=>{this.uploading=!0,this.uploadImageProgress=null==_?void 0:_.valueOf(),100==_&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}uploadImgaeShop(){return new Promise((r,s)=>{var u=this.firestore.createId();const m=this.storage.upload(`/shopOwners/${this.uid}/${u}`,this.imagePath0);m.then(_=>{_.ref.getDownloadURL().then(E=>{this.shopImageToUploadURl0=E,r()})}).catch(_=>console.log("image not uploaded")),m.percentageChanges().subscribe(_=>{this.uploading=!0,this.uploadImageProgress=null==_?void 0:_.valueOf(),100==_&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}save(){this.imagePath?null!=this.shopname&&null!=this.shopAdress&&null!=this.shopDescription&&this.coordinates.length>0&&""!=this.shopAreaLocation?(this.isLOading=!0,this.uploadImgae().then(n=>{this.uploadImgaeShop().then(r=>{this.firestore.collection("shopOwners").doc(this.uid).update({shopname:this.shopname,Description:this.shopDescription,Address:this.shopAdress,infoimage:this.shopImageToUploadURl,shopurl:this.shopImageToUploadURl0,areaLocation:this.shopAreaLocation,location:this.coordinates})}).catch(r=>{r&&alert(r)}).then(()=>{this.isLOading=!1})})):alert("Empty Fields"):null!=this.shopname&&null!=this.shopAdress&&null!=this.shopDescription&&this.location.length>0?(this.isLOading=!0,this.firestore.collection("shopOwners").doc(this.uid).update({shopname:this.shopname,Description:this.shopDescription,Address:this.shopAdress,location:this.location}).catch(n=>{n&&alert(n)}).then(()=>{this.isLOading=!1})):alert("Empty Fields")}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(Qm),l.Y36(q1),l.Y36(Eu),l.Y36(hE))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-edit-shop"]],decls:48,vars:13,consts:[[1,"main-dashboard"],[1,"top-bar","primary"],[1,"container"],[1,"left"],[2,"max-height","80vh","background-color","#ced3d649","margin","1rem","margin-left","0","margin-top","0","padding","1rem","overflow-y","scroll"],[2,"margin-bottom","20px"],["type","text",3,"keypress"],["name",""],["adress",""],["description",""],["type","file",3,"change"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"button",2,"background-color","black","color","white","margin-left","45%",3,"ngClass","click"],[1,"right"],[2,"background-color","#ced3d649","margin","1rem","margin-left","0","margin-top","0","padding","1rem","display","flex","flex-direction","column","align-items","center","padding-top","1rem"],[2,"margin-bottom","1rem"],[1,"mobile"],[1,"mobile-top-bar"],[3,"icon"],["class","mobile-shop-title",4,"ngIf"],["class","moble-shop-address",4,"ngIf"],["class","mobile-shop-description",4,"ngIf"],["class","mobile-shop-news-image",3,"ngStyle",4,"ngIf"],[3,"value"],[1,"mobile-shop-title"],[1,"moble-shop-address"],[1,"mobile-shop-description"],[1,"mobile-shop-news-image",3,"ngStyle"]],template:function(n,r){if(1&n){const s=l.EpF();l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h1",5),l._uU(6,"Edit How you want your shop page to look like"),l.qZA(),l.TgZ(7,"form"),l.TgZ(8,"label"),l._uU(9,"Shop Name"),l.qZA(),l.TgZ(10,"input",6,7),l.NdJ("keypress",function(){l.CHM(s);const m=l.MAs(11);return r.changeName(m.value)}),l.qZA(),l.TgZ(12,"label"),l._uU(13,"Address"),l.qZA(),l.TgZ(14,"input",6,8),l.NdJ("keypress",function(){l.CHM(s);const m=l.MAs(15);return r.changeAddress(m.value)}),l.qZA(),l.TgZ(16,"label"),l._uU(17,"Description"),l.qZA(),l.TgZ(18,"textarea",6,9),l.NdJ("keypress",function(){l.CHM(s);const m=l.MAs(19);return r.changeDescription(m.value)}),l.qZA(),l.TgZ(20,"label"),l._uU(21,"Shop Image"),l.qZA(),l.TgZ(22,"input",10),l.NdJ("change",function(m){return r.previewImageShop(m)}),l.qZA(),l.TgZ(23,"label"),l._uU(24,"News Image"),l.qZA(),l.TgZ(25,"input",10),l.NdJ("change",function(m){return r.previewImage(m)}),l.qZA(),l.TgZ(26,"label"),l._uU(27,"Change current Location"),l.qZA(),l.TgZ(28,"select",11),l.NdJ("change",function(m){return r.selectOptionLoc(m.target.value)}),l.YNc(29,OK,2,2,"option",12),l.qZA(),l._UZ(30,"br"),l.qZA(),l.TgZ(31,"button",13),l.NdJ("click",function(){return r.save()}),l._uU(32,"Save"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",14),l.TgZ(34,"div",15),l.TgZ(35,"h1",16),l._uU(36,"This is how your shop will look like for clients"),l.qZA(),l.TgZ(37,"div",17),l.TgZ(38,"div",18),l._UZ(39,"fa-icon",19),l.qZA(),l.YNc(40,RK,2,1,"p",20),l.YNc(41,PK,2,1,"p",20),l.YNc(42,zK,2,1,"p",21),l.YNc(43,VK,2,1,"p",21),l.YNc(44,FK,2,1,"p",22),l.YNc(45,HK,2,1,"p",22),l.YNc(46,UK,1,3,"div",23),l.YNc(47,BK,1,3,"div",23),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}2&n&&(l.xp6(29),l.Q6J("ngForOf",r.locations),l.xp6(2),l.Q6J("ngClass",l.VKq(11,jK,!0===r.isLOading)),l.xp6(8),l.Q6J("icon",r.faArrowLeft),l.xp6(1),l.Q6J("ngIf",r.shopname),l.xp6(1),l.Q6J("ngIf",!r.shopname&&r.shopnameData),l.xp6(1),l.Q6J("ngIf",r.shopAdress),l.xp6(1),l.Q6J("ngIf",!r.shopAdress&&r.shopAdressData),l.xp6(1),l.Q6J("ngIf",r.shopDescription),l.xp6(1),l.Q6J("ngIf",!r.shopDescription&&r.shopDescriptionData),l.xp6(1),l.Q6J("ngIf",r.imagePreiviewUrl),l.xp6(1),l.Q6J("ngIf",!r.imagePreiviewUrl&&r.imagePreiviewUrlData))},directives:[U_,N_,u7,ft,ma,qp,Jt,B_,j_,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.container[_ngcontent-%COMP%]{width:90%;display:flex;flex-direction:row;flex-wrap:nowrap;padding-top:1rem}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-bottom:3rem;height:2rem;width:100%;text-align:center}.left[_ngcontent-%COMP%]{width:50%;height:91.5vh;border-right:solid 1px rgba(128,128,128,.247);padding-top:1rem;padding-right:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{font-weight:bold;margin-top:.3rem;margin-bottom:.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:.3rem;background-color:#fff;border:none;padding:8px;width:70%}.right[_ngcontent-%COMP%]{width:50%;height:91.5vh;display:flex;flex-direction:column;align-items:center;padding-top:1rem}.mobile[_ngcontent-%COMP%]{width:15rem;height:25rem;border:solid 1px grey;border-radius:1rem;padding:1.5%;background-color:#fff}.mobile-top-bar[_ngcontent-%COMP%]{width:100%;height:5%}.mobile-shop-title[_ngcontent-%COMP%]{padding:0;font-size:14px;margin-top:.3rem;font-weight:bold;word-break:break-all}.moble-shop-address[_ngcontent-%COMP%]{font-size:10px;word-break:break-all}.mobile-shop-description[_ngcontent-%COMP%]{font-size:12px;font-weight:lighter;line-height:.85rem;margin-top:.3rem;word-break:break-all}.mobile-shop-news-image[_ngcontent-%COMP%]{width:100%;height:7rem;margin-top:.7rem;border-radius:.3rem;background-position:center;background-size:cover}"]}),t})();const GK=function(t){return{"background-image":t}};function ZK(t,e){if(1&t&&(l.TgZ(0,"li"),l.TgZ(1,"div",3),l._UZ(2,"div",4),l.TgZ(3,"div",5),l.TgZ(4,"p",6),l._uU(5),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"p",7),l._uU(7),l.ALo(8,"date"),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(2),l.Q6J("ngStyle",l.VKq(6,GK,"url("+n.userUrl+")")),l.xp6(3),l.Oqu(n.username),l.xp6(2),l.Oqu(l.xi3(8,3,n.at,"medium"))}}function $K(t,e){if(1&t&&(l.TgZ(0,"ul"),l.YNc(1,ZK,9,8,"li",2),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",n.followers)}}function WK(t,e){1&t&&(l.TgZ(0,"ul",8),l._uU(1,"No followers yet!"),l.qZA())}let oI=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.destroy2$=new St.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("followers").valueChanges().pipe(bi(this.destroy2$)).subscribe(n=>{this.followers=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.uid=u.uid,r()})})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-followers"]],decls:2,vars:2,consts:[[4,"ngIf"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n  font-weight: 400;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","gap","0.5rem","align-items","center"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[2,"display","flex","flex-direction","column"],[2,"font-size","12px","font-weight","bold"],[2,"font-size","8px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"]],template:function(n,r){1&n&&(l.YNc(0,$K,2,1,"ul",0),l.YNc(1,WK,2,0,"ul",1)),2&n&&(l.Q6J("ngIf",r.followers),l.xp6(1),l.Q6J("ngIf",!r.followers||0==r.followers.length))},directives:[Jt,ft,Yn],pipes:[Vs],styles:["ul[_ngcontent-%COMP%]{width:100%;max-height:80vh}li[_ngcontent-%COMP%]{background-color:#fff;width:100%;padding:.5rem;border-radius:.3rem;margin-bottom:.5rem;transition:.3s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]:hover{background-color:#c7c7c7}"]}),t})();X(6423),function(t){t.prototype.loadBundle=ty,t.prototype.namedQuery=SC}(dp);var sI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l7=function(t){function e(n,r,s){var u=t.call(this,r)||this;return Object.setPrototypeOf(u,e.prototype),u.code=n,u.details=s,u}return(0,L.__extends)(e,t),e}(Error),JK=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(s){return r.auth=s},function(){}),this.messaging||n.get().then(function(s){return r.messaging=s},function(){})}return t.prototype.getAuthToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=n.sent())?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();function aI(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var tY=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if("function"==typeof e||"object"==typeof e)return aI(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(s){return n.decode(s)}):"function"==typeof e||"object"==typeof e?aI(e,function(s){return n.decode(s)}):e},t}(),cI=function(){function t(e,n,r,s,u,m){var _=this;void 0===u&&(u="us-central1"),this.app_=e,this.appCheckProvider=s,this.fetchImpl=m,this.serializer=new tY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(_.deleteService())}},this.contextProvider=new JK(n,r),this.cancelAllRequests=new Promise(function(I){_.deleteService=function(){return I()}});try{var E=new URL(u);this.customDomain=E.origin,this.region="us-central1"}catch(I){this.customDomain=null,this.region=u}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+n+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(s){return r.call(e,s,n||{})}},t.prototype.postJSON=function(e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(s=_.sent())&&(r["X-Firebase-AppCheck"]=s),_.label=2;case 2:return _.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[2,{status:0,json:null}];case 5:m=null,_.label=6;case 6:return _.trys.push([6,8,,9]),[4,u.json()];case 7:return m=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:return[2,{status:u.status,json:m}]}})})},t.prototype.getAppCheckToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,_,I,N,R,H,G,J;return(0,L.__generator)(this,function(Me){switch(Me.label){case 0:return s=this._url(e),n=this.serializer.encode(n),u={data:n},m={},[4,this.contextProvider.getContext()];case 1:return(_=Me.sent()).authToken&&(m.Authorization="Bearer "+_.authToken),_.instanceIdToken&&(m["Firebase-Instance-ID-Token"]=_.instanceIdToken),I=function(t){var e,n=new Promise(function(r,s){e=setTimeout(function(){s(new l7("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(r.timeout||7e4),N=I.timer,R=I.promise,[4,Promise.race([uI(N,this.postJSON(s,u,m)),R,uI(N,this.cancelAllRequests)])];case 2:if(!(H=Me.sent()))throw new l7("cancelled","Firebase Functions instance was deleted.");if(G=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),s=r,u=void 0;try{var m=e&&e.error;if(m){var _=m.status;if("string"==typeof _){if(!sI[_])return new l7("internal","internal");r=sI[_],s=_}var E=m.message;"string"==typeof E&&(s=E),void 0!==(u=m.details)&&(u=n.decode(u))}}catch(I){}return"ok"===r?null:new l7(r,s,u)}(H.status,H.json,this.serializer))throw G;if(!H.json)throw new l7("internal","Response is not valid JSON object.");if(void 0===(J=H.json.data)&&(J=H.json.result),void 0===J)throw new l7("internal","Response is missing data field.");return[2,{data:this.serializer.decode(J)}]}})})},t}();function uI(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}(function(t,e){var n={Functions:cI};t.INTERNAL.registerComponent(new xa.Component("functions",function(s,u){var m=u.instanceIdentifier,_=s.getProvider("app").getImmediate(),E=s.getProvider("auth-internal"),I=s.getProvider("app-check-internal"),N=s.getProvider("messaging");return new cI(_,E,N,I,m,e)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))})(qn.default,fetch.bind(self)),qn.default.registerVersion("@firebase/functions","0.6.16");var wh,f7=X(6676),hI="w:0.4.32",hY=((wh={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',wh["not-registered"]="Firebase Installation is not registered.",wh["installation-not-found"]="Firebase Installation not found.",wh["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',wh["app-offline"]="Could not process request. Application offline.",wh["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",wh),J6=new ut.ErrorFactory("installations","Installations",hY);function pI(t){return t instanceof ut.FirebaseError&&t.code.includes("request-failed")}function zE(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function mI(t){return{token:t.token,requestStatus:2,expiresIn:dY(t.expiresIn),creationTime:Date.now()}}function VE(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,e.json()];case 1:return n=s.sent(),[2,J6.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function gI(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function vI(t,e){var n=e.refreshToken,r=gI(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function FE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function dY(t){return Number(t.replace("s","000"))}function mY(t,e){var n=e.fid;return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,m,_,E;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return r=zE(t),s=gI(t),m={method:"POST",headers:s,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:hI})},[4,FE(function(){return fetch(r,m)})];case 1:return(_=N.sent()).ok?[4,_.json()]:[3,3];case 2:return[2,{fid:(E=N.sent()).fid||n,registrationStatus:2,refreshToken:E.refreshToken,authToken:mI(E.authToken)}];case 3:return[4,VE("Create Installation",_)];case 4:throw N.sent()}})})}function yI(t){return new Promise(function(e){setTimeout(e,t)})}var vY=/^[cdef][\w-]{21}$/;function yY(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=function(t){return function(t){return btoa(String.fromCharCode.apply(String,(0,L.__spreadArray)([],(0,L.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return vY.test(n)?n:""}catch(r){return""}}function h7(t){return t.appName+"!"+t.appId}var d7=new Map;function _I(t,e){var n=h7(t);bI(n,e),function(t,e){var n=CI();n&&n.postMessage({key:t,fid:e}),wI()}(n,e)}function bI(t,e){var n,r,s=d7.get(t);if(s)try{for(var u=(0,L.__values)(s),m=u.next();!m.done;m=u.next())(0,m.value)(e)}catch(E){n={error:E}}finally{try{m&&!m.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var Ed=null;function CI(){return!Ed&&"BroadcastChannel"in self&&((Ed=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){bI(t.data.key,t.data.fid)}),Ed}function wI(){0===d7.size&&Ed&&(Ed.close(),Ed=null)}var Ad="firebase-installations-store",UE=null;function BE(){return UE||(UE=(0,f7.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ad)}})),UE}function q_(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return n=h7(t),[4,BE()];case 1:return r=_.sent(),s=r.transaction(Ad,"readwrite"),[4,(u=s.objectStore(Ad)).get(n)];case 2:return m=_.sent(),[4,u.put(e,n)];case 3:return _.sent(),[4,s.complete];case 4:return _.sent(),(!m||m.fid!==e.fid)&&_I(t,e.fid),[2,e]}})})}function jE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return e=h7(t),[4,BE()];case 1:return n=s.sent(),[4,(r=n.transaction(Ad,"readwrite")).objectStore(Ad).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function ig(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return n=h7(t),[4,BE()];case 1:return r=E.sent(),s=r.transaction(Ad,"readwrite"),[4,(u=s.objectStore(Ad)).get(n)];case 2:return m=E.sent(),void 0!==(_=e(m))?[3,4]:[4,u.delete(n)];case 3:return E.sent(),[3,6];case 4:return[4,u.put(_,n)];case 5:E.sent(),E.label=6;case 6:return[4,s.complete];case 7:return E.sent(),_&&(!m||m.fid!==_.fid)&&_I(t,_.fid),[2,_]}})})}function qE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,ig(t,function(u){var m=function(t){return AI(t||{fid:yY(),registrationStatus:0})}(u),_=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(J6.create("app-offline"))};var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,mY(t,e)];case 1:return n=s.sent(),[2,q_(t,n)];case 2:return pI(r=s.sent())&&409===r.customData.serverCode?[4,jE(t)]:[3,4];case 3:return s.sent(),[3,6];case 4:return[4,q_(t,{fid:e.fid,registrationStatus:0})];case 5:s.sent(),s.label=6;case 6:throw r;case 7:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xY(t)}:{installationEntry:e}}(t,m);return e=_.registrationPromise,_.installationEntry})];case 1:return""!==(n=s.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=s.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function xY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,EI(t)];case 1:e=u.sent(),u.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,yI(100)];case 3:return u.sent(),[4,EI(t)];case 4:return e=u.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,qE(t)];case 6:return n=u.sent(),r=n.installationEntry,(s=n.registrationPromise)?[2,s]:[2,r];case 7:return[2,e]}})})}function EI(t){return ig(t,function(e){if(!e)throw J6.create("installation-not-found");return AI(e)})}function AI(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function DY(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,E,I;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return s=function(t,e){var n=e.fid;return zE(t)+"/"+n+"/authTokens:generate"}(n,e),u=vI(n,e),(m=r.getImmediate({optional:!0}))&&u.append("x-firebase-client",m.getPlatformInfoString()),E={method:"POST",headers:u,body:JSON.stringify({installation:{sdkVersion:hI}})},[4,FE(function(){return fetch(s,E)})];case 1:return(I=H.sent()).ok?[4,I.json()]:[3,3];case 2:return[2,mI(H.sent())];case 3:return[4,VE("Generate Auth Token",I)];case 4:throw H.sent()}})})}function GE(t,e){return void 0===e&&(e=!1),(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return[4,ig(t.appConfig,function(_){if(!TI(_))throw J6.create("not-registered");var E=_.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(E))return _;if(1===E.requestStatus)return n=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,MI(t.appConfig)];case 1:n=s.sent(),s.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,yI(100)];case 3:return s.sent(),[4,MI(t.appConfig)];case 4:return n=s.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,GE(t,e)]:[2,r]}})})}(t,e),_;if(!navigator.onLine)throw J6.create("app-offline");var I=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,L.__assign)((0,L.__assign)({},t),{authToken:e})}(_);return n=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,r;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,8]),[4,DY(t,e)];case 1:return n=u.sent(),r=(0,L.__assign)((0,L.__assign)({},e),{authToken:n}),[4,q_(t.appConfig,r)];case 2:return u.sent(),[2,n];case 3:return!pI(s=u.sent())||401!==s.customData.serverCode&&404!==s.customData.serverCode?[3,5]:[4,jE(t.appConfig)];case 4:return u.sent(),[3,7];case 5:return r=(0,L.__assign)((0,L.__assign)({},e),{authToken:{requestStatus:0}}),[4,q_(t.appConfig,r)];case 6:u.sent(),u.label=7;case 7:throw s;case 8:return[2]}})})}(t,I),I})];case 1:return r=m.sent(),n?[4,n]:[3,3];case 2:return u=m.sent(),[3,4];case 3:u=r.authToken,m.label=4;case 4:return[2,u]}})})}function MI(t){return ig(t,function(e){if(!TI(e))throw J6.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?(0,L.__assign)((0,L.__assign)({},e),{authToken:{requestStatus:0}}):e})}function TI(t){return void 0!==t&&2===t.registrationStatus}function HY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,qE(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function UY(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return n=function(t,e){var n=e.fid;return zE(t)+"/"+n}(t,e),r=vI(t,e),s={method:"DELETE",headers:r},[4,FE(function(){return fetch(n,s)})];case 1:return(u=m.sent()).ok?[3,3]:[4,VE("Delete Installation",u)];case 2:throw m.sent();case 3:return[2]}})})}function ZE(t){return J6.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new xa.Component("installations",function(n){var r=n.getProvider("app").getImmediate(),m={appConfig:function(t){var e,n;if(!t||!t.options)throw ZE("App Configuration");if(!t.name)throw ZE("App Name");try{for(var s=(0,L.__values)(["projectId","apiKey","appId"]),u=s.next();!u.done;u=s.next()){var m=u.value;if(!t.options[m])throw ZE(m)}}catch(_){e={error:_}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(r),platformLoggerProvider:n.getProvider("platform-logger")};return{app:r,getId:function(){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,qE(t.appConfig)];case 1:return e=s.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):GE(t).catch(console.error),[2,n.fid]}})})}(m)},getToken:function(E){return function(t,e){return void 0===e&&(e=!1),(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,HY(t.appConfig)];case 1:return r.sent(),[4,GE(t,e)];case 2:return[2,r.sent().token]}})})}(m,E)},delete:function(){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,ig(e=t.appConfig,function(s){if(!s||0!==s.registrationStatus)return s})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw J6.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw J6.create("app-offline");case 3:return[4,UY(e,n)];case 4:return r.sent(),[4,jE(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(m)},onIdChange:function(E){return function(t,e){var n=t.appConfig;return function(t,e){CI();var n=h7(t),r=d7.get(n);r||(r=new Set,d7.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=h7(t),r=d7.get(n);!r||(r.delete(e),0===r.size&&d7.delete(n),wI())}(n,e)}}(m,E)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(qn.default);var Po,$Y=((Po={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Po["only-available-in-window"]="This method is available in a Window context.",Po["only-available-in-sw"]="This method is available in a service worker context.",Po["permission-default"]="The notification permission was not granted and dismissed instead.",Po["permission-blocked"]="The notification permission was not granted and blocked instead.",Po["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Po["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Po["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Po["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Po["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Po["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Po["token-update-no-token"]="FCM returned no token when updating the user to push.",Po["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Po["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Po["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Po["invalid-vapid-key"]="The public VAPID key must be a string.",Po["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Po),lr=new ut.ErrorFactory("messaging","Messaging",$Y),G_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",II="FCM_MSG",xI="google.c.a.c_id",Eh=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Eh||(Eh={})),Eh))();function X6(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,L.__spreadArray)([],(0,L.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rQ(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length),u=0;u<r.length;++u)s[u]=r.charCodeAt(u);return s}var $E="fcm_token_details_db",SI="fcm_token_object_Store";function oQ(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,u=this;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!m.sent().map(function(_){return _.name}).includes($E))return[2,null];m.label=2;case 2:return r=null,[4,(0,f7.openDb)($E,5,function(_){return(0,L.__awaiter)(u,void 0,void 0,function(){var E,I,N,R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return _.oldVersion<2?[2]:_.objectStoreNames.contains(SI)?[4,(E=_.transaction.objectStore(SI)).index("fcmSenderId").get(t)]:[2];case 1:return I=H.sent(),[4,E.clear()];case 2:if(H.sent(),!I)return[2];if(2===_.oldVersion){if(!(N=I).auth||!N.p256dh||!N.endpoint)return[2];r={token:N.fcmToken,createTime:null!==(R=N.createTime)&&void 0!==R?R:Date.now(),subscriptionOptions:{auth:N.auth,p256dh:N.p256dh,endpoint:N.endpoint,swScope:N.swScope,vapidKey:"string"==typeof N.vapidKey?N.vapidKey:X6(N.vapidKey)}}}else(3===_.oldVersion||4===_.oldVersion)&&(r={token:(N=I).fcmToken,createTime:N.createTime,subscriptionOptions:{auth:X6(N.auth),p256dh:X6(N.p256dh),endpoint:N.endpoint,swScope:N.swScope,vapidKey:X6(N.vapidKey)}});return[2]}})})})];case 3:return m.sent().close(),[4,(0,f7.deleteDb)($E)];case 4:return m.sent(),[4,(0,f7.deleteDb)("fcm_vapid_details_db")];case 5:return m.sent(),[4,(0,f7.deleteDb)("undefined")];case 6:return m.sent(),[2,sQ(r)?r:null]}})})}function sQ(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Md="firebase-messaging-store",WE=null;function KE(){return WE||(WE=(0,f7.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Md)}})),WE}function Z_(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return e=QE(t),[4,KE()];case 1:return[4,u.sent().transaction(Md).objectStore(Md).get(e)];case 2:return(r=u.sent())?[2,r]:[3,3];case 3:return[4,oQ(t.appConfig.senderId)];case 4:return(s=u.sent())?[4,YE(t,s)]:[3,6];case 5:return u.sent(),[2,s];case 6:return[2]}})})}function YE(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return n=QE(t),[4,KE()];case 1:return r=u.sent(),[4,(s=r.transaction(Md,"readwrite")).objectStore(Md).put(e,n)];case 2:return u.sent(),[4,s.complete];case 3:return u.sent(),[2,e]}})})}function uQ(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return e=QE(t),[4,KE()];case 1:return n=s.sent(),[4,(r=n.transaction(Md,"readwrite")).objectStore(Md).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function QE(t){return t.appConfig.appId}function lQ(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,_;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return[4,XE(t)];case 1:n=I.sent(),r=NI(e),s={method:"POST",headers:n,body:JSON.stringify(r)},I.label=2;case 2:return I.trys.push([2,5,,6]),[4,fetch(JE(t.appConfig),s)];case 3:return[4,I.sent().json()];case 4:return u=I.sent(),[3,6];case 5:throw _=I.sent(),lr.create("token-subscribe-failed",{errorInfo:_});case 6:if(u.error)throw lr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw lr.create("token-subscribe-no-token");return[2,u.token]}})})}function fQ(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,_;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return[4,XE(t)];case 1:n=I.sent(),r=NI(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)},I.label=2;case 2:return I.trys.push([2,5,,6]),[4,fetch(JE(t.appConfig)+"/"+e.token,s)];case 3:return[4,I.sent().json()];case 4:return u=I.sent(),[3,6];case 5:throw _=I.sent(),lr.create("token-update-failed",{errorInfo:_});case 6:if(u.error)throw lr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw lr.create("token-update-no-token");return[2,u.token]}})})}function DI(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,u,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,XE(t)];case 1:n=E.sent(),r={method:"DELETE",headers:n},E.label=2;case 2:return E.trys.push([2,5,,6]),[4,fetch(JE(t.appConfig)+"/"+e,r)];case 3:return[4,E.sent().json()];case 4:if((u=E.sent()).error)throw lr.create("token-unsubscribe-failed",{errorInfo:u.error.message});return[3,6];case 5:throw _=E.sent(),lr.create("token-unsubscribe-failed",{errorInfo:_});case 6:return[2]}})})}function JE(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function XE(t){var e=t.appConfig,n=t.installations;return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,n.getToken()];case 1:return r=s.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function NI(t){var s=t.vapidKey,u={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return s!==G_&&(u.web.applicationPubKey=s),u}function eA(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:if("granted"!==Notification.permission)throw lr.create("permission-blocked");return[4,pQ(e,n)];case 1:return r=_.sent(),[4,Z_(t)];case 2:return s=_.sent(),u={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:X6(r.getKey("auth")),p256dh:X6(r.getKey("p256dh"))},s?[3,3]:[2,kI(t,u)];case 3:if(function(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(s.subscriptionOptions,u))return[3,8];_.label=4;case 4:return _.trys.push([4,6,,7]),[4,DI(t,s.token)];case 5:return _.sent(),[3,7];case 6:return m=_.sent(),console.warn(m),[3,7];case 7:return[2,kI(t,u)];case 8:return Date.now()>=s.createTime+6048e5?[2,dQ({token:s.token,createTime:Date.now(),subscriptionOptions:u},t,e)]:[2,s.token];case 9:return[2]}})})}function og(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,Z_(t)];case 1:return(n=s.sent())?[4,DI(t,n.token)]:[3,4];case 2:return s.sent(),[4,uQ(t)];case 3:s.sent(),s.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=s.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function dQ(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return m.trys.push([0,3,,5]),[4,fQ(e,t)];case 1:return r=m.sent(),s=(0,L.__assign)((0,L.__assign)({},t),{token:r,createTime:Date.now()}),[4,YE(e,s)];case 2:return m.sent(),[2,r];case 3:return u=m.sent(),[4,og(e,n)];case 4:throw m.sent(),u;case 5:return[2]}})})}function kI(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,lQ(t,e)];case 1:return n=s.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,YE(t,r)];case 2:return s.sent(),[2,r.token]}})})}function pQ(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rQ(e)})]}})})}function LI(t){return"object"==typeof t&&!!t&&xI in t}function OI(t){return new Promise(function(e){setTimeout(e,t)})}var bQ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw lr.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.vapidKey?[3,2]:[4,Z_(this.firebaseDependencies)];case 1:r=s.sent(),this.vapidKey=null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:G_,s.label=2;case 2:return[2,eA(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return og(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw lr.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw lr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw lr.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw lr.create("only-available-in-window")},t.prototype.onMessage=function(){throw lr.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw lr.create("only-available-in-window")},t.prototype.onPush=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return(n=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(e))?[4,RI()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(r=m.sent())?[2,MQ(r,n)]:(s=!1,n.notification?[4,TQ(CQ(n))]:[3,3]);case 2:m.sent(),s=!0,m.label=3;case 3:return!0===s&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(u=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var s=e.notification.image;s&&(t.notification.image=s)}}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(n),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(u):this.bgMessageHandler.next(u)),[4,OI(1e3)]);case 4:return m.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return(0,L.__awaiter)(this,void 0,void 0,function(){var u;return(0,L.__generator)(this,function(m){switch(m.label){case 0:return e.newSubscription?[3,2]:[4,og(this.firebaseDependencies,self.registration)];case 1:return m.sent(),[2];case 2:return[4,Z_(this.firebaseDependencies)];case 3:return u=m.sent(),[4,og(this.firebaseDependencies,self.registration)];case 4:return m.sent(),[4,eA(this.firebaseDependencies,self.registration,null!==(r=null===(n=null==u?void 0:u.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:G_)];case 5:return m.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return(s=null===(r=null===(n=e.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[II])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(u=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(LI(t.data)?self.location.origin:null)}(s))?(m=new URL(u,self.location.href),_=new URL(self.location.origin),m.host!==_.host?[2]:[4,EQ(m)]):[2]):[2];case 1:return(E=I.sent())?[3,4]:[4,self.clients.openWindow(u)];case 2:return E=I.sent(),[4,OI(3e3)];case 3:return I.sent(),[3,6];case 4:return[4,E.focus()];case 5:E=I.sent(),I.label=6;case 6:return E?(s.messageType=Eh.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,[2,E.postMessage(s)]):[2]}})})},t}();function CQ(t){var e,n=(0,L.__assign)({},t.notification);return n.data=((e={})[II]=t,e),n}function EQ(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,u,m,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,RI()];case 1:e=E.sent();try{for(n=(0,L.__values)(e),r=n.next();!r.done;r=n.next())if(s=r.value,u=new URL(s.url,self.location.href),t.host===u.host)return[2,s]}catch(I){m={error:I}}finally{try{r&&!r.done&&(_=n.return)&&_.call(n)}finally{if(m)throw m.error}}return[2,null]}})})}function MQ(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Eh.PUSH_RECEIVED;try{for(var s=(0,L.__values)(t),u=s.next();!u.done;u=s.next())u.value.postMessage(e)}catch(_){n={error:_}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function RI(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function TQ(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var xQ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return(n=e.data).isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Eh.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),LI(r=n.data)&&"1"===r["google.c.a.e"]?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if("granted"!==Notification.permission)throw lr.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,eA(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=G_),[2]})})},t.prototype.updateSwReg=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),lr.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,og(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=n.sent()))return[2];throw lr.create("denied"===e?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw lr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw lr.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");if(this.swRegistration)throw lr.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw lr.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw lr.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return r=function(t){switch(t){case Eh.NOTIFICATION_CLICKED:return"notification_open";case Eh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return u.sent().logEvent(r,{message_id:n[xI],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function tA(t){return lr.create("missing-app-config-values",{valueName:t})}var OQ={isSupported:PI};function PI(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}qn.default.INTERNAL.registerComponent(new xa.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n=function(t){var e,n;if(!t||!t.options)throw tA("App Configuration Object");if(!t.name)throw tA("App Name");var s=t.options;try{for(var u=(0,L.__values)(["projectId","apiKey","appId","messagingSenderId"]),m=u.next();!m.done;m=u.next()){var _=m.value;if(!s[_])throw tA(_)}}catch(E){e={error:E}}finally{try{m&&!m.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return{appName:t.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}(e),u={app:e,appConfig:n,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!PI())throw lr.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new bQ(u):new xQ(u)},"PUBLIC").setServiceProps(OQ));var Ds,nA="FB-PERF-TRACE-MEASURE",jI="@firebase/performance/config",qI="@firebase/performance/configexpire",GI="Performance",UQ=((Ds={})["trace started"]="Trace {$traceName} was started before.",Ds["trace stopped"]="Trace {$traceName} is not running.",Ds["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ds["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ds["no window"]="Window is not available.",Ds["no app id"]="App id is not available.",Ds["no project id"]="Project id is not available.",Ds["no api key"]="Api key is not available.",Ds["invalid cc log"]="Attempted to queue invalid cc event",Ds["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ds["RC response not ok"]="RC response is not ok",Ds["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ds["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ds["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ds["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ds),ha=new ut.ErrorFactory("performance",GI,UQ),e3=new ne.Logger(GI);e3.logLevel=ne.LogLevel.INFO;var rA,ZI,da=function(){function t(e){if(this.window=e,!e)throw ha.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},t.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,ut.isIndexedDBAvailable)()||(e3.info("IndexedDB is not supported by current browswer"),!1):(e3.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(e,n){this.PerformanceObserver&&new this.PerformanceObserver(function(s){for(var u=0,m=s.getEntries();u<m.length;u++)n(m[u])}).observe({entryTypes:[e]})},t.getInstance=function(){return void 0===rA&&(rA=new t(ZI)),rA},t}();function $I(t,e){var n=t.length-e.length;if(n<0||n>1)throw ha.create("invalid String merger input");for(var r=[],s=0;s<t.length;s++)r.push(t.charAt(s)),e.length>s&&r.push(e.charAt(s));return r.join("")}var iA,WI,zo=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=$I("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=$I("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw ha.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw ha.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw ha.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===iA&&(iA=new t),iA},t}();function oA(){return WI}var Td=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Td||(Td={})),Td))(),GQ=["firebase_","google_","ga_"],ZQ=new RegExp("^[a-zA-Z]\\w*$");function KQ(){var t=da.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function KI(){switch(da.getInstance().document.visibilityState){case"visible":return Td.VISIBLE;case"hidden":return Td.HIDDEN;default:return Td.UNKNOWN}}function YQ(){var e=da.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var oJ="Could not fetch config, will use default configs";function YI(t){if(!t)return t;var e=zo.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=QI(e.tracesSamplingRate),e.logNetworkAfterSampling=QI(e.networkRequestsSamplingRate),t}function QI(t){return Math.random()<=t}var aA,sA=1;function JI(){return sA=2,aA=aA||function(){var t=da.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return function(){var t=zo.getInstance().installationsService.getId();return t.then(function(e){WI=e}),t}()}).then(function(t){return function(t){var e=function(){var t=da.getInstance().localStorage;if(t){var e=t.getItem(qI);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(jI);if(n)try{return JSON.parse(n)}catch(s){return}}}}();return e?(YI(e),Promise.resolve()):function(t){return function(){var t=zo.getInstance().installationsService.getToken();return t.then(function(e){}),t}().then(function(e){var r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+zo.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+zo.getInstance().getApiKey(),s=new Request(r,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:zo.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(s).then(function(u){if(u.ok)return u.json();throw ha.create("RC response not ok")})}).catch(function(){e3.info(oJ)})}(t).then(YI).then(function(n){return function(t){var e=da.getInstance().localStorage;!t||!e||(e.setItem(jI,JSON.stringify(t)),e.setItem(qI,String(Date.now()+60*zo.getInstance().configTimeToLive*60*1e3)))}(n)},function(){})}(t)}).then(function(){return XI()},function(){return XI()})}function XI(){sA=3}var uA,$_=3,Ah=[],tx=!1;function W_(t){setTimeout(function(){if(0!==$_){if(!Ah.length)return W_(1e4);!function(){var t=Ah.splice(0,1e3),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}});(function(t,e){return function(t){var e=zo.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(n){return n.ok||e3.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),s=1e4;isNaN(r)||(s=Math.max(r,s));var u=n.logResponseDetails;Array.isArray(u)&&u.length>0&&"RETRY_REQUEST_LATER"===u[0].responseAction&&(Ah=(0,L.__spreadArray)((0,L.__spreadArray)([],e),Ah),e3.info("Retry transport request later.")),$_=3,W_(s)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:zo.getInstance().logSource,log_event:e},t).catch(function(){Ah=(0,L.__spreadArray)((0,L.__spreadArray)([],t),Ah),$_--,e3.info("Tries left: "+$_+"."),W_(1e4)})}()}},t)}function vJ(t){if(!t.eventTime||!t.message)throw ha.create("invalid cc log");Ah=(0,L.__spreadArray)((0,L.__spreadArray)([],Ah),[t])}function nx(t,e){uA||(uA=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];vJ({message:t.apply(void 0,e),eventTime:Date.now()})}}(bJ)),uA(t,e)}function K_(t){var e=zo.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!da.getInstance().requiredApisAvailable()||t.isAuto&&KI()!==Td.VISIBLE||(3===sA?lA(t):JI().then(function(){return lA(t)},function(){return lA(t)}))}function lA(t){if(oA()){var e=zo.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return nx(t,1)},0)}}function bJ(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:rx(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:rx(),trace_metric:e};return JSON.stringify(r)}(t)}function rx(){return{google_app_id:zo.getInstance().getAppId(),app_instance_id:oA(),web_app_info:{sdk_version:"0.4.18",page_url:da.getInstance().getUrl(),service_worker_status:KQ(),visibility_state:KI(),effective_connection_type:YQ()},application_process_state:0}}var MJ=["_fp","_fcp","_fid"],sg=function(){function t(e,n,r){void 0===n&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=da.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=r||nA+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw ha.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw ha.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),K_(this)},t.prototype.record=function(e,n,r){if(e<=0)throw ha.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw ha.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=(0,L.__assign)({},r.attributes)),r&&r.metrics)for(var s=0,u=Object.keys(r.metrics);s<u.length;s++){var m=u[s];isNaN(Number(r.metrics[m]))||(this.counters[m]=Number(Math.floor(r.metrics[m])))}K_(this)},t.prototype.incrementMetric=function(e,n){void 0===n&&(n=1),this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&MJ.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw ha.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function(t){var e=Math.floor(t);return e<t&&e3.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(n)},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=function(t){return!(0===t.length||t.length>40||GQ.some(function(n){return t.startsWith(n)})||!t.match(ZQ))}(e),s=function(t){return 0!==t.length&&t.length<=100}(n);if(r&&s)this.customAttributes[e]=n;else{if(!r)throw ha.create("invalid attribute name",{attributeName:e});if(!s)throw ha.create("invalid attribute value",{attributeValue:n})}},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return(0,L.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var s=da.getInstance().getUrl();if(s){var u=new t("_wt_"+s,!0),m=Math.floor(1e3*da.getInstance().getTimeOrigin());if(u.setStartTime(m),e&&e[0]&&(u.setDuration(Math.floor(1e3*e[0].duration)),u.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),u.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),u.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var I=n.find(function(R){return"first-paint"===R.name});I&&I.startTime&&u.putMetric("_fp",Math.floor(1e3*I.startTime));var N=n.find(function(R){return"first-contentful-paint"===R.name});N&&N.startTime&&u.putMetric("_fcp",Math.floor(1e3*N.startTime)),r&&u.putMetric("_fid",Math.floor(1e3*r))}K_(u)}},t.createUserTimingTrace=function(e){K_(new t(e,!1,e))},t}();function ix(t){var e=t;if(e&&void 0!==e.responseStart){var n=da.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),s=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,u=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=zo.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],s=e.flTransportEndpointUrl.split("?")[0];n===r||n===s||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return nx(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:u})}}function ox(){!oA()||(setTimeout(function(){return function(){var t=da.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){sg.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(s){r&&(clearTimeout(r),sg.createOobTrace(e,n,s))})}else sg.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=da.getInstance(),n=0,r=t.getEntriesByType("resource");n<r.length;n++)ix(r[n]);t.setupObserver("resource",ix)}()},0),setTimeout(function(){return function(){for(var t=da.getInstance(),n=0,r=t.getEntriesByType("measure");n<r.length;n++)sx(r[n]);t.setupObserver("measure",sx)}()},0))}function sx(t){var e=t.name;e.substring(0,nA.length)!==nA&&sg.createUserTimingTrace(e)}var kJ=function(){function t(e){this.app=e,da.getInstance().requiredApisAvailable()&&(0,ut.validateIndexedDBOpenable)().then(function(n){n&&(tx||(W_(5500),tx=!0),JI().then(ox,ox))}).catch(function(n){e3.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new sg(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return zo.getInstance().instrumentationEnabled},set:function(e){zo.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return zo.getInstance().dataCollectionEnabled},set:function(e){zo.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new xa.Component("performance",function(n){return function(n,r){if("[DEFAULT]"!==n.name)throw ha.create("FB not default");if("undefined"==typeof window)throw ha.create("no window");return function(t){ZI=t}(window),zo.getInstance().firebaseAppInstance=n,zo.getInstance().installationsService=r,new kJ(n)}(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(qn.default);var ax="https://www.googletagmanager.com/gtag/js",Ns=(()=>(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Ns||(Ns={})),Ns))(),Y_=(()=>(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Y_||(Y_={})),Y_))(),ks=new ne.Logger("@firebase/analytics");function ZJ(t,e,n,r,s,u){return(0,L.__awaiter)(this,void 0,void 0,function(){var m,_,E,I;return(0,L.__generator)(this,function(N){switch(N.label){case 0:m=r[s],N.label=1;case 1:return N.trys.push([1,7,,8]),m?[4,e[m]]:[3,3];case 2:return N.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return _=N.sent(),(E=_.find(function(R){return R.measurementId===s}))?[4,e[E.appId]]:[3,6];case 5:N.sent(),N.label=6;case 6:return[3,8];case 7:return I=N.sent(),ks.error(I),[3,8];case 8:return t(Ns.CONFIG,s,u),[2]}})})}function $J(t,e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var u,m,_,E,I,N,G;return(0,L.__generator)(this,function(J){switch(J.label){case 0:return J.trys.push([0,4,,5]),u=[],s&&s.send_to?(m=s.send_to,Array.isArray(m)||(m=[m]),[4,Promise.all(n)]):[3,2];case 1:for(_=J.sent(),E=function(ue){var Me=_.find(function(Fe){return Fe.measurementId===ue}),Se=Me&&e[Me.appId];if(!Se)return u=[],"break";u.push(Se)},I=0,N=m;I<N.length&&"break"!==E(N[I]);I++);J.label=2;case 2:return 0===u.length&&(u=Object.values(e)),[4,Promise.all(u)];case 3:return J.sent(),t(Ns.EVENT,r,s||{}),[3,5];case 4:return G=J.sent(),ks.error(G),[3,5];case 5:return[2]}})})}var tl,QJ=((tl={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",tl["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",tl["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",tl["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",tl["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",tl["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",tl["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",tl["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',tl["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',tl),Vc=new ut.ErrorFactory("analytics","Analytics",QJ),cx=new(function(){function t(e,n){void 0===e&&(e={}),void 0===n&&(n=1e3),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}());function tX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function nX(t){var e;return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,u,m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return n=t.appId,s={method:"GET",headers:tX(t.apiKey)},u="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(u,s)];case 1:if(200===(m=I.sent()).status||304===m.status)return[3,6];_="",I.label=2;case 2:return I.trys.push([2,4,,5]),[4,m.json()];case 3:return E=I.sent(),(null===(e=E.error)||void 0===e?void 0:e.message)&&(_=E.error.message),[3,5];case 4:return I.sent(),[3,5];case 5:throw Vc.create("config-fetch-failed",{httpStatus:m.status,responseMessage:_});case 6:return[2,m.json()]}})})}function ux(t,e,n,r){var s=e.throttleEndTimeMillis,u=e.backoffCount;return void 0===r&&(r=cx),(0,L.__awaiter)(this,void 0,void 0,function(){var m,_,E,I,N,R,H;return(0,L.__generator)(this,function(G){switch(G.label){case 0:m=t.appId,_=t.measurementId,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,iX(n,s)];case 2:return G.sent(),[3,4];case 3:if(E=G.sent(),_)return ks.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+_+' provided in the "measurementId" field in the local Firebase config. ['+E.message+"]"),[2,{appId:m,measurementId:_}];throw E;case 4:return G.trys.push([4,6,,7]),[4,nX(t)];case 5:return I=G.sent(),r.deleteThrottleMetadata(m),[2,I];case 6:if(!function(t){if(!(t instanceof ut.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(N=G.sent())){if(r.deleteThrottleMetadata(m),_)return ks.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+_+' provided in the "measurementId" field in the local Firebase config. ['+N.message+"]"),[2,{appId:m,measurementId:_}];throw N}return R=503===Number(N.customData.httpStatus)?(0,ut.calculateBackoffMillis)(u,r.intervalMillis,30):(0,ut.calculateBackoffMillis)(u,r.intervalMillis),H={throttleEndTimeMillis:Date.now()+R,backoffCount:u+1},r.setThrottleMetadata(m,H),ks.debug("Calling attemptFetch again in "+R+" millis"),[2,ux(t,H,n,r)];case 7:return[2]}})})}function iX(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),u=setTimeout(n,s);t.addEventListener(function(){clearTimeout(u),r(Vc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var sX=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var fx,cg,nl={},Q_=[],lx={},ag="dataLayer",fA="gtag",J_=!1;function uX(t){if(J_)throw Vc.create("already-initialized");t.dataLayerName&&(ag=t.dataLayerName),t.gtagName&&(fA=t.gtagName)}function fX(t,e){!function(){var t=[];if((0,ut.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,ut.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,s){return"("+(s+1)+") "+r}).join(" "),n=Vc.create("invalid-analytics-context",{errorInfo:e});ks.warn(n.message)}}();var n=t.options.appId;if(!n)throw Vc.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vc.create("no-api-key");ks.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=nl[n])throw Vc.create("already-exists",{id:n});if(!J_){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ag);var r=function(t,e,n,r,s){var u=function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(u=window[s]),window[s]=function(t,e,n,r){return function(u,m,_){return(0,L.__awaiter)(this,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:return I.trys.push([0,6,,7]),u!==Ns.EVENT?[3,2]:[4,$J(t,e,n,m,_)];case 1:return I.sent(),[3,5];case 2:return u!==Ns.CONFIG?[3,4]:[4,ZJ(t,e,n,r,m,_)];case 3:return I.sent(),[3,5];case 4:t(Ns.SET,m),I.label=5;case 5:return[3,7];case 6:return E=I.sent(),ks.error(E),[3,7];case 7:return[2]}})})}}(u,t,e,n),{gtagCore:u,wrappedGtag:window[s]}}(nl,Q_,lx,ag,fA);cg=r.wrappedGtag,fx=r.gtagCore,J_=!0}return nl[n]=function(t,e,n,r,s,u){return(0,L.__awaiter)(this,void 0,void 0,function(){var m,_,E,I,N,R,H;return(0,L.__generator)(this,function(G){switch(G.label){case 0:return(m=function(t,e,n){return void 0===e&&(e=cx),(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,u,m,_,E,I=this;return(0,L.__generator)(this,function(N){if(u=(r=t.options).apiKey,m=r.measurementId,!(s=r.appId))throw Vc.create("no-app-id");if(!u){if(m)return[2,{measurementId:m,appId:s}];throw Vc.create("no-api-key")}return _=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},E=new sX,setTimeout(function(){return(0,L.__awaiter)(I,void 0,void 0,function(){return(0,L.__generator)(this,function(R){return E.abort(),[2]})})},6e4),[2,ux({appId:s,apiKey:u,measurementId:m},_,E,e)]})})}(t)).then(function(J){n[J.measurementId]=J.appId,t.options.measurementId&&J.measurementId!==t.options.measurementId&&ks.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+J.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(J){return ks.error(J)}),e.push(m),_=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var t;return(0,L.__generator)(this,function(e){switch(e.label){case 0:return(0,ut.isIndexedDBAvailable)()?[3,1]:(ks.warn(Vc.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,ut.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ks.warn(Vc.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(J){if(J)return r.getId()}),[4,Promise.all([m,_])];case 1:return E=G.sent(),I=E[0],N=E[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ax))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=ax+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(u,I.measurementId),s("js",new Date),(H={}).origin="firebase",H.update=!0,R=H,null!=N&&(R.firebase_id=N),s(Ns.CONFIG,I.measurementId,R),[2,I.measurementId]}})})}(t,Q_,lx,e,fx,ag),{app:t,logEvent:function(_,E,I){(function(t,e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return s&&s.global?(t(Ns.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:u=_.sent(),m=(0,L.__assign)((0,L.__assign)({},r),{send_to:u}),t(Ns.EVENT,n,m),_.label=3;case 3:return[2]}})})})(cg,nl[n],_,E,I).catch(function(N){return ks.error(N)})},setCurrentScreen:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return r&&r.global?(t(Ns.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=u.sent(),t(Ns.CONFIG,s,{update:!0,screen_name:n}),u.label=3;case 3:return[2]}})})})(cg,nl[n],_,E).catch(function(I){return ks.error(I)})},setUserId:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return r&&r.global?(t(Ns.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=u.sent(),t(Ns.CONFIG,s,{update:!0,user_id:n}),u.label=3;case 3:return[2]}})})})(cg,nl[n],_,E).catch(function(I){return ks.error(I)})},setUserProperties:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,u,m,_,E;return(0,L.__generator)(this,function(I){switch(I.label){case 0:if(!r||!r.global)return[3,1];for(s={},u=0,m=Object.keys(n);u<m.length;u++)s["user_properties."+(_=m[u])]=n[_];return t(Ns.SET,s),[2,Promise.resolve()];case 1:return[4,e];case 2:E=I.sent(),t(Ns.CONFIG,E,{update:!0,user_properties:n}),I.label=3;case 3:return[2]}})})})(cg,nl[n],_,E).catch(function(I){return ks.error(I)})},setAnalyticsCollectionEnabled:function(_){(function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(nl[n],_).catch(function(E){return ks.error(E)})},INTERNAL:{delete:function(){return delete nl[n],Promise.resolve()}}}}var hx="analytics";function mX(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:if((0,ut.isBrowserExtension)())return[2,!1];if(!(0,ut.areCookiesEnabled)())return[2,!1];if(!(0,ut.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,ut.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new xa.Component(hx,function(n){return fX(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:uX,EventName:Y_,isSupported:mX})),t.INTERNAL.registerComponent(new xa.Component("analytics-internal",function(n){try{return{logEvent:n.getProvider(hx).getImmediate().logEvent}}catch(s){throw Vc.create("interop-component-reg-failed",{reason:s})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(qn.default);var Wa,gX=function(){function t(e,n,r,s){this.client=e,this.storage=n,this.storageCache=r,this.logger=s}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,s=r<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+s+"."),s},t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=_.sent(),r=n[0],(s=n[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,s]:(e.eTag=s&&s.eTag,[4,this.client.fetch(e)]);case 2:return u=_.sent(),m=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===u.status&&m.push(this.storage.setLastSuccessfulFetchResponse(u)),[4,Promise.all(m)];case 3:return _.sent(),[2,u]}})})},t}(),vX=((Wa={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Wa["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Wa["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Wa["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Wa["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wa["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wa["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wa["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Wa["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wa["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Wa["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Wa["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wa["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wa),Fc=new ut.ErrorFactory("remoteconfig","Remote Config",vX);function _X(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}var bX=function(){function t(e,n,r,s,u,m){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=s,this.apiKey=u,this.appId=m}return t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,u,m,_,E,I,N,R,H,G,J,ue,Me,Se,Fe,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=Je.sent(),u=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",m=u+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,_={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},E={sdk_version:this.sdkVersion,app_instance_id:n[0],app_instance_id_token:n[1],app_id:this.appId,language_code:_X()},I={method:"POST",headers:_,body:JSON.stringify(E)},N=fetch(m,I),R=new Promise(function(Ut,fr){e.signal.addEventListener(function(){var is=new Error("The operation was aborted.");is.name="AbortError",fr(is)})}),Je.label=2;case 2:return Je.trys.push([2,5,,6]),[4,Promise.race([N,R])];case 3:return Je.sent(),[4,N];case 4:return H=Je.sent(),[3,6];case 5:throw G=Je.sent(),J="fetch-client-network","AbortError"===G.name&&(J="fetch-timeout"),Fc.create(J,{originalErrorMessage:G.message});case 6:if(ue=H.status,Me=H.headers.get("ETag")||void 0,200!==H.status)return[3,11];$e=void 0,Je.label=7;case 7:return Je.trys.push([7,9,,10]),[4,H.json()];case 8:return $e=Je.sent(),[3,10];case 9:throw gt=Je.sent(),Fc.create("fetch-client-parse",{originalErrorMessage:gt.message});case 10:Se=$e.entries,Fe=$e.state,Je.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Fe?ue=500:"NO_CHANGE"===Fe?ue=304:("NO_TEMPLATE"===Fe||"EMPTY_CONFIG"===Fe)&&(Se={}),304!==ue&&200!==ue)throw Fc.create("fetch-status",{httpStatus:ue});return[2,{status:ue,eTag:Me,config:Se}]}})})},t}(),CX=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}(),AX=["1","true","t","yes","y","on"],hA=function(){function t(e,n){void 0===n&&(n=""),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&AX.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},t.prototype.getSource=function(){return this._source},t}(),IX=function(){function t(e,n,r,s,u){this.app=e,this._client=n,this._storageCache=r,this._storage=s,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ne.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=ne.LogLevel.SILENT;break;default:this._logger.logLevel=ne.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=s.sent(),r=e[1],(n=e[0])&&n.config&&n.eTag&&n.eTag!==r?[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])]:[2,!1];case 2:return s.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s=this;return(0,L.__generator)(this,function(u){switch(u.label){case 0:e=new CX,setTimeout(function(){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(m){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return u.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return u.sent(),[3,6];case 4:return n=u.sent(),r=function(t,e){return t instanceof ut.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(n)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw u.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,L.__assign)((0,L.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&void 0!==n[e]?new hA("remote",n[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new hA("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new hA("static"))},t}();function X_(t,e){var n=t.target.error||void 0;return Fc.create(e,{originalErrorMessage:n&&n.message})}var Id="app_namespace_store",kX=function(){function t(e,n,r,s){void 0===s&&(s=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(r){e(X_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Id,{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=s}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(u,m){var E=n.transaction([Id],"readonly").objectStore(Id),I=r.createCompositeKey(e);try{var N=E.get(I);N.onerror=function(R){m(X_(R,"storage-get"))},N.onsuccess=function(R){var H=R.target.result;u(H?H.value:void 0)}}catch(R){m(Fc.create("storage-get",{originalErrorMessage:R&&R.message}))}})]}})})},t.prototype.set=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s=this;return(0,L.__generator)(this,function(u){switch(u.label){case 0:return[4,this.openDbPromise];case 1:return r=u.sent(),[2,new Promise(function(m,_){var I=r.transaction([Id],"readwrite").objectStore(Id),N=s.createCompositeKey(e);try{var R=I.put({compositeKey:N,value:n});R.onerror=function(H){_(X_(H,"storage-set"))},R.onsuccess=function(){m()}}catch(H){_(Fc.create("storage-set",{originalErrorMessage:H&&H.message}))}})]}})})},t.prototype.delete=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(u,m){var E=n.transaction([Id],"readwrite").objectStore(Id),I=r.createCompositeKey(e);try{var N=E.delete(I);N.onerror=function(R){m(X_(R,"storage-delete"))},N.onsuccess=function(){u()}}catch(R){m(Fc.create("storage-delete",{originalErrorMessage:R&&R.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}(),LX=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,u,m;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return(s=_.sent())&&(this.lastFetchStatus=s),[4,n];case 2:return(u=_.sent())&&(this.lastSuccessfulFetchTimestampMillis=u),[4,r];case 3:return(m=_.sent())&&(this.activeConfig=m),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function OX(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),u=setTimeout(n,s);t.addEventListener(function(){clearTimeout(u),r(Fc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var PX=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,s=n.backoffCount;return(0,L.__awaiter)(this,void 0,void 0,function(){var u,m,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,OX(e.signal,r)];case 1:E.sent(),E.label=2;case 2:return E.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return u=E.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return E.sent(),[2,u];case 5:if(!function(t){if(!(t instanceof ut.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(m=E.sent()))throw m;return _={throttleEndTimeMillis:Date.now()+(0,ut.calculateBackoffMillis)(s),backoffCount:s+1},[4,this.storage.setThrottleMetadata(_)];case 6:return E.sent(),[2,this.attemptFetch(e,_)];case 7:return[2]}})})},t}(),px="@firebase/remote-config";!function(t){t.INTERNAL.registerComponent(new xa.Component("remoteConfig",function(n,r){var s=r.instanceIdentifier,u=n.getProvider("app").getImmediate(),m=n.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Fc.create("registration-window");var _=u.options,E=_.projectId,I=_.apiKey,N=_.appId;if(!E)throw Fc.create("registration-project-id");if(!I)throw Fc.create("registration-api-key");if(!N)throw Fc.create("registration-app-id");var R=new kX(N,u.name,s=s||"firebase"),H=new LX(R),G=new ne.Logger(px);G.logLevel=ne.LogLevel.ERROR;var J=new bX(m,t.SDK_VERSION,s,E,I,N),ue=new PX(J,R),Me=new gX(ue,R,H,G),Se=new IX(u,Me,H,R,G);return Se.ensureInitialized(),Se},"PUBLIC").setMultipleInstances(!0)),t.registerVersion(px,"0.1.43")}(qn.default),X(7367),qn.default.registerVersion("firebase","8.10.1","app"),qn.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),qn.default.registerVersion("firebase","8.10.1");const BX=["newIngredient"],jX=function(t){return{"background-image":t}};function qX(t,e){1&t&&l._UZ(0,"div",12),2&t&&l.Q6J("ngStyle",l.VKq(1,jX,"url("+e.$implicit+")"))}let GX=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new St.xQ}ngOnInit(){this.itemId?this.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId).valueChanges().pipe(bi(this.destroy$)).subscribe(n=>{n&&(this.item=n)}):alert("something went wrong! ")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}editPrice(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{price:+n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{price:+n}),r.commit().catch(m=>{m&&alert(m)})}editQuantity(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{quantity:+n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{quantity:+n}),r.commit().catch(m=>{m&&alert(m)})}editCategory(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{category:n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{category:n}),r.commit().catch(m=>{m&&alert(m)}),this.firestore.collection("items").doc(this.itemId).update({category:n}).catch(m=>alert(m))}editCarBrand(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{brand:n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{brand:n}),r.commit().catch(m=>{m&&alert(m)}),this.firestore.collection("items").doc(this.itemId).update({brand:n}).catch(m=>alert(m))}editTopic(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{topics:n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{topics:n}),r.commit().catch(m=>{m&&alert(m)})}editDescription(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{description:n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{description:n}),r.commit().catch(m=>{m&&alert(m)})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-inside-item"]],viewQuery:function(n,r){if(1&n&&l.Gf(BX,5),2&n){let s;l.iGM(s=l.CRH())&&(r.ingredientHTML=s.first)}},inputs:{itemId:"itemId",uid:"uid"},decls:38,vars:7,consts:[[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[2,"font-size","20px"],["type","text",3,"ngModel","keyUp.enter"],["itemPrice",""],["itemQuantity",""],["type","text",2,"width","10rem",3,"ngModel","keyUp.enter"],["itemCategory",""],["carBrand",""],["itemTopics",""],["type","text",2,"width","100%",3,"ngModel","keyUp.enter"],["itemDescription",""],[1,"prviewImage",3,"ngStyle"]],template:function(n,r){if(1&n){const s=l.EpF();l.TgZ(0,"div",0),l.YNc(1,qX,1,3,"div",1),l.qZA(),l.TgZ(2,"div"),l.TgZ(3,"p",2),l.TgZ(4,"strong"),l._uU(5,"Item Price $"),l.qZA(),l.qZA(),l.TgZ(6,"input",3,4),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(7);return r.editPrice(m.value)}),l.qZA(),l.qZA(),l.TgZ(8,"div"),l.TgZ(9,"p",2),l.TgZ(10,"strong"),l._uU(11,"Item Quantity"),l.qZA(),l.qZA(),l.TgZ(12,"input",3,5),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(13);return r.editQuantity(m.value)}),l.qZA(),l.qZA(),l.TgZ(14,"div"),l.TgZ(15,"p",2),l.TgZ(16,"strong"),l._uU(17,"Item Category"),l.qZA(),l.qZA(),l.TgZ(18,"input",6,7),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(19);return r.editCategory(m.value)}),l.qZA(),l.qZA(),l.TgZ(20,"div"),l.TgZ(21,"p",2),l.TgZ(22,"strong"),l._uU(23,"Car Brand"),l.qZA(),l.qZA(),l.TgZ(24,"input",6,8),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(25);return r.editCarBrand(m.value)}),l.qZA(),l.qZA(),l.TgZ(26,"div"),l.TgZ(27,"p",2),l.TgZ(28,"strong"),l._uU(29,"Item Topic"),l.qZA(),l.qZA(),l.TgZ(30,"input",6,9),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(31);return r.editTopic(m.value)}),l.qZA(),l.qZA(),l.TgZ(32,"div"),l.TgZ(33,"p",2),l.TgZ(34,"strong"),l._uU(35,"Item Description"),l.qZA(),l.qZA(),l.TgZ(36,"textarea",10,11),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(37);return r.editDescription(m.value)}),l.qZA(),l.qZA()}2&n&&(l.xp6(1),l.Q6J("ngForOf",r.item.url),l.xp6(5),l.Q6J("ngModel",r.item.price),l.xp6(6),l.Q6J("ngModel",r.item.quantity),l.xp6(6),l.Q6J("ngModel",r.item.category),l.xp6(6),l.Q6J("ngModel",r.item.brand),l.xp6(6),l.Q6J("ngModel",r.item.topics),l.xp6(6),l.Q6J("ngModel",r.item.description))},directives:[ft,Xm,_E,H_,Yn],styles:[".info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:4rem;margin-right:1%;border-radius:.5rem;border:solid 1px grey;font-size:16px;padding:4px 4px 4px 10px;margin-top:.25rem;margin-bottom:.5rem}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:20rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-bottom:.7rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}"]}),t})(),ZX=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"cell"],[1,"pl","pl-hourglass"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.qZA())},styles:['.cell[_ngcontent-%COMP%]{flex-basis:50%}.pl[_ngcontent-%COMP%], .pl[_ngcontent-%COMP%]:before, .pl[_ngcontent-%COMP%]:after{animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.pl[_ngcontent-%COMP%]{margin:0 auto;position:relative;width:1.2em;height:1.2em}.pl[_ngcontent-%COMP%]:before, .pl[_ngcontent-%COMP%]:after{background:currentColor;content:"";display:block;position:absolute;top:0;left:0;width:100%;height:50%;transform-origin:50% 100%;clip-path:polygon(0 0,100% 0,50% 100%);-webkit-clip-path:polygon(0 0,100% 0,50% 100%)}.pl-hourglass[_ngcontent-%COMP%]{animation-name:hourglassA;background:#a3a3a3;clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%);-webkit-clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%)}.pl-hourglass[_ngcontent-%COMP%]:before, .pl-hourglass[_ngcontent-%COMP%]:after{position:static;clip-path:none;-webkit-clip-path:none}.pl-hourglass[_ngcontent-%COMP%]:before{animation-name:hourglassB}.pl-hourglass[_ngcontent-%COMP%]:after{animation-name:hourglassC}@keyframes hourglassA{0%,75%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes hourglassB{0%{transform:scaleY(1)}50%,to{transform:scaleY(0)}}@keyframes hourglassC{0%{transform:scaleY(0)}50%,to{transform:scaleY(1)}}']}),t})();function $X(t,e){if(1&t&&(l.TgZ(0,"option",43),l._uU(1),l.qZA()),2&t){const n=e.$implicit;l.Q6J("value",n.category)("selected",n.category),l.xp6(1),l.Oqu(n.category)}}function WX(t,e){if(1&t&&(l.TgZ(0,"option",43),l._uU(1),l.qZA()),2&t){const n=e.$implicit;l.Q6J("value",n.brand)("selected",n.brand),l.xp6(1),l.Oqu(n.brand)}}const gx=function(t){return{"background-image":t}};function KX(t,e){1&t&&l._UZ(0,"div",44),2&t&&l.Q6J("ngStyle",l.VKq(1,gx,"url("+e.$implicit+")"))}function YX(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"button",45),l.NdJ("click",function(){l.CHM(n);const s=l.oxw(),u=l.MAs(20),m=l.MAs(25),_=l.MAs(30),E=l.MAs(45);return s.uplaodItem(u.value,m.value,_.value,E.value)}),l._uU(1,"Add item"),l.qZA()}}function QX(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",6),l._UZ(1,"div",7),l.TgZ(2,"div",8),l.TgZ(3,"header",9),l.TgZ(4,"input",46,47),l.NdJ("keyUp.enter",function(){l.CHM(n);const s=l.MAs(5);return l.oxw().editTitle(s.value)}),l.qZA(),l.TgZ(6,"button",11),l.NdJ("click",function(){return l.CHM(n),l.oxw().showItemModal=!1}),l.qZA(),l.qZA(),l.TgZ(7,"section",12),l._UZ(8,"app-inside-item",48),l.qZA(),l.TgZ(9,"footer",30),l.TgZ(10,"button",31),l.NdJ("click",function(){return l.CHM(n),l.oxw().showItemModal=!1}),l._uU(11,"Cancel"),l.qZA(),l.TgZ(12,"button",49),l.NdJ("click",function(){return l.CHM(n),l.oxw().deleteItem()}),l._uU(13,"Delete This Item"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=l.oxw();l.ekj("is-active",1==n.showItemModal),l.xp6(4),l.Q6J("ngModel",n.itemTitle),l.xp6(4),l.Q6J("uid",n.uid)("itemId",n.itemId)}}function JX(t,e){if(1&t&&(l.TgZ(0,"div",50),l.TgZ(1,"p",51),l._uU(2),l.qZA(),l._UZ(3,"app-loader"),l.qZA()),2&t){const n=l.oxw();l.xp6(2),l.hij("uploading ",n.uploadImageProgress,"%")}}function XX(t,e){1&t&&(l.TgZ(0,"div",50),l.TgZ(1,"p",52),l._uU(2,"Uploaded "),l.qZA(),l.qZA())}function eee(t,e){1&t&&(l.TgZ(0,"div",53),l.TgZ(1,"p",52),l._uU(2,"Deleted "),l.qZA(),l.qZA())}const vx=function(t){return{color:t}};function tee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"li",37),l.NdJ("click",function(){const u=l.CHM(n).$implicit;return l.oxw().getCategData(u)}),l._uU(1),l.qZA()}if(2&t){const n=e.$implicit,r=l.oxw();l.Q6J("ngStyle",l.VKq(2,vx,r.selectedCateg==n?"blue":"grey")),l.xp6(1),l.Oqu(n)}}function nee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"li",54),l.NdJ("click",function(){const u=l.CHM(n).$implicit;return l.oxw().itemModal(u.id,u.title)}),l._UZ(1,"div",55),l.TgZ(2,"div",56),l.TgZ(3,"p",57),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",58),l.TgZ(6,"div",56),l.TgZ(7,"p",59),l._uU(8,"Price"),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",56),l.TgZ(12,"p",59),l._uU(13,"Quantity"),l.qZA(),l.TgZ(14,"p"),l._uU(15),l.qZA(),l.qZA(),l.TgZ(16,"div",56),l.TgZ(17,"p",59),l._uU(18,"Category"),l.qZA(),l.TgZ(19,"p"),l._uU(20),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=e.$implicit;l.xp6(1),l.Q6J("ngStyle",l.VKq(5,gx,"url("+n.url[0]+")")),l.xp6(3),l.Oqu(n.title.substring(0,14)),l.xp6(6),l.hij("$",n.price,""),l.xp6(5),l.Oqu(n.quantity),l.xp6(5),l.Oqu(n.category)}}function ree(t,e){1&t&&(l.TgZ(0,"div",60),l.TgZ(1,"h4"),l._uU(2,"No items yet! Add Some"),l.qZA(),l.qZA())}function iee(t,e){1&t&&(l.TgZ(0,"div",60),l._UZ(1,"app-loader"),l.qZA())}let oee=(()=>{class t{constructor(n,r,s,u){this.auth=n,this.firestore=r,this.storage=s,this.userData=u,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.destroy2$=new St.xQ,this.destroy3$=new St.xQ,this.showInput=!1,this.faPlus=cE,this.showInfo=!1,this.showAddItemModal=!1,this.showItemModal=!1,this.loading=!0,this.categories=[{category:"Engines",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750039/icons8-engine-64_gsoosy.png"},{category:"Mirrors",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750923/imgbin_car-computer-icons-rear-view-mirror-png_eejgds.png"},{category:"Wheels",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651749962/icons8-tire-64_zcoajv.png"},{category:"Oils",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750159/icons8-engine-oil-65_h570ph.png"},{category:"Doors",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750225/icons8-car-door-65_ixwcfm.png"},{category:"Accessories",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750313/icons8-accessories-65_qldvci.png"},{category:"Roofs",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750416/icons8-convertible-roof-warning-65_xbb8kk.png"},{category:"Lights",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651751076/icons8-lights-65_sdmont.png"},{category:"Brakes",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1645529554/disc-brake_odgqlr.png"}],this.brands=[{brand:"Rover",url:"https://cdn.pixabay.com/photo/2020/11/04/13/41/car-5712395_960_720.jpg"},{brand:"Tesla",url:"https://www.nerdwallet.com/assets/blog/wp-content/uploads/2020/05/david-von-diemar-ZBWn5DvO0hg-unsplash-1920x1152.jpg"},{brand:"BMW",url:"https://cloudfront-us-east-2.images.arcpublishing.com/reuters/U6DU4EGVOZNXPHXTMIPF7B5C64.jpg"},{brand:"Honda",url:"https://cdn.carbuzz.com/gallery-images/840x560/743000/500/743560.jpg"},{brand:"Porche",url:"https://files.porsche.com/filestore/image/usa/none/PressReleases-XLe/normal/c1f013b0-0b52-11e4-8b02-001a64c55f5c/porsche-normal.jpg"},{brand:"Renault",url:"https://www.btgunlugu.com/wp-content/uploads/2021/01/Renault-Logo-2_1200x600.jpg"},{brand:"Toyota",url:"https://images.unsplash.com/photo-1581862142388-23e1c52ca091?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8dG95b3RhfGVufDB8fDB8fA%3D%3D&w=1000&q=80"},{brand:"Mercedes",url:"https://di-uploads-pod7.dealerinspire.com/mercedesbenzofwarwickredesign/uploads/2020/07/Mercedes-Benz-Logo.png"}],this.categs=[],this.selectedCateg="All",this.previewUrls=[],this.paths=[],this.uploading=!1,this.uploadImageProgress=.1,this.uploaded=!1,this.toUplaodURLS=[],this.itemdeleted=!1}ngOnInit(){this.getUser().then(()=>{this.getUserData().then(()=>{this.getCategs().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("items").valueChanges().pipe(bi(this.destroy1$)).subscribe(n=>{this.items=n,this.tempItems=this.items,this.loading=!1})})})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete(),this.destroy3$.next(),this.destroy3$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.uid=u.uid,r()})})}getUserData(){return new Promise((r,s)=>{this.userData.user.pipe(bi(this.destroy3$)).subscribe(u=>{this.shopname=u.shopname,r()})})}getCategs(){return new Promise((r,s)=>{this.userData.user.pipe(bi(this.destroy2$)).subscribe(u=>{this.categs=u.categories,this.shopLocation=u.areaLocation,r()})})}getCategData(n){return this.loading=!0,this.selectedCateg=n,new Promise((s,u)=>{this.firestore.collection("shopOwners").doc(this.uid).collection("itemsCat").doc("categories").collection(n).valueChanges().pipe(bi(this.destroy1$)).subscribe(m=>{this.items=m,this.loading=!1,s()})})}all(){return this.selectedCateg="All",this.items=this.tempItems}showInputMeth(){this.showInput=!this.showInput}additemModal(){this.showAddItemModal=!0}itemModal(n,r){this.itemId=n,this.showItemModal=!0,this.itemTitle=r}uploadImage(n){this.imagePath=n.target.files[0],this.paths.push(this.imagePath);const r=new FileReader;r.onload=()=>{this.imagePreiviewUrl=r.result,this.previewUrls.push(this.imagePreiviewUrl)},r.readAsDataURL(this.imagePath)}uplaodItem(n,r,s,u){return(0,L.__awaiter)(this,void 0,void 0,function*(){if(this.imagePath)if(""!=n&&0!=r&&0!=s&&""!=this.selectedCateg&&null!=this.selectedCateg&&null!=this.selectedCateg&&""!=this.selectedBrand&&null!=this.selectedBrand&&null!=this.selectedBrand&&""!=u){let R=this.firestore.createId();this.showAddItemModal=!1;for(let G=0;G<this.paths.length;G++)yield this.uploadIndividualImgae(R,this.paths[G]);const H={id:R,title:n,price:r,discount:0,quantity:s,category:this.selectedcat,brand:this.selectedBrand,description:u,url:this.toUplaodURLS,shopname:this.shopname,shopLocation:this.shopLocation,addedAt:qn.default.firestore.FieldValue.serverTimestamp(),ordertimes:0,hearts:0,rating:0,shopId:this.uid};-1==this.categs.indexOf(this.selectedcat)&&this.categs.push(this.selectedcat);var m=this.firestore.firestore.batch(),_=this.firestore.firestore.collection("items").doc(R);m.set(_,H);var E=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(R);m.set(E,H);var I=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("itemsCat").doc("categories").collection(this.selectedcat).doc(R);m.set(I,H);var N=this.firestore.firestore.collection("shopOwners").doc(this.uid);-1==this.categs.indexOf(this.selectedcat)&&m.update(N,{categories:this.categs}),m.commit().catch(G=>alert(G))}else alert("Empty field");else alert("You need to add an item image")})}uploadIndividualImgae(n,r){return new Promise((u,m)=>{var _=this.firestore.createId();const E=this.storage.upload(`/items/${n}/${_}`,r);E.then(I=>{I.ref.getDownloadURL().then(N=>{this.toUplaodURLS.push(N),u()})}).catch(I=>console.log("image not uploaded")),E.percentageChanges().subscribe(I=>{this.uploading=!0,this.uploadImageProgress=null==I?void 0:I.valueOf(),100==I&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}editTitle(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{title:n});var u=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(u,{title:n}),r.commit().catch(m=>{m&&alert(m)})}deleteItem(){var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("items").doc(this.itemId);n.delete(r);var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);n.delete(s),n.commit().catch(u=>{u&&alert(u)}).then(u=>{this.showItemModal=!1,this.itemdeleted=!0,this.deleteImages(this.itemId),setInterval(()=>{this.itemdeleted=!1},3e3)})}deleteImages(n){return(0,L.__awaiter)(this,void 0,void 0,function*(){yield this.storage.ref(`/items/${n}`).listAll().forEach(r=>{r.items.forEach(s=>{s.delete().catch(u=>{u&&alert(u)})})})})}filter(n){}selectOptionCat(n){this.selectedcat=n}selectOptionBrand(n){this.selectedBrand=n}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1),l.Y36(Eu),l.Y36(Qm))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-items"]],decls:73,vars:17,consts:[[1,"main-customers"],[1,"top-bar","primary"],[1,"toggle-details",3,"click"],[1,"showDetails"],[2,"font-size","26px","color","white"],[2,"margin-left","1%"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"input-container"],[1,"add-item-modal-label"],["type","text",1,"add-item-modal-input"],["title",""],["type","number",1,"add-item-modal-input"],["price",""],["quantity",""],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["type","text",1,"add-item-modal-textarea"],["description",""],[1,"input-container","image-file-input"],[2,"display","flex","flex-direction","column","align-items","center","gap","0.5rem"],[1,"button","is-warning","is-small"],["type","file","accept","*.png.jpg",2,"display","none",3,"change"],[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[1,"modal-card-foot"],[1,"button",3,"click"],["class","button","style","background-color: black;color: white;",3,"click",4,"ngIf"],["class","modal",3,"is-active",4,"ngIf"],["class","upload-progress-container",4,"ngIf"],["class","upload-progress-container","style","background-color: rgb(247, 42, 6);",4,"ngIf"],[1,"Top-Options"],[3,"ngStyle","click"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mock-line"],[1,"items"],[3,"click",4,"ngFor","ngForOf"],["style","width: 95%;height: 60vh;display: flex;flex-direction: column;align-items: center;justify-content: center;",4,"ngIf"],[3,"value","selected"],[1,"prviewImage",3,"ngStyle"],[1,"button",2,"background-color","black","color","white",3,"click"],["type","text",1,"modal-card-title",2,"font-weight","bold","font-size","22px",3,"ngModel","keyUp.enter"],["itemTit",""],[3,"uid","itemId"],[1,"button","is-danger",3,"click"],[1,"upload-progress-container"],[2,"color","rgb(255, 255, 255)","font-size","14px"],[2,"color","rgb(255, 255, 255)","font-size","16px"],[1,"upload-progress-container",2,"background-color","rgb(247, 42, 6)"],[3,"click"],[1,"poster",3,"ngStyle"],[1,"info"],[2,"font-weight","bold","font-size","18px"],[1,"bottom-info"],[2,"font-weight","bold"],[2,"width","95%","height","60vh","display","flex","flex-direction","column","align-items","center","justify-content","center"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.NdJ("click",function(){return r.additemModal()}),l.TgZ(3,"p",3),l._uU(4,"Add new item"),l.qZA(),l.TgZ(5,"p",4),l._uU(6,"+"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",5),l.TgZ(8,"div",6),l._UZ(9,"div",7),l.TgZ(10,"div",8),l.TgZ(11,"header",9),l.TgZ(12,"p",10),l._uU(13,"Adding a new item"),l.qZA(),l.TgZ(14,"button",11),l.NdJ("click",function(){return r.showAddItemModal=!1}),l.qZA(),l.qZA(),l.TgZ(15,"section",12),l.TgZ(16,"div",13),l.TgZ(17,"label",14),l._uU(18,"Item Title"),l.qZA(),l._UZ(19,"input",15,16),l.qZA(),l.TgZ(21,"div",13),l.TgZ(22,"label",14),l._uU(23,"Item Price ($ - LBP)"),l.qZA(),l._UZ(24,"input",17,18),l.qZA(),l.TgZ(26,"div",13),l.TgZ(27,"label",14),l._uU(28,"Item Quantity"),l.qZA(),l._UZ(29,"input",17,19),l.qZA(),l.TgZ(31,"div",13),l.TgZ(32,"label",14),l._uU(33,"Item Category"),l.qZA(),l.TgZ(34,"select",20),l.NdJ("change",function(u){return r.selectOptionCat(u.target.value)}),l.YNc(35,$X,2,3,"option",21),l.qZA(),l.qZA(),l.TgZ(36,"div",13),l.TgZ(37,"label",14),l._uU(38,"Car Brand"),l.qZA(),l.TgZ(39,"select",20),l.NdJ("change",function(u){return r.selectOptionBrand(u.target.value)}),l.YNc(40,WX,2,3,"option",21),l.qZA(),l.qZA(),l.TgZ(41,"div",13),l.TgZ(42,"label",14),l._uU(43,"Item Description"),l.qZA(),l._UZ(44,"textarea",22,23),l.qZA(),l.TgZ(46,"div",24),l.TgZ(47,"div",25),l.TgZ(48,"h3"),l._uU(49,"You can add multiple images"),l.qZA(),l.TgZ(50,"label",26),l.TgZ(51,"input",27),l.NdJ("change",function(u){return r.uploadImage(u)}),l.qZA(),l._uU(52," Add image "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(53,"div",28),l.YNc(54,KX,1,3,"div",29),l.qZA(),l.qZA(),l.TgZ(55,"footer",30),l.TgZ(56,"button",31),l.NdJ("click",function(){return r.showAddItemModal=!1}),l._uU(57,"Cancel"),l.qZA(),l.YNc(58,YX,2,0,"button",32),l.qZA(),l.qZA(),l.qZA(),l.YNc(59,QX,14,5,"div",33),l.YNc(60,JX,4,1,"div",34),l.YNc(61,XX,3,0,"div",34),l.YNc(62,eee,3,0,"div",35),l.TgZ(63,"div",36),l.TgZ(64,"ul"),l.TgZ(65,"li",37),l.NdJ("click",function(){return r.all()}),l._uU(66,"All"),l.qZA(),l.YNc(67,tee,2,4,"li",38),l.qZA(),l.qZA(),l._UZ(68,"div",39),l.TgZ(69,"ul",40),l.YNc(70,nee,21,7,"li",41),l.YNc(71,ree,3,0,"div",42),l.YNc(72,iee,2,0,"div",42),l.qZA(),l.qZA(),l.qZA()),2&n&&(l.xp6(8),l.ekj("is-active",1==r.showAddItemModal),l.xp6(27),l.Q6J("ngForOf",r.categories),l.xp6(5),l.Q6J("ngForOf",r.brands),l.xp6(14),l.Q6J("ngForOf",r.previewUrls),l.xp6(4),l.Q6J("ngIf",0==r.uploading),l.xp6(1),l.Q6J("ngIf",1==r.showItemModal),l.xp6(1),l.Q6J("ngIf",1==r.uploading),l.xp6(1),l.Q6J("ngIf",1==r.uploaded),l.xp6(1),l.Q6J("ngIf",1==r.itemdeleted),l.xp6(3),l.Q6J("ngStyle",l.VKq(15,vx,"All"==r.selectedCateg?"blue":"grey")),l.xp6(2),l.Q6J("ngForOf",r.categs),l.xp6(3),l.Q6J("ngForOf",r.items),l.xp6(1),l.Q6J("ngIf",0==r.items.length&&0==r.loading),l.xp6(1),l.Q6J("ngIf",1==r.loading))},directives:[ft,Jt,Yn,B_,j_,Xm,_E,H_,GX,ZX],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:92.5%;margin-left:1.25%;margin-top:.5rem;margin-bottom:.5rem;height:1px}ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:row;width:100%;flex-wrap:wrap;overflow:hidden;padding:1rem;height:91.5vh}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.2rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#3d8ed0;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:8.5vh;background-color:#f3f3f3;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;height:91.5vh;box-shadow:2px 2px 3px #7e7c7c5f}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{height:0}to{height:100Vh}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:1rem;font-weight:bold}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem;cursor:pointer}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem;color:#fff;font-size:14px}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.Top-Options[_ngcontent-%COMP%]{width:100%;height:2rem}.Top-Options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:.5rem;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:1rem;cursor:pointer;transition:.5s ease-in-out;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.4}.items[_ngcontent-%COMP%]{overflow-y:scroll;padding-bottom:10%}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:1.5rem;transition:.3s ease-in-out;padding-bottom:1rem;border-radius:1rem;box-shadow:0 4px 2px 2px #5a59592a;max-height:18rem}.poster[_ngcontent-%COMP%]{width:15rem;height:10rem;background-position:center;background-repeat:no-repeat;background-size:cover;border-top-left-radius:.5rem;border-top-right-radius:.5rem;transition:.3s ease-in-out;margin-bottom:.5rem}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(102%);cursor:pointer;background-color:#b2daface}.info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:1rem;padding-right:1rem}@keyframes bottom-info-anim-in{0%{height:1rem}to{height:4rem}}.bottom-info[_ngcontent-%COMP%]{animation-name:bottom-info-anim-in;animation-duration:.5s;transition:ease-in-out;height:4rem}.is-active[_ngcontent-%COMP%]{animation-name:add-item-modal-fade-in;animation-duration:.5s;transition:ease-in-out}@keyframes add-item-modal-fade-in{0%{opacity:0}to{opacity:1}}.input-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:1rem}.add-item-modal-input[_ngcontent-%COMP%]{border:solid 1px grey}.add-item-modal-input-special[_ngcontent-%COMP%]{width:15.25rem;animation-name:input-anim-special;border:solid 1px grey}@keyframes input-anim-special{0%{width:1rem}to{width:15.25rem}}.image-file-input[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;margin-top:2.5rem}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:15rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-top:2rem;margin-bottom:3rem;border:solid 1px grey;border-radius:.5rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}.add-item-modal-textarea[_ngcontent-%COMP%]{border:solid 1px grey;min-height:6rem}.add-item-modal-label[_ngcontent-%COMP%]{font-weight:bold}.add-modal-ingred-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:4px}.ingredients-container[_ngcontent-%COMP%]{width:100%;min-height:2rem;padding-top:5px}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.upload-progress-container[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:#2f302f;position:fixed;bottom:4%;right:2.5%;border-radius:.5rem;animation-name:upload-progress-in;animation-duration:.7s;transition:ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;cursor:default;box-shadow:0 5px 4px 2px #aaa9a949}@keyframes upload-progress-in{0%{width:1rem}to{width:10rem}}"]}),t})();const see=function(t){return{"is-loading":t}};let aee=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.isLOading=!1}ngOnInit(){}login(n,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){""!=n&&""!=r?(this.isLOading=!0,yield this.auth.signInWithEmailAndPassword(n,r).catch(s=>{alert(s)}).then(()=>{this.router.navigate(["dashboard"]),this.isLOading=!1})):alert("Empty Fields")})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(po))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-login"]],decls:28,vars:3,consts:[[1,"main","is-info"],["routerLink","//register"],[1,"box",2,"width","20rem"],[1,"field"],[1,"label"],[1,"control"],["type","email","placeholder","e.g. alex@example.com",1,"input"],["email1",""],["type","password","placeholder","********",1,"input"],["pass1",""],[1,"button",2,"background-color","black","color","white",3,"ngClass","click"]],template:function(n,r){if(1&n){const s=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Go2Parts"),l.qZA(),l.TgZ(3,"p"),l._uU(4,"Login in with your shop Owner Account"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Not signed in? "),l.TgZ(7,"a",1),l._uU(8,"register here"),l.qZA(),l.qZA(),l.TgZ(9,"form",2),l.TgZ(10,"div",3),l.TgZ(11,"label",4),l._uU(12,"Email"),l.qZA(),l.TgZ(13,"div",5),l._UZ(14,"input",6,7),l.qZA(),l.qZA(),l.TgZ(16,"div",3),l.TgZ(17,"label",4),l._uU(18,"Password"),l.qZA(),l.TgZ(19,"div",5),l._UZ(20,"input",8,9),l.qZA(),l.qZA(),l.TgZ(22,"button",10),l.NdJ("click",function(){l.CHM(s);const m=l.MAs(15),_=l.MAs(21);return r.login(m.value,_.value)}),l._uU(23,"Login"),l.qZA(),l.qZA(),l.TgZ(24,"p"),l._uU(25,"For further help "),l.TgZ(26,"a"),l._uU(27,"Reach Our Support"),l.qZA(),l.qZA(),l.qZA()}2&n&&(l.xp6(22),l.Q6J("ngClass",l.VKq(1,see,!0===r.isLOading)))},directives:[s7,U_,N_,u7,ma],styles:[".main[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:1rem;gap:1rem;background-color:#f5f6f7}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:40px;padding-bottom:0}"]}),t})();function cee(t,e){1&t&&l._UZ(0,"input",16)}function uee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"button",17),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).showInput=!1}),l.qZA()}}function lee(t,e){if(1&t&&(l.TgZ(0,"div",11),l.TgZ(1,"div",12),l.YNc(2,cee,1,0,"input",13),l.YNc(3,uee,1,0,"button",14),l.qZA(),l._UZ(4,"div",15),l.qZA()),2&t){const n=l.oxw();l.xp6(2),l.Q6J("ngIf",1==n.showInput),l.xp6(1),l.Q6J("ngIf",1==n.showInput)}}const fee=function(){return{color:"orange"}};function hee(t,e){if(1&t&&(l.TgZ(0,"p",26),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.Q6J("ngStyle",l.DdM(2,fee)),l.xp6(1),l.hij(" ",n.orderstatus,"")}}function dee(t,e){if(1&t&&(l.TgZ(0,"p",27),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.xp6(1),l.hij(" ",n.orderstatus,"")}}function pee(t,e){if(1&t&&(l.TgZ(0,"p",28),l._uU(1),l.qZA()),2&t){const n=l.oxw().$implicit;l.xp6(1),l.hij(" ",n.orderstatus,"")}}function mee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"p",29),l.NdJ("click",function(){l.CHM(n);const s=l.oxw().$implicit;return l.oxw().setorderToCancel(s.orderid,s.userid,s.username,s.shopname,s.shopid)}),l._uU(1,"Cancel"),l.qZA()}}function gee(t,e){1&t&&(l.TgZ(0,"p",30),l._uU(1,"Cancel"),l.qZA())}function vee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"p",31),l.NdJ("click",function(){l.CHM(n);const s=l.oxw().$implicit;return l.oxw().setorderToStart(s.orderid,s.userid,s.username,s.shopname,s.shopid)}),l._uU(1,"Start"),l.qZA()}}function yee(t,e){1&t&&(l.TgZ(0,"p",32),l._uU(1,"Start"),l.qZA())}function _ee(t,e){if(1&t&&(l.TgZ(0,"li"),l.TgZ(1,"p",7),l._uU(2),l.qZA(),l.TgZ(3,"p",7),l._uU(4),l.qZA(),l.TgZ(5,"p",7),l._uU(6),l.qZA(),l.TgZ(7,"p",7),l._uU(8),l.qZA(),l.YNc(9,hee,2,3,"p",18),l.YNc(10,dee,2,1,"p",19),l.YNc(11,pee,2,1,"p",20),l.TgZ(12,"p",7),l._uU(13),l.qZA(),l.TgZ(14,"div",21),l.YNc(15,mee,2,0,"p",22),l.YNc(16,gee,2,0,"p",23),l.qZA(),l.TgZ(17,"div",21),l.YNc(18,vee,2,0,"p",24),l.YNc(19,yee,2,0,"p",25),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(2),l.Oqu(n.orderid),l.xp6(2),l.Oqu(n.username),l.xp6(2),l.Oqu(n.phonenumber),l.xp6(2),l.Oqu(n.adress),l.xp6(1),l.Q6J("ngIf","pending"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","canceled"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","started"==n.orderstatus),l.xp6(2),l.Oqu(n.totlaprice),l.xp6(2),l.Q6J("ngIf","pending"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","canceled"==n.orderstatus||"delivered"==n.orderstatus||"started"==n.orderstatus),l.xp6(2),l.Q6J("ngIf","pending"==n.orderstatus),l.xp6(1),l.Q6J("ngIf","canceled"==n.orderstatus||"delivered"==n.orderstatus||"started"==n.orderstatus)}}function bee(t,e){1&t&&(l.TgZ(0,"div",33),l.TgZ(1,"p",34),l._uU(2,"You have no order yet!"),l.qZA(),l.qZA())}function Cee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",35),l.TgZ(1,"div",36),l.TgZ(2,"section",37),l.TgZ(3,"p"),l._uU(4,"This action can not be undone"),l.qZA(),l.TgZ(5,"div",38),l.TgZ(6,"button",39),l.NdJ("click",function(){return l.CHM(n),l.oxw().isCancelClicked=!1}),l._uU(7,"Go Back"),l.qZA(),l.TgZ(8,"button",40),l.NdJ("click",function(){return l.CHM(n),l.oxw().cancelOrder()}),l._uU(9,"Cancel Order"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=l.oxw();l.ekj("is-active",1==n.isCancelClicked)}}function wee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",35),l.TgZ(1,"div",36),l.TgZ(2,"section",37),l.TgZ(3,"p"),l._uU(4,"This action can not be undone"),l.qZA(),l.TgZ(5,"div",38),l.TgZ(6,"button",40),l.NdJ("click",function(){return l.CHM(n),l.oxw().isStartClicked=!1}),l._uU(7,"Go Back"),l.qZA(),l.TgZ(8,"button",41),l.NdJ("click",function(){return l.CHM(n),l.oxw().startOrder()}),l._uU(9,"start Order"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=l.oxw();l.ekj("is-active",1==n.isStartClicked)}}let Eee=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.showInput=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.isCancelClicked=!1,this.isStartClicked=!1,this.orderToCancelId="",this.orderToStartId="",this.t=Date.now(),this.userid="",this.username="",this.shopname="",this.shopid="",this.loading=!0,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.destroy2$=new St.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("orders",n=>n.orderBy("timestamp","desc")).valueChanges().pipe(bi(this.destroy2$)).subscribe(n=>{this.orders=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.uid=u.uid,r()})})}showInputMeth(){this.showInput=!this.showInput}setorderToCancel(n,r,s,u,m){this.orderToCancelId=n,this.userid=r,this.username=s,this.shopname=u,this.shopid=m,this.isCancelClicked=!0}setorderToStart(n,r,s,u,m){this.orderToStartId=n,this.userid=r,this.username=s,this.shopname=u,this.shopid=m,this.isStartClicked=!0}cancelOrder(){if(""!=this.orderToCancelId){let E=Date.now();var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("users").doc(this.userid).collection("orders").doc(this.orderToCancelId);n.update(r,{orderstatus:"canceled"});var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("orders").doc(this.orderToCancelId);n.update(s,{orderstatus:"canceled"});var u=this.firestore.firestore.collection("orders").doc(this.orderToCancelId);n.update(u,{orderstatus:"canceled"});var m=this.firestore.firestore.collection("users").doc(this.userid).collection("notifications").doc();n.set(m,{shopname:this.shopname,content:"Youre order from "+this.shopname+" has been canceled!",at:E});var _=this.firestore.firestore.collection("shopOwners").doc(this.shopid).collection("notifications").doc();n.set(_,{username:this.username,content:"you canceled "+this.username+" order!",at:E}),n.commit().catch(I=>{alert(I)}).then(I=>{this.isCancelClicked=!1})}else alert("Specify Order to Delete")}startOrder(){if(""!=this.orderToStartId){let E=Date.now();var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("users").doc(this.userid).collection("orders").doc(this.orderToStartId);n.update(r,{orderstatus:"started"});var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("orders").doc(this.orderToStartId);n.update(s,{orderstatus:"started"});var u=this.firestore.firestore.collection("orders").doc(this.orderToStartId);n.update(u,{orderstatus:"started"});var m=this.firestore.firestore.collection("users").doc(this.userid).collection("notifications").doc();n.set(m,{shopname:this.shopname,content:"Youre order from "+this.shopname+" has been started!",at:E});var _=this.firestore.firestore.collection("shopOwners").doc(this.shopid).collection("notifications").doc();n.set(_,{username:this.username,content:"you started "+this.username+" order!",at:E}),n.commit().catch(I=>{alert(I)}).then(I=>{this.isStartClicked=!1})}else alert("Specify Order to start")}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-orders"]],decls:31,vars:6,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-space",4,"ngIf"],[1,"orders"],[2,"margin-top","1rem","margin-left","0.5rem"],[2,"font-weight","bold","margin-right","2rem","margin-bottom","1rem","text-align","right"],[1,"top-table"],[1,"order-individual"],[4,"ngFor","ngForOf"],["style","height: 5rem;display: flex;flex-direction:row;align-items:center;justify-content:center;",4,"ngIf"],["class","modal",3,"is-active",4,"ngIf"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],["class","order-individual",3,"ngStyle",4,"ngIf"],["class","order-individual","style","color: tomato;",4,"ngIf"],["class","order-individual","style","color: rgb(68, 172, 70);",4,"ngIf"],[1,"order-individual",2,"display","flex","flex-direction","row","justify-content","center"],["class","cancel",3,"click",4,"ngIf"],["class","canceled",4,"ngIf"],["class","Start",3,"click",4,"ngIf"],["class","Started",4,"ngIf"],[1,"order-individual",3,"ngStyle"],[1,"order-individual",2,"color","tomato"],[1,"order-individual",2,"color","rgb(68, 172, 70)"],[1,"cancel",3,"click"],[1,"canceled"],[1,"Start",3,"click"],[1,"Started"],[2,"height","5rem","display","flex","flex-direction","row","align-items","center","justify-content","center"],[2,"text-align","center"],[1,"modal"],[1,"modal-card",2,"width","18rem","box-shadow","0 3px 3px 3px grey","border-radius","0.5rem"],[1,"modal-card-body",2,"display","flex","flex-direction","column","justify-content","center"],[2,"display","flex","flex-direction","row","justify-content","space-evenly","margin-top","1rem"],[1,"button","is-primary",3,"click"],[1,"button","is-danger",3,"click"],[1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Orders"),l.qZA(),l.qZA(),l.YNc(4,lee,5,2,"div",2),l.TgZ(5,"div",3),l.TgZ(6,"h3",4),l._uU(7,"Today's orders"),l.qZA(),l.TgZ(8,"h1",5),l._uU(9),l.qZA(),l.TgZ(10,"ul"),l.TgZ(11,"div",6),l.TgZ(12,"p",7),l._uU(13,"Id"),l.qZA(),l.TgZ(14,"p",7),l._uU(15,"To name"),l.qZA(),l.TgZ(16,"p",7),l._uU(17,"To phone number"),l.qZA(),l.TgZ(18,"p",7),l._uU(19,"To Address"),l.qZA(),l.TgZ(20,"p",7),l._uU(21,"Order status"),l.qZA(),l.TgZ(22,"p",7),l._uU(23,"Total Price $"),l.qZA(),l.TgZ(24,"p",7),l._uU(25,"Manage"),l.qZA(),l._UZ(26,"p",7),l.qZA(),l.YNc(27,_ee,20,12,"li",8),l.YNc(28,bee,3,0,"div",9),l.qZA(),l.YNc(29,Cee,10,2,"div",10),l.YNc(30,wee,10,2,"div",10),l.qZA(),l.qZA()),2&n&&(l.xp6(4),l.Q6J("ngIf",1==r.showInput),l.xp6(5),l.hij("",r.orders.length," total Orders"),l.xp6(18),l.Q6J("ngForOf",r.orders),l.xp6(1),l.Q6J("ngIf",0==r.orders.length),l.xp6(1),l.Q6J("ngIf",1==r.isCancelClicked),l.xp6(1),l.Q6J("ngIf",1==r.isStartClicked))},directives:[Jt,ft,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0;background-color:#e5e9ecd3}.orders[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-bottom:10%}.orders[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:65vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.order-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.Start[_ngcontent-%COMP%]{background-color:#4bce5f;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.Start[_ngcontent-%COMP%]:hover{background-color:#2aa580;color:#000}.Started[_ngcontent-%COMP%]{background-color:#3eaba7;width:5rem;cursor:default;border-radius:.5rem;color:#000;opacity:.4}"]}),t})();function Aee(t,e){if(1&t&&(l.TgZ(0,"option",22),l._uU(1),l.qZA()),2&t){const n=e.$implicit;l.Q6J("value",n.Location_Name_En),l.xp6(1),l.Oqu(n.Location_Name_En)}}const Mee=function(t){return{"is-loading":t}};let Tee=(()=>{class t{constructor(n,r,s,u){this.auth=n,this.router=r,this.firestore=s,this.http=u,this.isLOading=!1,this.loc="Tripoli",this.shopAreaLocation="",this.coordinates=[]}ngOnInit(){this.getJSON().subscribe(n=>{this.locations=n.Locations})}getJSON(){return this.http.get("assets/1437711263.json")}selectOptionLoc(n){return new Promise((s,u)=>{this.shopAreaLocation=n;let m=this.locations.filter(_=>-1!=_.Location_Name_En.indexOf(n)?_:null);this.coordinates=[m[0].Latitude,m[0].Longitude],s(m)})}signup(n,r,s,u,m,_,E){return(0,L.__awaiter)(this,void 0,void 0,function*(){""!=r&&""!=s.toString()&&""!=u&&""!=m&&""!=n&&""!=_&&""!=E&&""!=this.shopAreaLocation?u==m?(this.isLOading=!0,yield this.auth.createUserWithEmailAndPassword(r,u).catch(I=>{alert(I)}).then(()=>{this.auth.currentUser.then(I=>I.updateProfile({displayName:n}).then(()=>{let N=I.uid;this.firestore.collection("shopOwners").doc(N).set({isverified:!1,uid:N,shopname:n,Address:_,Description:E,areaLocation:this.shopAreaLocation,categories:[],infoimage:"",profileurl:"",shopurl:"",rating:0,totalclients:0,totalorders:0,totalselllings:0,location:this.coordinates,phonenumber:s}).catch(R=>{R&&alert(R)}).then(()=>{this.router.navigate(["dashboard"]),this.isLOading=!1})}))})):alert("Confirm password does not match password"):alert("Empty Fields")})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(po),l.Y36(q1),l.Y36(hE))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-register"]],decls:63,vars:4,consts:[[1,"main","is-info"],["routerLink","//login"],[1,"box",2,"width","25rem","padding-left","2.5rem","padding-right","2.5rem"],[1,"field"],[1,"label"],[1,"control"],["type","email","placeholder","e.g. example",1,"input"],["shopName",""],["type","email","placeholder","e.g. alex@example.com",1,"input"],["email1",""],["type","text","placeholder","e.g. alex@example.com",1,"input"],["phonenumber1",""],["type","email","placeholder","e.g. street",1,"input"],["adress1",""],[3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","e.g. wheels shop",1,"input"],["shopInfo1",""],["type","password","placeholder","********",1,"input"],["pass1",""],["Cpass1",""],[1,"button",2,"background-color","black","color","white",3,"ngClass","click"],[3,"value"]],template:function(n,r){if(1&n){const s=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Go2Parts"),l.qZA(),l.TgZ(3,"p"),l._uU(4,"Send us your shop information , we will send you a verification as soon as possible"),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Already signed in? "),l.TgZ(7,"a",1),l._uU(8,"Login here"),l.qZA(),l.qZA(),l.TgZ(9,"form",2),l.TgZ(10,"div",3),l.TgZ(11,"label",4),l._uU(12,"Shop name"),l.qZA(),l.TgZ(13,"div",5),l._UZ(14,"input",6,7),l.qZA(),l.qZA(),l.TgZ(16,"div",3),l.TgZ(17,"label",4),l._uU(18,"Email"),l.qZA(),l.TgZ(19,"div",5),l._UZ(20,"input",8,9),l.qZA(),l.qZA(),l.TgZ(22,"div",3),l.TgZ(23,"label",4),l._uU(24,"Phone number"),l.qZA(),l.TgZ(25,"div",5),l._UZ(26,"input",10,11),l.qZA(),l.qZA(),l.TgZ(28,"div",3),l.TgZ(29,"label",4),l._uU(30,"Adress"),l.qZA(),l.TgZ(31,"div",5),l._UZ(32,"input",12,13),l.qZA(),l.qZA(),l.TgZ(34,"div",3),l.TgZ(35,"label",4),l._uU(36,"Location area"),l.qZA(),l.TgZ(37,"select",14),l.NdJ("change",function(m){return r.selectOptionLoc(m.target.value)}),l.YNc(38,Aee,2,2,"option",15),l.qZA(),l.qZA(),l.TgZ(39,"div",3),l.TgZ(40,"label",4),l._uU(41,"Shop info"),l.qZA(),l.TgZ(42,"div",5),l._UZ(43,"input",16,17),l.qZA(),l.qZA(),l.TgZ(45,"div",3),l.TgZ(46,"label",4),l._uU(47,"Password"),l.qZA(),l.TgZ(48,"div",5),l._UZ(49,"input",18,19),l.qZA(),l.qZA(),l.TgZ(51,"div",3),l.TgZ(52,"label",4),l._uU(53,"Confirm password"),l.qZA(),l.TgZ(54,"div",5),l._UZ(55,"input",18,20),l.qZA(),l.qZA(),l.TgZ(57,"button",21),l.NdJ("click",function(){l.CHM(s);const m=l.MAs(15),_=l.MAs(21),E=l.MAs(27),I=l.MAs(50),N=l.MAs(56),R=l.MAs(33),H=l.MAs(44);return r.signup(m.value,_.value,E.value,I.value,N.value,R.value,H.value)}),l._uU(58,"Submit"),l.qZA(),l.qZA(),l.TgZ(59,"p"),l._uU(60,"For further help "),l.TgZ(61,"a"),l._uU(62,"Reach Our Support"),l.qZA(),l.qZA(),l.qZA()}2&n&&(l.xp6(38),l.Q6J("ngForOf",r.locations),l.xp6(19),l.Q6J("ngClass",l.VKq(2,Mee,!0===r.isLOading)))},directives:[s7,U_,N_,u7,ft,ma,B_,j_],styles:[".main[_ngcontent-%COMP%]{position:absolute;left:0;padding-top:22.5rem;padding-bottom:5rem;width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:1rem;gap:1rem;background-color:#f5f6f7;overflow-y:scroll}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:40px;padding-bottom:0}"]}),t})(),yx=(()=>{class t{constructor(n){this.router=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(po))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-verify-wait"]],decls:12,vars:0,consts:[[1,"main-customers"],[1,"top-bar","primary"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center","height","91.5","padding-top","17%"],["href",""],["routerLink","//dashboard"],[1,"button",2,"background-color","black","margin-top","1rem","color","white"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"h2"),l._uU(4,"Kindly wait until we verify your profile"),l.qZA(),l.TgZ(5,"h2"),l._uU(6,"Taking too long? "),l.TgZ(7,"a",3),l._uU(8,"Reach our support"),l.qZA(),l.qZA(),l.TgZ(9,"a",4),l.TgZ(10,"button",5),l._uU(11,"Reload"),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[s7],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:1.5rem;padding-right:1.5rem}"]}),t})(),Mh=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){return new Promise((u,m)=>{this.auth.authState.subscribe(_=>{_?u(!0):(this.router.navigate(["login"]),u(!1))})})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(pr),l.LFG(po))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xd=(()=>{class t{constructor(n,r){this.data=n,this.router=r}canActivate(n,r){return new Promise((u,m)=>{this.data.user.subscribe(_=>{_?1==_.isverified?u(!0):(u(!1),console.log("not verified"),this.router.navigate(["//verify"])):(u(!1),console.log("no such user"),this.router.navigate(["//login"]))})})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Qm),l.LFG(po))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Iee=[{path:"login",component:aee},{path:"register",component:Tee},{path:"verify",component:yx,canActivate:[Mh]},{path:"dashboard",component:zM,canActivate:[Mh,xd]},{path:"customers",component:ZS,canActivate:[Mh,xd]},{path:"deliveries",component:lD,canActivate:[Mh,xd]},{path:"followers",component:oI,canActivate:[Mh,xd]},{path:"orders",component:Eee,canActivate:[Mh,xd]},{path:"items",component:oee,canActivate:[Mh,xd]},{path:"editshop",component:qK,canActivate:[Mh,xd]},{path:"",component:zM}];let xee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[OM.forRoot(Iee)],OM]}),t})();const See=["scrollMe"],Dee=["message"],Nee=function(t){return{"justify-content":t}},kee=function(t,e,n){return{"background-color":t,color:e,"text-allign":n}};function Lee(t,e){if(1&t&&(l.TgZ(0,"li",12),l.TgZ(1,"div",13),l.TgZ(2,"p",14),l._uU(3),l.qZA(),l.qZA(),l.TgZ(4,"p",15),l._uU(5),l.ALo(6,"date"),l.qZA(),l.qZA()),2&t){const n=e.$implicit,r=l.oxw(2);l.Q6J("ngStyle",l.VKq(7,Nee,n.senderid===r.shopUserid?"right":"left")),l.xp6(1),l.Q6J("ngStyle",l.kEZ(9,kee,n.senderid===r.shopUserid?"white":"grey",n.senderid===r.shopUserid?"black":"white",n.senderid===r.shopUserid?"right":"left")),l.xp6(2),l.Oqu(n.text),l.xp6(2),l.Oqu(l.xi3(6,4,n.createdAt,"shortTime"))}}function Oee(t,e){if(1&t&&(l.TgZ(0,"ul"),l.YNc(1,Lee,7,13,"li",11),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",n.messages)}}function Ree(t,e){1&t&&(l.TgZ(0,"p"),l._uU(1,"No messages yet"),l.qZA())}const Pee=function(t){return{"background-image":t}};let zee=(()=>{class t{constructor(n,r){this.auth=n,this.database=r,this.destroy$=new St.xQ,this.destroy1$=new St.xQ,this.messages=[],this.faArrowRight=VM}ngOnInit(){this.getUser().then(()=>{this.chatId=this.concat(this.shopUserid,this.userID),this.database.list(`chats/${this.chatId}/messages`).query.orderByChild("createdAt").limitToLast(50).on("value",n=>{this.messages.splice(0),n.forEach(r=>{this.messages.push(r.val())}),this.scrollToBottom()})})}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.shopUser=u,this.shopUserid=u.uid,r()})})}concat(n,r){return n+r}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(n){}}send(n){if(""!=n){let r=Date.now(),s=this.database.createPushId();this.database.list(`chats/${this.chatId}/messages`).set(s,{senderId:this.shopUserid,recieverId:this.userID,createdAt:r,id:s,text:n}).catch(u=>{if(u)return alert(u),null}).then(()=>{this.mess.nativeElement.value="",this.scrollToBottom()})}}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(Qr))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-insidechat"]],viewQuery:function(n,r){if(1&n&&(l.Gf(See,5),l.Gf(Dee,5)),2&n){let s;l.iGM(s=l.CRH())&&(r.myScrollContainer=s.first),l.iGM(s=l.CRH())&&(r.mess=s.first)}},inputs:{userID:"userID",username:"username",userUrl:"userUrl"},decls:14,vars:7,consts:[[1,"main-ins-chat"],[1,"top"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[1,"middle",3,"scrollTop"],["scrollMe",""],[4,"ngIf"],[1,"input-field"],["type","text","placeholder","Type message..",3,"keyUp.enter"],["message",""],[2,"padding","2px","border-radius","40%","background-color","white"],[2,"cursor","pointer","color","goldenrod",3,"icon","click"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"display","flex","flex-direction","row","border-radius","0.3rem","padding","5px","width","fit-content",3,"ngStyle"],[2,"font-size","13px"],[2,"font-size","8px","margin-left","5px","align-self","flex-end"]],template:function(n,r){if(1&n){const s=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"p"),l._uU(4,"person"),l.qZA(),l.qZA(),l.TgZ(5,"div",3,4),l.YNc(7,Oee,2,1,"ul",5),l.YNc(8,Ree,2,0,"p",5),l.qZA(),l.TgZ(9,"div",6),l.TgZ(10,"input",7,8),l.NdJ("keyUp.enter",function(){l.CHM(s);const m=l.MAs(11);return r.send(m.value)}),l.qZA(),l.TgZ(12,"div",9),l.TgZ(13,"fa-icon",10),l.NdJ("click",function(){l.CHM(s);const m=l.MAs(11);return r.send(m.value)}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const s=l.MAs(6);l.xp6(2),l.Q6J("ngStyle",l.VKq(5,Pee,r.userUrl?"url("+r.userUrl+")":"none")),l.xp6(3),l.Q6J("scrollTop",s.scrollHeight),l.xp6(2),l.Q6J("ngIf",r.messages),l.xp6(1),l.Q6J("ngIf",!r.messages||0==r.messages.length),l.xp6(5),l.Q6J("icon",r.faArrowRight)}},directives:[Yn,Jt,qp,ft],pipes:[Vs],styles:[".main-ins-chat[_ngcontent-%COMP%]{width:100%;height:80vh}.top[_ngcontent-%COMP%]{height:8vh;display:flex;flex-direction:row;grid-gap:1rem;gap:1rem;border-bottom:solid .5px rgba(128,128,128,.242);align-items:center}.middle[_ngcontent-%COMP%]{height:64vh;overflow-y:scroll;margin-top:10px;margin-bottom:10px}.input-field[_ngcontent-%COMP%]{height:8vh;width:100%;display:flex;flex-direction:row;grid-gap:10px;gap:10px;align-items:center}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;border-radius:.3rem;border:none;background-color:#fff;font-size:14px;padding-left:10px;height:6vh}ul[_ngcontent-%COMP%]{width:100%}li[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;display:flex;flex-direction:row;padding-right:10px}"]}),t})();function Vee(t,e){1&t&&(l.TgZ(0,"h3",3),l._uU(1,"Messages"),l.qZA())}function Fee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"fa-icon",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().back()}),l.qZA()}if(2&t){const n=l.oxw();l.Q6J("icon",n.faArrowLeft)}}const Hee=function(t){return{"background-image":t}};function Uee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"li",7),l.NdJ("click",function(){const u=l.CHM(n).$implicit;return l.oxw(3).selectChat(u.userid,u.username,u.userUrl)}),l.TgZ(1,"div",8),l._UZ(2,"div",9),l.TgZ(3,"div",10),l.TgZ(4,"p",11),l._uU(5),l.qZA(),l.TgZ(6,"p",12),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"p",13),l._uU(9),l.ALo(10,"date"),l.qZA(),l.qZA()}if(2&t){const n=e.$implicit;l.xp6(2),l.Q6J("ngStyle",l.VKq(7,Hee,n.userUrl?"url("+n.userUrl+")":"none")),l.xp6(3),l.Oqu(n.username),l.xp6(2),l.Oqu(n.latestmessage),l.xp6(2),l.hij("at ",l.xi3(10,4,n.updatedat,"medium"),"")}}function Bee(t,e){if(1&t&&(l.TgZ(0,"ul"),l.YNc(1,Uee,11,9,"li",6),l.qZA()),2&t){const n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",n.chats)}}function jee(t,e){1&t&&(l.TgZ(0,"ul",14),l._uU(1,"No chats yet!"),l.qZA())}function qee(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,Bee,2,1,"ul",2),l.YNc(2,jee,2,0,"ul",5),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngIf",n.chats),l.xp6(1),l.Q6J("ngIf",!n.chats||0==n.chats.length)}}function Gee(t,e){if(1&t&&(l.TgZ(0,"div"),l._UZ(1,"app-insidechat",15),l.qZA()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("userID",n.selectedchatuid)}}let Zee=(()=>{class t{constructor(n,r){this.auth=n,this.databse=r,this.chats=[],this.ischatClicked=!1,this.selectedchatuid="",this.selectedchatusername="",this.selectedchatuserurl="",this.faArrowLeft=aE,this.destroy$=new St.xQ,this.destroy1$=new St.xQ}ngOnInit(){this.getUser().then(()=>{this.getChats()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(bi(this.destroy$)).subscribe(u=>{this.user=u,this.uid=u.uid,r()})})}getChats(){this.chats.splice(0,this.chats.length),this.chats.splice(0),this.databse.list("chats").query.orderByChild("shopid").equalTo(this.uid).on("value",n=>{n.forEach(r=>{this.chats.push(r.val())})})}selectChat(n,r,s){this.selectedchatuid=n,this.selectedchatusername=r,this.selectedchatuserurl=s,this.ischatClicked=!0}back(){this.selectedchatuid="",this.ischatClicked=!1}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(pr),l.Y36(Qr))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-chats"]],decls:4,vars:4,consts:[["style","margin-bottom: 0.5rem;font-size: 16px;color: black;",4,"ngIf"],["style","cursor: pointer;",3,"icon","click",4,"ngIf"],[4,"ngIf"],[2,"margin-bottom","0.5rem","font-size","16px","color","black"],[2,"cursor","pointer",3,"icon","click"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n      font-weight: 400;",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"display","flex","flex-direction","row","gap","0.5rem","align-items","center"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[2,"display","flex","flex-direction","column"],[2,"font-size","12px","font-weight","bold"],[2,"font-size","10px"],[2,"font-size","8px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"],[3,"userID","username","userUrl"]],template:function(n,r){1&n&&(l.YNc(0,Vee,2,0,"h3",0),l.YNc(1,Fee,1,1,"fa-icon",1),l.YNc(2,qee,3,2,"div",2),l.YNc(3,Gee,2,1,"div",2)),2&n&&(l.Q6J("ngIf",0==r.ischatClicked),l.xp6(1),l.Q6J("ngIf",1==r.ischatClicked),l.xp6(1),l.Q6J("ngIf",0==r.ischatClicked),l.xp6(1),l.Q6J("ngIf",1==r.ischatClicked))},directives:[Jt,qp,ft,Yn,zee],pipes:[Vs],styles:["ul[_ngcontent-%COMP%]{width:100%;max-height:80vh}li[_ngcontent-%COMP%]{background-color:#fff;width:100%;padding:.5rem;border-radius:.3rem;margin-bottom:.5rem;transition:.3s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]:hover{background-color:#c7c7c7;cursor:pointer}"]}),t})();const $ee=function(t){return{"background-image":t}},Wee=function(t){return{opacity:t}};function Kee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",15),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).clickedUserDrop()}),l.qZA()}if(2&t){const n=l.oxw(2);l.Q6J("ngStyle",l.VKq(2,$ee,"url("+n.userData.shopurl+")"))("ngStyle",l.VKq(4,Wee,1==n.isUserDropClickedd?"0.5":"1"))}}const Yee=function(t){return{"background-color":t}};function Qee(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",15),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).clickedUserDrop()}),l.qZA()}if(2&t){const n=l.oxw(2);l.Q6J("ngStyle",l.VKq(1,Yee,1==n.isUserDropClickedd?"grey":"white"))}}function Jee(t,e){if(1&t&&(l.TgZ(0,"h2",21),l._uU(1),l.qZA()),2&t){const n=l.oxw(3);l.xp6(1),l.Oqu(n.userData.shopname)}}function Xee(t,e){if(1&t&&(l.TgZ(0,"h2",21),l._uU(1),l.qZA()),2&t){const n=l.oxw(3);l.xp6(1),l.hij(" ",n.user.displayName,"")}}function ete(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"h2",13),l.NdJ("click",function(){return l.CHM(n),l.oxw(3).toEditshop()}),l._uU(1,"Edit Shop Page"),l.qZA()}}function tte(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",16),l.YNc(1,Jee,2,1,"h2",17),l.YNc(2,Xee,2,1,"h2",17),l.TgZ(3,"div",18),l.YNc(4,ete,2,0,"h2",19),l._UZ(5,"fa-icon",14),l.qZA(),l.TgZ(6,"h2",20),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).signOut()}),l._uU(7,"Log out"),l.qZA(),l.qZA()}if(2&t){const n=l.oxw(2);l.xp6(1),l.Q6J("ngIf",n.userData),l.xp6(1),l.Q6J("ngIf",!n.userData&&n.user),l.xp6(2),l.Q6J("ngIf",n.user),l.xp6(1),l.Q6J("icon",n.faEdit)}}function nte(t,e){if(1&t&&(l.TgZ(0,"li",26),l.TgZ(1,"div",27),l.TgZ(2,"p",28),l._uU(3),l.qZA(),l.TgZ(4,"p",29),l._uU(5),l.ALo(6,"date"),l.qZA(),l.qZA(),l.qZA()),2&t){const n=e.$implicit;l.xp6(3),l.hij(" ",n.content," "),l.xp6(2),l.Oqu(l.xi3(6,2,n.at,"shortTime"))}}function rte(t,e){1&t&&(l.TgZ(0,"li",30),l._uU(1,"No notifications yet!"),l.qZA())}function ite(t,e){if(1&t&&(l.TgZ(0,"div",22),l.TgZ(1,"h3",23),l._uU(2,"Notifications"),l.qZA(),l.TgZ(3,"ul"),l.YNc(4,nte,7,5,"li",24),l.YNc(5,rte,2,0,"li",25),l.qZA(),l.qZA()),2&t){const n=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",n.notifs),l.xp6(1),l.Q6J("ngIf",0==n.notifs.length)}}function ote(t,e){1&t&&(l.TgZ(0,"div",22),l._UZ(1,"app-chats"),l.qZA())}function ste(t,e){1&t&&(l.TgZ(0,"div",22),l.TgZ(1,"h3",23),l._uU(2,"Followers"),l.qZA(),l._UZ(3,"app-followers"),l.qZA())}const dA=function(t){return{color:t}};function ate(t,e){if(1&t){const n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"fa-icon",5),l.NdJ("click",function(){return l.CHM(n),l.oxw().clickedChat()}),l.qZA(),l.TgZ(3,"fa-icon",6),l.NdJ("click",function(){return l.CHM(n),l.oxw().clickedFollowers()}),l.qZA(),l.TgZ(4,"fa-icon",5),l.NdJ("click",function(){return l.CHM(n),l.oxw().clickedNotif()}),l.qZA(),l.YNc(5,Kee,1,6,"div",7),l.YNc(6,Qee,1,3,"div",7),l.qZA(),l.YNc(7,tte,8,4,"div",8),l.YNc(8,ite,6,2,"div",9),l.YNc(9,ote,2,0,"div",9),l.YNc(10,ste,4,0,"div",9),l.TgZ(11,"div",10),l.TgZ(12,"h3"),l._uU(13,"Go2Parts "),l.TgZ(14,"span",11),l._uU(15,"Shop"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",12),l.TgZ(17,"ul"),l.TgZ(18,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().toDashboard()}),l._UZ(19,"fa-icon",14),l._uU(20,"\xa0 \xa0Dashboard "),l.qZA(),l.TgZ(21,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().toCustomers()}),l._UZ(22,"fa-icon",14),l._uU(23,"\xa0 \xa0Customers "),l.qZA(),l.TgZ(24,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().toItems()}),l._UZ(25,"fa-icon",14),l._uU(26,"\xa0 \xa0Items "),l.qZA(),l.TgZ(27,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().toOrders()}),l._UZ(28,"fa-icon",14),l._uU(29,"\xa0 \xa0Orders "),l.qZA(),l.TgZ(30,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().toDeliveries()}),l._UZ(31,"fa-icon",14),l._uU(32,"\xa0 \xa0Deliveries "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const n=l.oxw();l.xp6(2),l.Q6J("icon",n.faComment)("ngStyle",l.VKq(17,dA,1==n.isChatClicked?"grey":"white")),l.xp6(1),l.Q6J("icon",n.faReceipt)("ngStyle",l.VKq(19,dA,1==n.isFollowersClicked?"grey":"white")),l.xp6(1),l.Q6J("icon",n.faBell)("ngStyle",l.VKq(21,dA,1==n.isNotifClicked?"grey":"white")),l.xp6(1),l.Q6J("ngIf",n.userData),l.xp6(1),l.Q6J("ngIf",!n.userData&&n.user),l.xp6(1),l.Q6J("ngIf",1==n.isUserDropClickedd),l.xp6(1),l.Q6J("ngIf",1==n.isNotifClicked),l.xp6(1),l.Q6J("ngIf",1==n.isChatClicked),l.xp6(1),l.Q6J("ngIf",1==n.isFollowersClicked),l.xp6(9),l.Q6J("icon",n.faHome),l.xp6(3),l.Q6J("icon",n.faUserAlt),l.xp6(3),l.Q6J("icon",n.faCar),l.xp6(3),l.Q6J("icon",n.faShoppingBasket),l.xp6(3),l.Q6J("icon",n.faHandHoldingHeart)}}function cte(t,e){1&t&&(l.TgZ(0,"div",31),l._UZ(1,"router-outlet"),l.qZA())}function ute(t,e){1&t&&(l.TgZ(0,"div",31),l._UZ(1,"app-verify-wait"),l.qZA())}function lte(t,e){1&t&&(l.TgZ(0,"div",31),l._UZ(1,"router-outlet"),l.qZA())}let fte=(()=>{class t{constructor(n,r,s,u){this.router=n,this.auth=r,this.userdata=s,this.Firestore=u,this.title="rabi3AdminApp",this.faEdit=cE,this.faBell=FM,this.faHome=jM,this.faComment=UM,this.faReceipt=GM,this.faShoppingBasket=ZM,this.faHandHoldingHeart=BM,this.faCar=HM,this.faMagnet=qM,this.faUserAlt=$M,this.isUserDropClickedd=!1,this.isNotifClicked=!1,this.isChatClicked=!1,this.isFollowersClicked=!1,this.getUser().then(()=>{this.getUserData().then(()=>{this.getNotifications()})})}getUser(){return new Promise((r,s)=>{this.auth.authState.subscribe(u=>{u&&(this.user=u,r())})})}getUserData(){return new Promise((r,s)=>{this.userdata.user.subscribe(u=>{this.userData=u,r()})})}getNotifications(){this.Firestore.collection("shopOwners").doc(this.user.uid).collection("notifications",n=>n.orderBy("at","desc").limitToLast(10)).valueChanges().subscribe(n=>{n&&(this.notifs=n)})}clickedUserDrop(){this.isUserDropClickedd=!this.isUserDropClickedd,1==this.isNotifClicked&&(this.isNotifClicked=!1),1==this.isChatClicked&&(this.isChatClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedNotif(){this.isNotifClicked=!this.isNotifClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isChatClicked&&(this.isChatClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedChat(){this.isChatClicked=!this.isChatClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isNotifClicked&&(this.isNotifClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedFollowers(){this.isFollowersClicked=!this.isFollowersClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isNotifClicked&&(this.isNotifClicked=!1),this.isChatClicked&&(this.isChatClicked=!1)}toDashboard(){this.router.navigate(["dashboard"])}toCustomers(){this.router.navigate(["customers"])}toFollowers(){this.router.navigate(["followers"])}toItems(){this.router.navigate(["items"])}toOrders(){this.router.navigate(["orders"])}toDeliveries(){this.router.navigate(["deliveries"])}toEditshop(){this.isUserDropClickedd=!1,this.router.navigate(["editshop"])}signOut(){this.auth.signOut().catch(n=>alert(n)).then(()=>{window.location.reload()})}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(po),l.Y36(pr),l.Y36(Qm),l.Y36(q1))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:5,vars:4,consts:[[1,"main"],["class","left-bar",4,"ngIf"],["class","right-content",4,"ngIf"],[1,"left-bar"],[1,"user-infos-container"],[2,"transform","scale(140%)","cursor","pointer",3,"icon","ngStyle","click"],[2,"color","white","transform","scale(140%)","cursor","pointer",3,"icon","ngStyle","click"],["class","avatar",3,"ngStyle","click",4,"ngIf"],["class","user-info-dropDown",4,"ngIf"],["class","chat-space",4,"ngIf"],[1,"top-bar","primary"],[2,"font-size","10px","color","rgb(209, 206, 206)"],[2,"margin-left","10%","margin-top","1rem"],[3,"click"],[3,"icon"],[1,"avatar",3,"ngStyle","click"],[1,"user-info-dropDown"],["style","font-weight: bold;text-decoration: none;cursor: default;",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[3,"click",4,"ngIf"],[1,"signOut",3,"click"],[2,"font-weight","bold","text-decoration","none","cursor","default"],[1,"chat-space"],[2,"margin-bottom","0.5rem","font-size","16px","color","black"],["style","font-size: 14px;font-weight: 400;background-color: white;padding: 0.5rem;border-radius: 0.3rem;margin-bottom: 0.5rem;\n        padding-left: 0.5rem;padding-right: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;",4,"ngFor","ngForOf"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n        font-weight: 400;",4,"ngIf"],[2,"font-size","14px","font-weight","400","background-color","white","padding","0.5rem","border-radius","0.3rem","margin-bottom","0.5rem","padding-left","0.5rem","padding-right","0.5rem","padding-top","0.5rem","padding-bottom","0.5rem"],[2,"display","flex","flex-direction","column"],[2,"font-size","14px"],[2,"font-size","10px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"],[1,"right-content"]],template:function(n,r){1&n&&(l.TgZ(0,"div",0),l.YNc(1,ate,33,23,"div",1),l.YNc(2,cte,2,0,"div",2),l.YNc(3,ute,2,0,"div",2),l.YNc(4,lte,2,0,"div",2),l.qZA()),2&n&&(l.xp6(1),l.Q6J("ngIf",r.user),l.xp6(1),l.Q6J("ngIf",r.userData),l.xp6(1),l.Q6J("ngIf",!r.userData&&r.user),l.xp6(1),l.Q6J("ngIf",!r.userData&&!r.user))},directives:[Jt,qp,Yn,ft,Zee,oI,iE,yx],pipes:[Vs],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:row}.left-bar[_ngcontent-%COMP%]{width:12.5%;height:100vh;overflow:hidden;background-color:#e5e9ec49;box-shadow:3px 0 5px #7e7c7c5f}.user-infos-container[_ngcontent-%COMP%]{position:absolute;top:1%;right:1.5%;display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:1.5rem;gap:1.5rem}.user-info-dropDown[_ngcontent-%COMP%]{position:absolute;top:8.5vh;right:0;width:15rem;height:10rem;background-color:#f3f3f3;animation-name:user-info-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-2px 2px 3px #7e7c7c5f;padding:1rem 2rem 1rem 1rem;z-index:10}.user-info-dropDown[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation-name:p-anim-in;animation-duration:1s;transition:ease-in-out}@keyframes user-info-anim-in{0%{height:1rem}to{height:10rem}}@keyframes p-anim-in{0%{opacity:0}to{opacity:1}}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:10%}h1[_ngcontent-%COMP%]{color:#fff}h2[_ngcontent-%COMP%]{transition:.5s ease-in-out}h2[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}h3[_ngcontent-%COMP%]{cursor:default;font-weight:bold;color:#fff}ul[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]{transition:.3s ease-in-out;font-weight:bold;margin-bottom:.5rem;cursor:pointer}li[_ngcontent-%COMP%]:hover{opacity:.4}.chat-space[_ngcontent-%COMP%]{position:absolute;width:22.5rem;top:8.5vh;right:0;background-color:#f3f3f3!important;animation-name:chat-space-anim-in;animation-duration:.5s;transition:ease-in-out;height:91.5vh;box-shadow:2px 2px 3px #7e7c7c5f;z-index:10;padding:1rem;overflow-y:scroll}@keyframes chat-space-anim-in{0%{height:0}to{height:100Vh}}@keyframes chat-space-anim-out{0%{width:21.5rem}to{width:0rem}}.right-content[_ngcontent-%COMP%]{width:87.5%;height:100vh;overflow:hidden}.signOut[_ngcontent-%COMP%]:hover{color:#f53e1e}"]}),t})(),hte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t,bootstrap:[fte]}),t.\u0275inj=l.cJS({providers:[Qm,Vs],imports:[[o0,xee,BW,LK,Xt.hO.initializeApp(_p_firebaseConfig),s2,ay,pu,d,Nw]]}),t})();(0,l.G48)(),ds().bootstrapModule(hte).catch(t=>console.error(t))},4762:(wt,je,X)=>{"use strict";X.r(je),X.d(je,{__extends:()=>B,__assign:()=>V,__rest:()=>he,__decorate:()=>De,__param:()=>ge,__metadata:()=>Re,__awaiter:()=>me,__generator:()=>pe,__createBinding:()=>F,__exportStar:()=>ae,__values:()=>te,__read:()=>se,__spread:()=>le,__spreadArrays:()=>Te,__spreadArray:()=>ke,__await:()=>Ne,__asyncGenerator:()=>Ie,__asyncDelegator:()=>Oe,__asyncValues:()=>Ge,__makeTemplateObject:()=>nt,__importStar:()=>Bt,__importDefault:()=>ot,__classPrivateFieldGet:()=>Zt,__classPrivateFieldSet:()=>yn});var l=function(de,Ae){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,we){$.__proto__=we}||function($,we){for(var Be in we)Object.prototype.hasOwnProperty.call(we,Be)&&($[Be]=we[Be])})(de,Ae)};function B(de,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function $(){this.constructor=de}l(de,Ae),de.prototype=null===Ae?Object.create(Ae):($.prototype=Ae.prototype,new $)}var V=function(){return(V=Object.assign||function(Ae){for(var $,we=1,Be=arguments.length;we<Be;we++)for(var Ee in $=arguments[we])Object.prototype.hasOwnProperty.call($,Ee)&&(Ae[Ee]=$[Ee]);return Ae}).apply(this,arguments)};function he(de,Ae){var $={};for(var we in de)Object.prototype.hasOwnProperty.call(de,we)&&Ae.indexOf(we)<0&&($[we]=de[we]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(we=Object.getOwnPropertySymbols(de);Be<we.length;Be++)Ae.indexOf(we[Be])<0&&Object.prototype.propertyIsEnumerable.call(de,we[Be])&&($[we[Be]]=de[we[Be]])}return $}function De(de,Ae,$,we){var Et,Be=arguments.length,Ee=Be<3?Ae:null===we?we=Object.getOwnPropertyDescriptor(Ae,$):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(de,Ae,$,we);else for(var Ct=de.length-1;Ct>=0;Ct--)(Et=de[Ct])&&(Ee=(Be<3?Et(Ee):Be>3?Et(Ae,$,Ee):Et(Ae,$))||Ee);return Be>3&&Ee&&Object.defineProperty(Ae,$,Ee),Ee}function ge(de,Ae){return function($,we){Ae($,we,de)}}function Re(de,Ae){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(de,Ae)}function me(de,Ae,$,we){return new($||($=Promise))(function(Ee,Et){function Ct(mt){try{_t(we.next(mt))}catch(it){Et(it)}}function _n(mt){try{_t(we.throw(mt))}catch(it){Et(it)}}function _t(mt){mt.done?Ee(mt.value):function(Ee){return Ee instanceof $?Ee:new $(function(Et){Et(Ee)})}(mt.value).then(Ct,_n)}_t((we=we.apply(de,Ae||[])).next())})}function pe(de,Ae){var we,Be,Ee,Et,$={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return Et={next:Ct(0),throw:Ct(1),return:Ct(2)},"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function Ct(_t){return function(mt){return function(_t){if(we)throw new TypeError("Generator is already executing.");for(;$;)try{if(we=1,Be&&(Ee=2&_t[0]?Be.return:_t[0]?Be.throw||((Ee=Be.return)&&Ee.call(Be),0):Be.next)&&!(Ee=Ee.call(Be,_t[1])).done)return Ee;switch(Be=0,Ee&&(_t=[2&_t[0],Ee.value]),_t[0]){case 0:case 1:Ee=_t;break;case 4:return $.label++,{value:_t[1],done:!1};case 5:$.label++,Be=_t[1],_t=[0];continue;case 7:_t=$.ops.pop(),$.trys.pop();continue;default:if(!(Ee=(Ee=$.trys).length>0&&Ee[Ee.length-1])&&(6===_t[0]||2===_t[0])){$=0;continue}if(3===_t[0]&&(!Ee||_t[1]>Ee[0]&&_t[1]<Ee[3])){$.label=_t[1];break}if(6===_t[0]&&$.label<Ee[1]){$.label=Ee[1],Ee=_t;break}if(Ee&&$.label<Ee[2]){$.label=Ee[2],$.ops.push(_t);break}Ee[2]&&$.ops.pop(),$.trys.pop();continue}_t=Ae.call(de,$)}catch(mt){_t=[6,mt],Be=0}finally{we=Ee=0}if(5&_t[0])throw _t[1];return{value:_t[0]?_t[1]:void 0,done:!0}}([_t,mt])}}}var F=Object.create?function(de,Ae,$,we){void 0===we&&(we=$),Object.defineProperty(de,we,{enumerable:!0,get:function(){return Ae[$]}})}:function(de,Ae,$,we){void 0===we&&(we=$),de[we]=Ae[$]};function ae(de,Ae){for(var $ in de)"default"!==$&&!Object.prototype.hasOwnProperty.call(Ae,$)&&F(Ae,de,$)}function te(de){var Ae="function"==typeof Symbol&&Symbol.iterator,$=Ae&&de[Ae],we=0;if($)return $.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&we>=de.length&&(de=void 0),{value:de&&de[we++],done:!de}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(de,Ae){var $="function"==typeof Symbol&&de[Symbol.iterator];if(!$)return de;var Be,Et,we=$.call(de),Ee=[];try{for(;(void 0===Ae||Ae-- >0)&&!(Be=we.next()).done;)Ee.push(Be.value)}catch(Ct){Et={error:Ct}}finally{try{Be&&!Be.done&&($=we.return)&&$.call(we)}finally{if(Et)throw Et.error}}return Ee}function le(){for(var de=[],Ae=0;Ae<arguments.length;Ae++)de=de.concat(se(arguments[Ae]));return de}function Te(){for(var de=0,Ae=0,$=arguments.length;Ae<$;Ae++)de+=arguments[Ae].length;var we=Array(de),Be=0;for(Ae=0;Ae<$;Ae++)for(var Ee=arguments[Ae],Et=0,Ct=Ee.length;Et<Ct;Et++,Be++)we[Be]=Ee[Et];return we}function ke(de,Ae,$){if($||2===arguments.length)for(var Ee,we=0,Be=Ae.length;we<Be;we++)(Ee||!(we in Ae))&&(Ee||(Ee=Array.prototype.slice.call(Ae,0,we)),Ee[we]=Ae[we]);return de.concat(Ee||Array.prototype.slice.call(Ae))}function Ne(de){return this instanceof Ne?(this.v=de,this):new Ne(de)}function Ie(de,Ae,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,we=$.apply(de,Ae||[]),Ee=[];return Be={},Et("next"),Et("throw"),Et("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Et(at){we[at]&&(Be[at]=function(Ot){return new Promise(function(En,rn){Ee.push([at,Ot,En,rn])>1||Ct(at,Ot)})})}function Ct(at,Ot){try{!function(at){at.value instanceof Ne?Promise.resolve(at.value.v).then(_t,mt):it(Ee[0][2],at)}(we[at](Ot))}catch(En){it(Ee[0][3],En)}}function _t(at){Ct("next",at)}function mt(at){Ct("throw",at)}function it(at,Ot){at(Ot),Ee.shift(),Ee.length&&Ct(Ee[0][0],Ee[0][1])}}function Oe(de){var Ae,$;return Ae={},we("next"),we("throw",function(Be){throw Be}),we("return"),Ae[Symbol.iterator]=function(){return this},Ae;function we(Be,Ee){Ae[Be]=de[Be]?function(Et){return($=!$)?{value:Ne(de[Be](Et)),done:"return"===Be}:Ee?Ee(Et):Et}:Ee}}function Ge(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,Ae=de[Symbol.asyncIterator];return Ae?Ae.call(de):(de=te(de),$={},we("next"),we("throw"),we("return"),$[Symbol.asyncIterator]=function(){return this},$);function we(Ee){$[Ee]=de[Ee]&&function(Et){return new Promise(function(Ct,_n){!function(Ee,Et,Ct,_n){Promise.resolve(_n).then(function(_t){Ee({value:_t,done:Ct})},Et)}(Ct,_n,(Et=de[Ee](Et)).done,Et.value)})}}}function nt(de,Ae){return Object.defineProperty?Object.defineProperty(de,"raw",{value:Ae}):de.raw=Ae,de}var Qe=Object.create?function(de,Ae){Object.defineProperty(de,"default",{enumerable:!0,value:Ae})}:function(de,Ae){de.default=Ae};function Bt(de){if(de&&de.__esModule)return de;var Ae={};if(null!=de)for(var $ in de)"default"!==$&&Object.prototype.hasOwnProperty.call(de,$)&&F(Ae,de,$);return Qe(Ae,de),Ae}function ot(de){return de&&de.__esModule?de:{default:de}}function Zt(de,Ae,$,we){if("a"===$&&!we)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ae?de!==Ae||!we:!Ae.has(de))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===$?we:"a"===$?we.call(de):we?we.value:Ae.get(de)}function yn(de,Ae,$,we,Be){if("m"===we)throw new TypeError("Private method is not writable");if("a"===we&&!Be)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ae?de!==Ae||!Be:!Ae.has(de))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===we?Be.call(de,$):Be?Be.value=$:Ae.set(de,$),$}}},wt=>{wt(wt.s=5703)}]);