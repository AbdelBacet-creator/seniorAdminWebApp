(self.webpackChunksingle_web_page=self.webpackChunksingle_web_page||[]).push([[179],{8255:wt=>{function je(J){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+J+"'");throw u.code="MODULE_NOT_FOUND",u})}je.keys=()=>[],je.resolve=je,je.id=8255,wt.exports=je},7716:(wt,je,J)=>{"use strict";J.d(je,{deG:()=>Ws,tb:()=>_y,AFp:()=>id,ip1:()=>Ep,CZH:()=>oh,hGG:()=>_w,z2F:()=>z4,sBO:()=>A9,Sil:()=>B6,_Vd:()=>A4,EJc:()=>Mp,SBq:()=>Ha,qLn:()=>p2,vpe:()=>Ba,gxx:()=>Wo,tBr:()=>Sr,XFs:()=>ct,OlP:()=>xt,zs3:()=>mr,ZZ4:()=>z8,aQg:()=>H5,soG:()=>sd,YKP:()=>M9,v3s:()=>Vy,h0i:()=>M4,PXZ:()=>wm,R0b:()=>lo,FiY:()=>Vr,Lbi:()=>Tp,g9A:()=>yy,Qsj:()=>_9,FYo:()=>R8,JOm:()=>na,Tiy:()=>C9,q3G:()=>pn,tp0:()=>pi,EAV:()=>By,Rgc:()=>F8,dDg:()=>Iy,DyG:()=>gl,q4F:()=>V5,GfV:()=>P8,s_b:()=>j5,ifc:()=>lt,eFA:()=>Em,G48:()=>Ny,Gpc:()=>ae,X6Q:()=>cd,_c5:()=>gw,VLi:()=>ew,c2e:()=>Cy,zSh:()=>pr,wAp:()=>kt,vHH:()=>Te,EiD:()=>yu,mCW:()=>To,qzn:()=>vs,JVY:()=>v3,pB0:()=>y3,eBb:()=>E0,L6k:()=>El,LAX:()=>Nh,cg1:()=>y6,Tjo:()=>mw,kL8:()=>Vg,yhl:()=>u2,dqk:()=>bn,sIi:()=>tt,CqO:()=>g4,QGY:()=>qu,F4k:()=>O7,RDi:()=>qc,AaK:()=>me,z3N:()=>gs,qOj:()=>pf,TTD:()=>Z4,_Bn:()=>m9,xp6:()=>Od,uIk:()=>ke,ekj:()=>wf,Suo:()=>J8,Xpm:()=>dt,lG2:()=>go,Yz7:()=>rn,cJS:()=>Xn,oAB:()=>Ci,Yjl:()=>wi,Y36:()=>h6,_UZ:()=>w8,qZA:()=>v5,TgZ:()=>g5,EpF:()=>L7,n5z:()=>a0,Ikx:()=>A5,LFG:()=>Mn,$8M:()=>iu,NdJ:()=>y5,CRH:()=>eh,oxw:()=>A8,ALo:()=>L4,xi3:()=>Qv,Hsn:()=>vg,F$t:()=>_5,Q6J:()=>m5,DdM:()=>lp,VKq:()=>G8,kEZ:()=>K9,iGM:()=>Q9,MAs:()=>E7,CHM:()=>e1,oJD:()=>C1,LSH:()=>uc,kYT:()=>Ls,YNc:()=>p4,_uU:()=>j7,Oqu:()=>Af,hij:()=>I8,Gf:()=>yt});var u=J(9765),B=J(5319),V=J(7574),fe=J(6682),Se=J(8819);function ge(i){for(let o in i)if(i[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ze(i,o){for(const c in o)o.hasOwnProperty(c)&&!i.hasOwnProperty(c)&&(i[c]=o[c])}function me(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(me).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function pe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const F=ge({__forward_ref__:ge});function ae(i){return i.__forward_ref__=ae,i.toString=function(){return me(this())},i}function ee(i){return se(i)?i():i}function se(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===ae}class Te extends Error{constructor(o,c){super(function(i,o){return`${i?`NG0${i}: `:""}${o}`}(o,c)),this.code=o}}function Me(i){return"string"==typeof i?i:null==i?"":String(i)}function Le(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Me(i)}function Bt(i,o){const c=o?` in ${o}`:"";throw new Te("201",`No provider for ${Le(i)} found${c}`)}function mt(i,o){null==i&&function(i,o,c,f){throw new Error(`ASSERTION ERROR: ${i}`+(null==f?"":` [Expected=> ${c} ${f} ${o} <=Actual]`))}(o,i,null,"!=")}function rn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function rr(i){return Bi(i,Kt)||Bi(i,wr)}function Bi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Wa(i){return i&&(i.hasOwnProperty(zt)||i.hasOwnProperty(Ln))?i[zt]:null}const Kt=ge({\u0275prov:ge}),zt=ge({\u0275inj:ge}),wr=ge({ngInjectableDef:ge}),Ln=ge({ngInjectorDef:ge});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let en;function An(i){const o=en;return en=i,o}function ks(i,o,c){const f=rr(i);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&ct.Optional?null:void 0!==o?o:void Bt(me(i),"Injector")}function ji(i){return{toString:i}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const Pt="undefined"!=typeof globalThis&&globalThis,Sn="undefined"!=typeof window&&window,mo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=Pt||"undefined"!=typeof global&&global||Sn||mo,Tn={},ie=[],re=ge({\u0275cmp:ge}),ve=ge({\u0275dir:ge}),W=ge({\u0275pipe:ge}),Q=ge({\u0275mod:ge}),ce=ge({\u0275loc:ge}),_e=ge({\u0275fac:ge}),Fe=ge({__NG_ELEMENT_ID__:ge});let Ke=0;function dt(i){return ji(()=>{const c={},f={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ie,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||lt.Emulated,id:"c",styles:i.styles||ie,_:null,setInput:null,schemas:i.schemas||null,tView:null},m=i.directives,y=i.features,w=i.pipes;return f.id+=Ke++,f.inputs=yr(i.inputs,c),f.outputs=yr(i.outputs),y&&y.forEach(A=>A(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(dn):null,f.pipeDefs=w?()=>("function"==typeof w?w():w).map(un):null,f})}function dn(i){return Tr(i)||function(i){return i[ve]||null}(i)}function un(i){return function(i){return i[W]||null}(i)}const ir={};function Ci(i){return ji(()=>{const o={type:i.type,bootstrap:i.bootstrap||ie,declarations:i.declarations||ie,imports:i.imports||ie,exports:i.exports||ie,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ir[i.id]=i.type),o})}function Ls(i,o){return ji(()=>{const c=vo(i,!0);c.declarations=o.declarations||ie,c.imports=o.imports||ie,c.exports=o.exports||ie})}function yr(i,o){if(null==i)return Tn;const c={};for(const f in i)if(i.hasOwnProperty(f)){let m=i[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),c[m]=f,o&&(o[m]=y)}return c}const go=dt;function wi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tr(i){return i[re]||null}function vo(i,o){const c=i[Q]||null;if(!c&&!0===o)throw new Error(`Type ${me(i)} does not have '\u0275mod' property.`);return c}function er(i){return Array.isArray(i)&&"object"==typeof i[1]}function yo(i){return Array.isArray(i)&&!0===i[1]}function Hc(i){return 0!=(8&i.flags)}function Yn(i){return 2==(2&i.flags)}function G1(i){return 1==(1&i.flags)}function ss(i){return null!==i.template}function _o(i){return 0!=(512&i[2])}function Ti(i,o){return i.hasOwnProperty(_e)?i[_e]:null}class il{constructor(o,c,f){this.previousValue=o,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function Z4(){return jc}function jc(i){return i.type.prototype.ngOnChanges&&(i.setInput=$4),G4}function G4(){const i=t3(this),o=null==i?void 0:i.current;if(o){const c=i.previous;if(c===Tn)i.previous=o;else for(let f in o)c[f]=o[f];i.current=null,this.ngOnChanges(o)}}function $4(i,o,c,f){const m=t3(i)||function(i,o){return i[Xa]=o}(i,{previous:Tn,current:null}),y=m.current||(m.current={}),w=m.previous,A=this.declaredInputs[c],I=w[A];y[A]=new il(I&&I.currentValue,o,w===Tn),i[f]=o}Z4.ngInherit=!0;const Xa="__ngSimpleChanges__";function t3(i){return i[Xa]||null}let sl;function qc(i){sl=i}function al(){return void 0!==sl?sl:"undefined"!=typeof document?document:void 0}function on(i){return!!i.listen}const Lt={createRenderer:(i,o)=>al()};function zn(i){for(;Array.isArray(i);)i=i[0];return i}function ga(i,o){return zn(o[i])}function Gi(i,o){return zn(o[i.index])}function Vs(i,o){return i.data[o]}function Fs(i,o){return i[o]}function Mi(i,o){const c=o[i];return er(c)?c:c[0]}function Co(i){return 4==(4&i[2])}function Y4(i){return 128==(128&i[2])}function Hs(i,o){return null==o?null:i[o]}function Ii(i){i[18]=0}function va(i,o){i[5]+=o;let c=i,f=i[3];for(;null!==f&&(1===o&&1===c[5]||-1===o&&0===c[5]);)f[5]+=o,c=f,f=f[3]}const Dt={lFrame:Si(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function J4(){return Dt.bindingsEnabled}function Ge(){return Dt.lFrame.lView}function sn(){return Dt.lFrame.tView}function e1(i){return Dt.lFrame.contextLView=i,i[8]}function Qn(){let i=Us();for(;null!==i&&64===i.type;)i=i.parent;return i}function Us(){return Dt.lFrame.currentTNode}function ui(i,o){const c=Dt.lFrame;c.currentTNode=i,c.isParent=o}function Kc(){return Dt.lFrame.isParent}function Bs(){Dt.lFrame.isParent=!1}function n1(){return Dt.isInCheckNoChangesMode}function ya(i){Dt.isInCheckNoChangesMode=i}function Vn(){const i=Dt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function cs(){return Dt.lFrame.bindingIndex++}function Qc(i,o){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=i,Rr(o)}function Rr(i){Dt.lFrame.currentDirectiveIndex=i}function eu(){return Dt.lFrame.currentQueryIndex}function Q1(i){Dt.lFrame.currentQueryIndex=i}function i3(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function X4(i,o,c){if(c&ct.SkipSelf){let m=o,y=i;for(;!(m=m.parent,null!==m||c&ct.Host||(m=i3(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;o=m,i=y}const f=Dt.lFrame=js();return f.currentTNode=o,f.lView=i,!0}function J1(i){const o=js(),c=i[1];Dt.lFrame=o,o.currentTNode=c.firstChild,o.lView=i,o.tView=c,o.contextLView=i,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function js(){const i=Dt.lFrame,o=null===i?null:i.child;return null===o?Si(i):o}function Si(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function e0(){const i=Dt.lFrame;return Dt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const qs=e0;function ls(){const i=e0();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function nr(){return Dt.lFrame.selectedIndex}function fs(i){Dt.lFrame.selectedIndex=i}function sr(){const i=Dt.lFrame;return Vs(i.tView,i.selectedIndex)}function Fo(i,o){for(let c=o.directiveStart,f=o.directiveEnd;c<f;c++){const y=i.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:A,ngAfterViewInit:I,ngAfterViewChecked:k,ngOnDestroy:P}=y;w&&(i.contentHooks||(i.contentHooks=[])).push(-c,w),A&&((i.contentHooks||(i.contentHooks=[])).push(c,A),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(c,A)),I&&(i.viewHooks||(i.viewHooks=[])).push(-c,I),k&&((i.viewHooks||(i.viewHooks=[])).push(c,k),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(c,k)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(c,P)}}function _a(i,o,c){ba(i,o,3,c)}function Q2(i,o,c,f){(3&i[2])===c&&ba(i,o,c,f)}function tu(i,o){let c=i[2];(3&c)===o&&(c&=2047,c+=1,i[2]=c)}function ba(i,o,c,f){const y=null!=f?f:-1,w=o.length-1;let A=0;for(let I=void 0!==f?65535&i[18]:0;I<w;I++)if("number"==typeof o[I+1]){if(A=o[I],null!=f&&A>=f)break}else o[I]<0&&(i[18]+=65536),(A<y||-1==y)&&(i1(i,c,o,I),i[18]=(4294901760&i[18])+I+2),I++}function i1(i,o,c,f){const m=c[f]<0,y=c[f+1],A=i[m?-c[f]:c[f]];if(m){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{y.call(A)}finally{}}}else try{y.call(A)}finally{}}class J2{constructor(o,c,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function ll(i,o,c){const f=on(i);let m=0;for(;m<c.length;){const y=c[m];if("number"==typeof y){if(0!==y)break;m++;const w=c[m++],A=c[m++],I=c[m++];f?i.setAttribute(o,A,I,w):o.setAttributeNS(w,A,I)}else{const w=y,A=c[++m];wo(w)?f&&i.setProperty(o,w,A):f?i.setAttribute(o,w,A):o.setAttribute(w,A),m++}}return m}function u3(i){return 3===i||4===i||6===i}function wo(i){return 64===i.charCodeAt(0)}function X2(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let c=-1;for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?c=m:0===c||X1(i,c,m,null,-1===c||2===c?o[++f]:null)}}return i}function X1(i,o,c,f,m){let y=0,w=i.length;if(-1===o)w=-1;else for(;y<i.length;){const A=i[y++];if("number"==typeof A){if(A===o){w=-1;break}if(A>o){w=y-1;break}}}for(;y<i.length;){const A=i[y];if("number"==typeof A)break;if(A===c){if(null===f)return void(null!==m&&(i[y+1]=m));if(f===i[y+1])return void(i[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==w&&(i.splice(w,0,o),y=w+1),i.splice(y++,0,c),null!==f&&i.splice(y++,0,f),null!==m&&i.splice(y++,0,m)}function ru(i){return-1!==i}function Ho(i){return 32767&i}function Rn(i,o){let c=function(i){return i>>16}(i),f=o;for(;c>0;)f=f[15],c--;return f}let fl=!0;function Eo(i){const o=fl;return fl=i,o}let dl=0;function ds(i,o){const c=Xt(i,o);if(-1!==c)return c;const f=o[1];f.firstCreatePass&&(i.injectorIndex=o.length,Ca(f.data,i),Ca(o,null),Ca(f.blueprint,null));const m=e2(i,o),y=i.injectorIndex;if(ru(m)){const w=Ho(m),A=Rn(m,o),I=A[1].data;for(let k=0;k<8;k++)o[y+k]=A[w+k]|I[w+k]}return o[y+8]=m,y}function Ca(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Xt(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function e2(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let c=0,f=null,m=o;for(;null!==m;){const y=m[1],w=y.type;if(f=2===w?y.declTNode:1===w?m[6]:null,null===f)return-1;if(c++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function ar(i,o,c){!function(i,o,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Fe)&&(f=c[Fe]),null==f&&(f=c[Fe]=dl++);const m=255&f;o.data[i+(m>>5)]|=1<<m}(i,o,c)}function pl(i,o,c){if(c&ct.Optional)return i;Bt(o,"NodeInjector")}function Nt(i,o,c,f){if(c&ct.Optional&&void 0===f&&(f=null),0==(c&(ct.Self|ct.Host))){const m=i[9],y=An(void 0);try{return m?m.get(o,f,c&ct.Optional):ks(o,f,c&ct.Optional)}finally{An(y)}}return pl(f,o,c)}function s0(i,o,c,f=ct.Default,m){if(null!==i){const y=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Fe)?i[Fe]:void 0;return"number"==typeof o?o>=0?255&o:Gs:o}(c);if("function"==typeof y){if(!X4(o,i,f))return f&ct.Host?pl(m,c,f):Nt(o,c,f,m);try{const w=y(f);if(null!=w||f&ct.Optional)return w;Bt(c)}finally{qs()}}else if("number"==typeof y){let w=null,A=Xt(i,o),I=-1,k=f&ct.Host?o[16][6]:null;for((-1===A||f&ct.SkipSelf)&&(I=-1===A?e2(i,o):o[A+8],-1!==I&&Pr(f,!1)?(w=o[1],A=Ho(I),o=Rn(I,o)):A=-1);-1!==A;){const P=o[1];if(ft(y,A,P.data)){const q=cr(A,o,c,w,f,k);if(q!==qn)return q}I=o[A+8],-1!==I&&Pr(f,o[1].data[A+8]===k)&&ft(y,A,o)?(w=P,A=Ho(I),o=Rn(I,o)):A=-1}}}return Nt(o,c,f,m)}const qn={};function Gs(){return new Ni(Qn(),Ge())}function cr(i,o,c,f,m,y){const w=o[1],A=w.data[i+8],P=c1(A,w,c,null==f?Yn(A)&&fl:f!=w&&0!=(3&A.type),m&ct.Host&&y===A);return null!==P?u1(o,w,P,A):qn}function c1(i,o,c,f,m){const y=i.providerIndexes,w=o.data,A=1048575&y,I=i.directiveStart,P=y>>20,$=m?A+P:i.directiveEnd;for(let oe=f?A:A+P;oe<$;oe++){const le=w[oe];if(oe<I&&c===le||oe>=I&&le.type===c)return oe}if(m){const oe=w[I];if(oe&&ss(oe)&&oe.type===c)return I}return null}function u1(i,o,c,f){let m=i[c];const y=o.data;if(function(i){return i instanceof J2}(m)){const w=m;w.resolving&&function(i,o){throw new Te("200",`Circular dependency in DI detected for ${i}`)}(Le(y[c]));const A=Eo(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?An(w.injectImpl):null;X4(i,f,ct.Default);try{m=i[c]=w.factory(void 0,y,i,f),o.firstCreatePass&&c>=f.directiveStart&&function(i,o,c){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=o.type.prototype;if(f){const w=jc(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(i,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(i,w)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-i,m),y&&((c.preOrderHooks||(c.preOrderHooks=[])).push(i,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(i,y))}(c,y[c],o)}finally{null!==I&&An(I),Eo(A),w.resolving=!1,qs()}}return m}function ft(i,o,c){return!!(c[o+(i>>5)]&1<<i)}function Pr(i,o){return!(i&ct.Self||i&ct.Host&&o)}class Ni{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,f){return s0(this._tNode,this._lView,o,f,c)}}function a0(i){return ji(()=>{const o=i.prototype.constructor,c=o[_e]||c0(o),f=Object.prototype;let m=Object.getPrototypeOf(i.prototype).constructor;for(;m&&m!==f;){const y=m[_e]||c0(m);if(y&&y!==c)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function c0(i){return se(i)?()=>{const o=c0(ee(i));return o&&o()}:Ti(i)}function iu(i){return function(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const c=i.attrs;if(c){const f=c.length;let m=0;for(;m<f;){const y=c[m];if(u3(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof c[m];)m++;else{if(y===o)return c[m+1];m+=2}}}return null}(Qn(),i)}const l1="__parameters__";function $s(i,o,c){return ji(()=>{const f=function(i){return function(...c){if(i){const f=i(...c);for(const m in f)this[m]=f[m]}}}(o);function m(...y){if(this instanceof m)return f.apply(this,y),this;const w=new m(...y);return A.annotation=w,A;function A(I,k,P){const q=I.hasOwnProperty(l1)?I[l1]:Object.defineProperty(I,l1,{value:[]})[l1];for(;q.length<=P;)q.push(null);return(q[P]=q[P]||[]).push(w),I}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=i,m.annotationCls=m,m})}class xt{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ws=new xt("AnalyzeForEntryComponents"),gl=Function;function ki(i,o){void 0===o&&(o=i);for(let c=0;c<i.length;c++){let f=i[c];Array.isArray(f)?(o===i&&(o=i.slice(0,c)),ki(f,o)):o!==i&&o.push(f)}return o}function zr(i,o){i.forEach(c=>Array.isArray(c)?zr(c,o):o(c))}function Ks(i,o,c){o>=i.length?i.push(c):i.splice(o,0,c)}function Aa(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Ta(i,o){const c=[];for(let f=0;f<i;f++)c.push(o);return c}function Yi(i,o,c){let f=n2(i,o);return f>=0?i[1|f]=c:(f=~f,function(i,o,c,f){let m=i.length;if(m==o)i.push(c,f);else if(1===m)i.push(f,i[0]),i[0]=c;else{for(m--,i.push(i[m-1],i[m]);m>o;)i[m]=i[m-2],m--;i[o]=c,i[o+1]=f}}(i,f,o,c)),f}function Qi(i,o){const c=n2(i,o);if(c>=0)return i[1|c]}function n2(i,o){return function(i,o,c){let f=0,m=i.length>>c;for(;m!==f;){const y=f+(m-f>>1),w=i[y<<c];if(o===w)return y<<c;w>o?m=y:f=y+1}return~(m<<c)}(i,o,1)}const o2={},rc="__NG_DI_FLAG__",hi="ngTempTokenPath",s2=/\n/gm,hu="__source",m1=ge({provide:String,useValue:ge});let Uo;function Bo(i){const o=Uo;return Uo=i,o}function Qs(i,o=ct.Default){if(void 0===Uo)throw new Error("inject() must be called from an injection context");return null===Uo?ks(i,void 0,o):Uo.get(i,o&ct.Optional?null:void 0,o)}function Mn(i,o=ct.Default){return(en||Qs)(ee(i),o)}function g1(i){const o=[];for(let c=0;c<i.length;c++){const f=ee(i[c]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let m,y=ct.Default;for(let w=0;w<f.length;w++){const A=f[w],I=_l(A);"number"==typeof I?-1===I?m=A.token:y|=I:m=A}o.push(Mn(m,y))}else o.push(Mn(f))}return o}function di(i,o){return i[rc]=o,i.prototype[rc]=o,i}function _l(i){return i[rc]}function g0(i,o,c,f){const m=i[hi];throw o[hu]&&m.unshift(o[hu]),i.message=function(i,o,c,f=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let m=me(o);if(Array.isArray(o))m=o.map(me).join(" -> ");else if("object"==typeof o){let y=[];for(let w in o)if(o.hasOwnProperty(w)){let A=o[w];y.push(w+":"+("string"==typeof A?JSON.stringify(A):me(A)))}m=`{${y.join(", ")}}`}return`${c}${f?"("+f+")":""}[${m}]: ${i.replace(s2,"\n  ")}`}("\n"+i.message,m,c,f),i.ngTokenPath=m,i[hi]=null,i}const Sr=di($s("Inject",i=>({token:i})),-1),Vr=di($s("Optional"),8),pi=di($s("SkipSelf"),4);let Qr,v1;function Jr(i){var o;return(null===(o=function(){if(void 0===Qr&&(Qr=null,bn.trustedTypes))try{Qr=bn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Qr}())||void 0===o?void 0:o.createHTML(i))||i}function oc(i){var o;return(null===(o=function(){if(void 0===v1&&(v1=null,bn.trustedTypes))try{v1=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return v1}())||void 0===o?void 0:o.createHTML(i))||i}class qo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class w0 extends qo{getTypeName(){return"HTML"}}class Sa extends qo{getTypeName(){return"Style"}}class gu extends qo{getTypeName(){return"Script"}}class vu extends qo{getTypeName(){return"URL"}}class Xr extends qo{getTypeName(){return"ResourceURL"}}function gs(i){return i instanceof qo?i.changingThisBreaksApplicationSecurity:i}function vs(i,o){const c=u2(i);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function u2(i){return i instanceof qo&&i.getTypeName()||null}function v3(i){return new w0(i)}function El(i){return new Sa(i)}function E0(i){return new gu(i)}function Nh(i){return new vu(i)}function y3(i){return new Xr(i)}class sc{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Jr(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Fr{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Jr(o),c;const f=this.inertDocument.createElement("body");return f.innerHTML=Jr(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const c=o.attributes;for(let m=c.length-1;0<m;m--){const w=c.item(m).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&o.removeAttribute(w)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const ys=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function To(i){return(i=String(i)).match(ys)||i.match(y1)?i:"unsafe:"+i}function mi(i){const o={};for(const c of i.split(","))o[c]=!0;return o}function Zo(...i){const o={};for(const c of i)for(const f in c)c.hasOwnProperty(f)&&(o[f]=!0);return o}const T0=mi("area,br,col,hr,img,wbr"),l2=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_3=mi("rp,rt"),Da=Zo(T0,Zo(l2,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zo(_3,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zo(_3,l2)),_1=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mo=mi("srcset"),_s=Zo(_1,Mo,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Il=mi("script,style,template");class C3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let m=this.checkClobberedElement(c,c.nextSibling);if(m){c=m;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Da.hasOwnProperty(c))return this.sanitizedSomething=!0,!Il.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=o.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),w=y.name,A=w.toLowerCase();if(!_s.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let I=y.value;_1[A]&&(I=To(I)),Mo[A]&&(i=I,I=(i=String(i)).split(",").map(o=>To(o.trim())).join(", ")),this.buf.push(" ",w,'="',ac(I),'"')}var i;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Da.hasOwnProperty(c)&&!T0.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(ac(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Xs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b1=/([^\#-~ |!])/g;function ac(i){return i.replace(/&/g,"&amp;").replace(Xs,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(b1,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hr;function yu(i,o){let c=null;try{Hr=Hr||function(i){const o=new Fr(i);return function(){try{return!!(new window.DOMParser).parseFromString(Jr(""),"text/html")}catch(i){return!1}}()?new sc(o):o}(i);let f=o?String(o):"";c=Hr.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=c.innerHTML,c=Hr.getInertBodyElement(f)}while(f!==y);return Jr((new C3).sanitizeChildren(Go(c)||c))}finally{if(c){const f=Go(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Go(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function C1(i){const o=Na();return o?oc(o.sanitize(pn.HTML,i)||""):vs(i,"HTML")?oc(gs(i)):yu(al(),Me(i))}function uc(i){const o=Na();return o?o.sanitize(pn.URL,i)||"":vs(i,"URL")?gs(i):To(Me(i))}function Na(){const i=Ge();return i&&i[12]}const x0="__ngContext__";function ni(i,o){i[x0]=o}function Io(i){const o=function(i){return i[x0]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function kl(i){return i.ngOriginalError}function zh(i,...o){i.error(...o)}class p2{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),f=this._findContext(o),m=(i=o)&&i.ngErrorLogger||zh;var i;m(this._console,"ERROR",o),c&&m(this._console,"ORIGINAL ERROR",c),f&&m(this._console,"ERROR CONTEXT",f)}_findContext(o){return o?o.ngDebugContext||this._findContext(kl(o)):null}_findOriginalError(o){let c=o&&kl(o);for(;c&&kl(c);)c=kl(c);return c||null}}const Ll=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function ta(i){return i instanceof Function?i():i}var na=(()=>((na=na||{})[na.Important=1]="Important",na[na.DashCase=2]="DashCase",na))();function v2(i,o){return undefined(i,o)}function E1(i){const o=i[3];return yo(o)?o[3]:o}function Ol(i){return mc(i[13])}function Rl(i){return mc(i[4])}function mc(i){for(;null!==i&&!yo(i);)i=i[4];return i}function gc(i,o,c,f,m){if(null!=f){let y,w=!1;yo(f)?y=f:er(f)&&(w=!0,f=f[0]);const A=zn(f);0===i&&null!==c?null==m?j(o,c,A):O(o,c,A,m||null,!0):1===i&&null!==c?O(o,c,A,m||null,!0):2===i?function(i,o,c){const f=ne(i,o);f&&function(i,o,c,f){on(i)?i.removeChild(o,c,f):o.removeChild(c)}(i,f,o,c)}(o,A,w):3===i&&o.destroyNode(A),null!=y&&function(i,o,c,f,m){const y=c[7];y!==zn(c)&&gc(o,i,f,y,m);for(let A=10;A<c.length;A++){const I=c[A];vc(I[1],I,i,o,f,y)}}(o,i,y,c,m)}}function R0(i,o,c){return on(i)?i.createElement(o,c):null===c?i.createElement(o):i.createElementNS(c,o)}function wu(i,o){const c=i[9],f=c.indexOf(o),m=o[3];1024&o[2]&&(o[2]&=-1025,va(m,-1)),c.splice(f,1)}function R3(i,o){if(i.length<=10)return;const c=10+o,f=i[c];if(f){const m=f[17];null!==m&&m!==i&&wu(m,f),o>0&&(i[c-1][4]=f[4]);const y=Aa(i,10+o);!function(i,o){vc(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const w=y[19];null!==w&&w.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function p(i,o){if(!(256&o[2])){const c=o[11];on(c)&&c.destroyNode&&vc(i,o,c,3,null,null),function(i){let o=i[13];if(!o)return d(i[1],i);for(;o;){let c=null;if(er(o))c=o[13];else{const f=o[10];f&&(c=f)}if(!c){for(;o&&!o[4]&&o!==i;)er(o)&&d(o[1],o),o=o[3];null===o&&(o=i),er(o)&&d(o[1],o),c=o&&o[4]}o=c}}(o)}}function d(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(i,o){let c;if(null!=i&&null!=(c=i.destroyHooks))for(let f=0;f<c.length;f+=2){const m=o[c[f]];if(!(m instanceof J2)){const y=c[f+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const A=m[y[w]],I=y[w+1];try{I.call(A)}finally{}}else try{y.call(m)}finally{}}}}(i,o),function(i,o){const c=i.cleanup,f=o[7];let m=-1;if(null!==c)for(let y=0;y<c.length-1;y+=2)if("string"==typeof c[y]){const w=c[y+1],A="function"==typeof w?w(o):zn(o[w]),I=f[m=c[y+2]],k=c[y+3];"boolean"==typeof k?A.removeEventListener(c[y],I,k):k>=0?f[m=k]():f[m=-k].unsubscribe(),y+=2}else{const w=f[m=c[y+1]];c[y].call(w)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();o[7]=null}}(i,o),1===o[1].type&&on(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&yo(o[3])){c!==o[3]&&wu(c,o);const f=o[19];null!==f&&f.detachView(i)}}}function M(i,o,c){return function(i,o,c){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return c[0];if(2&f.flags){const m=i.data[f.directiveStart].encapsulation;if(m===lt.None||m===lt.Emulated)return null}return Gi(f,c)}(i,o.parent,c)}function O(i,o,c,f,m){on(i)?i.insertBefore(o,c,f,m):o.insertBefore(c,f,m)}function j(i,o,c){on(i)?i.appendChild(o,c):o.appendChild(c)}function Z(i,o,c,f,m){null!==f?O(i,o,c,f,m):j(i,o,c)}function ne(i,o){return on(i)?i.parentNode(o):o.parentNode}function Re(i,o,c){return rt(i,o,c)}let rt=function(i,o,c){return 40&i.type?Gi(i,c):null};function Xe(i,o,c,f){const m=M(i,f,o),y=o[11],A=Re(f.parent||o[6],f,o);if(null!=m)if(Array.isArray(c))for(let I=0;I<c.length;I++)Z(y,m,c[I],A,!1);else Z(y,m,c,A,!1)}function Zn(i,o){if(null!==o){const c=o.type;if(3&c)return Gi(o,i);if(4&c)return ra(-1,i[o.index]);if(8&c){const f=o.child;if(null!==f)return Zn(i,f);{const m=i[o.index];return yo(m)?ra(-1,m):zn(m)}}if(32&c)return v2(o,i)()||zn(i[o.index]);{const f=to(i,o);return null!==f?Array.isArray(f)?f[0]:Zn(E1(i[16]),f):Zn(i,o.next)}}return null}function to(i,o){return null!==o?i[16][6].projection[o.projection]:null}function ra(i,o){const c=10+i+1;if(c<o.length){const f=o[c],m=f[1].firstChild;if(null!==m)return Zn(f,m)}return o[7]}function A1(i,o,c,f,m,y,w){for(;null!=c;){const A=f[c.index],I=c.type;if(w&&0===o&&(A&&ni(zn(A),f),c.flags|=4),64!=(64&c.flags))if(8&I)A1(i,o,c.child,f,m,y,!1),gc(o,i,m,A,y);else if(32&I){const k=v2(c,f);let P;for(;P=k();)gc(o,i,m,P,y);gc(o,i,m,A,y)}else 16&I?P3(i,o,f,c,m,y):gc(o,i,m,A,y);c=w?c.projectionNext:c.next}}function vc(i,o,c,f,m,y){A1(c,f,i.firstChild,o,m,y,!1)}function P3(i,o,c,f,m,y){const w=c[16],I=w[6].projection[f.projection];if(Array.isArray(I))for(let k=0;k<I.length;k++)gc(o,i,m,I[k],y);else A1(i,o,I,w[3],m,y,!0)}function vi(i,o,c){on(i)?i.setAttribute(o,"style",c):o.style.cssText=c}function La(i,o,c){on(i)?""===c?i.removeAttribute(o,"class"):i.setAttribute(o,"class",c):o.className=c}function z3(i,o,c){let f=i.length;for(;;){const m=i.indexOf(o,c);if(-1===m)return m;if(0===m||i.charCodeAt(m-1)<=32){const y=o.length;if(m+y===f||i.charCodeAt(m+y)<=32)return m}c=m+1}}const z0="ng-template";function Fl(i,o,c){let f=0;for(;f<i.length;){let m=i[f++];if(c&&"class"===m){if(m=i[f],-1!==z3(m.toLowerCase(),o,0))return!0}else if(1===m){for(;f<i.length&&"string"==typeof(m=i[f++]);)if(m.toLowerCase()===o)return!0;return!1}}return!1}function Hl(i){return 4===i.type&&i.value!==z0}function Au(i,o,c){return o===(4!==i.type||c?i.value:z0)}function V3(i,o,c){let f=4;const m=i.attrs||[],y=function(i){for(let o=0;o<i.length;o++)if(u3(i[o]))return o;return i.length}(m);let w=!1;for(let A=0;A<o.length;A++){const I=o[A];if("number"!=typeof I){if(!w)if(4&f){if(f=2|1&f,""!==I&&!Au(i,I,c)||""===I&&1===o.length){if(xo(f))return!1;w=!0}}else{const k=8&f?I:o[++A];if(8&f&&null!==i.attrs){if(!Fl(i.attrs,k,c)){if(xo(f))return!1;w=!0}continue}const q=Ld(8&f?"class":I,m,Hl(i),c);if(-1===q){if(xo(f))return!1;w=!0;continue}if(""!==k){let $;$=q>y?"":m[q+1].toLowerCase();const oe=8&f?$:null;if(oe&&-1!==z3(oe,k,0)||2&f&&k!==$){if(xo(f))return!1;w=!0}}}}else{if(!w&&!xo(f)&&!xo(I))return!1;if(w&&xo(I))continue;w=!1,f=I|1&f}}return xo(f)||w}function xo(i){return 0==(1&i)}function Ld(i,o,c,f){if(null===o)return-1;let m=0;if(f||!c){let y=!1;for(;m<o.length;){const w=o[m];if(w===i)return m;if(3===w||6===w)y=!0;else{if(1===w||2===w){let A=o[++m];for(;"string"==typeof A;)A=o[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=y?1:2}return-1}return function(i,o){let c=i.indexOf(4);if(c>-1)for(c++;c<i.length;){const f=i[c];if("number"==typeof f)return-1;if(f===o)return c;c++}return-1}(o,i)}function Ri(i,o,c=!1){for(let f=0;f<o.length;f++)if(V3(i,o[f],c))return!0;return!1}function jh(i,o){e:for(let c=0;c<o.length;c++){const f=o[c];if(i.length===f.length){for(let m=0;m<i.length;m++)if(i[m]!==f[m])continue e;return!0}}return!1}function H3(i,o){return i?":not("+o.trim()+")":o}function U3(i){let o=i[0],c=1,f=2,m="",y=!1;for(;c<i.length;){let w=i[c];if("string"==typeof w)if(2&f){const A=i[++c];m+="["+w+(A.length>0?'="'+A+'"':"")+"]"}else 8&f?m+="."+w:4&f&&(m+=" "+w);else""!==m&&!xo(w)&&(o+=H3(y,m),m=""),f=w,y=y||!xo(f);c++}return""!==m&&(o+=H3(y,m)),o}const Vt={};function Od(i){j3(sn(),Ge(),nr()+i,n1())}function j3(i,o,c,f){if(!f)if(3==(3&o[2])){const y=i.preOrderCheckHooks;null!==y&&_a(o,y,c)}else{const y=i.preOrderHooks;null!==y&&Q2(o,y,0,c)}fs(c)}function y2(i,o){return i<<17|o<<2}function ia(i){return i>>17&32767}function yc(i){return 2|i}function T1(i){return(131068&i)>>2}function Tu(i,o){return-131069&i|o<<2}function _2(i){return 1|i}function Wl(i,o){const c=i.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const m=c[f],y=c[f+1];if(-1!==y){const w=i.data[y];Q1(m),w.contentQueries(2,o[y],y)}}}function C2(i,o,c,f,m,y,w,A,I,k){const P=o.blueprint.slice();return P[0]=m,P[2]=140|f,Ii(P),P[3]=P[15]=i,P[8]=c,P[10]=w||i&&i[10],P[11]=A||i&&i[11],P[12]=I||i&&i[12]||null,P[9]=k||i&&i[9]||null,P[6]=y,P[16]=2==o.type?i[16]:P,P}function M1(i,o,c,f,m){let y=i.data[o];if(null===y)y=function(i,o,c,f,m){const y=Us(),w=Kc(),I=i.data[o]=function(i,o,c,f,m,y){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,c,o,f,m);return null===i.firstChild&&(i.firstChild=I),null!==y&&(w?null==y.child&&null!==I.parent&&(y.child=I):null===y.next&&(y.next=I)),I}(i,o,c,f,m),Dt.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=c,y.value=f,y.attrs=m;const w=function(){const i=Dt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return ui(y,!0),y}function bc(i,o,c,f){if(0===c)return-1;const m=o.length;for(let y=0;y<c;y++)o.push(f),i.blueprint.push(f),i.data.push(null);return m}function xu(i,o,c){J1(o);try{const f=i.viewQuery;null!==f&&Gn(1,f,c);const m=i.template;null!==m&&Yl(i,o,m,1,c),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Wl(i,o),i.staticViewQueries&&Gn(2,i.viewQuery,c);const y=i.components;null!==y&&function(i,o){for(let c=0;c<o.length;c++)r8(i,o[c])}(o,y)}catch(f){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),f}finally{o[2]&=-5,ls()}}function Ra(i,o,c,f){const m=o[2];if(256==(256&m))return;J1(o);const y=n1();try{Ii(o),function(i){Dt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==c&&Yl(i,o,c,2,f);const w=3==(3&m);if(!y)if(w){const k=i.preOrderCheckHooks;null!==k&&_a(o,k,null)}else{const k=i.preOrderHooks;null!==k&&Q2(o,k,0,null),tu(o,0)}if(function(i){for(let o=Ol(i);null!==o;o=Rl(o)){if(!o[2])continue;const c=o[9];for(let f=0;f<c.length;f++){const m=c[f],y=m[3];0==(1024&m[2])&&va(y,1),m[2]|=1024}}}(o),function(i){for(let o=Ol(i);null!==o;o=Rl(o))for(let c=10;c<o.length;c++){const f=o[c],m=f[1];Y4(f)&&Ra(m,f,m.template,f[8])}}(o),null!==i.contentQueries&&Wl(i,o),!y)if(w){const k=i.contentCheckHooks;null!==k&&_a(o,k)}else{const k=i.contentHooks;null!==k&&Q2(o,k,1),tu(o,1)}!function(i,o){const c=i.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)fs(~m);else{const y=m,w=c[++f],A=c[++f];Qc(w,y),A(2,o[y])}}}finally{fs(-1)}}(i,o);const A=i.components;null!==A&&function(i,o){for(let c=0;c<o.length;c++)W0(i,o[c])}(o,A);const I=i.viewQuery;if(null!==I&&Gn(2,I,f),!y)if(w){const k=i.viewCheckHooks;null!==k&&_a(o,k)}else{const k=i.viewHooks;null!==k&&Q2(o,k,2),tu(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),y||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,va(o[3],-1))}finally{ls()}}function Y3(i,o,c,f){const m=o[10],y=!n1(),w=Co(o);try{y&&!w&&m.begin&&m.begin(),w&&xu(i,o,f),Ra(i,o,c,f)}finally{y&&!w&&m.end&&m.end()}}function Yl(i,o,c,f,m){const y=nr(),w=2&f;try{fs(-1),w&&o.length>20&&j3(i,o,20,n1()),c(f,m)}finally{fs(y)}}function w2(i,o,c){!J4()||(function(i,o,c,f){const m=c.directiveStart,y=c.directiveEnd;i.firstCreatePass||ds(c,o),ni(f,o);const w=c.initialInputs;for(let A=m;A<y;A++){const I=i.data[A],k=ss(I);k&&Gd(o,c,I);const P=u1(o,i,A,c);ni(P,o),null!==w&&$d(0,A-m,P,I,0,w),k&&(Mi(c.index,o)[8]=P)}}(i,o,c,Gi(c,o)),128==(128&c.flags)&&function(i,o,c){const f=c.directiveStart,m=c.directiveEnd,w=c.index,A=Dt.lFrame.currentDirectiveIndex;try{fs(w);for(let I=f;I<m;I++){const k=i.data[I],P=o[I];Rr(I),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Z0(k,P)}}finally{fs(-1),Rr(A)}}(i,o,c))}function Jh(i,o,c=Gi){const f=o.localNames;if(null!==f){let m=o.index+1;for(let y=0;y<f.length;y+=2){const w=f[y+1],A=-1===w?c(o,i):i[w];i[m++]=A}}}function Bd(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=I1(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function I1(i,o,c,f,m,y,w,A,I,k){const P=20+f,q=P+m,$=function(i,o){const c=[];for(let f=0;f<o;f++)c.push(f<i?null:Vt);return c}(P,q),oe="function"==typeof k?k():k;return $[1]={type:i,blueprint:$,template:c,queries:null,viewQuery:A,declTNode:o,data:$.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:oe,incompleteFirstPass:!1}}function Ql(i,o,c,f){const m=A2(o);null===c?m.push(f):(m.push(c),i.firstCreatePass&&T2(i).push(f,m.length-1))}function Cc(i,o,c){for(let f in i)if(i.hasOwnProperty(f)){const m=i[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(o,m):c[f]=[o,m]}return c}function So(i,o,c,f,m,y,w,A){const I=Gi(o,c);let P,k=o.inputs;!A&&null!=k&&(P=k[f])?(i8(i,c,P,f,m),Yn(o)&&function(i,o){const c=Mi(o,i);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(f=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(f),m=null!=w?w(m,o.value||"",f):m,on(y)?y.setProperty(I,f,m):wo(f)||(I.setProperty?I.setProperty(f,m):I[f]=m))}function e4(i,o,c,f){let m=!1;if(J4()){const y=function(i,o,c){const f=i.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const w=f[y];Ri(c,w.selectors,!1)&&(m||(m=[]),ar(ds(c,o),i,w.type),ss(w)?(t4(i,c),m.unshift(w)):m.push(w))}return m}(i,o,c),w=null===f?null:{"":-1};if(null!==y){m=!0,tf(c,i.data.length,y.length);for(let P=0;P<y.length;P++){const q=y[P];q.providersResolver&&q.providersResolver(q)}let A=!1,I=!1,k=bc(i,o,y.length,null);for(let P=0;P<y.length;P++){const q=y[P];c.mergedAttrs=X2(c.mergedAttrs,q.hostAttrs),n8(i,c,o,k,q),ef(k,q,w),null!==q.contentQueries&&(c.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(c.flags|=128);const $=q.type.prototype;!A&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(c.index),A=!0),!I&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(c.index),I=!0),k++}!function(i,o){const f=o.directiveEnd,m=i.data,y=o.attrs,w=[];let A=null,I=null;for(let k=o.directiveStart;k<f;k++){const P=m[k],q=P.inputs,$=null===y||Hl(o)?null:ro(q,y);w.push($),A=Cc(q,k,A),I=Cc(P.outputs,k,I)}null!==A&&(A.hasOwnProperty("class")&&(o.flags|=16),A.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=w,o.inputs=A,o.outputs=I}(i,c)}w&&function(i,o,c){if(o){const f=i.localNames=[];for(let m=0;m<o.length;m+=2){const y=c[o[m+1]];if(null==y)throw new Te("301",`Export of name '${o[m+1]}' not found!`);f.push(o[m],y)}}}(c,f,w)}return c.mergedAttrs=X2(c.mergedAttrs,c.attrs),m}function E2(i,o,c,f,m,y){const w=y.hostBindings;if(w){let A=i.hostBindingOpCodes;null===A&&(A=i.hostBindingOpCodes=[]);const I=~o.index;(function(i){let o=i.length;for(;o>0;){const c=i[--o];if("number"==typeof c&&c<0)return c}return 0})(A)!=I&&A.push(I),A.push(f,m,w)}}function Z0(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function t4(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function ef(i,o,c){if(c){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)c[o.exportAs[f]]=i;ss(o)&&(c[""]=i)}}function tf(i,o,c){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+c,i.providerIndexes=o}function n8(i,o,c,f,m){i.data[f]=m;const y=m.factory||(m.factory=Ti(m.type)),w=new J2(y,ss(m),null);i.blueprint[f]=w,c[f]=w,E2(i,o,0,f,bc(i,c,m.hostVars,Vt),m)}function Gd(i,o,c){const f=Gi(o,i),m=Bd(c),y=i[10],w=Lu(i,C2(i,m,null,c.onPush?64:16,f,o,y,y.createRenderer(f,c),null,null));i[o.index]=w}function Cs(i,o,c,f,m,y){const w=Gi(i,o);!function(i,o,c,f,m,y,w){if(null==y)on(i)?i.removeAttribute(o,m,c):o.removeAttribute(m);else{const A=null==w?Me(y):w(y,f||"",m);on(i)?i.setAttribute(o,m,A,c):c?o.setAttributeNS(c,m,A):o.setAttribute(m,A)}}(o[11],w,y,i.value,c,f,m)}function $d(i,o,c,f,m,y){const w=y[o];if(null!==w){const A=f.setInput;for(let I=0;I<w.length;){const k=w[I++],P=w[I++],q=w[I++];null!==A?f.setInput(c,q,k,P):c[P]=q}}}function ro(i,o){let c=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;i.hasOwnProperty(m)&&(null===c&&(c=[]),c.push(m,i[m],o[f+1])),f+=2}else f+=2;else f+=4}return c}function x1(i,o,c,f){return new Array(i,!0,!1,o,null,0,f,c,null,null)}function W0(i,o){const c=Mi(o,i);if(Y4(c)){const f=c[1];80&c[2]?Ra(f,c,f.template,c[8]):c[5]>0&&S1(c)}}function S1(i){for(let f=Ol(i);null!==f;f=Rl(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const w=y[1];Ra(w,y,w.template,y[8])}else y[5]>0&&S1(y)}const c=i[1].components;if(null!==c)for(let f=0;f<c.length;f++){const m=Mi(c[f],i);Y4(m)&&m[5]>0&&S1(m)}}function r8(i,o){const c=Mi(o,i),f=c[1];(function(i,o){for(let c=o.length;c<i.blueprint.length;c++)o.push(i.blueprint[c])})(f,c),xu(f,c,c[8])}function Lu(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function K0(i){for(;i;){i[2]|=64;const o=E1(i);if(_o(i)&&!o)return i;i=o}return null}function D1(i,o,c){const f=o[10];f.begin&&f.begin();try{Ra(i,o,i.template,c)}catch(m){throw Pa(o,m),m}finally{f.end&&f.end()}}function i4(i){!function(i){for(let o=0;o<i.components.length;o++){const c=i.components[o],f=Io(c),m=f[1];Y3(m,f,m.template,c)}}(i[8])}function Gn(i,o,c){Q1(0),o(i,c)}const Wd=(()=>Promise.resolve(null))();function A2(i){return i[7]||(i[7]=[])}function T2(i){return i.cleanup||(i.cleanup=[])}function Pa(i,o){const c=i[9],f=c?c.get(p2,null):null;f&&f.handleError(o)}function i8(i,o,c,f,m){for(let y=0;y<c.length;){const w=c[y++],A=c[y++],I=o[w],k=i.data[w];null!==k.setInput?k.setInput(I,m,f,A):I[A]=m}}function M2(i,o,c){const f=ga(o,i);!function(i,o,c){on(i)?i.setValue(o,c):o.textContent=c}(i[11],f,c)}function Ru(i,o,c){let f=c?i.styles:null,m=c?i.classes:null,y=0;if(null!==o)for(let w=0;w<o.length;w++){const A=o[w];"number"==typeof A?y=A:1==y?m=pe(m,A):2==y&&(f=pe(f,A+": "+o[++w]+";"))}c?i.styles=f:i.stylesWithoutHost=f,c?i.classes=m:i.classesWithoutHost=m}const Wo=new xt("INJECTOR",-1);class rf{get(o,c=o2){if(c===o2){const f=new Error(`NullInjectorError: No provider for ${me(o)}!`);throw f.name="NullInjectorError",f}return c}}const pr=new xt("Set Injector scope."),o4={},Pu={};let o8;function Yd(){return void 0===o8&&(o8=new rf),o8}function of(i,o=null,c=null,f){return new s8(i,c,o||Yd(),f)}class s8{constructor(o,c,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];c&&zr(c,A=>this.processProvider(A,o,c)),zr([o],A=>this.processInjectorType(A,[],y)),this.records.set(Wo,I2(void 0,this));const w=this.records.get(pr);this.scope=null!=w?w.value:null,this.source=m||("object"==typeof o?null:me(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=o2,f=ct.Default){this.assertNotDestroyed();const m=Bo(this),y=An(void 0);try{if(!(f&ct.SkipSelf)){let A=this.records.get(o);if(void 0===A){const I=("function"==typeof(i=o)||"object"==typeof i&&i instanceof xt)&&rr(o);A=I&&this.injectableDefInScope(I)?I2(sf(o),o4):null,this.records.set(o,A)}if(null!=A)return this.hydrate(o,A)}return(f&ct.Self?Yd():this.parent).get(o,c=f&ct.Optional&&c===o2?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[hi]=w[hi]||[]).unshift(me(o)),m)throw w;return g0(w,o,"R3InjectorError",this.source)}throw w}finally{An(y),Bo(m)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((f,m)=>o.push(me(m))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,c,f){if(!(o=ee(o)))return!1;let m=Wa(o);const y=null==m&&o.ngModule||void 0,w=void 0===y?o:y,A=-1!==f.indexOf(w);if(void 0!==y&&(m=Wa(y)),null==m)return!1;if(null!=m.imports&&!A){let P;f.push(w);try{zr(m.imports,q=>{this.processInjectorType(q,c,f)&&(void 0===P&&(P=[]),P.push(q))})}finally{}if(void 0!==P)for(let q=0;q<P.length;q++){const{ngModule:$,providers:oe}=P[q];zr(oe,le=>this.processProvider(le,$,oe||ie))}}this.injectorDefTypes.add(w);const I=Ti(w)||(()=>new w);this.records.set(w,I2(I,o4));const k=m.providers;if(null!=k&&!A){const P=o;zr(k,q=>this.processProvider(q,P,k))}return void 0!==y&&void 0!==o.providers}processProvider(o,c,f){let m=zu(o=ee(o))?o:ee(o&&o.provide);const y=ws(i=o)?I2(void 0,i.useValue):I2(a8(i),o4);var i;if(zu(o)||!0!==o.multi)this.records.get(m);else{let w=this.records.get(m);w||(w=I2(void 0,o4,!0),w.factory=()=>g1(w.multi),this.records.set(m,w)),m=o,w.multi.push(o)}this.records.set(m,y)}hydrate(o,c){return c.value===o4&&(c.value=Pu,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(i=c.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var i}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ee(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function sf(i){const o=rr(i),c=null!==o?o.factory:Ti(i);if(null!==c)return c;if(i instanceof xt)throw new Error(`Token ${me(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const o=i.length;if(o>0){const f=Ta(o,"?");throw new Error(`Can't resolve all parameters for ${me(i)}: (${f.join(", ")}).`)}const c=function(i){const o=i&&(i[Kt]||i[wr]);if(o){const c=function(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(i);return null!==c?()=>c.factory(i):()=>new i}(i);throw new Error("unreachable")}function a8(i,o,c){let f;if(zu(i)){const m=ee(i);return Ti(m)||sf(m)}if(ws(i))f=()=>ee(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))f=()=>i.useFactory(...g1(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))f=()=>Mn(ee(i.useExisting));else{const m=ee(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ti(m)||sf(m);f=()=>new m(...g1(i.deps))}return f}function I2(i,o,c=!1){return{factory:i,value:o,multi:c?[]:void 0}}function ws(i){return null!==i&&"object"==typeof i&&m1 in i}function zu(i){return"function"==typeof i}const a4=function(i,o,c){return function(i,o=null,c=null,f){const m=of(i,o,c,f);return m._resolveInjectorDefTypes(),m}({name:c},o,i,c)};let mr=(()=>{class i{static create(c,f){return Array.isArray(c)?a4(c,f,""):a4(c.providers,c.parent,c.name||"")}}return i.THROW_IF_NOT_FOUND=o2,i.NULL=new rf,i.\u0275prov=rn({token:i,providedIn:"any",factory:()=>Mn(Wo)}),i.__NG_ELEMENT_ID__=-1,i})();function Nr(i,o){Fo(Io(i)[1],Qn())}function pf(i){let o=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),c=!0;const f=[i];for(;o;){let m;if(ss(i))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");m=o.\u0275dir}if(m){if(c){f.push(m);const w=i;w.inputs=s6(i.inputs),w.declaredInputs=s6(i.declaredInputs),w.outputs=s6(i.outputs);const A=m.hostBindings;A&&Fu(i,A);const I=m.viewQuery,k=m.contentQueries;if(I&&D2(i,I),k&&d4(i,k),ze(i.inputs,m.inputs),ze(i.declaredInputs,m.declaredInputs),ze(i.outputs,m.outputs),ss(m)&&m.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let w=0;w<y.length;w++){const A=y[w];A&&A.ngInherit&&A(i),A===pf&&(c=!1)}}o=Object.getPrototypeOf(o)}!function(i){let o=0,c=null;for(let f=i.length-1;f>=0;f--){const m=i[f];m.hostVars=o+=m.hostVars,m.hostAttrs=X2(m.hostAttrs,c=X2(c,m.hostAttrs))}}(f)}function s6(i){return i===Tn?{}:i===ie?[]:i}function D2(i,o){const c=i.viewQuery;i.viewQuery=c?(f,m)=>{o(f,m),c(f,m)}:o}function d4(i,o){const c=i.contentQueries;i.contentQueries=c?(f,m,y)=>{o(f,m,y),c(f,m,y)}:o}function Fu(i,o){const c=i.hostBindings;i.hostBindings=c?(f,m)=>{o(f,m),c(f,m)}:o}let Ce=null;function Pe(){if(!Ce){const i=bn.Symbol;if(i&&i.iterator)Ce=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const f=o[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Ce=f)}}}return Ce}class In{constructor(o){this.wrapped=o}static wrap(o){return new In(o)}static unwrap(o){return In.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof In}}function tt(i){return!!h(i)&&(Array.isArray(i)||!(i instanceof Map)&&Pe()in i)}function h(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function b(i,o,c){return i[o]=c}function S(i,o,c){return!Object.is(i[o],c)&&(i[o]=c,!0)}function z(i,o,c,f){const m=S(i,o,c);return S(i,o+1,f)||m}function ke(i,o,c,f){const m=Ge();return S(m,cs(),o)&&(sn(),Cs(sr(),m,i,o,c,f)),ke}function p4(i,o,c,f,m,y,w,A){const I=Ge(),k=sn(),P=i+20,q=k.firstCreatePass?function(i,o,c,f,m,y,w,A,I){const k=o.consts,P=M1(o,i,4,w||null,Hs(k,A));e4(o,c,P,Hs(k,I)),Fo(o,P);const q=P.tViews=I1(2,P,f,m,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,k);return null!==o.queries&&(o.queries.template(o,P),q.queries=o.queries.embeddedTView(P)),P}(P,k,I,o,c,f,m,y,w):k.data[P];ui(q,!1);const $=I[11].createComment("");Xe(k,I,$,q),ni($,I),Lu(I,I[P]=x1($,I,$,q)),G1(q)&&w2(k,I,q),null!=w&&Jh(I,q,A)}function E7(i){return Fs(Dt.lFrame.contextLView,20+i)}function h6(i,o=ct.Default){const c=Ge();return null===c?Mn(i,o):s0(Qn(),c,ee(i),o)}function m5(i,o,c){const f=Ge();return S(f,cs(),o)&&So(sn(),sr(),f,i,o,f[11],c,!1),m5}function N7(i,o,c,f,m){const w=m?"class":"style";i8(i,c,o.inputs[w],w,f)}function g5(i,o,c,f){const m=Ge(),y=sn(),w=20+i,A=m[11],I=m[w]=R0(A,o,Dt.lFrame.currentNamespace),k=y.firstCreatePass?function(i,o,c,f,m,y,w){const A=o.consts,k=M1(o,i,2,m,Hs(A,y));return e4(o,c,k,Hs(A,w)),null!==k.attrs&&Ru(k,k.attrs,!1),null!==k.mergedAttrs&&Ru(k,k.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,k),k}(w,y,m,0,o,c,f):y.data[w];ui(k,!0);const P=k.mergedAttrs;null!==P&&ll(A,I,P);const q=k.classes;null!==q&&La(A,I,q);const $=k.styles;null!==$&&vi(A,I,$),64!=(64&k.flags)&&Xe(y,m,I,k),0===Dt.lFrame.elementDepthCount&&ni(I,m),Dt.lFrame.elementDepthCount++,G1(k)&&(w2(y,m,k),function(i,o,c){if(Hc(o)){const m=o.directiveEnd;for(let y=o.directiveStart;y<m;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,c[y],y)}}}(y,k,m)),null!==f&&Jh(m,k)}function v5(){let i=Qn();Kc()?Bs():(i=i.parent,ui(i,!1));const o=i;Dt.lFrame.elementDepthCount--;const c=sn();c.firstCreatePass&&(Fo(c,i),Hc(i)&&c.queries.elementEnd(i)),null!=o.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(o)&&N7(c,o,Ge(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(o)&&N7(c,o,Ge(),o.stylesWithoutHost,!1)}function w8(i,o,c,f){g5(i,o,c,f),v5()}function L7(){return Ge()}function qu(i){return!!i&&"function"==typeof i.then}function O7(i){return!!i&&"function"==typeof i.subscribe}const g4=O7;function y5(i,o,c,f){const m=Ge(),y=sn(),w=Qn();return function(i,o,c,f,m,y,w,A){const I=G1(f),P=i.firstCreatePass&&T2(i),q=o[8],$=A2(o);let oe=!0;if(3&f.type||A){const ye=Gi(f,o),Ye=A?A(ye):ye,Ve=$.length,Tt=A?Ft=>A(zn(Ft[f.index])):f.index;if(on(c)){let Ft=null;if(!A&&I&&(Ft=function(i,o,c,f){const m=i.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const w=m[y];if(w===c&&m[y+1]===f){const A=o[7],I=m[y+2];return A.length>I?A[I]:null}"string"==typeof w&&(y+=2)}return null}(i,o,m,f.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=y,Ft.__ngLastListenerFn__=y,oe=!1;else{y=yf(f,o,q,y,!1);const vn=c.listen(Ye,m,y);$.push(y,vn),P&&P.push(m,Tt,Ve,Ve+1)}}else y=yf(f,o,q,y,!0),Ye.addEventListener(m,y,w),$.push(y),P&&P.push(m,Tt,Ve,w)}else y=yf(f,o,q,y,!1);const le=f.outputs;let xe;if(oe&&null!==le&&(xe=le[m])){const ye=xe.length;if(ye)for(let Ye=0;Ye<ye;Ye+=2){const Ui=o[xe[Ye]][xe[Ye+1]].subscribe(y),Za=$.length;$.push(y,Ui),P&&P.push(m,f.index,Za,-(Za+1))}}}(y,m,m[11],w,i,o,!!c,f),y5}function ko(i,o,c,f){try{return!1!==c(f)}catch(m){return Pa(i,m),!1}}function yf(i,o,c,f,m){return function y(w){if(w===Function)return f;const A=2&i.flags?Mi(i.index,o):o;0==(32&o[2])&&K0(A);let I=ko(o,0,f,w),k=y.__ngNextListenerFn__;for(;k;)I=ko(o,0,k,w)&&I,k=k.__ngNextListenerFn__;return m&&!1===I&&(w.preventDefault(),w.returnValue=!1),I}}function A8(i=1){return function(i){return(Dt.lFrame.contextLView=function(i,o){for(;i>0;)o=o[15],i--;return o}(i,Dt.lFrame.contextLView))[8]}(i)}function ib(i,o){let c=null;const f=function(i){const o=i.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(i);for(let m=0;m<o.length;m++){const y=o[m];if("*"!==y){if(null===f?Ri(i,y,!0):jh(f,y))return m}else c=m}return c}function _5(i){const o=Ge()[16][6];if(!o.projection){const f=o.projection=Ta(i?i.length:1,null),m=f.slice();let y=o.child;for(;null!==y;){const w=i?ib(y,i):0;null!==w&&(m[w]?m[w].projectionNext=y:f[w]=y,m[w]=y),y=y.next}}}function vg(i,o=0,c){const f=Ge(),m=sn(),y=M1(m,20+i,16,null,c||null);null===y.projection&&(y.projection=o),Bs(),64!=(64&y.flags)&&function(i,o,c){P3(o[11],0,o,c,M(i,c,o),Re(c.parent||o[6],c,o))}(m,f,y)}function H7(i,o,c,f,m){const y=i[c+1],w=null===o;let A=f?ia(y):T1(y),I=!1;for(;0!==A&&(!1===I||w);){const P=i[A+1];Xo(i[A],o)&&(I=!0,i[A+1]=f?_2(P):yc(P)),A=f?ia(P):T1(P)}I&&(i[c+1]=f?yc(y):_2(y))}function Xo(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&n2(i,o)>=0}function wf(i,o){return function(i,o,c,f){const m=Ge(),y=sn(),w=function(i){const o=Dt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,c}(2);y.firstUpdatePass&&function(i,o,c,f){const m=i.data;if(null===m[c+1]){const y=m[nr()],w=function(i,o){return o>=i.expandoStartIndex}(i,c);(function(i,o){return 0!=(i.flags&(o?16:32))})(y,f)&&null===o&&!w&&(o=!1),o=function(i,o,c,f){const m=function(i){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let y=f?o.residualClasses:o.residualStyles;if(null===m)0===(f?o.classBindings:o.styleBindings)&&(c=m6(c=_i(null,i,o,c,f),o.attrs,f),y=null);else{const w=o.directiveStylingLast;if(-1===w||i[w]!==m)if(c=_i(m,i,o,c,f),null===y){let I=function(i,o,c){const f=c?o.classBindings:o.styleBindings;if(0!==T1(f))return i[ia(f)]}(i,o,f);void 0!==I&&Array.isArray(I)&&(I=_i(null,i,o,I[1],f),I=m6(I,o.attrs,f),function(i,o,c,f){i[ia(c?o.classBindings:o.styleBindings)]=f}(i,o,f,I))}else y=function(i,o,c){let f;const m=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<m;y++)f=m6(f,i[y].hostAttrs,c);return m6(f,o.attrs,c)}(i,o,f)}return void 0!==y&&(f?o.residualClasses=y:o.residualStyles=y),c}(m,y,o,f),function(i,o,c,f,m,y){let w=y?o.classBindings:o.styleBindings,A=ia(w),I=T1(w);i[f]=c;let P,k=!1;if(Array.isArray(c)){const q=c;P=q[1],(null===P||n2(q,P)>0)&&(k=!0)}else P=c;if(m)if(0!==I){const $=ia(i[A+1]);i[f+1]=y2($,A),0!==$&&(i[$+1]=Tu(i[$+1],f)),i[A+1]=function(i,o){return 131071&i|o<<17}(i[A+1],f)}else i[f+1]=y2(A,0),0!==A&&(i[A+1]=Tu(i[A+1],f)),A=f;else i[f+1]=y2(I,0),0===A?A=f:i[I+1]=Tu(i[I+1],f),I=f;k&&(i[f+1]=yc(i[f+1])),H7(i,P,f,!0),H7(i,P,f,!1),function(i,o,c,f,m){const y=m?i.residualClasses:i.residualStyles;null!=y&&"string"==typeof o&&n2(y,o)>=0&&(c[f+1]=_2(c[f+1]))}(o,P,i,f,y),w=y2(A,I),y?o.classBindings=w:o.styleBindings=w}(m,y,o,c,w,f)}}(y,i,w,f),o!==Vt&&S(m,w,o)&&function(i,o,c,f,m,y,w,A){if(!(3&o.type))return;const I=i.data,k=I[A+1];v4(function(i){return 1==(1&i)}(k)?U7(I,o,c,m,T1(k),w):void 0)||(v4(y)||function(i){return 2==(2&i)}(k)&&(y=U7(I,null,c,m,A,w)),function(i,o,c,f,m){const y=on(i);if(o)m?y?i.addClass(c,f):c.classList.add(f):y?i.removeClass(c,f):c.classList.remove(f);else{let w=-1===f.indexOf("-")?void 0:na.DashCase;if(null==m)y?i.removeStyle(c,f,w):c.style.removeProperty(f);else{const A="string"==typeof m&&m.endsWith("!important");A&&(m=m.slice(0,-10),w|=na.Important),y?i.setStyle(c,f,m,w):c.style.setProperty(f,m,A?"important":"")}}}(f,w,ga(nr(),c),m,y))}(y,y.data[nr()],m,m[11],i,m[w+1]=function(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=me(gs(i)))),i}(o,c),f,w)}(i,o,null,!0),wf}function _i(i,o,c,f,m){let y=null;const w=c.directiveEnd;let A=c.directiveStylingLast;for(-1===A?A=c.directiveStart:A++;A<w&&(y=o[A],f=m6(f,y.hostAttrs,m),y!==i);)A++;return null!==i&&(c.directiveStylingLast=A),f}function m6(i,o,c){const f=c?1:2;let m=-1;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?m=w:m===f&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yi(i,w,!!c||o[++y]))}return void 0===i?null:i}function U7(i,o,c,f,m,y){const w=null===o;let A;for(;m>0;){const I=i[m],k=Array.isArray(I),P=k?I[1]:I,q=null===P;let $=c[m+1];$===Vt&&($=q?ie:void 0);let oe=q?Qi($,f):P===f?$:void 0;if(k&&!v4(oe)&&(oe=Qi(I,f)),v4(oe)&&(A=oe,w))return A;const le=i[m+1];m=w?ia(le):T1(le)}if(null!==o){let I=y?o.residualClasses:o.residualStyles;null!=I&&(A=Qi(I,f))}return A}function v4(i){return void 0!==i}function j7(i,o=""){const c=Ge(),f=sn(),m=i+20,y=f.firstCreatePass?M1(f,m,1,o,null):f.data[m],w=c[m]=function(i,o){return on(i)?i.createText(o):i.createTextNode(o)}(c[11],o);Xe(f,c,w,y),ui(y,!1)}function Af(i){return I8("",i,""),Af}function I8(i,o,c){const f=Ge(),m=function(i,o,c,f){return S(i,cs(),c)?o+Me(c)+f:Vt}(f,i,o,c);return m!==Vt&&M2(f,nr(),m),I8}function A5(i,o,c){const f=Ge();return S(f,cs(),o)&&So(sn(),sr(),f,i,o,f[11],c,!0),A5}const Zr=void 0;var zg=["en",[["a","p"],["AM","PM"],Zr],[["AM","PM"],Zr,Zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zr,"{1} 'at' {0}",Zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let P2={};function y6(i){const o=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let c=b4(o);if(c)return c;const f=o.split("-")[0];if(c=b4(f),c)return c;if("en"===f)return zg;throw new Error(`Missing locale data for the locale "${i}".`)}function Vg(i){return y6(i)[kt.PluralCase]}function b4(i){return i in P2||(P2[i]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[i]),P2[i]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const T5="en-US";let J7=T5;function C4(i){mt(i,"Expected localeId to be defined"),"string"==typeof i&&(J7=i.toLowerCase().replace(/_/g,"-"))}function O5(i,o,c,f,m){if(i=ee(i),Array.isArray(i))for(let y=0;y<i.length;y++)O5(i[y],o,c,f,m);else{const y=sn(),w=Ge();let A=zu(i)?i:ee(i.provide),I=a8(i);const k=Qn(),P=1048575&k.providerIndexes,q=k.directiveStart,$=k.providerIndexes>>20;if(zu(i)||!i.multi){const oe=new J2(I,m,h6),le=h9(A,o,m?P:P+$,q);-1===le?(ar(ds(k,w),y,A),L8(y,i,o.length),o.push(A),k.directiveStart++,k.directiveEnd++,m&&(k.providerIndexes+=1048576),c.push(oe),w.push(oe)):(c[le]=oe,w[le]=oe)}else{const oe=h9(A,o,P+$,q),le=h9(A,o,P,P+$),xe=oe>=0&&c[oe],ye=le>=0&&c[le];if(m&&!ye||!m&&!xe){ar(ds(k,w),y,A);const Ye=function(i,o,c,f,m){const y=new J2(i,c,h6);return y.multi=[],y.index=o,y.componentProviders=0,f9(y,m,f&&!c),y}(m?p9:d9,c.length,m,f,I);!m&&ye&&(c[le].providerFactory=Ye),L8(y,i,o.length,0),o.push(A),k.directiveStart++,k.directiveEnd++,m&&(k.providerIndexes+=1048576),c.push(Ye),w.push(Ye)}else L8(y,i,oe>-1?oe:le,f9(c[m?le:oe],I,!m&&f));!m&&f&&ye&&c[le].componentProviders++}}}function L8(i,o,c,f){const m=zu(o);if(m||function(i){return!!i.useClass}(o)){const w=(o.useClass||o).prototype.ngOnDestroy;if(w){const A=i.destroyHooks||(i.destroyHooks=[]);if(!m&&o.multi){const I=A.indexOf(c);-1===I?A.push(c,[f,w]):A[I+1].push(f,w)}else A.push(c,w)}}}function f9(i,o,c){return c&&i.componentProviders++,i.multi.push(o)-1}function h9(i,o,c,f){for(let m=c;m<f;m++)if(o[m]===i)return m;return-1}function d9(i,o,c,f){return R5(this.multi,[])}function p9(i,o,c,f){const m=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,A=u1(c,c[1],this.providerFactory.index,f);y=A.slice(0,w),R5(m,y);for(let I=w;I<A.length;I++)y.push(A[I])}else y=[],R5(m,y);return y}function R5(i,o){for(let c=0;c<i.length;c++)o.push((0,i[c])());return o}function m9(i,o=[]){return c=>{c.providersResolver=(f,m)=>function(i,o,c){const f=sn();if(f.firstCreatePass){const m=ss(i);O5(c,f.data,f.blueprint,m,!0),O5(o,f.data,f.blueprint,m,!1)}}(f,m?m(i):i,o)}}class sv{}const g9="ngComponent";class O8{resolveComponentFactory(o){throw function(i){const o=Error(`No component factory found for ${me(i)}. Did you add it to @NgModule.entryComponents?`);return o[g9]=i,o}(o)}}let A4=(()=>{class i{}return i.NULL=new O8,i})();function P5(...i){}function zf(i,o){return new Ha(Gi(i,o))}const Vf=function(){return zf(Qn(),Ge())};let Ha=(()=>{class i{constructor(c){this.nativeElement=c}}return i.__NG_ELEMENT_ID__=Vf,i})();function Ff(i){return i instanceof Ha?i.nativeElement:i}class R8{}let _9=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>uv(),i})();const uv=function(){const i=Ge(),c=Mi(Qn().index,i);return function(i){return i[11]}(er(c)?c:i)};let C9=(()=>{class i{}return i.\u0275prov=rn({token:i,providedIn:"root",factory:()=>null}),i})();class P8{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const V5=new P8("12.2.16");class E6{constructor(){}supports(o){return tt(o)}create(o){return new qb(o)}}const lv=(i,o)=>o;class qb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||lv}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,f=this._removalsHead,m=0,y=null;for(;c||f;){const w=!f||c&&c.currentIndex<F5(f,m,y)?c:f,A=F5(w,m,y),I=w.currentIndex;if(w===f)m--,f=f._nextRemoved;else if(c=c._next,null==w.previousIndex)m++;else{y||(y=[]);const k=A-m,P=I-m;if(k!=P){for(let $=0;$<k;$++){const oe=$<y.length?y[$]:y[$]=0,le=oe+$;P<=le&&le<k&&(y[$]=oe+1)}y[w.previousIndex]=P-k}}A!==I&&o(w,A,I)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!tt(o))throw new Error(`Error trying to diff '${me(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,y,w,c=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let A=0;A<this.length;A++)y=o[A],w=this._trackByFn(A,y),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,y,w,A)),Object.is(c.item,y)||this._addIdentityChange(c,y)):(c=this._mismatch(c,y,w,A),f=!0),c=c._next}else m=0,function(i,o){if(Array.isArray(i))for(let c=0;c<i.length;c++)o(i[c]);else{const c=i[Pe()]();let f;for(;!(f=c.next()).done;)o(f.value)}}(o,A=>{w=this._trackByFn(m,A),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,A,w,m)),Object.is(c.item,A)||this._addIdentityChange(c,A)):(c=this._mismatch(c,A,w,m),f=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,f,m){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,y,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,y,m)):o=this._addAfter(new Zb(c,f),y,m),o}_verifyReinsertion(o,c,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?o=this._reinsertAfter(y,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,y=o._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(o,c,f),this._addToMoves(o,f),o}_moveAfter(o,c,f){return this._unlink(o),this._insertAfter(o,c,f),this._addToMoves(o,f),o}_addAfter(o,c,f){return this._insertAfter(o,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,f){const m=null===c?this._itHead:c._next;return o._next=m,o._prev=c,null===m?this._itTail=o:m._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new fv),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,f=o._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Zb{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const c=o._prevDup,f=o._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class fv{constructor(){this.map=new Map}put(o){const c=o.trackById;let f=this.map.get(c);f||(f=new Gb,this.map.set(c,f)),f.add(o)}get(o,c){const m=this.map.get(o);return m?m.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function F5(i,o,c){const f=i.previousIndex;if(null===f)return f;let m=0;return c&&f<c.length&&(m=c[f]),f+o+m}class A6{constructor(){}supports(o){return o instanceof Map||h(o)}create(){return new T4}}class T4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||h(o)))throw new Error(`Error trying to diff '${me(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const y=this._getOrCreateRecordForKey(m,f);c=this._insertBeforeOrAppend(c,y)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const f=o._prev;return c._next=o,c._prev=f,o._prev=c,f&&(f._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,c);const y=m._prev,w=m._next;return y&&(y._next=w),w&&(w._prev=y),m._next=null,m._prev=null,m}const f=new $b(o);return this._records.set(o,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(f=>c(o[f],f))}}class $b{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T6(){return new z8([new E6])}let z8=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(null!=f){const m=f.factories.slice();c=c.concat(m)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||T6()),deps:[[i,new pi,new Vr]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(i){return i.name||typeof i}(c)}'`)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:T6}),i})();function V8(){return new H5([new A6])}let H5=(()=>{class i{constructor(c){this.factories=c}static create(c,f){if(f){const m=f.factories.slice();c=c.concat(m)}return new i(c)}static extend(c){return{provide:i,useFactory:f=>i.create(c,f||V8()),deps:[[i,new pi,new Vr]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(f)return f;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return i.\u0275prov=rn({token:i,providedIn:"root",factory:V8}),i})();function U5(i,o,c,f,m=!1){for(;null!==c;){const y=o[c.index];if(null!==y&&f.push(zn(y)),yo(y))for(let A=10;A<y.length;A++){const I=y[A],k=I[1].firstChild;null!==k&&U5(I[1],I,k,f)}const w=c.type;if(8&w)U5(i,o,c.child,f);else if(32&w){const A=v2(c,o);let I;for(;I=A();)f.push(I)}else if(16&w){const A=to(o,c);if(Array.isArray(A))f.push(...A);else{const I=E1(o[16]);U5(I[1],I,A,f,!0)}}c=m?c.projectionNext:c.next}return f}class M6{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return U5(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(yo(o)){const c=o[8],f=c?c.indexOf(this):-1;f>-1&&(R3(o,f),Aa(c,f))}this._attachedToViewContainer=!1}p(this._lView[1],this._lView)}onDestroy(o){Ql(this._lView[1],this._lView,null,o)}markForCheck(){K0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){D1(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,o,c){ya(!0);try{D1(i,o,c)}finally{ya(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,vc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class w9 extends M6{constructor(o){super(o),this._view=o}detectChanges(){i4(this._view)}checkNoChanges(){!function(i){ya(!0);try{i4(i)}finally{ya(!1)}}(this._view)}get context(){return null}}const E9=function(i){return function(i,o,c){if(Yn(i)&&!c){const f=Mi(i.index,o);return new M6(f,f)}return 47&i.type?new M6(o[16],o):null}(Qn(),Ge(),16==(16&i))};let A9=(()=>{class i{}return i.__NG_ELEMENT_ID__=E9,i})();const Yb=[new A6],mv=new z8([new E6]),gv=new H5(Yb),Qb=function(){return B5(Qn(),Ge())};let F8=(()=>{class i{}return i.__NG_ELEMENT_ID__=Qb,i})();const Jb=F8,T9=class extends Jb{constructor(o,c,f){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(o){const c=this._declarationTContainer.tViews,f=C2(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(c)),xu(c,f,o),new M6(f)}};function B5(i,o){return 4&i.type?new T9(o,i,zf(i,o)):null}class M4{}class M9{}const tC=function(){return yv(Qn(),Ge())};let j5=(()=>{class i{}return i.__NG_ELEMENT_ID__=tC,i})();const x9=j5,I6=class extends x9{constructor(o,c,f){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=f}get element(){return zf(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=e2(this._hostTNode,this._hostLView);if(ru(o)){const c=Rn(o,this._hostLView),f=Ho(o);return new Ni(c[1].data[f+8],c)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=S9(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,f){const m=o.createEmbeddedView(c||{});return this.insert(m,f),m}createComponent(o,c,f,m,y){const w=f||this.parentInjector;if(!y&&null==o.ngModule&&w){const I=w.get(M4,null);I&&(y=I)}const A=o.create(w,m,void 0,y);return this.insert(A.hostView,c),A}insert(o,c){const f=o._lView,m=f[1];if(yo(f[3])){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const q=f[3],$=new I6(q,q[6],q[3]);$.detach($.indexOf(o))}}const y=this._adjustIndex(c),w=this._lContainer;!function(i,o,c,f){const m=10+f,y=c.length;f>0&&(c[m-1][4]=o),f<y-10?(o[4]=c[m],Ks(c,10+f,o)):(c.push(o),o[4]=null),o[3]=c;const w=o[17];null!==w&&c!==w&&function(i,o){const c=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===c?i[9]=[o]:c.push(o)}(w,o);const A=o[19];null!==A&&A.insertView(i),o[2]|=128}(m,f,w,y);const A=ra(y,w),I=f[11],k=ne(I,w[7]);return null!==k&&function(i,o,c,f,m,y){f[0]=m,f[6]=o,vc(i,f,c,1,m,y)}(m,w[6],I,f,k,A),o.attachToViewContainerRef(),Ks(H8(w),y,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=S9(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),f=R3(this._lContainer,c);f&&(Aa(H8(this._lContainer),c),p(f[1],f))}detach(o){const c=this._adjustIndex(o,-1),f=R3(this._lContainer,c);return f&&null!=Aa(H8(this._lContainer),c)?new M6(f):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function S9(i){return i[8]}function H8(i){return i[8]||(i[8]=[])}function yv(i,o){let c;const f=o[i.index];if(yo(f))c=f;else{let m;if(8&i.type)m=zn(f);else{const y=o[11];m=y.createComment("");const w=Gi(i,o);O(y,ne(y,w),m,function(i,o){return on(i)?i.nextSibling(o):o.nextSibling}(y,w),!1)}o[i.index]=c=x1(f,o,m,i),Lu(o,c)}return new I6(c,i,o)}const Kf={};class q9 extends A4{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Tr(o);return new jv(c,this.ngModule)}}function Z9(i){const o=[];for(let c in i)i.hasOwnProperty(c)&&o.push({propName:i[c],templateName:c});return o}const ap=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ll});class jv extends sv{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=o.selectors.map(U3).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Z9(this.componentDef.inputs)}get outputs(){return Z9(this.componentDef.outputs)}create(o,c,f,m){const y=(m=m||this.ngModule)?function(i,o){return{get:(c,f,m)=>{const y=i.get(c,Kf,m);return y!==Kf||f===Kf?y:o.get(c,f,m)}}}(o,m.injector):o,w=y.get(R8,Lt),A=y.get(C9,null),I=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",P=f?function(i,o,c){if(on(i))return i.selectRootElement(o,c===lt.ShadowDom);let f="string"==typeof o?i.querySelector(o):o;return f.textContent="",f}(I,f,this.componentDef.encapsulation):R0(w.createRenderer(null,this.componentDef),k,function(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(k)),q=this.componentDef.onPush?576:528,$=function(i,o){return{components:[],scheduler:i||Ll,clean:Wd,playerHandler:o||null,flags:0}}(),oe=I1(0,null,null,1,0,null,null,null,null,null),le=C2(null,oe,$,q,null,null,w,I,A,y);let xe,ye;J1(le);try{const Ye=function(i,o,c,f,m,y){const w=c[1];c[20]=i;const I=M1(w,20,2,"#host",null),k=I.mergedAttrs=o.hostAttrs;null!==k&&(Ru(I,k,!0),null!==i&&(ll(m,i,k),null!==I.classes&&La(m,i,I.classes),null!==I.styles&&vi(m,i,I.styles)));const P=f.createRenderer(i,o),q=C2(c,Bd(o),null,o.onPush?64:16,c[20],I,f,P,y||null,null);return w.firstCreatePass&&(ar(ds(I,c),w,o.type),t4(w,I),tf(I,c.length,1)),Lu(c,q),c[20]=q}(P,this.componentDef,le,w,I);if(P)if(f)ll(I,P,["ng-version",V5.full]);else{const{attrs:Ve,classes:Tt}=function(i){const o=[],c=[];let f=1,m=2;for(;f<i.length;){let y=i[f];if("string"==typeof y)2===m?""!==y&&o.push(y,i[++f]):8===m&&c.push(y);else{if(!xo(m))break;m=y}f++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ve&&ll(I,P,Ve),Tt&&Tt.length>0&&La(I,P,Tt.join(" "))}if(ye=Vs(oe,20),void 0!==c){const Ve=ye.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const Ft=c[Tt];Ve.push(null!=Ft?Array.from(Ft):null)}}xe=function(i,o,c,f,m){const y=c[1],w=function(i,o,c){const f=Qn();i.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),n8(i,f,o,bc(i,o,1,null),c));const m=u1(o,i,f.directiveStart,f);ni(m,o);const y=Gi(f,o);return y&&ni(y,o),m}(y,c,o);if(f.components.push(w),i[8]=w,m&&m.forEach(I=>I(w,o)),o.contentQueries){const I=Qn();o.contentQueries(1,w,I.directiveStart)}const A=Qn();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(fs(A.index),E2(c[1],A,0,A.directiveStart,A.directiveEnd,o),Z0(o,w)),w}(Ye,this.componentDef,le,$,[Nr]),xu(oe,le,null)}finally{ls()}return new qv(this.componentType,xe,zf(ye,le),le,ye)}}class qv extends class{}{constructor(o,c,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=c,this.hostView=this.changeDetectorRef=new w9(m),this.componentType=o}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const V6=new Map;class Gv extends M4{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new q9(this);const f=vo(o),m=o[ce]||null;m&&C4(m),this._bootstrapComponents=ta(f.bootstrap),this._r3Injector=of(o,c,[{provide:M4,useValue:this},{provide:A4,useValue:this.componentFactoryResolver}],me(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=mr.THROW_IF_NOT_FOUND,f=ct.Default){return o===mr||o===M4||o===Wo?this:this._r3Injector.get(o,c,f)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class W9 extends M9{constructor(o){super(),this.moduleType=o,null!==vo(o)&&function(i){const o=new Set;!function c(f){const m=vo(f,!0),y=m.id;null!==y&&(function(i,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${i} - ${me(o)} vs ${me(o.name)}`)}(y,V6.get(y),f),V6.set(y,f));const w=ta(m.imports);for(const A of w)o.has(A)||(o.add(A),c(A))}(i)}(o)}create(o){return new Gv(this.moduleType,o)}}function lp(i,o,c){const f=Vn()+i,m=Ge();return m[f]===Vt?b(m,f,c?o.call(c):o()):function(i,o){return i[o]}(m,f)}function G8(i,o,c,f){return function(i,o,c,f,m,y){const w=o+c;return S(i,w,m)?b(i,w+1,y?f.call(y,m):f(m)):Qu(i,w+1)}(Ge(),Vn(),i,o,c,f)}function K9(i,o,c,f,m,y){return function(i,o,c,f,m,y,w,A){const I=o+c;return function(i,o,c,f,m){const y=z(i,o,c,f);return S(i,o+2,m)||y}(i,I,m,y,w)?b(i,I+3,A?f.call(A,m,y,w):f(m,y,w)):Qu(i,I+3)}(Ge(),Vn(),i,o,c,f,m,y)}function Qu(i,o){const c=i[o];return c===Vt?void 0:c}function L4(i,o){const c=sn();let f;const m=i+20;c.firstCreatePass?(f=function(i,o){if(o)for(let c=o.length-1;c>=0;c--){const f=o[c];if(i===f.name)return f}throw new Te("302",`The pipe '${i}' could not be found!`)}(o,c.pipeRegistry),c.data[m]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,f.onDestroy)):f=c.data[m];const y=f.factory||(f.factory=Ti(f.type)),w=An(h6);try{const A=Eo(!1),I=y();return Eo(A),function(i,o,c,f){c>=i.data.length&&(i.data[c]=null,i.blueprint[c]=null),o[c]=f}(c,Ge(),m,I),I}finally{An(w)}}function Qv(i,o,c,f){const m=i+20,y=Ge(),w=Fs(y,m);return function(i,o){In.isWrapped(o)&&(o=In.unwrap(o),i[Dt.lFrame.bindingIndex]=Vt);return o}(y,function(i,o){return i[1].data[o].pure}(y,m)?function(i,o,c,f,m,y,w){const A=o+c;return z(i,A,m,y)?b(i,A+2,w?f.call(w,m,y):f(m,y)):Qu(i,A+2)}(y,Vn(),o,w.transform,c,f,w):w.transform(c,f))}function K8(i){return o=>{setTimeout(i,void 0,o)}}const Ba=class extends u.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,f){var m,y,w;let A=o,I=c||(()=>null),k=f;if(o&&"object"==typeof o){const q=o;A=null===(m=q.next)||void 0===m?void 0:m.bind(q),I=null===(y=q.error)||void 0===y?void 0:y.bind(q),k=null===(w=q.complete)||void 0===w?void 0:w.bind(q)}this.__isAsync&&(I=K8(I),A&&(A=K8(A)),k&&(k=K8(k)));const P=super.subscribe({next:A,error:I,complete:k});return o instanceof B.w&&o.add(P),P}};function Jv(){return this._results[Pe()]()}class dp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Pe(),f=dp.prototype;f[c]||(f[c]=Jv)}get changes(){return this._changes||(this._changes=new Ba)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const f=this;f.dirty=!1;const m=ki(o);(this._changesDetected=!function(i,o,c){if(i.length!==o.length)return!1;for(let f=0;f<i.length;f++){let m=i[f],y=o[f];if(c&&(m=c(m),y=c(y)),y!==m)return!1}return!0}(f._results,m,c))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class pp{constructor(o){this.queryList=o,this.matches=null}clone(){return new pp(this.queryList)}setDirty(){this.queryList.setDirty()}}class mp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const f=null!==o.contentQueries?o.contentQueries[0]:c.length,m=[];for(let y=0;y<f;y++){const w=c.getByIndex(y);m.push(this.queries[w.indexInDeclarationView].clone())}return new mp(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==oy(o,c).matches&&this.queries[c].setDirty()}}class Xv{constructor(o,c,f=null){this.predicate=o,this.flags=c,this.read=f}}class Y8{constructor(o=[]){this.queries=o}elementStart(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let f=0;f<this.length;f++){const m=null!==c?c.length:0,y=this.getByIndex(f).embeddedTView(o,m);y&&(y.indexInDeclarationView=f,null!==c?c.push(y):c=[y])}return null!==c?new Y8(c):null}template(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Q8{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Q8(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(o,c,ey(c,y)),this.matchTNodeWithReadOption(o,c,c1(c,o,y,!1,!1))}else f===F8?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,c1(c,o,f,!1,!1))}matchTNodeWithReadOption(o,c,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Ha||m===j5||m===F8&&4&c.type)this.addMatch(c.index,-2);else{const y=c1(c,o,m,!1,!1);null!==y&&this.addMatch(c.index,y)}else this.addMatch(c.index,f)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function ey(i,o){const c=i.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===o)return c[f+1];return null}function ny(i,o,c,f){return-1===c?function(i,o){return 11&i.type?zf(i,o):4&i.type?B5(i,o):null}(o,i):-2===c?function(i,o,c){return c===Ha?zf(o,i):c===F8?B5(o,i):c===j5?yv(o,i):void 0}(i,o,f):u1(i,i[1],c,o)}function ry(i,o,c,f){const m=o[19].queries[f];if(null===m.matches){const y=i.data,w=c.matches,A=[];for(let I=0;I<w.length;I+=2){const k=w[I];A.push(k<0?null:ny(o,y[k],w[I+1],c.metadata.read))}m.matches=A}return m.matches}function gp(i,o,c,f){const m=i.queries.getByIndex(c),y=m.matches;if(null!==y){const w=ry(i,o,m,c);for(let A=0;A<y.length;A+=2){const I=y[A];if(I>0)f.push(w[A/2]);else{const k=y[A+1],P=o[-I];for(let q=10;q<P.length;q++){const $=P[q];$[17]===$[3]&&gp($[1],$,k,f)}if(null!==P[9]){const q=P[9];for(let $=0;$<q.length;$++){const oe=q[$];gp(oe[1],oe,k,f)}}}}}return f}function Q9(i){const o=Ge(),c=sn(),f=eu();Q1(f+1);const m=oy(c,f);if(i.dirty&&Co(o)===(2==(2&m.metadata.flags))){if(null===m.matches)i.reset([]);else{const y=m.crossesNgTemplate?gp(c,o,f,[]):ry(c,o,m,f);i.reset(y,Ff),i.notifyOnChanges()}return!0}return!1}function yt(i,o,c){const f=sn();f.firstCreatePass&&(iy(f,new Xv(i,o,c),-1),2==(2&o)&&(f.staticViewQueries=!0)),J9(f,Ge(),o)}function J8(i,o,c,f){const m=sn();if(m.firstCreatePass){const y=Qn();iy(m,new Xv(o,c,f),y.index),function(i,o){const c=i.contentQueries||(i.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(i.queries.length-1,o)}(m,i),2==(2&c)&&(m.staticContentQueries=!0)}J9(m,Ge(),c)}function eh(){return i=Ge(),o=eu(),i[19].queries[o].queryList;var i,o}function J9(i,o,c){const f=new dp(4==(4&c));Ql(i,o,f,f.destroy),null===o[19]&&(o[19]=new mp),o[19].queries.push(new pp(f))}function iy(i,o,c){null===i.queries&&(i.queries=new Y8),i.queries.track(new Q8(o,c))}function oy(i,o){return i.queries.getByIndex(o)}const Ep=new xt("Application Initializer");let oh=(()=>{class i{constructor(c){this.appInits=c,this.resolve=P5,this.reject=P5,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(qu(y))c.push(y);else if(g4(y)){const w=new Promise((A,I)=>{y.subscribe({complete:A,error:I})});c.push(w)}}Promise.all(c).then(()=>{f()}).catch(m=>{this.reject(m)}),0===c.length&&f(),this.initialized=!0}}return i.\u0275fac=function(c){return new(c||i)(Mn(Ep,8))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const id=new xt("AppId"),od={provide:id,useFactory:function(){return`${Ap()}${Ap()}${Ap()}`},deps:[]};function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yy=new xt("Platform Initializer"),Tp=new xt("Platform ID"),_y=new xt("appBootstrapListener");let Cy=(()=>{class i{log(c){console.log(c)}warn(c){console.warn(c)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const sd=new xt("LocaleId"),Mp=new xt("DefaultCurrencyCode");class Ey{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}const xp=function(i){return new W9(i)},KC=xp,Ay=function(i){return Promise.resolve(xp(i))},My=function(i){const o=xp(i),f=ta(vo(i).declarations).reduce((m,y)=>{const w=Tr(y);return w&&m.push(new jv(w)),m},[]);return new Ey(o,f)},sh=My,P4=function(i){return Promise.resolve(My(i))};let B6=(()=>{class i{constructor(){this.compileModuleSync=KC,this.compileModuleAsync=Ay,this.compileModuleAndAllComponentsSync=sh,this.compileModuleAndAllComponentsAsync=P4}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();const QC=(()=>Promise.resolve(0))();function Np(i){"undefined"==typeof Zone?QC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class lo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&c,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let i=bn.requestAnimationFrame,o=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(i){const o=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(bn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,U2(i),i.isCheckStableRunning=!0,mm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),U2(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,m,y,w,A)=>{try{return kp(i),c.invokeTask(m,y,w,A)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||i.shouldCoalesceRunChangeDetection)&&o(),vm(i)}},onInvoke:(c,f,m,y,w,A,I)=>{try{return kp(i),c.invoke(m,y,w,A,I)}finally{i.shouldCoalesceRunChangeDetection&&o(),vm(i)}},onHasTask:(c,f,m,y)=>{c.hasTask(m,y),f===m&&("microTask"==y.change?(i._hasPendingMicrotasks=y.microTask,U2(i),mm(i)):"macroTask"==y.change&&(i.hasPendingMacrotasks=y.macroTask))},onHandleError:(c,f,m,y)=>(c.handleError(m,y),i.runOutsideAngular(()=>i.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,f){return this._inner.run(o,c,f)}runTask(o,c,f,m){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+m,o,JC,P5,P5);try{return y.runTask(w,c,f)}finally{y.cancelTask(w)}}runGuarded(o,c,f){return this._inner.runGuarded(o,c,f)}runOutsideAngular(o){return this._outer.run(o)}}const JC={};function mm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function U2(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function kp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vm(i){i._nesting--,mm(i)}class XC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(o,c,f){return o.apply(c,f)}runGuarded(o,c,f){return o.apply(c,f)}runOutsideAngular(o){return o()}runTask(o,c,f,m){return o.apply(c,f)}}let Iy=(()=>{class i{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),Np(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Np(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:y,updateCb:m})}whenStable(c,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,m){return[]}}return i.\u0275fac=function(c){return new(c||i)(Mn(lo))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})(),xy=(()=>{class i{constructor(){this._applications=new Map,ch.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return ch.findTestabilityInTree(this,c,f)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();class ja{addToWindow(o){}findTestabilityInTree(o,c,f){return null}}function ew(i){ch=i}let ch=new ja,Sy=!0,Dy=!1;function cd(){return Dy=!0,Sy}function Ny(){if(Dy)throw new Error("Cannot enable prod mode after platform setup.");Sy=!1}let B2;const Cm=new xt("AllowMultipleToken");class wm{constructor(o,c){this.name=o,this.token=c}}function Em(i,o,c=[]){const f=`Platform: ${o}`,m=new xt(f);return(y=[])=>{let w=Oy();if(!w||w.injector.get(Cm,!1))if(i)i(c.concat(y).concat({provide:m,useValue:!0}));else{const A=c.concat(y).concat({provide:m,useValue:!0},{provide:pr,useValue:"platform"});!function(i){if(B2&&!B2.destroyed&&!B2.injector.get(Cm,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");B2=i.get(Ry);const o=i.get(yy,null);o&&o.forEach(c=>c())}(mr.create({providers:A,name:f}))}return function(i){const o=Oy();if(!o)throw new Error("No platform exists!");if(!o.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(m)}}function Oy(){return B2&&!B2.destroyed?B2:null}let Ry=(()=>{class i{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const A=function(i,o){let c;return c="noop"===i?new XC:("zone.js"===i?void 0:i)||new lo({enableLongStackTrace:cd(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),I=[{provide:lo,useValue:A}];return A.run(()=>{const k=mr.create({providers:I,parent:this.injector,name:c.moduleType.name}),P=c.create(k),q=P.injector.get(p2,null);if(!q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return A.runOutsideAngular(()=>{const $=A.onError.subscribe({next:oe=>{q.handleError(oe)}});P.onDestroy(()=>{Rp(this._modules,P),$.unsubscribe()})}),function(i,o,c){try{const f=c();return qu(f)?f.catch(m=>{throw o.runOutsideAngular(()=>i.handleError(m)),m}):f}catch(f){throw o.runOutsideAngular(()=>i.handleError(f)),f}}(q,A,()=>{const $=P.injector.get(oh);return $.runInitializers(),$.donePromise.then(()=>(C4(P.injector.get(sd,T5)||T5),this._moduleDoBootstrap(P),P))})})}bootstrapModule(c,f=[]){const m=zy({},f);return function(i,o,c){const f=new W9(c);return Promise.resolve(f)}(0,0,c).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(c){const f=c.injector.get(z4);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${me(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(c){return new(c||i)(Mn(mr))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function zy(i,o){return Array.isArray(o)?o.reduce(zy,i):Object.assign(Object.assign({},i),o)}let z4=(()=>{class i{constructor(c,f,m,y,w){this._zone=c,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new V.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),I=new V.y(k=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),Np(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{P.unsubscribe(),q.unsubscribe()}});this.isStable=(0,fe.T)(A,I.pipe((0,Se.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=c instanceof sv?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(m.componentType);const y=function(i){return i.isBoundToModule}(m)?void 0:this._injector.get(M4),A=m.create(mr.NULL,[],f||m.selector,y),I=A.location.nativeElement,k=A.injector.get(Iy,null),P=k&&A.injector.get(xy);return k&&P&&P.registerApplication(I,k),A.onDestroy(()=>{this.detachView(A.hostView),Rp(this.components,A),P&&P.unregisterApplication(I)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Rp(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(_y,[]).concat(this._bootstrapListeners).forEach(m=>m(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(c){return new(c||i)(Mn(lo),Mn(mr),Mn(p2),Mn(A4),Mn(oh))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function Rp(i,o){const c=i.indexOf(o);c>-1&&i.splice(c,1)}class Vy{}class aw{}const cw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let By=(()=>{class i{constructor(c,f){this._compiler=c,this._config=f||cw}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[f,m]=c.split("#");return void 0===m&&(m="default"),J(8255)(f).then(y=>y[m]).then(y=>jy(y,f,m)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(c){let[f,m]=c.split("#"),y="NgFactory";return void 0===m&&(m="default",y=""),J(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(w=>w[m+y]).then(w=>jy(w,f,m))}}return i.\u0275fac=function(c){return new(c||i)(Mn(B6),Mn(aw,8))},i.\u0275prov=rn({token:i,factory:i.\u0275fac}),i})();function jy(i,o,c){if(!i)throw new Error(`Cannot find '${c}' in '${o}'`);return i}const mw=function(i){return null},gw=Em(null,"core",[{provide:Tp,useValue:"unknown"},{provide:Ry,deps:[mr]},{provide:xy,deps:[]},{provide:Cy,deps:[]}]),zA=[{provide:z4,useClass:z4,deps:[lo,mr,p2,A4,oh]},{provide:ap,deps:[lo],useFactory:function(i){let o=[];return i.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(c){o.push(c)}}},{provide:oh,useClass:oh,deps:[[new Vr,Ep]]},{provide:B6,useClass:B6,deps:[]},od,{provide:z8,useFactory:function(){return mv},deps:[]},{provide:H5,useFactory:function(){return gv},deps:[]},{provide:sd,useFactory:function(i){return C4(i=i||"undefined"!=typeof $localize&&$localize.locale||T5),i},deps:[[new Sr(sd),new Vr,new pi]]},{provide:Mp,useValue:"USD"}];let _w=(()=>{class i{constructor(c){}}return i.\u0275fac=function(c){return new(c||i)(Mn(z4))},i.\u0275mod=Ci({type:i}),i.\u0275inj=Xn({providers:zA}),i})()},57:(wt,je,J)=>{"use strict";J.d(je,{hO:()=>yn,xv:()=>De,Dh:()=>Ne,HU:()=>ae,GT:()=>Te,sI:()=>ot,on:()=>Ze,ss:()=>ee,pX:()=>ue,yq:()=>nt});var u=J(7771),B=J(3637),V=J(3342),fe=J(3101),Se=J(309),ge=J(7716),ze=J(2329);function me(){}wt=J.hmd(wt);class pe{constructor(Ae,G=u.N){this.zone=Ae,this.delegate=G}now(){return this.delegate.now()}schedule(Ae,G,we){const Ue=this.zone;return this.delegate.schedule(function(Et){Ue.runGuarded(()=>{Ae.apply(this,[Et])})},G,we)}}class F{constructor(Ae){this.zone=Ae,this.task=null}call(Ae,G){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",me,{},me,me)),G.pipe((0,V.b)({next:we,complete:we,error:we})).subscribe(Ae).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ae{constructor(Ae){this.ngZone=Ae,this.outsideAngular=Ae.runOutsideAngular(()=>new pe(Zone.current)),this.insideAngular=Ae.run(()=>new pe(Zone.current,B.z))}}function ee(de){return function(G){return(G=G.lift(new F(de.ngZone))).pipe((0,fe.R)(de.outsideAngular),(0,Se.QV)(de.insideAngular))}}const se=["ngOnDestroy"],ue=(de,Ae,G,we={})=>new Proxy(de,{get:(Ue,Ee)=>G.runOutsideAngular(()=>{var Et;if(de[Ee])return(null===(Et=null==we?void 0:we.spy)||void 0===Et?void 0:Et.get)&&we.spy.get(Ee,de[Ee]),de[Ee];if(se.indexOf(Ee)>-1)return()=>{};const Ct=Ae.toPromise().then(_n=>{const _t=_n&&_n[Ee];return"function"==typeof _t?_t.bind(_n):_t&&_t.then?_t.then(mt=>G.run(()=>mt)):G.run(()=>_t)});return new Proxy(()=>{},{get:(_n,_t)=>Ct[_t],apply:(_n,_t,mt)=>Ct.then(it=>{var at;const Ot=it&&it(...mt);return(null===(at=null==we?void 0:we.spy)||void 0===at?void 0:at.apply)&&we.spy.apply(Ee,mt,Ot),Ot})})})}),Te=(de,Ae)=>{Ae.forEach(G=>{Object.getOwnPropertyNames(G.prototype||G).forEach(we=>{Object.defineProperty(de.prototype,we,Object.getOwnPropertyDescriptor(G.prototype||G,we))})})},Ne=new ge.OlP("angularfire2.app.options"),De=new ge.OlP("angularfire2.app.nameOrConfig"),Le=new ge.GfV("6.1.5");function Ze(de,Ae,G){const Ue="object"==typeof G&&G||{};Ue.name=Ue.name||"string"==typeof G&&G||"[DEFAULT]";const Et=ze.Z.apps.filter(Ct=>Ct&&Ct.name===Ue.name)[0]||Ae.runOutsideAngular(()=>ze.Z.initializeApp(de,Ue));try{JSON.stringify(de)!==JSON.stringify(Et.options)&&Qe("error",`${Et.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return Et}const nt=()=>{Qe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Qe=(de,...Ae)=>{(0,ge.X6Q)()&&"undefined"!=typeof console&&console[de](...Ae)};function ot(de,Ae,G,we,Ue){const[Ee,...Et]=globalThis.\u0275AngularfireInstanceCache.get(de)||[];if(Ee){try{Ue.some((Ct,_n)=>{const _t=Et[_n];return Ct&&"object"==typeof Ct?JSON.stringify(Ct)!==JSON.stringify(_t):Ct!==_t})&&Qe("error",`${Ae} was already initialized on the ${G.name} Firebase App instance with different settings.${wt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ct){}return Ee}{const Ct=we();return globalThis.\u0275AngularfireInstanceCache.set(de,[Ct,...Ue]),Ct}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Gt={provide:class{},useFactory:Ze,deps:[Ne,ge.R0b,[new ge.FiY,De]]};let yn=(()=>{class de{constructor(G){ze.Z.registerVersion("angularfire",Le.full,G.toString()),ze.Z.registerVersion("angular",ge.q4F.full)}static initializeApp(G,we){return{ngModule:de,providers:[{provide:Ne,useValue:G},{provide:De,useValue:we}]}}}return de.\u0275fac=function(G){return new(G||de)(ge.LFG(ge.Lbi))},de.\u0275mod=ge.oAB({type:de}),de.\u0275inj=ge.cJS({providers:[Gt]}),de})()},7367:(wt,je,J)=>{"use strict";var u=J(9759),B=J(6034),V=J(4762),fe=J(4685),Se=J(300);function ge(W){return W&&"object"==typeof W&&"default"in W?W:{default:W}}var me,ze=ge(u),pe=((me={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",me["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",me["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",me["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",me["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",me["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",me["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",me["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",me["recaptcha-error"]="ReCAPTCHA error.",me),F=new fe.ErrorFactory("appCheck","AppCheck",pe),ae=new Map,ee={activated:!1,tokenObservers:[]},se={enabled:!1};function ue(W){return ae.get(W)||ee}function Te(W,Q){ae.set(W,Q)}function Ne(){return se}var De="https://content-firebaseappcheck.googleapis.com/v1beta",nt=function(){function W(Q,ce,_e,Fe,Ke){if(this.operation=Q,this.retryPolicy=ce,this.getWaitDuration=_e,this.lowerBound=Fe,this.upperBound=Ke,this.pending=null,this.nextErrorWaitInterval=Fe,Fe>Ke)throw new Error("Proactive refresh lower bound greater than upper bound!")}return W.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},W.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},W.prototype.isRunning=function(){return!!this.pending},W.prototype.process=function(Q){return V.__awaiter(this,void 0,void 0,function(){var ce;return V.__generator(this,function(_e){switch(_e.label){case 0:this.stop(),_e.label=1;case 1:return _e.trys.push([1,6,,7]),this.pending=new fe.Deferred,[4,Qe(this.getNextRun(Q))];case 2:return _e.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return _e.sent(),this.pending=new fe.Deferred,[4,this.operation()];case 4:return _e.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return _e.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return ce=_e.sent(),this.retryPolicy(ce)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},W.prototype.getNextRun=function(Q){if(Q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var ce=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ce},W}();function Qe(W){return new Promise(function(Q){setTimeout(Q,W)})}function Bt(){return self.grecaptcha}function ot(W){if(!ue(W).activated)throw F.create("use-before-activation",{appName:W.name})}function yn(W){return fe.base64.encodeString(JSON.stringify(W),!1)}function de(W,Q){var ce=W.url,_e=W.body;return V.__awaiter(this,void 0,void 0,function(){var Fe,Ke,dt,$t,dn,un,ir,Ci,Ls,yr;return V.__generator(this,function(go){switch(go.label){case 0:Fe={"Content-Type":"application/json"},(Ke=Q.getImmediate({optional:!0}))&&(Fe["X-Firebase-Client"]=Ke.getPlatformInfoString()),dt={method:"POST",body:JSON.stringify(_e),headers:Fe},go.label=1;case 1:return go.trys.push([1,3,,4]),[4,fetch(ce,dt)];case 2:return $t=go.sent(),[3,4];case 3:throw dn=go.sent(),F.create("fetch-network-error",{originalErrorMessage:dn.message});case 4:if(200!==$t.status)throw F.create("fetch-status-error",{httpStatus:$t.status});go.label=5;case 5:return go.trys.push([5,7,,8]),[4,$t.json()];case 6:return un=go.sent(),[3,8];case 7:throw ir=go.sent(),F.create("fetch-parse-error",{originalErrorMessage:ir.message});case 8:if(!(Ci=un.ttl.match(/^([\d.]+)(s)$/))||!Ci[2]||isNaN(Number(Ci[1])))throw F.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+un.ttl});return Ls=1e3*Number(Ci[1]),yr=Date.now(),[2,{token:un.attestationToken,expireTimeMillis:yr+Ls,issuedAtTimeMillis:yr}]}})})}function Ae(W,Q){var ce=W.options;return{url:De+"/projects/"+ce.projectId+"/apps/"+ce.appId+":exchangeRecaptchaToken?key="+ce.apiKey,body:{recaptcha_token:Q}}}function G(W,Q){var ce=W.options;return{url:De+"/projects/"+ce.projectId+"/apps/"+ce.appId+":exchangeDebugToken?key="+ce.apiKey,body:{debug_token:Q}}}var Ee="firebase-app-check-store",Et="debug-token",Ct=null;function _n(){return Ct||(Ct=new Promise(function(W,Q){try{var ce=indexedDB.open("firebase-app-check-database",1);ce.onsuccess=function(_e){W(_e.target.result)},ce.onerror=function(_e){var Fe;Q(F.create("storage-open",{originalErrorMessage:null===(Fe=_e.target.error)||void 0===Fe?void 0:Fe.message}))},ce.onupgradeneeded=function(_e){var Fe=_e.target.result;switch(_e.oldVersion){case 0:Fe.createObjectStore(Ee,{keyPath:"compositeKey"})}}}catch(_e){Q(F.create("storage-open",{originalErrorMessage:_e.message}))}}))}function _t(W){return En(rn(W))}function Ot(W,Q){return V.__awaiter(this,void 0,void 0,function(){var ce,_e,Fe,Ke;return V.__generator(this,function(dt){switch(dt.label){case 0:return[4,_n()];case 1:return ce=dt.sent(),_e=ce.transaction(Ee,"readwrite"),Fe=_e.objectStore(Ee),Ke=Fe.put({compositeKey:W,value:Q}),[2,new Promise(function($t,dn){Ke.onsuccess=function(un){$t()},_e.onerror=function(un){var ir;dn(F.create("storage-set",{originalErrorMessage:null===(ir=un.target.error)||void 0===ir?void 0:ir.message}))}})]}})})}function En(W){return V.__awaiter(this,void 0,void 0,function(){var Q,ce,_e,Fe;return V.__generator(this,function(Ke){switch(Ke.label){case 0:return[4,_n()];case 1:return Q=Ke.sent(),ce=Q.transaction(Ee,"readonly"),_e=ce.objectStore(Ee),Fe=_e.get(W),[2,new Promise(function(dt,$t){Fe.onsuccess=function(dn){var un=dn.target.result;dt(un?un.value:void 0)},ce.onerror=function(dn){var un;$t(F.create("storage-get",{originalErrorMessage:null===(un=dn.target.error)||void 0===un?void 0:un.message}))}})]}})})}function rn(W){return W.options.appId+"-"+W.name}var Lr=new Se.Logger("@firebase/app-check");function rr(W,Q){return fe.isIndexedDBAvailable()?function(W,Q){return Ot(rn(W),Q)}(W,Q).catch(function(ce){Lr.warn("Failed to write token to indexeddb. Error: "+ce)}):Promise.resolve()}function is(){return V.__awaiter(this,void 0,void 0,function(){var W;return V.__generator(this,function(Q){if((W=Ne()).enabled&&W.token)return[2,W.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Kt={error:"UNKNOWN_ERROR"};function zt(W,Q,ce){return void 0===ce&&(ce=!1),V.__awaiter(this,void 0,void 0,function(){var _e,Fe,Ke,dt,$t,dn,un,ir,Ci,Ls;return V.__generator(this,function(yr){switch(yr.label){case 0:return ot(W),_e=ue(W),Ke=void 0,(Fe=_e.token)?[3,2]:[4,_e.cachedTokenPromise];case 1:(dt=yr.sent())&&Un(dt)&&(Fe=dt,Te(W,V.__assign(V.__assign({},_e),{token:Fe})),en(W,{token:Fe.token})),yr.label=2;case 2:return!ce&&Fe&&Un(Fe)?[2,{token:Fe.token}]:Ne().enabled?(dn=de,un=G,ir=[W],[4,is()]):[3,6];case 3:return[4,dn.apply(void 0,[un.apply(void 0,ir.concat([yr.sent()])),Q])];case 4:return $t=yr.sent(),[4,rr(W,$t)];case 5:return yr.sent(),Te(W,V.__assign(V.__assign({},_e),{token:$t})),[2,{token:$t.token}];case 6:return yr.trys.push([6,8,,9]),[4,_e.provider.getToken()];case 7:return Fe=yr.sent(),[3,9];case 8:return Ci=yr.sent(),Lr.error(Ci),Ke=Ci,[3,9];case 9:return Fe?[3,10]:(Ls=function(W){return{token:yn(Kt),error:W}}(Ke),[3,12]);case 10:return Ls={token:Fe.token},Te(W,V.__assign(V.__assign({},_e),{token:Fe})),[4,rr(W,Fe)];case 11:yr.sent(),yr.label=12;case 12:return en(W,Ls),[2,Ls]}})})}function wr(W,Q,ce,_e,Fe){var Ke=ue(W),dt={next:_e,error:Fe,type:ce},$t=V.__assign(V.__assign({},Ke),{tokenObservers:V.__spreadArray(V.__spreadArray([],Ke.tokenObservers),[dt])});if(!$t.tokenRefresher){var dn=function(W,Q){var ce=this;return new nt(function(){return V.__awaiter(ce,void 0,void 0,function(){var Fe;return V.__generator(this,function(Ke){switch(Ke.label){case 0:return ue(W).token?[3,2]:[4,zt(W,Q)];case 1:return Fe=Ke.sent(),[3,4];case 2:return[4,zt(W,Q,!0)];case 3:Fe=Ke.sent(),Ke.label=4;case 4:if(Fe.error)throw Fe.error;return[2]}})})},function(){return!0},function(){var _e=ue(W);if(_e.token){var Fe=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return Fe=Math.min(Fe,_e.token.expireTimeMillis-3e5),Math.max(0,Fe-Date.now())}return 0},3e4,96e4)}(W,Q);$t.tokenRefresher=dn}if(!$t.tokenRefresher.isRunning()&&Ke.isTokenAutoRefreshEnabled&&$t.tokenRefresher.start(),Ke.token&&Un(Ke.token)){var un=Ke.token;Promise.resolve().then(function(){return _e({token:un.token})}).catch(function(){})}else null==Ke.token&&Ke.cachedTokenPromise.then(function(ir){ir&&Un(ir)&&_e({token:ir.token})}).catch(function(){});Te(W,$t)}function Ln(W,Q){var ce=ue(W),_e=ce.tokenObservers.filter(function(Fe){return Fe.next!==Q});0===_e.length&&ce.tokenRefresher&&ce.tokenRefresher.isRunning()&&ce.tokenRefresher.stop(),Te(W,V.__assign(V.__assign({},ce),{tokenObservers:_e}))}function en(W,Q){for(var _e=0,Fe=ue(W).tokenObservers;_e<Fe.length;_e++){var Ke=Fe[_e];try{"EXTERNAL"===Ke.type&&null!=Q.error?Ke.error(Q.error):Ke.next(Q)}catch(dt){}}}function Un(W){return W.expireTimeMillis-Date.now()>0}function ji(W){return V.__awaiter(this,void 0,void 0,function(){var ce;return V.__generator(this,function(_e){switch(_e.label){case 0:return ot(W),[4,ue(W).reCAPTCHAState.initialized.promise];case 1:return ce=_e.sent(),[2,new Promise(function(Fe,Ke){var dt=ue(W).reCAPTCHAState;ce.ready(function(){Fe(ce.execute(dt.widgetId,{action:"fire_app_check"}))})})]}})})}function hr(W,Q,ce,_e){var Fe=ce.render(_e,{sitekey:Q,size:"invisible"}),Ke=ue(W);Te(W,V.__assign(V.__assign({},Ke),{reCAPTCHAState:V.__assign(V.__assign({},Ke.reCAPTCHAState),{widgetId:Fe})}))}var Bn=function(){function W(Q){this._siteKey=Q}return W.prototype.getToken=function(){return V.__awaiter(this,void 0,void 0,function(){var Q;return V.__generator(this,function(ce){switch(ce.label){case 0:if(!this._app||!this._platformLoggerProvider)throw F.create("use-before-activation",{appName:""});ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,ji(this._app)];case 2:return Q=ce.sent(),[3,4];case 3:throw ce.sent(),F.create("recaptcha-error");case 4:return[2,de(Ae(this._app,Q),this._platformLoggerProvider)]}})})},W.prototype.initialize=function(Q,ce){this._app=Q,this._platformLoggerProvider=ce,function(W,Q){var ce=ue(W),_e=new fe.Deferred;Te(W,V.__assign(V.__assign({},ce),{reCAPTCHAState:{initialized:_e}}));var Fe="fire_app_check_"+W.name,Ke=document.createElement("div");Ke.id=Fe,Ke.style.display="none",document.body.appendChild(Ke);var dt=Bt();return dt?dt.ready(function(){hr(W,Q,dt,Fe),_e.resolve(dt)}):function(W){var Q=document.createElement("script");Q.src="https://www.google.com/recaptcha/api.js",Q.onload=W,document.head.appendChild(Q)}(function(){var $t=Bt();if(!$t)throw new Error("no recaptcha");$t.ready(function(){hr(W,Q,$t,Fe),_e.resolve($t)})}),_e.promise}(Q,this._siteKey).catch(function(){})},W}(),lt=function(){function W(Q){this._customProviderOptions=Q}return W.prototype.getToken=function(){return V.__awaiter(this,void 0,void 0,function(){var Q,ce,_e;return V.__generator(this,function(Fe){switch(Fe.label){case 0:if(!this._app)throw F.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return Q=Fe.sent(),ce=fe.issuedAtTime(Q.token),_e=null!==ce&&ce<Date.now()&&ce>0?1e3*ce:Date.now(),[2,V.__assign(V.__assign({},Q),{issuedAtTimeMillis:_e})]}})})},W.prototype.initialize=function(Q){this._app=Q},W}();function bn(W,Q){return{app:W,activate:function(ce,_e){return function(W,Q,ce,_e){var Fe=ue(W);if(Fe.activated)throw F.create("already-activated",{appName:W.name});var Ke=V.__assign(V.__assign({},Fe),{activated:!0});Ke.cachedTokenPromise=function(W){return V.__awaiter(this,void 0,void 0,function(){var Q,ce;return V.__generator(this,function(_e){switch(_e.label){case 0:if(!fe.isIndexedDBAvailable())return[3,5];Q=void 0,_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,_t(W)];case 2:return Q=_e.sent(),[3,4];case 3:return ce=_e.sent(),Lr.warn("Failed to read token from indexeddb. Error: "+ce),[3,4];case 4:return[2,Q];case 5:return[2,void 0]}})})}(W).then(function(dt){return dt&&Un(dt)&&Te(W,V.__assign(V.__assign({},ue(W)),{token:dt})),dt}),Ke.provider="string"==typeof Q?new Bn(Q):Q instanceof Bn||Q instanceof lt?Q:new lt({getToken:Q.getToken}),Ke.isTokenAutoRefreshEnabled=void 0===_e?W.automaticDataCollectionEnabled:_e,Te(W,Ke),Ke.provider.initialize(W,ce)}(W,ce,Q,_e)},setTokenAutoRefreshEnabled:function(ce){return function(W,Q){var ce=ue(W);ce.tokenRefresher&&(!0===Q?ce.tokenRefresher.start():ce.tokenRefresher.stop()),Te(W,V.__assign(V.__assign({},ce),{isTokenAutoRefreshEnabled:Q}))}(W,ce)},getToken:function(ce){return function(W,Q,ce){return V.__awaiter(this,void 0,void 0,function(){var _e;return V.__generator(this,function(Fe){switch(Fe.label){case 0:return[4,zt(W,Q,ce)];case 1:if((_e=Fe.sent()).error)throw _e.error;return[2,{token:_e.token}]}})})}(W,Q,ce)},onTokenChanged:function(ce,_e,Fe){return function(W,Q,ce,_e,Fe){var Ke,dt=function(){};return Ke=null!=ce.next?ce.next.bind(ce):ce,null!=ce.error?dt=ce.error.bind(ce):_e&&(dt=_e),wr(W,Q,"EXTERNAL",Ke,dt),function(){return Ln(W,Ke)}}(W,Q,ce,_e)},INTERNAL:{delete:function(){for(var _e=0,Fe=ue(W).tokenObservers;_e<Fe.length;_e++)Ln(W,Fe[_e].next);return Promise.resolve()}}}}var W,re="app-check-internal";(W=ze.default).INTERNAL.registerComponent(new B.Component("appCheck",function(Q){return bn(Q.getProvider("app").getImmediate(),Q.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Bn,CustomProvider:lt}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(Q,ce,_e){Q.getProvider(re).initialize()})),W.INTERNAL.registerComponent(new B.Component(re,function(Q){return function(W,Q){return{getToken:function(ce){return zt(W,Q,ce)},addTokenListener:function(ce){return wr(W,Q,"INTERNAL",ce)},removeTokenListener:function(ce){return Ln(W,ce)}}}(Q.getProvider("app").getImmediate(),Q.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),W.registerVersion("@firebase/app-check","0.3.2"),function(){var W=fe.getGlobal();if("string"==typeof W.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===W.FIREBASE_APPCHECK_DEBUG_TOKEN){var Q=Ne();Q.enabled=!0;var ce=new fe.Deferred;Q.token=ce,ce.resolve("string"==typeof W.FIREBASE_APPCHECK_DEBUG_TOKEN?W.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return V.__awaiter(this,void 0,void 0,function(){var W,Q;return V.__generator(this,function(ce){switch(ce.label){case 0:W=void 0,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,En(Et)];case 2:return W=ce.sent(),[3,4];case 3:return ce.sent(),[3,4];case 4:return W?[2,W]:(function(W){return Ot(Et,W)}(Q="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(W){var Q=16*Math.random()|0;return("x"===W?Q:3&Q|8).toString(16)})).catch(function(_e){return Lr.warn("Failed to persist debug token to indexeddb. Error: "+_e)}),console.log("AppCheck debug token: "+Q+". You will need to whitelist it in the Firebase console for it to work"),[2,Q])}})})}())}}()},9759:(wt,je,J)=>{"use strict";J.r(je),J.d(je,{default:()=>mt,firebase:()=>_t});var Se,Qe,u=J(4762),B=J(4685),V=J(6034),fe=J(300),ge=((Se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Se["bad-app-name"]="Illegal App name: '{$appName}",Se["duplicate-app"]="Firebase App named '{$appName}' already exists",Se["app-deleted"]="Firebase App named '{$appName}' already deleted",Se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Se),ze=new B.ErrorFactory("app","Firebase",ge),me="@firebase/app",Bt="[DEFAULT]",ot=((Qe={})[me]="fire-core",Qe["@firebase/analytics"]="fire-analytics",Qe["@firebase/app-check"]="fire-app-check",Qe["@firebase/auth"]="fire-auth",Qe["@firebase/database"]="fire-rtdb",Qe["@firebase/functions"]="fire-fn",Qe["@firebase/installations"]="fire-iid",Qe["@firebase/messaging"]="fire-fcm",Qe["@firebase/performance"]="fire-perf",Qe["@firebase/remote-config"]="fire-rc",Qe["@firebase/storage"]="fire-gcs",Qe["@firebase/firestore"]="fire-fst",Qe["fire-js"]="fire-js",Qe["firebase-wrapper"]="fire-js-all",Qe),Gt=new fe.Logger("@firebase/app"),yn=function(){function it(at,Ot,En){var rn=this;this.firebase_=En,this.isDeleted_=!1,this.name_=Ot.name,this.automaticDataCollectionEnabled_=Ot.automaticDataCollectionEnabled||!1,this.options_=(0,B.deepCopy)(at),this.container=new V.ComponentContainer(Ot.name),this._addComponent(new V.Component("app",function(){return rn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Lr){return rn._addComponent(Lr)})}return Object.defineProperty(it.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(at){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=at},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),it.prototype.delete=function(){var at=this;return new Promise(function(Ot){at.checkDestroyed_(),Ot()}).then(function(){return at.firebase_.INTERNAL.removeApp(at.name_),Promise.all(at.container.getProviders().map(function(Ot){return Ot.delete()}))}).then(function(){at.isDeleted_=!0})},it.prototype._getService=function(at,Ot){var En;void 0===Ot&&(Ot=Bt),this.checkDestroyed_();var rn=this.container.getProvider(at);return!rn.isInitialized()&&"EXPLICIT"===(null===(En=rn.getComponent())||void 0===En?void 0:En.instantiationMode)&&rn.initialize(),rn.getImmediate({identifier:Ot})},it.prototype._removeServiceInstance=function(at,Ot){void 0===Ot&&(Ot=Bt),this.container.getProvider(at).clearInstance(Ot)},it.prototype._addComponent=function(at){try{this.container.addComponent(at)}catch(Ot){Gt.debug("Component "+at.name+" failed to register with FirebaseApp "+this.name,Ot)}},it.prototype._addOrOverwriteComponent=function(at){this.container.addOrOverwriteComponent(at)},it.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},it.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ze.create("app-deleted",{appName:this.name_})},it}();yn.prototype.name&&yn.prototype.options||yn.prototype.delete||console.log("dc");var we=function G(){var it=function(it){var at={},Ot=new Map,En={__esModule:!0,initializeApp:function(Kt,zt){void 0===zt&&(zt={}),("object"!=typeof zt||null===zt)&&(zt={name:zt});var Ln=zt;void 0===Ln.name&&(Ln.name=Bt);var ct=Ln.name;if("string"!=typeof ct||!ct)throw ze.create("bad-app-name",{appName:String(ct)});if((0,B.contains)(at,ct))throw ze.create("duplicate-app",{appName:ct});var en=new it(Kt,Ln,En);return at[ct]=en,en},app:Lr,registerVersion:function(Kt,zt,wr){var Ln,ct=null!==(Ln=ot[Kt])&&void 0!==Ln?Ln:Kt;wr&&(ct+="-"+wr);var en=ct.match(/\s|\//),Un=zt.match(/\s|\//);if(en||Un){var An=['Unable to register library "'+ct+'" with version "'+zt+'":'];return en&&An.push('library name "'+ct+'" contains illegal characters (whitespace or "/")'),en&&Un&&An.push("and"),Un&&An.push('version name "'+zt+'" contains illegal characters (whitespace or "/")'),void Gt.warn(An.join(" "))}Bi(new V.Component(ct+"-version",function(){return{library:ct,version:zt}},"VERSION"))},setLogLevel:fe.setLogLevel,onLog:function(Kt,zt){if(null!==Kt&&"function"!=typeof Kt)throw ze.create("invalid-log-argument");(0,fe.setUserLogHandler)(Kt,zt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Bi,removeApp:function(Kt){delete at[Kt]},components:Ot,useAsService:function(Kt,zt){return"serverAuth"===zt?null:zt}}};function Lr(Kt){if(!(0,B.contains)(at,Kt=Kt||Bt))throw ze.create("no-app",{appName:Kt});return at[Kt]}function Bi(Kt){var zt=Kt.name;if(Ot.has(zt))return Gt.debug("There were multiple attempts to register component "+zt+"."),"PUBLIC"===Kt.type?En[zt]:null;if(Ot.set(zt,Kt),"PUBLIC"===Kt.type){var wr=function(Un){if(void 0===Un&&(Un=Lr()),"function"!=typeof Un[zt])throw ze.create("invalid-app-argument",{appName:zt});return Un[zt]()};void 0!==Kt.serviceProps&&(0,B.deepExtend)(wr,Kt.serviceProps),En[zt]=wr,it.prototype[zt]=function(){for(var Un=[],An=0;An<arguments.length;An++)Un[An]=arguments[An];return this._getService.bind(this,zt).apply(this,Kt.multipleInstances?Un:[])}}for(var Ln=0,ct=Object.keys(at);Ln<ct.length;Ln++)at[ct[Ln]]._addComponent(Kt);return"PUBLIC"===Kt.type?En[zt]:null}return En.default=En,Object.defineProperty(En,"apps",{get:function(){return Object.keys(at).map(function(Kt){return at[Kt]})}}),Lr.App=it,En}(yn);return it.INTERNAL=(0,u.__assign)((0,u.__assign)({},it.INTERNAL),{createFirebaseNamespace:G,extendNamespace:function(Ot){(0,B.deepExtend)(it,Ot)},createSubscribe:B.createSubscribe,ErrorFactory:B.ErrorFactory,deepExtend:B.deepExtend}),it}(),Ue=function(){function it(at){this.container=at}return it.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ot){if(function(it){var at=it.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Ot)){var En=Ot.getImmediate();return En.library+"/"+En.version}return null}).filter(function(Ot){return Ot}).join(" ")},it}();if((0,B.isBrowser)()&&void 0!==self.firebase){Gt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&Gt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _n=we.initializeApp;we.initializeApp=function(){for(var it=[],at=0;at<arguments.length;at++)it[at]=arguments[at];return(0,B.isNode)()&&Gt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_n.apply(void 0,it)};var it,_t=we;(it=_t).INTERNAL.registerComponent(new V.Component("platform-logger",function(Ot){return new Ue(Ot)},"PRIVATE")),it.registerVersion(me,"0.6.30",undefined),it.registerVersion("fire-js","");const mt=_t},6423:(wt,je,J)=>{"use strict";var u=J(9759);(function(){var B,V="function"==typeof Object.defineProperties?Object.defineProperty:function(a,h,b){a!=Array.prototype&&a!=Object.prototype&&(a[h]=b.value)},Se=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var h=0;h<a.length;++h){var b=a[h];if(b&&b.Math==Math)return b}return globalThis}(this);function ze(a){var h=0;return function(){return h<a.length?{done:!1,value:a[h++]}:{done:!0}}}function me(a){var h="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return h?h.call(a):{next:ze(a)}}!function(a,h){if(h){var b=Se;a=a.split(".");for(var T=0;T<a.length-1;T++){var S=a[T];S in b||(b[S]={}),b=b[S]}(h=h(T=b[a=a[a.length-1]]))!=T&&null!=h&&V(b,a,{configurable:!0,writable:!0,value:h})}}("Promise",function(a){function h(U){this.b=0,this.c=void 0,this.a=[];var Y=this.f();try{U(Y.resolve,Y.reject)}catch(ke){Y.reject(ke)}}function b(){this.a=null}function T(U){return U instanceof h?U:new h(function(Y){Y(U)})}if(a)return a;b.prototype.b=function(U){if(null==this.a){this.a=[];var Y=this;this.c(function(){Y.g()})}this.a.push(U)};var S=Se.setTimeout;b.prototype.c=function(U){S(U,0)},b.prototype.g=function(){for(;this.a&&this.a.length;){var U=this.a;this.a=[];for(var Y=0;Y<U.length;++Y){var ke=U[Y];U[Y]=null;try{ke()}catch(qe){this.f(qe)}}}this.a=null},b.prototype.f=function(U){this.c(function(){throw U})},h.prototype.f=function(){function U(qe){return function(bt){ke||(ke=!0,qe.call(Y,bt))}}var Y=this,ke=!1;return{resolve:U(this.m),reject:U(this.g)}},h.prototype.m=function(U){if(U===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(U instanceof h)this.s(U);else{e:switch(typeof U){case"object":var Y=null!=U;break e;case"function":Y=!0;break e;default:Y=!1}Y?this.v(U):this.h(U)}},h.prototype.v=function(U){var Y=void 0;try{Y=U.then}catch(ke){return void this.g(ke)}"function"==typeof Y?this.u(Y,U):this.h(U)},h.prototype.g=function(U){this.i(2,U)},h.prototype.h=function(U){this.i(1,U)},h.prototype.i=function(U,Y){if(0!=this.b)throw Error("Cannot settle("+U+", "+Y+"): Promise already settled in state"+this.b);this.b=U,this.c=Y,this.l()},h.prototype.l=function(){if(null!=this.a){for(var U=0;U<this.a.length;++U)z.b(this.a[U]);this.a=null}};var z=new b;return h.prototype.s=function(U){var Y=this.f();U.Ra(Y.resolve,Y.reject)},h.prototype.u=function(U,Y){var ke=this.f();try{U.call(Y,ke.resolve,ke.reject)}catch(qe){ke.reject(qe)}},h.prototype.then=function(U,Y){function ke(hn,Fn){return"function"==typeof hn?function(Do){try{qe(hn(Do))}catch(N2){bt(N2)}}:Fn}var qe,bt,ht=new h(function(hn,Fn){qe=hn,bt=Fn});return this.Ra(ke(U,qe),ke(Y,bt)),ht},h.prototype.catch=function(U){return this.then(void 0,U)},h.prototype.Ra=function(U,Y){function ke(){switch(qe.b){case 1:U(qe.c);break;case 2:Y(qe.c);break;default:throw Error("Unexpected state: "+qe.b)}}var qe=this;null==this.a?z.b(ke):this.a.push(ke)},h.resolve=T,h.reject=function(U){return new h(function(Y,ke){ke(U)})},h.race=function(U){return new h(function(Y,ke){for(var qe=me(U),bt=qe.next();!bt.done;bt=qe.next())T(bt.value).Ra(Y,ke)})},h.all=function(U){var Y=me(U),ke=Y.next();return ke.done?T([]):new h(function(qe,bt){function ht(Do){return function(N2){hn[Do]=N2,0==--Fn&&qe(hn)}}var hn=[],Fn=0;do{hn.push(void 0),Fn++,T(ke.value).Ra(ht(hn.length-1),bt),ke=Y.next()}while(!ke.done)})},h});var pe=pe||{},F=this||self,ae=/^[\w+/_-]+[=]{0,2}$/,ee=null;function se(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&ae.test(a)?a:""}function ue(){}function Te(a){var h=typeof a;return"object"!=h?h:a?Array.isArray(a)?"array":h:"null"}function Ne(a){var h=Te(a);return"array"==h||"object"==h&&"number"==typeof a.length}function De(a){return"function"==Te(a)}function Me(a){var h=typeof a;return"object"==h&&null!=a||"function"==h}function Le(a){return Object.prototype.hasOwnProperty.call(a,Ze)&&a[Ze]||(a[Ze]=++nt)}var Ze="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function Qe(a,h,b){return a.call.apply(a.bind,arguments)}function Bt(a,h,b){if(!a)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,T),a.apply(h,S)}}return function(){return a.apply(h,arguments)}}function ot(a,h,b){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:Bt).apply(null,arguments)}function Gt(a,h){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),a.apply(this,T)}}var yn=Date.now;function de(a,h){function b(){}b.prototype=h.prototype,a.bb=h.prototype,a.prototype=new b,a.prototype.constructor=a}function Ae(a){return a}function G(a,h,b){this.code=Ue+a,this.message=h||Ee[a]||"",this.a=b||null}function we(a){var h=a&&a.code;return h?new G(h.substring(Ue.length),a.message,a.serverResponse):null}de(G,Error),G.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},G.prototype.toJSON=function(){return this.w()};var _n,Ue="auth/",Ee={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Et={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ct(a){for(var h in Et)if(Et[h].id===a)return{firebaseEndpoint:(a=Et[h]).Ua,secureTokenEndpoint:a.$a,identityPlatformEndpoint:a.Xa};return null}function _t(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(h){return!1}}function mt(a){if(Error.captureStackTrace)Error.captureStackTrace(this,mt);else{var h=Error().stack;h&&(this.stack=h)}a&&(this.message=String(a))}function it(a,h){for(var b="",T=(a=a.split("%s")).length-1,S=0;S<T;S++)b+=a[S]+(S<h.length?h[S]:"%s");mt.call(this,b+a[T])}function at(a,h){throw new it("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function Ot(a,h){this.c=a,this.f=h,this.b=0,this.a=null}function En(a,h){a.f(h),100>a.b&&(a.b++,h.next=a.a,a.a=h)}function rn(){this.b=this.a=null}_n=Ct("__EID__")?"__EID__":void 0,de(mt,Error),mt.prototype.name="CustomError",de(it,mt),it.prototype.name="AssertionError",Ot.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var Lr=new Ot(function(){return new rr},function(a){a.reset()});function Xn(){var a=Eh,h=null;return a.a&&(h=a.a,a.a=a.a.next,a.a||(a.b=null),h.next=null),h}function rr(){this.next=this.b=this.a=null}rn.prototype.add=function(a,h){var b=Lr.get();b.set(a,h),this.b?this.b.next=b:this.a=b,this.b=b},rr.prototype.set=function(a,h){this.a=a,this.b=h,this.next=null},rr.prototype.reset=function(){this.next=this.b=this.a=null};var Bi=Array.prototype.indexOf?function(a,h){return Array.prototype.indexOf.call(a,h,void 0)}:function(a,h){if("string"==typeof a)return"string"!=typeof h||1!=h.length?-1:a.indexOf(h,0);for(var b=0;b<a.length;b++)if(b in a&&a[b]===h)return b;return-1},kn=Array.prototype.forEach?function(a,h,b){Array.prototype.forEach.call(a,h,b)}:function(a,h,b){for(var T=a.length,S="string"==typeof a?a.split(""):a,z=0;z<T;z++)z in S&&h.call(b,S[z],z,a)},Wa=Array.prototype.filter?function(a,h){return Array.prototype.filter.call(a,h,void 0)}:function(a,h){for(var b=a.length,T=[],S=0,z="string"==typeof a?a.split(""):a,U=0;U<b;U++)if(U in z){var Y=z[U];h.call(void 0,Y,U,a)&&(T[S++]=Y)}return T},Kt=Array.prototype.map?function(a,h){return Array.prototype.map.call(a,h,void 0)}:function(a,h){for(var b=a.length,T=Array(b),S="string"==typeof a?a.split(""):a,z=0;z<b;z++)z in S&&(T[z]=h.call(void 0,S[z],z,a));return T},zt=Array.prototype.some?function(a,h){return Array.prototype.some.call(a,h,void 0)}:function(a,h){for(var b=a.length,T="string"==typeof a?a.split(""):a,S=0;S<b;S++)if(S in T&&h.call(void 0,T[S],S,a))return!0;return!1};function Ln(a,h){return 0<=Bi(a,h)}function ct(a,h){var b;return(b=0<=(h=Bi(a,h)))&&Array.prototype.splice.call(a,h,1),b}function en(a,h){!function(a,h){for(var b="string"==typeof a?a.split(""):a,T=a.length-1;0<=T;--T)T in b&&h.call(void 0,b[T],T,a)}(a,function(T,S){h.call(void 0,T,S,a)&&Array.prototype.splice.call(a,S,1)})}function Un(a){return Array.prototype.concat.apply([],arguments)}function An(a){var h=a.length;if(0<h){for(var b=Array(h),T=0;T<h;T++)b[T]=a[T];return b}return[]}var Er,ks=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},q1=/&/g,ji=/</g,hr=/>/g,Vc=/"/g,Bn=/'/g,lt=/\x00/g,Pt=/[\x00&<>"']/;function Sn(a,h){return-1!=a.indexOf(h)}function mo(a,h){return a<h?-1:a>h?1:0}e:{var bn=F.navigator;if(bn){var bi=bn.userAgent;if(bi){Er=bi;break e}}Er=""}function dr(a){return Sn(Er,a)}function Tn(a,h){for(var b in a)h.call(void 0,a[b],b,a)}function ie(a){for(var h in a)return!1;return!0}function re(a){var b,h={};for(b in a)h[b]=a[b];return h}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(a,h){for(var b,T,S=1;S<arguments.length;S++){for(b in T=arguments[S])a[b]=T[b];for(var z=0;z<ve.length;z++)b=ve[z],Object.prototype.hasOwnProperty.call(T,b)&&(a[b]=T[b])}}function Q(a,h){e:{try{var b=a&&a.ownerDocument,T=b&&(b.defaultView||b.parentWindow);if((T=T||F).Element&&T.Location){var S=T;break e}}catch(U){}S=null}if(S&&void 0!==S[h]&&(!a||!(a instanceof S[h])&&(a instanceof S.Location||a instanceof S.Element))){if(Me(a))try{var z=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(U){z="<object could not be stringified>"}else z=void 0===a?"undefined":null===a?"null":typeof a;at("Argument is not a %s (or a non-Element, non-Location mock); got: %s",h,z)}}function ce(a,h){this.a=a===Ke&&h||"",this.b=Fe}function _e(a){return a instanceof ce&&a.constructor===ce&&a.b===Fe?a.a:(at("expected object of type Const, got '"+a+"'"),"type_error:Const")}ce.prototype.ta=!0,ce.prototype.sa=function(){return this.a},ce.prototype.toString=function(){return"Const{"+this.a+"}"};var dt,Fe={},Ke={};function $t(){if(void 0===dt){var a=null,h=F.trustedTypes;if(h&&h.createPolicy){try{a=h.createPolicy("goog#html",{createHTML:Ae,createScript:Ae,createScriptURL:Ae})}catch(b){F.console&&F.console.error(b.message)}dt=a}else dt=a}return dt}function dn(a,h){this.a=h===yr?a:""}function un(a){return a instanceof dn&&a.constructor===dn?a.a:(at("expected object of type TrustedResourceUrl, got '"+a+"' of type "+Te(a)),"type_error:TrustedResourceUrl")}function ir(a,h){var b=_e(a);if(!Ls.test(b))throw Error("Invalid TrustedResourceUrl format: "+b);return function(a){var h=$t();return new dn(a=h?h.createScriptURL(a):a,yr)}(a=b.replace(Ci,function(T,S){if(!Object.prototype.hasOwnProperty.call(h,S))throw Error('Found marker, "'+S+'", in format string, "'+b+'", but no valid label mapping found in args: '+JSON.stringify(h));return(T=h[S])instanceof ce?_e(T):encodeURIComponent(String(T))}))}dn.prototype.ta=!0,dn.prototype.sa=function(){return this.a.toString()},dn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ci=/%{(\w+)}/g,Ls=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,yr={};function wi(a,h){this.a=h===st?a:""}function Tr(a){return a instanceof wi&&a.constructor===wi?a.a:(at("expected object of type SafeUrl, got '"+a+"' of type "+Te(a)),"type_error:SafeUrl")}wi.prototype.ta=!0,wi.prototype.sa=function(){return this.a.toString()},wi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ei=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,$r=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,vo=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function X6(a){if(a instanceof wi)return a;if(a="object"==typeof a&&a.ta?a.sa():String(a),vo.test(a))a=new wi(a,st);else{var h=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match($r);a=h&&Ei.test(h[1])?new wi(a,st):null}return a}function Ai(a){return a instanceof wi?a:(a="object"==typeof a&&a.ta?a.sa():String(a),vo.test(a)||(a="about:invalid#zClosurez"),new wi(a,st))}var st={},tn=new wi("about:invalid#zClosurez",st);function mn(a,h,b){this.a=b===Ka?a:""}mn.prototype.ta=!0,mn.prototype.sa=function(){return this.a.toString()},mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ka={};function Os(a,h,b,T){return a=a instanceof wi?a:Ai(a),h=h||F,b=b instanceof ce?_e(b):b||"",h.open(Tr(a),b,T,void 0)}function or(a,h){for(var b=a.split("%s"),T="",S=Array.prototype.slice.call(arguments,1);S.length&&1<b.length;)T+=b.shift()+S.shift();return T+b.join("%s")}function Ya(a){return Pt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(q1,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(ji,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(hr,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Vc,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Bn,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(lt,"&#0;"))),a}function da(a){return da[" "](a),a}da[" "]=ue;var jt,a,Z1=dr("Opera"),Or=dr("Trident")||dr("MSIE"),Fc=dr("Edge"),$2=Fc||Or,ci=dr("Gecko")&&!(Sn(Er.toLowerCase(),"webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),pa=Sn(Er.toLowerCase(),"webkit")&&!dr("Edge");function Qa(){var a=F.document;return a?a.documentMode:void 0}e:{var pt="",Wt=(a=Er,ci?/rv:([^\);]+)(\)|;)/.exec(a):Fc?/Edge\/([\d\.]+)/.exec(a):Or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):pa?/WebKit\/(\S+)/.exec(a):Z1?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Wt&&(pt=Wt?Wt[1]:""),Or){var Rs=Qa();if(null!=Rs&&Rs>parseFloat(pt)){jt=String(Rs);break e}}jt=pt}var Jt={};function W2(a){return function(a,h){var b=Jt;return Object.prototype.hasOwnProperty.call(b,a)?b[a]:b[a]=h()}(a,function(){for(var h=0,b=ks(String(jt)).split("."),T=ks(String(a)).split("."),S=Math.max(b.length,T.length),z=0;0==h&&z<S;z++){var U=b[z]||"",Y=T[z]||"";do{if(U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],Y=/(\d*)(\D*)(.*)/.exec(Y)||["","","",""],0==U[0].length&&0==Y[0].length)break;h=mo(0==U[1].length?0:parseInt(U[1],10),0==Y[1].length?0:parseInt(Y[1],10))||mo(0==U[2].length,0==Y[2].length)||mo(U[2],Y[2]),U=U[3],Y=Y[3]}while(0==h)}return 0<=h})}var Wr=F.document&&Or&&(Qa()||parseInt(jt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var nn=!Or||9<=Number(Wr);function qt(a){var h=document;return"string"==typeof a?h.getElementById(a):a}function er(a,h){Tn(h,function(b,T){b&&"object"==typeof b&&b.ta&&(b=b.sa()),"style"==T?a.style.cssText=b:"class"==T?a.className=b:"for"==T?a.htmlFor=b:yo.hasOwnProperty(T)?a.setAttribute(yo[T],b):0==T.lastIndexOf("aria-",0)||0==T.lastIndexOf("data-",0)?a.setAttribute(T,b):a[T]=b})}var _o,nl,yo={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yn(a,h,b){function T(Y){Y&&h.appendChild("string"==typeof Y?a.createTextNode(Y):Y)}for(var S=2;S<b.length;S++){var z=b[S];if(!Ne(z)||Me(z)&&0<z.nodeType)T(z);else{e:{if(z&&"number"==typeof z.length){if(Me(z)){var U="function"==typeof z.item||"string"==typeof z.item;break e}if(De(z)){U="function"==typeof z.item;break e}}U=!1}kn(U?An(z):z,T)}}}function G1(a,h){return h=String(h),"application/xhtml+xml"===a.contentType&&(h=h.toLowerCase()),a.createElement(h)}function ss(a){F.setTimeout(function(){throw a},0)}function Ps(a,h){nl||function(){if(F.Promise&&F.Promise.resolve){var a=F.Promise.resolve(void 0);nl=function(){a.then(e3)}}else nl=function(){var h=e3;!De(F.setImmediate)||F.Window&&F.Window.prototype&&!dr("Edge")&&F.Window.prototype.setImmediate==F.setImmediate?(_o||(_o=function(){var a=F.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dr("Presto")&&(a=function(){var S=G1(document,"IFRAME");S.style.display="none",document.documentElement.appendChild(S);var z=S.contentWindow;(S=z.document).open(),S.close();var U="callImmediate"+Math.random(),Y="file:"==z.location.protocol?"*":z.location.protocol+"//"+z.location.host;S=ot(function(ke){("*"==Y||ke.origin==Y)&&ke.data==U&&this.port1.onmessage()},this),z.addEventListener("message",S,!1),this.port1={},this.port2={postMessage:function(){z.postMessage(U,Y)}}}),void 0!==a&&!dr("Trident")&&!dr("MSIE")){var h=new a,b={},T=b;return h.port1.onmessage=function(){if(void 0!==b.next){var S=(b=b.next).Hb;b.Hb=null,S()}},function(S){T.next={Hb:S},T=T.next,h.port2.postMessage(0)}}return function(S){F.setTimeout(S,0)}}()),_o(h)):F.setImmediate(h)}}(),j4||(nl(),j4=!0),Eh.add(a,h)}var j4=!1,Eh=new rn;function e3(){for(var a;a=Xn();){try{a.a.call(a.b)}catch(h){ss(h)}En(Lr,a)}j4=!1}function ln(a,h){if(this.a=K2,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=ue)try{var b=this;a.call(h,function(T){Ti(b,zs,T)},function(T){if(!(T instanceof W1))try{throw T instanceof Error?T:Error("Promise rejected.")}catch(S){}Ti(b,ma,T)})}catch(T){Ti(this,ma,T)}}var K2=0,zs=2,ma=3;function $1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var fn=new Ot(function(){return new $1},function(a){a.reset()});function Uc(a,h,b){var T=fn.get();return T.g=a,T.b=h,T.f=b,T}function Mt(a){if(a instanceof ln)return a;var h=new ln(ue);return Ti(h,zs,a),h}function tr(a){return new ln(function(h,b){b(a)})}function as(a,h,b){il(a,h,b,null)||Ps(Gt(h,a))}function Zi(a){return new ln(function(h){var b=a.length,T=[];if(b)for(var S=function(Y,ke,qe){b--,T[Y]=ke?{Qb:!0,value:qe}:{Qb:!1,reason:qe},0==b&&h(T)},z=0;z<a.length;z++)as(a[z],Gt(S,z,!0),Gt(S,z,!1));else h(T)})}function Ah(a,h){if(a.a==K2)if(a.c){var b=a.c;if(b.b){for(var T=0,S=null,z=null,U=b.b;U&&(U.c||(T++,U.a==a&&(S=U),!(S&&1<T)));U=U.next)S||(z=U);S&&(b.a==K2&&1==T?Ah(b,h):(z?((T=z).next==b.f&&(b.f=T),T.next=T.next.next):G4(b),$4(b,S,ma,h)))}a.c=null}else Ti(a,ma,h)}function zo(a,h){a.b||a.a!=zs&&a.a!=ma||jc(a),a.f?a.f.next=h:a.b=h,a.f=h}function q4(a,h,b,T){var S=Uc(null,null,null);return S.a=new ln(function(z,U){S.g=h?function(Y){try{var ke=h.call(T,Y);z(ke)}catch(qe){U(qe)}}:z,S.b=b?function(Y){try{var ke=b.call(T,Y);void 0===ke&&Y instanceof W1?U(Y):z(ke)}catch(qe){U(qe)}}:U}),S.a.c=a,zo(a,S),S.a}function Ti(a,h,b){a.a==K2&&(a===b&&(h=ma,b=new TypeError("Promise cannot resolve to itself")),a.a=1,il(b,a.$c,a.ad,a)||(a.i=b,a.a=h,a.c=null,jc(a),h!=ma||b instanceof W1||function(a,h){a.g=!0,Ps(function(){a.g&&ol.call(null,h)})}(a,b)))}function il(a,h,b,T){if(a instanceof ln)return zo(a,Uc(h||ue,b||null,T)),!0;if(_t(a))return a.then(h,b,T),!0;if(Me(a))try{var S=a.then;if(De(S))return function(a,h,b,T,S){function z(ke){Y||(Y=!0,T.call(S,ke))}var Y=!1;try{h.call(a,function(ke){Y||(Y=!0,b.call(S,ke))},z)}catch(ke){z(ke)}}(a,S,h,b,T),!0}catch(z){return b.call(T,z),!0}return!1}function jc(a){a.h||(a.h=!0,Ps(a.gc,a))}function G4(a){var h=null;return a.b&&(a.b=(h=a.b).next,h.next=null),a.b||(a.f=null),h}function $4(a,h,b,T){if(b==ma&&h.b&&!h.c)for(;a&&a.g;a=a.c)a.g=!1;if(h.a)h.a.c=null,Xa(h,b,T);else try{h.c?h.g.call(h.f):Xa(h,b,T)}catch(S){ol.call(null,S)}En(fn,h)}function Xa(a,h,b){h==zs?a.g.call(a.f,b):a.b&&a.b.call(a.f,b)}ln.prototype.then=function(a,h,b){return q4(this,De(a)?a:null,De(h)?h:null,b)},ln.prototype.$goog_Thenable=!0,(B=ln.prototype).oa=function(a,h){return(a=Uc(a,a,h)).c=!0,zo(this,a),this},B.o=function(a,h){return q4(this,null,a,h)},B.cancel=function(a){if(this.a==K2){var h=new W1(a);Ps(function(){Ah(this,h)},this)}},B.$c=function(a){this.a=K2,Ti(this,zs,a)},B.ad=function(a){this.a=K2,Ti(this,ma,a)},B.gc=function(){for(var a;a=G4(this);)$4(this,a,this.a,this.i);this.h=!1};var ol=ss;function W1(a){mt.call(this,a)}function W4(){0!=bo&&(On[Le(this)]=this),this.ya=this.ya,this.pa=this.pa}de(W1,mt),W1.prototype.name="cancel";var bo=0,On={};function K4(a){if(!a.ya&&(a.ya=!0,a.Da(),0!=bo)){var h=Le(a);if(0!=bo&&a.pa&&0<a.pa.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete On[h]}}W4.prototype.ya=!1,W4.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var sl=Object.freeze||function(a){return a},qc=!Or||9<=Number(Wr),al=Or&&!W2("9"),Zc=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{F.addEventListener("test",ue,h),F.removeEventListener("test",ue,h)}catch(b){}return a}();function on(a,h){this.type=a,this.b=this.target=h,this.defaultPrevented=!1}function Vo(a,h){if(on.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var b=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=h,h=a.relatedTarget){if(ci){e:{try{da(h.nodeName);var S=!0;break e}catch(z){}S=!1}S||(h=null)}}else"mouseover"==b?h=a.fromElement:"mouseout"==b&&(h=a.toElement);this.relatedTarget=h,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Lt[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}on.prototype.preventDefault=function(){this.defaultPrevented=!0},de(Vo,on);var Lt=sl({2:"touch",3:"pen",4:"mouse"});Vo.prototype.preventDefault=function(){Vo.bb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,al)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(h){}},Vo.prototype.g=function(){return this.a};var Gc="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Th(a,h,b,T,S){this.listener=a,this.proxy=null,this.src=h,this.type=b,this.capture=!!T,this.Wa=S,this.key=++zn,this.wa=this.Qa=!1}function jn(a){a.wa=!0,a.listener=null,a.proxy=null,a.src=null,a.Wa=null}function ga(a){this.src=a,this.a={},this.b=0}function Gi(a,h){var b=h.type;b in a.a&&ct(a.a[b],h)&&(jn(h),0==a.a[b].length&&(delete a.a[b],a.b--))}function K1(a,h,b,T){for(var S=0;S<a.length;++S){var z=a[S];if(!z.wa&&z.listener==h&&z.capture==!!b&&z.Wa==T)return S}return-1}ga.prototype.add=function(a,h,b,T,S){var z=a.toString();(a=this.a[z])||(a=this.a[z]=[],this.b++);var U=K1(a,h,T,S);return-1<U?(h=a[U],b||(h.Qa=!1)):((h=new Th(h,this.src,z,!!T,S)).Qa=b,a.push(h)),h};var Vs="closure_lm_"+(1e6*Math.random()|0),Fs={};function Co(a,h,b,T,S){if(T&&T.once)Hs(a,h,b,T,S);else if(Array.isArray(h))for(var z=0;z<h.length;z++)Co(a,h[z],b,T,S);else b=cl(b),a&&a[Gc]?Ge(a,h,b,Me(T)?!!T.capture:!!T,S):Y4(a,h,b,!1,T,S)}function Y4(a,h,b,T,S,z){if(!h)throw Error("Invalid event type");var U=Me(S)?!!S.capture:!!S,Y=Wc(a);if(Y||(a[Vs]=Y=new ga(a)),!(b=Y.add(h,b,T,U,z)).proxy)if(T=function(){var a=Q4,h=qc?function(b){return a.call(h.src,h.listener,b)}:function(b){if(!(b=a.call(h.src,h.listener,b)))return b};return h}(),b.proxy=T,T.src=a,T.listener=b,a.addEventListener)Zc||(S=U),void 0===S&&(S=!1),a.addEventListener(h.toString(),T,S);else if(a.attachEvent)a.attachEvent(Dt(h.toString()),T);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(T)}}function Hs(a,h,b,T,S){if(Array.isArray(h))for(var z=0;z<h.length;z++)Hs(a,h[z],b,T,S);else b=cl(b),a&&a[Gc]?sn(a,h,b,Me(T)?!!T.capture:!!T,S):Y4(a,h,b,!0,T,S)}function Ii(a,h,b,T,S){if(Array.isArray(h))for(var z=0;z<h.length;z++)Ii(a,h[z],b,T,S);else T=Me(T)?!!T.capture:!!T,b=cl(b),a&&a[Gc]?(a=a.v,(h=String(h).toString())in a.a&&-1<(b=K1(z=a.a[h],b,T,S))&&(jn(z[b]),Array.prototype.splice.call(z,b,1),0==z.length&&(delete a.a[h],a.b--))):a&&(a=Wc(a))&&(h=a.a[h.toString()],a=-1,h&&(a=K1(h,b,T,S)),(b=-1<a?h[a]:null)&&va(b))}function va(a){if("number"!=typeof a&&a&&!a.wa){var h=a.src;if(h&&h[Gc])Gi(h.v,a);else{var b=a.type,T=a.proxy;h.removeEventListener?h.removeEventListener(b,T,a.capture):h.detachEvent?h.detachEvent(Dt(b),T):h.addListener&&h.removeListener&&h.removeListener(T),(b=Wc(h))?(Gi(b,a),0==b.b&&(b.src=null,h[Vs]=null)):jn(a)}}}function Dt(a){return a in Fs?Fs[a]:Fs[a]="on"+a}function Y2(a,h,b,T){var S=!0;if((a=Wc(a))&&(h=a.a[h.toString()]))for(h=h.concat(),a=0;a<h.length;a++){var z=h[a];z&&z.capture==b&&!z.wa&&(z=n3(z,T),S=S&&!1!==z)}return S}function n3(a,h){var b=a.listener,T=a.Wa||a.src;return a.Qa&&va(a),b.call(T,h)}function Q4(a,h){if(a.wa)return!0;if(!qc){if(!h)e:{h=["window","event"];for(var b=F,T=0;T<h.length;T++)if(null==(b=b[h[T]])){h=null;break e}h=b}if(h=new Vo(T=h,this),b=!0,!(0>T.keyCode||null!=T.returnValue)){e:{var S=!1;if(0==T.keyCode)try{T.keyCode=-1;break e}catch(U){S=!0}(S||null==T.returnValue)&&(T.returnValue=!0)}for(T=[],S=h.b;S;S=S.parentNode)T.push(S);for(a=a.type,S=T.length-1;0<=S;S--){h.b=T[S];var z=Y2(T[S],a,!0,h);b=b&&z}for(S=0;S<T.length;S++)h.b=T[S],z=Y2(T[S],a,!1,h),b=b&&z}return b}return n3(a,new Vo(h,this))}function Wc(a){return(a=a[Vs])instanceof ga?a:null}var J4="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(a){return De(a)?a:(a[J4]||(a[J4]=function(h){return a.handleEvent(h)}),a[J4])}function Ir(){W4.call(this),this.v=new ga(this),this.bc=this,this.hb=null}function Ge(a,h,b,T,S){a.v.add(String(h),b,!1,T,S)}function sn(a,h,b,T,S){a.v.add(String(h),b,!0,T,S)}function e1(a,h,b,T){if(!(h=a.v.a[String(h)]))return!0;h=h.concat();for(var S=!0,z=0;z<h.length;++z){var U=h[z];if(U&&!U.wa&&U.capture==b){var Y=U.listener,ke=U.Wa||U.src;U.Qa&&Gi(a.v,U),S=!1!==Y.call(ke,T)&&S}}return S&&!T.defaultPrevented}function Qn(a,h,b){if(De(a))b&&(a=ot(a,b));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=ot(a.handleEvent,a)}return 2147483647<Number(h)?-1:F.setTimeout(a,h||0)}function Us(a){var h=null;return new ln(function(b,T){-1==(h=Qn(function(){b(void 0)},a))&&T(Error("Failed to schedule timer."))}).o(function(b){throw F.clearTimeout(h),b})}function t1(a){if(a.X&&"function"==typeof a.X)return a.X();if("string"==typeof a)return a.split("");if(Ne(a)){for(var h=[],b=a.length,T=0;T<b;T++)h.push(a[T]);return h}for(T in h=[],b=0,a)h[b++]=a[T];return h}function ui(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.X||"function"!=typeof a.X){if(Ne(a)||"string"==typeof a){var h=[];a=a.length;for(var b=0;b<a;b++)h.push(b);return h}for(var T in h=[],b=0,a)h[b++]=T;return h}}function Bs(a,h){this.b={},this.a=[],this.c=0;var b=arguments.length;if(1<b){if(b%2)throw Error("Uneven number of arguments");for(var T=0;T<b;T+=2)this.set(arguments[T],arguments[T+1])}else if(a)if(a instanceof Bs)for(b=a.Y(),T=0;T<b.length;T++)this.set(b[T],a.get(b[T]));else for(T in a)this.set(T,a[T])}function r3(a){if(a.c!=a.a.length){for(var h=0,b=0;h<a.a.length;){var T=a.a[h];Y1(a.b,T)&&(a.a[b++]=T),h++}a.a.length=b}if(a.c!=a.a.length){var S={};for(b=h=0;h<a.a.length;)Y1(S,T=a.a[h])||(a.a[b++]=T,S[T]=1),h++;a.a.length=b}}function Y1(a,h){return Object.prototype.hasOwnProperty.call(a,h)}de(Ir,W4),Ir.prototype[Gc]=!0,Ir.prototype.addEventListener=function(a,h,b,T){Co(this,a,h,b,T)},Ir.prototype.removeEventListener=function(a,h,b,T){Ii(this,a,h,b,T)},Ir.prototype.dispatchEvent=function(a){var h,b=this.hb;if(b)for(h=[];b;b=b.hb)h.push(b);b=this.bc;var T=a.type||a;if("string"==typeof a)a=new on(a,b);else if(a instanceof on)a.target=a.target||b;else{var S=a;W(a=new on(T,b),S)}if(S=!0,h)for(var z=h.length-1;0<=z;z--){var U=a.b=h[z];S=e1(U,T,!0,a)&&S}if(S=e1(U=a.b=b,T,!0,a)&&S,S=e1(U,T,!1,a)&&S,h)for(z=0;z<h.length;z++)S=e1(U=a.b=h[z],T,!1,a)&&S;return S},Ir.prototype.Da=function(){if(Ir.bb.Da.call(this),this.v){var b,a=this.v;for(b in a.a){for(var T=a.a[b],S=0;S<T.length;S++)jn(T[S]);delete a.a[b],a.b--}}this.hb=null},(B=Bs.prototype).X=function(){r3(this);for(var a=[],h=0;h<this.a.length;h++)a.push(this.b[this.a[h]]);return a},B.Y=function(){return r3(this),this.a.concat()},B.clear=function(){this.b={},this.c=this.a.length=0},B.get=function(a,h){return Y1(this.b,a)?this.b[a]:h},B.set=function(a,h){Y1(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=h},B.forEach=function(a,h){for(var b=this.Y(),T=0;T<b.length;T++){var S=b[T],z=this.get(S);a.call(h,z,S,this)}};var n1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vn(a,h){var b;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,a instanceof Vn?(this.i=void 0!==h?h:a.i,Kr(this,a.c),this.l=a.l,this.a=a.a,Yc(this,a.g),this.f=a.f,cs(this,s3(a.b)),this.h=a.h):a&&(b=String(a).match(n1))?(this.i=!!h,Kr(this,b[1]||"",!0),this.l=Jc(b[2]||""),this.a=Jc(b[3]||"",!0),Yc(this,b[4]),this.f=Jc(b[5]||"",!0),cs(this,b[6]||"",!0),this.h=Jc(b[7]||"")):(this.i=!!h,this.b=new js(null,this.i))}function Kr(a,h,b){a.c=b?Jc(h,!0):h,a.c&&(a.c=a.c.replace(/:$/,""))}function Yc(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.g=h}else a.g=null}function cs(a,h,b){h instanceof js?(a.b=h,function(a,h){h&&!a.f&&(Si(a),a.c=null,a.a.forEach(function(b,T){var S=T.toLowerCase();T!=S&&(qs(this,T),o3(this,S,b))},a)),a.f=h}(a.b,a.i)):(b||(h=Rr(h,X4)),a.b=new js(h,a.i))}function Cn(a,h,b){a.b.set(h,b)}function us(a,h){return a.b.get(h)}function xi(a){return a instanceof Vn?new Vn(a):new Vn(a,void 0)}function Qc(a,h,b,T){var S=new Vn(null,void 0);return a&&Kr(S,a),h&&(S.a=h),b&&Yc(S,b),T&&(S.f=T),S}function Jc(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Rr(a,h,b){return"string"==typeof a?(a=encodeURI(a).replace(h,Xc),b&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xc(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Vn.prototype.toString=function(){var a=[],h=this.c;h&&a.push(Rr(h,eu,!0),":");var b=this.a;return(b||"file"==h)&&(a.push("//"),(h=this.l)&&a.push(Rr(h,eu,!0),"@"),a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(b=this.g)&&a.push(":",String(b))),(b=this.f)&&(this.a&&"/"!=b.charAt(0)&&a.push("/"),a.push(Rr(b,"/"==b.charAt(0)?i3:Q1,!0))),(b=this.b.toString())&&a.push("?",b),(b=this.h)&&a.push("#",Rr(b,J1)),a.join("")},Vn.prototype.resolve=function(a){var h=new Vn(this),b=!!a.c;b?Kr(h,a.c):b=!!a.l,b?h.l=a.l:b=!!a.a,b?h.a=a.a:b=null!=a.g;var T=a.f;if(b)Yc(h,a.g);else if(b=!!a.f){if("/"!=T.charAt(0))if(this.a&&!this.f)T="/"+T;else{var S=h.f.lastIndexOf("/");-1!=S&&(T=h.f.substr(0,S+1)+T)}if(".."==(S=T)||"."==S)T="";else if(Sn(S,"./")||Sn(S,"/.")){T=0==S.lastIndexOf("/",0),S=S.split("/");for(var z=[],U=0;U<S.length;){var Y=S[U++];"."==Y?T&&U==S.length&&z.push(""):".."==Y?((1<z.length||1==z.length&&""!=z[0])&&z.pop(),T&&U==S.length&&z.push("")):(z.push(Y),T=!0)}T=z.join("/")}else T=S}return b?h.f=T:b=""!==a.b.toString(),b?cs(h,s3(a.b)):b=!!a.h,b&&(h.h=a.h),h};var eu=/[#\/\?@]/g,Q1=/[#\?:]/g,i3=/[#\?]/g,X4=/[#\?@]/g,J1=/#/g;function js(a,h){this.b=this.a=null,this.c=a||null,this.f=!!h}function Si(a){a.a||(a.a=new Bs,a.b=0,a.c&&function(a,h){if(a){a=a.split("&");for(var b=0;b<a.length;b++){var T=a[b].indexOf("="),S=null;if(0<=T){var z=a[b].substring(0,T);S=a[b].substring(T+1)}else z=a[b];h(z,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}(a.c,function(h,b){a.add(decodeURIComponent(h.replace(/\+/g," ")),b)}))}function e0(a){var h=ui(a);if(void 0===h)throw Error("Keys are undefined");var b=new js(null,void 0);a=t1(a);for(var T=0;T<h.length;T++){var S=h[T],z=a[T];Array.isArray(z)?o3(b,S,z):b.add(S,z)}return b}function qs(a,h){Si(a),h=nr(a,h),Y1(a.a.b,h)&&(a.c=null,a.b-=a.a.get(h).length,Y1((a=a.a).b,h)&&(delete a.b[h],a.c--,a.a.length>2*a.c&&r3(a)))}function ls(a,h){return Si(a),h=nr(a,h),Y1(a.a.b,h)}function o3(a,h,b){qs(a,h),0<b.length&&(a.c=null,a.a.set(nr(a,h),An(b)),a.b+=b.length)}function s3(a){var h=new js;return h.c=a.c,a.a&&(h.a=new Bs(a.a),h.b=a.b),h}function nr(a,h){return h=String(h),a.f&&(h=h.toLowerCase()),h}function sr(a){var h=[];return r1(new t0,a,h),h.join("")}function t0(){}function r1(a,h,b){if(null==h)b.push("null");else{if("object"==typeof h){if(Array.isArray(h)){var T=h;h=T.length,b.push("[");for(var S="",z=0;z<h;z++)b.push(S),r1(a,T[z],b),S=",";return void b.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(T in b.push("{"),S="",h)Object.prototype.hasOwnProperty.call(h,T)&&"function"!=typeof(z=h[T])&&(b.push(S),$i(T,b),b.push(":"),r1(a,z,b),S=",");return void b.push("}")}h=h.valueOf()}switch(typeof h){case"string":$i(h,b);break;case"number":b.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":b.push(String(h));break;case"function":b.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}(B=js.prototype).add=function(a,h){Si(this),this.c=null,a=nr(this,a);var b=this.a.get(a);return b||this.a.set(a,b=[]),b.push(h),this.b+=1,this},B.clear=function(){this.a=this.c=null,this.b=0},B.forEach=function(a,h){Si(this),this.a.forEach(function(b,T){kn(b,function(S){a.call(h,S,T,this)},this)},this)},B.Y=function(){Si(this);for(var a=this.a.X(),h=this.a.Y(),b=[],T=0;T<h.length;T++)for(var S=a[T],z=0;z<S.length;z++)b.push(h[T]);return b},B.X=function(a){Si(this);var h=[];if("string"==typeof a)ls(this,a)&&(h=Un(h,this.a.get(nr(this,a))));else{a=this.a.X();for(var b=0;b<a.length;b++)h=Un(h,a[b])}return h},B.set=function(a,h){return Si(this),this.c=null,ls(this,a=nr(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[h]),this.b+=1,this},B.get=function(a,h){return a&&0<(a=this.X(a)).length?String(a[0]):h},B.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],h=this.a.Y(),b=0;b<h.length;b++){var T=h[b],S=encodeURIComponent(String(T));T=this.X(T);for(var z=0;z<T.length;z++){var U=S;""!==T[z]&&(U+="="+encodeURIComponent(String(T[z]))),a.push(U)}}return this.c=a.join("&")};var ul={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Mh=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $i(a,h){h.push('"',a.replace(Mh,function(b){var T=ul[b];return T||(T="\\u"+(65536|b.charCodeAt(0)).toString(16).substr(1),ul[b]=T),T}),'"')}function Wi(){var a=fi();return Or&&!!Wr&&11==Wr||/Edge\/\d+/.test(a)}function Fo(){return F.window&&F.window.location.href||self&&self.location&&self.location.href||""}function _a(a,h){h=h||F.window;var b="about:blank";a&&(b=Tr(X6(a)||tn)),h.location.href=b}function Q2(a,h){var T,b=[];for(T in a)T in h?typeof a[T]!=typeof h[T]?b.push(T):"object"==typeof a[T]&&null!=a[T]&&null!=h[T]?0<Q2(a[T],h[T]).length&&b.push(T):a[T]!==h[T]&&b.push(T):b.push(T);for(T in h)T in a||b.push(T);return b}function ba(a){return!!((a=(a||fi()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function i1(a){a=a||F.window;try{a.close()}catch(h){}}function li(a,h,b){var T=Math.floor(1e9*Math.random()).toString();h=h||500,b=b||600;var S=(window.screen.availHeight-b)/2,z=(window.screen.availWidth-h)/2;for(U in h={width:h,height:b,top:0<S?S:0,left:0<z?z:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},b=fi().toLowerCase(),T&&(h.target=T,Sn(b,"crios/")&&(h.target="_blank")),X1(fi())==wo&&(a=a||"http://localhost",h.scrollbars=!0),b=a||"",(a=h)||(a={}),T=window,h=b instanceof wi?b:X6(void 0!==b.href?b.href:String(b))||tn,b=a.target||b.target,S=[],a)switch(U){case"width":case"height":case"top":case"left":S.push(U+"="+a[U]);break;case"target":case"noopener":case"noreferrer":break;default:S.push(U+"="+(a[U]?1:0))}var U=S.join(",");if((dr("iPhone")&&!dr("iPod")&&!dr("iPad")||dr("iPad")||dr("iPod"))&&T.navigator&&T.navigator.standalone&&b&&"_self"!=b?(Q(U=G1(document,"A"),"HTMLAnchorElement"),h=h instanceof wi?h:Ai(h),U.href=Tr(h),U.setAttribute("target",b),a.noreferrer&&U.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,T,1),U.dispatchEvent(a),U={}):a.noreferrer?(U=Os("",T,b,U),a=Tr(h),U&&($2&&Sn(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),U.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ya(a)+'">',a=new mn(a=(T=$t())?T.createHTML(a):a,null,Ka),T=U.document)&&(T.write(function(a){return a instanceof mn&&a.constructor===mn?a.a:(at("expected object of type SafeHtml, got '"+a+"' of type "+Te(a)),"type_error:SafeHtml")}(a)),T.close())):(U=Os(h,T,b,U))&&a.noopener&&(U.opener=null),U)try{U.focus()}catch(Y){}return U}var nu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a3=/^[^@]+@[^@]+$/;function hs(){var a=null;return new ln(function(h){"complete"==F.document.readyState?h():(a=function(){h()},Hs(window,"load",a))}).o(function(h){throw Ii(window,"load",a),h})}function r0(a){return a=a||fi(),!("file:"!==s1()&&"ionic:"!==s1()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function c3(){var a=F.window;try{return!(!a||a==a.top)}catch(h){return!1}}function Zs(){return void 0!==F.WorkerGlobalScope&&"function"==typeof F.importScripts}function o1(){return u.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":u.default.INTERNAL.hasOwnProperty("node")?"Node":Zs()?"Worker":"Browser"}function ll(){var a=o1();return"ReactNative"===a||"Node"===a}var wo="Firefox";function X1(a){var h=a.toLowerCase();return Sn(h,"opera/")||Sn(h,"opr/")||Sn(h,"opios/")?"Opera":Sn(h,"iemobile")?"IEMobile":Sn(h,"msie")||Sn(h,"trident/")?"IE":Sn(h,"edge/")?"Edge":Sn(h,"firefox/")?wo:Sn(h,"silk/")?"Silk":Sn(h,"blackberry")?"Blackberry":Sn(h,"webos")?"Webos":!Sn(h,"safari/")||Sn(h,"chrome/")||Sn(h,"crios/")||Sn(h,"android")?!Sn(h,"chrome/")&&!Sn(h,"crios/")||Sn(h,"edge/")?Sn(h,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":"Chrome":"Safari"}var ru={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ho(a,h){h=h||[];var S,b=[],T={};for(S in ru)T[ru[S]]=!0;for(S=0;S<h.length;S++)void 0!==T[h[S]]&&(delete T[h[S]],b.push(h[S]));return b.sort(),(h=b).length||(h=["FirebaseCore-web"]),"Browser"===(b=o1())?b=X1(T=fi()):"Worker"===b&&(b=X1(T=fi())+"-"+b),b+"/JsCore/"+a+"/"+h.join(",")}function fi(){return F.navigator&&F.navigator.userAgent||""}function Rn(a,h){a=a.split("."),h=h||F;for(var b=0;b<a.length&&"object"==typeof h&&null!=h;b++)h=h[a[b]];return b!=a.length&&(h=void 0),h}function fl(){try{var a=F.localStorage,h=Ca();if(a)return a.setItem(h,"1"),a.removeItem(h),!Wi()||!!F.indexedDB}catch(b){return Zs()&&!!F.indexedDB}return!1}function Eo(){return(hl()||"chrome-extension:"===s1()||r0())&&!ll()&&fl()&&!Zs()}function hl(){return"http:"===s1()||"https:"===s1()}function s1(){return F.location&&F.location.protocol||null}function a1(a){return!(ba(a=a||fi())||X1(a)==wo)}function dl(a){return void 0===a?null:sr(a)}function o0(a){var b,h={};for(b in a)a.hasOwnProperty(b)&&null!=a[b]&&(h[b]=a[b]);return h}function ds(a){if(null!==a)return JSON.parse(a)}function Ca(a){return a||Math.floor(1e9*Math.random()).toString()}function Xt(a){return!("Safari"==X1(a=a||fi())||a.toLowerCase().match(/iphone|ipad|ipod/))}function e2(){var a=F.___jsl;if(a&&a.H)for(var h in a.H)if(a.H[h].r=a.H[h].r||[],a.H[h].L=a.H[h].L||[],a.H[h].r=a.H[h].L.concat(),a.CP)for(var b=0;b<a.CP.length;b++)a.CP[b]=null}function ar(a,h){if(a>h)throw Error("Short delay should be less than long delay!");this.a=a,this.c=h,a=fi(),h=o1(),this.b=ba(a)||"ReactNative"===h}function It(){var a=F.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Nt(a){try{var h=new Date(parseInt(a,10));if(!isNaN(h.getTime())&&!/[^0-9]/.test(a))return h.toUTCString()}catch(b){}return null}function s0(){return!(!Rn("fireauth.oauthhelper",F)&&!Rn("fireauth.iframe",F))}ar.prototype.get=function(){var a=F.navigator;return!a||"boolean"!=typeof a.onLine||!hl()&&"chrome-extension:"!==s1()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var u1,cr={};function c1(a){cr[a]||(cr[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var Di={};Object.defineProperty(Di,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Di,"abcd",{configurable:!0,enumerable:!0,value:2}),u1=2==Di.abcd}catch(a){u1=!1}function ft(a,h,b){u1?Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:b}):a[h]=b}function Pr(a,h){if(h)for(var b in h)h.hasOwnProperty(b)&&ft(a,b,h[b])}function Ni(a){var h={};return Pr(h,a),h}function iu(a){var h=a;if("object"==typeof a&&null!=a)for(var b in h="length"in a?[]:{},a)ft(h,b,iu(a[b]));return h}function wa(a){var h=a&&(a[$s]?"phone":null);if(!(h&&a&&a[ou]))throw new G("internal-error","Internal assert: invalid MultiFactorInfo object");ft(this,"uid",a[ou]),ft(this,"displayName",a[t2]||null);var b=null;a[Ea]&&(b=new Date(a[Ea]).toUTCString()),ft(this,"enrollmentTime",b),ft(this,"factorId",h)}function l1(a){try{var h=new su(a)}catch(b){h=null}return h}wa.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var t2="displayName",Ea="enrolledAt",ou="mfaEnrollmentId",$s="phoneInfo";function su(a){wa.call(this,a),ft(this,"phoneNumber",a[$s])}function Md(a){var h={},b=a[xt],T=a[l3],S=a[u0];if(a=l1(a[Ws]),!S||S!=ec&&S!=au&&!b||S==au&&!T||S==ml&&!a)throw Error("Invalid checkActionCode response!");S==au?(h[Ih]=b||null,h[f3]=b||null,h[l0]=T):(h[Ih]=T||null,h[f3]=T||null,h[l0]=b||null),h[Id]=a||null,ft(this,xh,S),ft(this,f1,iu(h))}de(su,wa),su.prototype.w=function(){var a=su.bb.w.call(this);return a.phoneNumber=this.phoneNumber,a};var ml="REVERT_SECOND_FACTOR_ADDITION",ec="EMAIL_SIGNIN",au="VERIFY_AND_CHANGE_EMAIL",xt="email",Ws="mfaInfo",l3="newEmail",u0="requestType",l0="email",Ih="fromEmail",Id="multiFactorInfo",f3="previousEmail",f1="data",xh="operation";function h3(a){var h=us(a=xi(a),ps)||null,b=us(a,Yr)||null,T=us(a,gl)||null;if(T=T&&h1[T]||null,!h||!b||!T)throw new G("argument-error",ps+", "+Yr+"and "+gl+" are required in a valid action code URL.");Pr(this,{apiKey:h,operation:T,code:b,continueUrl:us(a,f0)||null,languageCode:us(a,xr)||null,tenantId:us(a,cu)||null})}var ps="apiKey",Yr="oobCode",f0="continueUrl",xr="languageCode",gl="mode",cu="tenantId",h1={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ml,signIn:ec,verifyAndChangeEmail:au,verifyEmail:"VERIFY_EMAIL"};function tc(a){try{return new h3(a)}catch(h){return null}}function ki(a){var h=a[h0];if(void 0===h)throw new G("missing-continue-uri");if("string"!=typeof h||"string"==typeof h&&!h.length)throw new G("invalid-continue-uri");this.h=h,this.b=this.a=null,this.g=!1;var b=a[zr];if(b&&"object"==typeof b){h=b[Sh];var T=b[vl];if(b=b[d3],"string"==typeof h&&h.length){if(this.a=h,void 0!==T&&"boolean"!=typeof T)throw new G("argument-error",vl+" property must be a boolean when specified.");if(this.g=!!T,void 0!==b&&("string"!=typeof b||"string"==typeof b&&!b.length))throw new G("argument-error",d3+" property must be a non empty string when specified.");this.b=b||null}else{if(void 0!==h)throw new G("argument-error",Sh+" property must be a non empty string when specified.");if(void 0!==T||void 0!==b)throw new G("missing-android-pkg-name")}}else if(void 0!==b)throw new G("argument-error",zr+" property must be a non null object when specified.");if(this.f=null,(h=a[Ta])&&"object"==typeof h){if("string"==typeof(h=h[d0])&&h.length)this.f=h;else if(void 0!==h)throw new G("argument-error",d0+" property must be a non empty string when specified.")}else if(void 0!==h)throw new G("argument-error",Ta+" property must be a non null object when specified.");if(void 0!==(h=a[Aa])&&"boolean"!=typeof h)throw new G("argument-error",Aa+" property must be a boolean when specified.");if(this.c=!!h,void 0!==(a=a[Ks])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new G("argument-error",Ks+" property must be a non empty string when specified.");this.i=a||null}var zr="android",Ks="dynamicLinkDomain",Aa="handleCodeInApp",Ta="iOS",h0="url",vl="installApp",d3="minimumVersion",Sh="packageName",d0="bundleId";function Ki(a){var h={};for(var b in h.continueUrl=a.h,h.canHandleCodeInApp=a.c,(h.androidPackageName=a.a)&&(h.androidMinimumVersion=a.b,h.androidInstallApp=a.g),h.iOSBundleId=a.f,h.dynamicLinkDomain=a.i,h)null===h[b]&&delete h[b];return h}var Qi=null;function d1(a){var h=uu(a);if(!(h&&h.sub&&h.iss&&h.aud&&h.exp))throw Error("Invalid JWT");this.h=a,this.a=h.exp,this.i=h.sub,a=Date.now()/1e3,this.g=h.iat||(a>this.a?this.a:a),this.b=h.provider_id||h.firebase&&h.firebase.sign_in_provider||null,this.f=h.firebase&&h.firebase.tenant||null,this.c=!!h.is_anonymous||"anonymous"==this.b}function p1(a){try{return new d1(a)}catch(h){return null}}function uu(a){if(!a||3!=(a=a.split(".")).length)return null;for(var h=(4-(a=a[1]).length%4)%4,b=0;b<h;b++)a+=".";try{var T=function(a){var h=[];return function(a,h){function b(ke){for(;T<a.length;){var qe=a.charAt(T++),bt=Qi[qe];if(null!=bt)return bt;if(!/^[\s\xa0]*$/.test(qe))throw Error("Unknown base64 encoding at char: "+qe)}return ke}!function(){if(!Qi){Qi={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=["+/=","+/","-_=","-_.","-_"],b=0;5>b;b++)for(var T=a.concat(h[b].split("")),S=0;S<T.length;S++){var z=T[S];void 0===Qi[z]&&(Qi[z]=S)}}}();for(var T=0;;){var S=b(-1),z=b(0),U=b(64),Y=b(64);if(64===Y&&-1===S)break;h(S<<2|z>>4),64!=U&&(h(z<<4&240|U>>2),64!=Y&&h(U<<6&192|Y))}}(a,function(b){h.push(b)}),h}(a);for(a=[],b=h=0;h<T.length;){var S=T[h++];if(128>S)a[b++]=String.fromCharCode(S);else if(191<S&&224>S){var z=T[h++];a[b++]=String.fromCharCode((31&S)<<6|63&z)}else if(239<S&&365>S){z=T[h++];var U=T[h++],ke=((7&S)<<18|(63&z)<<12|(63&U)<<6|63&T[h++])-65536;a[b++]=String.fromCharCode(55296+(ke>>10)),a[b++]=String.fromCharCode(56320+(1023&ke))}else z=T[h++],U=T[h++],a[b++]=String.fromCharCode((15&S)<<12|(63&z)<<6|63&U)}return JSON.parse(a.join(""))}catch(qe){}return null}d1.prototype.T=function(){return this.f},d1.prototype.l=function(){return this.c},d1.prototype.toString=function(){return this.h};var lu="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_r=["client_id","response_type","scope","redirect_uri","state"],r2={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:_r},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:_r},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:_r},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:lu},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ys(a){for(var h in r2)if(r2[h].fa==a)return r2[h];return null}function fu(a){var h={};h["facebook.com"]=p0,h["google.com"]=m3,h["github.com"]=s2,h["twitter.com"]=hu;var b=a&&a[o2];try{if(b)return h[b]?new h[b](a):new hi(a);if(void 0!==a[p3])return new rc(a)}catch(T){}return null}var p3="idToken",o2="providerId";function rc(a){var h=a[o2];if(!h&&a[p3]){var b=p1(a[p3]);b&&b.b&&(h=b.b)}if(!h)throw Error("Invalid additional user info!");("anonymous"==h||"custom"==h)&&(h=null),b=!1,void 0!==a.isNewUser?b=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(b=!0),ft(this,"providerId",h),ft(this,"isNewUser",b)}function hi(a){rc.call(this,a),ft(this,"profile",iu((a=ds(a.rawUserInfo||"{}"))||{}))}function p0(a){if(hi.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function s2(a){if(hi.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ft(this,"username",this.profile&&this.profile.login||null)}function m3(a){if(hi.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function hu(a){if(hi.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ft(this,"username",a.screenName||null)}function g3(a){var h=xi(a),b=us(h,"link"),T=us(xi(b),"link");return h=us(h,"deep_link_id"),us(xi(h),"link")||h||T||b||a}function m1(a,h){if(!a&&!h)throw new G("internal-error","Internal assert: no raw session string available");if(a&&h)throw new G("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=h||null,this.type=this.a?Uo:Bo}de(hi,rc),de(p0,hi),de(s2,hi),de(m3,hi),de(hu,hi);var Uo="enroll",Bo="signin";function Qs(){}function Mn(a,h){return a.then(function(b){if(b[Li]){var T=p1(b[Li]);if(!T||h!=T.i)throw new G("user-mismatch");return b}throw new G("user-mismatch")}).o(function(b){throw b&&b.code&&b.code==Ue+"user-not-found"?new G("user-mismatch"):b})}function Js(a,h){if(!h)throw new G("internal-error","failed to construct a credential");this.a=h,ft(this,"providerId",a),ft(this,"signInMethod",a)}function m0(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function g1(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new Js(a.providerId,a.pendingToken)}catch(h){}return null}function di(a,h,b){if(this.a=null,h.idToken||h.accessToken)h.idToken&&ft(this,"idToken",h.idToken),h.accessToken&&ft(this,"accessToken",h.accessToken),h.nonce&&!h.pendingToken&&ft(this,"nonce",h.nonce),h.pendingToken&&(this.a=h.pendingToken);else{if(!h.oauthToken||!h.oauthTokenSecret)throw new G("internal-error","failed to construct a credential");ft(this,"accessToken",h.oauthToken),ft(this,"secret",h.oauthTokenSecret)}ft(this,"providerId",a),ft(this,"signInMethod",b)}function _l(a){var h={};return a.idToken&&(h.id_token=a.idToken),a.accessToken&&(h.access_token=a.accessToken),a.secret&&(h.oauth_token_secret=a.secret),h.providerId=a.providerId,a.nonce&&!a.a&&(h.nonce=a.nonce),h={postBody:e0(h).toString(),requestUri:"http://localhost"},a.a&&(delete h.postBody,h.pendingToken=a.a),h}function g0(a){if(a&&a.providerId&&a.signInMethod){var h={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new di(a.providerId,h,a.signInMethod)}catch(b){}}return null}function jo(a,h){this.Qc=h||[],Pr(this,{providerId:a,isOAuthProvider:!0}),this.Jb={},this.qb=(Ys(a)||{}).Ja||null,this.pb=null}function bl(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new G("argument-error",'SAML provider IDs must be prefixed with "saml."');jo.call(this,a,[])}function Sr(a){jo.call(this,a,_r),this.a=[]}function Vr(){Sr.call(this,"facebook.com")}function du(a){if(!a)throw new G("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=a;return Me(a)&&(h=a.accessToken),(new Vr).credential({accessToken:h})}function pi(){Sr.call(this,"github.com")}function pu(a){if(!a)throw new G("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=a;return Me(a)&&(h=a.accessToken),(new pi).credential({accessToken:h})}function Ma(){Sr.call(this,"google.com"),this.Ca("profile")}function Cl(a,h){var b=a;return Me(a)&&(b=a.idToken,h=a.accessToken),(new Ma).credential({idToken:b,accessToken:h})}function Dn(){jo.call(this,"twitter.com",lu)}function L(a,h){var b=a;if(Me(b)||(b={oauthToken:a,oauthTokenSecret:h}),!b.oauthToken||!b.oauthTokenSecret)throw new G("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new di("twitter.com",b,"twitter.com")}function ut(a,h,b){this.a=a,this.f=h,ft(this,"providerId","password"),ft(this,"signInMethod",b===Dr.EMAIL_LINK_SIGN_IN_METHOD?Dr.EMAIL_LINK_SIGN_IN_METHOD:Dr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ia(a){return a&&a.email&&a.password?new ut(a.email,a.password,a.signInMethod):null}function Dr(){Pr(this,{providerId:"password",isOAuthProvider:!1})}function xa(a,h){if(!(h=v0(h)))throw new G("argument-error","Invalid email link!");return new ut(a,h.code,Dr.EMAIL_LINK_SIGN_IN_METHOD)}function v0(a){return(a=tc(a=g3(a)))&&a.operation===ec?a:null}function ms(a){if(!(a.fb&&a.eb||a.La&&a.ea))throw new G("internal-error");this.a=a,ft(this,"providerId","phone"),this.fa="phone",ft(this,"signInMethod","phone")}function Jn(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var h={};return kn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(b){a[b]&&(h[b]=a[b])}),new ms(h)}return null}function a2(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:{sessionInfo:a.a.fb,code:a.a.eb}}function br(a){try{this.a=a||u.default.auth()}catch(h){throw new G("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Pr(this,{providerId:"phone",isOAuthProvider:!1})}function y0(a,h){if(!a)throw new G("missing-verification-id");if(!h)throw new G("missing-verification-code");return new ms({fb:a,eb:h})}function _0(a){if(a.temporaryProof&&a.phoneNumber)return new ms({La:a.temporaryProof,ea:a.phoneNumber});var h=a&&a.providerId;if(!h||"password"===h)return null;var b=a&&a.oauthAccessToken,T=a&&a.oauthTokenSecret,S=a&&a.nonce,z=a&&a.oauthIdToken,U=a&&a.pendingToken;try{switch(h){case"google.com":return Cl(z,b);case"facebook.com":return du(b);case"github.com":return pu(b);case"twitter.com":return L(b,T);default:return b||T||z||U?U?0==h.indexOf("saml.")?new Js(h,U):new di(h,{pendingToken:U,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},h):new Sr(h).credential({idToken:z,accessToken:b,rawNonce:S}):null}}catch(Y){return null}}function b0(a){if(!a.isOAuthProvider)throw new G("invalid-oauth-provider")}function Qr(a,h,b,T,S,z,U){if(this.c=a,this.b=h||null,this.g=b||null,this.f=T||null,this.i=z||null,this.h=U||null,this.a=S||null,!this.g&&!this.a)throw new G("invalid-auth-event");if(this.g&&this.a)throw new G("invalid-auth-event");if(this.g&&!this.f)throw new G("invalid-auth-event")}function ic(a){return(a=a||{}).type?new Qr(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&we(a.error),a.postBody,a.tenantId):null}function Jr(){this.b=null,this.a=[]}m1.prototype.Ha=function(){return Mt(this.a?this.a:this.b)},m1.prototype.w=function(){return this.type==Uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Qs.prototype.ka=function(){},Qs.prototype.b=function(){},Qs.prototype.c=function(){},Qs.prototype.w=function(){},Js.prototype.ka=function(a){return m2(a,m0(this))},Js.prototype.b=function(a,h){var b=m0(this);return b.idToken=h,ri(a,b)},Js.prototype.c=function(a,h){return Mn(Cu(a,m0(this)),h)},Js.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},di.prototype.ka=function(a){return m2(a,_l(this))},di.prototype.b=function(a,h){var b=_l(this);return b.idToken=h,ri(a,b)},di.prototype.c=function(a,h){return Mn(Cu(a,_l(this)),h)},di.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},jo.prototype.Ka=function(a){return this.Jb=re(a),this},de(bl,jo),de(Sr,jo),Sr.prototype.Ca=function(a){return Ln(this.a,a)||this.a.push(a),this},Sr.prototype.Rb=function(){return An(this.a)},Sr.prototype.credential=function(a,h){var b;if(!(b=Me(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:h||null}).idToken&&!b.accessToken)throw new G("argument-error","credential failed: must provide the ID token and/or the access token.");return new di(this.providerId,b,this.providerId)},de(Vr,Sr),ft(Vr,"PROVIDER_ID","facebook.com"),ft(Vr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),de(pi,Sr),ft(pi,"PROVIDER_ID","github.com"),ft(pi,"GITHUB_SIGN_IN_METHOD","github.com"),de(Ma,Sr),ft(Ma,"PROVIDER_ID","google.com"),ft(Ma,"GOOGLE_SIGN_IN_METHOD","google.com"),de(Dn,jo),ft(Dn,"PROVIDER_ID","twitter.com"),ft(Dn,"TWITTER_SIGN_IN_METHOD","twitter.com"),ut.prototype.ka=function(a){return this.signInMethod==Dr.EMAIL_LINK_SIGN_IN_METHOD?an(a,Hh,{email:this.a,oobCode:this.f}):an(a,L3,{email:this.a,password:this.f})},ut.prototype.b=function(a,h){return this.signInMethod==Dr.EMAIL_LINK_SIGN_IN_METHOD?an(a,g2,{idToken:h,email:this.a,oobCode:this.f}):an(a,pc,{idToken:h,email:this.a,password:this.f})},ut.prototype.c=function(a,h){return Mn(this.ka(a),h)},ut.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Pr(Dr,{PROVIDER_ID:"password"}),Pr(Dr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Pr(Dr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ms.prototype.ka=function(a){return a.gb(a2(this))},ms.prototype.b=function(a,h){var b=a2(this);return b.idToken=h,an(a,Uh,b)},ms.prototype.c=function(a,h){var b=a2(this);return b.operation="REAUTH",Mn(a=an(a,O3,b),h)},ms.prototype.w=function(){var a={providerId:"phone"};return this.a.fb&&(a.verificationId=this.a.fb),this.a.eb&&(a.verificationCode=this.a.eb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a},br.prototype.gb=function(a,h){var b=this.a.a;return Mt(h.verify()).then(function(T){if("string"!=typeof T)throw new G("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(h.type){case"recaptcha":var S=Me(a)?a.session:null,z=Me(a)?a.phoneNumber:a;return(S&&S.type==Uo?S.Ha().then(function(Y){return function(a,h){return an(a,Rl,h).then(function(b){return b.phoneSessionInfo.sessionInfo})}(b,{idToken:Y,phoneEnrollmentInfo:{phoneNumber:z,recaptchaToken:T}})}):S&&S.type==Bo?S.Ha().then(function(Y){return function(a,h){return an(a,mc,h).then(function(b){return b.phoneResponseInfo.sessionInfo})}(b,{mfaPendingCredential:Y,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:T}})}):function(a,h){return an(a,E1,h)}(b,{phoneNumber:z,recaptchaToken:T})).then(function(Y){return"function"==typeof h.reset&&h.reset(),Y},function(Y){throw"function"==typeof h.reset&&h.reset(),Y});default:throw new G("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Pr(br,{PROVIDER_ID:"phone"}),Pr(br,{PHONE_SIGN_IN_METHOD:"phone"}),Qr.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},Qr.prototype.T=function(){return this.h},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ao,mu=null;function C0(a){var h="unauthorized-domain",b=void 0,T=xi(a);a=T.a,"chrome-extension"==(T=T.c)?b=or("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==T||"https"==T?b=or("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):h="operation-not-supported-in-this-environment",G.call(this,h,b)}function v1(a,h,b){G.call(this,a,b),(a=h||{}).Kb&&ft(this,"email",a.Kb),a.ea&&ft(this,"phoneNumber",a.ea),a.credential&&ft(this,"credential",a.credential),a.$b&&ft(this,"tenantId",a.$b)}function c2(a){if(a.code){var h=a.code||"";0==h.indexOf(Ue)&&(h=h.substring(Ue.length));var b={credential:_0(a),$b:a.tenantId};if(a.email)b.Kb=a.email;else if(a.phoneNumber)b.ea=a.phoneNumber;else if(!b.credential)return new G(h,a.message||void 0);return new v1(h,b,a.message)}return null}function oc(){}function qo(){}function w0(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var h=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<h.length;b++){var T=h[b];try{return new ActiveXObject(T),a.f=T}catch(S){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function Sa(){}function gu(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=ot(this.qc,this),this.a.onerror=ot(this.Tb,this),this.a.onprogress=ot(this.rc,this),this.a.ontimeout=ot(this.vc,this)}function vu(a,h){a.readyState=h,a.onreadystatechange&&a.onreadystatechange()}function Xr(a,h,b){this.reset(a,h,b,void 0,void 0)}function vs(a){this.f=a,this.b=this.c=this.a=null}function u2(a,h){this.name=a,this.value=h}de(C0,G),de(v1,G),v1.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var h=this.credential&&this.credential.w();return h&&W(a,h),a},v1.prototype.toJSON=function(){return this.w()},oc.prototype.c=null,de(qo,oc),qo.prototype.a=function(){var a=w0(this);return a?new ActiveXObject(a):new XMLHttpRequest},qo.prototype.b=function(){var a={};return w0(this)&&(a[0]=!0,a[1]=!0),a},Ao=new qo,de(Sa,oc),Sa.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new gu;throw Error("Unsupported browser")},Sa.prototype.b=function(){return{}},(B=gu.prototype).open=function(a,h,b){if(null!=b&&!b)throw Error("Only async requests are supported.");this.a.open(a,h)},B.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},B.abort=function(){this.a.abort()},B.setRequestHeader=function(){},B.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},B.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,vu(this,4)},B.Tb=function(){this.status=500,this.response=this.responseText="",vu(this,4)},B.vc=function(){this.Tb()},B.rc=function(){this.status=200,vu(this,1)},B.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xr.prototype.a=null,Xr.prototype.reset=function(a,h,b,T,S){T||yn(),delete this.a},u2.prototype.toString=function(){return this.name};var v3=new u2("SEVERE",1e3),El=new u2("WARNING",900),E0=new u2("CONFIG",700),Nh=new u2("FINE",500);function y3(a){return a.c?a.c:a.a?y3(a.a):(at("Root logger has no level set."),null)}vs.prototype.log=function(a,h,b){if(a.value>=y3(this).value)for(De(h)&&(h=h()),a=new Xr(a,String(h),this.f),b&&(a.a=b),b=this;b;)b=b.a};var Al={},sc=null;function Fr(a){var h;if(sc||(sc=new vs(""),Al[""]=sc,sc.c=E0),!(h=Al[a])){h=new vs(a);var b=a.lastIndexOf("."),T=a.substr(b+1);(b=Fr(a.substr(0,b))).b||(b.b={}),b.b[T]=h,h.a=b,Al[a]=h}return h}function Ji(a,h){a&&a.log(Nh,h,void 0)}function ys(a){this.f=a}function A0(a){Ir.call(this),this.u=a,this.h=void 0,this.readyState=y1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Fr("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}de(ys,oc),ys.prototype.a=function(){return new A0(this.f)},ys.prototype.b=function(a){return function(){return a}}({}),de(A0,Ir);var y1=0;function To(a){a.c.read().then(a.pc.bind(a)).catch(a.Va.bind(a))}function ei(a){a.readyState=4,a.g=null,a.c=null,a.m=null,mi(a)}function mi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Zo(a){Ir.call(this),this.headers=new Bs,this.D=a||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=T0,this.u=this.S=!1}(B=A0.prototype).open=function(a,h){if(this.readyState!=y1)throw this.abort(),Error("Error reopening a connection");this.s=a,this.f=h,this.readyState=1,mi(this)},B.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var h={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(h.body=a),this.u.fetch(new Request(this.f,h)).then(this.uc.bind(this),this.Va.bind(this))},B.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ei(this)),this.readyState=y1},B.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,mi(this)),this.a&&(this.readyState=3,mi(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==F.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,To(this)):a.text().then(this.tc.bind(this),this.Va.bind(this)))))},B.pc=function(a){if(this.a){var h=this.m.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});h&&(this.response=this.responseText+=h),a.done?ei(this):mi(this),3==this.readyState&&To(this)}},B.tc=function(a){this.a&&(this.response=this.responseText=a,ei(this))},B.sc=function(a){this.a&&(this.response=a,ei(this))},B.Va=function(a){var h=this.i;h&&h.log(El,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a)),this.a&&ei(this)},B.setRequestHeader=function(a,h){this.l.append(a,h)},B.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(El,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},B.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&a.log(El,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var h=this.b.entries(),b=h.next();!b.done;)a.push((b=b.value)[0]+": "+b[1]),b=h.next();return a.join("\r\n")},Object.defineProperty(A0.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}}),de(Zo,Ir);var T0="";Zo.prototype.b=Fr("goog.net.XhrIo");var l2=/^https?$/i,_3=["POST","PUT"];function b3(a){return"content-type"==a.toLowerCase()}function Da(a,h){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=h,_1(a),Ml(a)}function _1(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Mo(a){if(a.c&&void 0!==pe)if(a.C[1]&&4==_s(a)&&2==Il(a))Ji(a.b,Xs(a,"Local request error detected and ignored"));else if(a.i&&4==_s(a))Qn(a.Wb,0,a);else if(a.dispatchEvent("readystatechange"),4==_s(a)){Ji(a.b,Xs(a,"Request complete")),a.c=!1;try{var T,h=Il(a);e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}if(!(T=b)){var S;if(S=0===h){var z=String(a.l).match(n1)[1]||null;if(!z&&F.self&&F.self.location){var U=F.self.location.protocol;z=U.substr(0,U.length-1)}S=!l2.test(z?z.toLowerCase():"")}T=S}if(T)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var Y=2<_s(a)?a.a.statusText:""}catch(ke){Ji(a.b,"Can not get status: "+ke.message),Y=""}a.h=Y+" ["+Il(a)+"]",_1(a)}}finally{Ml(a)}}}function Ml(a,h){if(a.a){Lh(a);var b=a.a,T=a.C[0]?ue:null;a.a=null,a.C=null,h||a.dispatchEvent("ready");try{b.onreadystatechange=T}catch(S){(a=a.b)&&a.log(v3,"Problem encountered resetting onreadystatechange: "+S.message,void 0)}}}function Lh(a){a.a&&a.u&&(a.a.ontimeout=null),a.s&&(F.clearTimeout(a.s),a.s=null)}function _s(a){return a.a?a.a.readyState:0}function Il(a){try{return 2<_s(a)?a.a.status:-1}catch(h){return-1}}function Xs(a,h){return h+" ["+a.P+" "+a.l+" "+Il(a)+"]"}function b1(a){var h=M0;this.g=[],this.u=h,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ac(a,h,b){a.a=!0,a.c=b,a.f=!h,pn(a)}function Hr(a){if(a.a){if(!a.v)throw new C1(a);a.v=!1}}function Go(a,h,b,T){a.g.push([h,b,T]),a.a&&pn(a)}function f2(a){return zt(a.g,function(h){return De(h[1])})}function pn(a){if(a.h&&a.a&&f2(a)){var h=a.h,b=bs[h];b&&(F.clearTimeout(b.a),delete bs[h]),a.h=0}a.b&&(a.b.l--,delete a.b),h=a.c;for(var T=b=!1;a.g.length&&!a.i;){var S=a.g.shift(),z=S[0],U=S[1];if(S=S[2],z=a.f?U:z)try{var Y=z.call(S||a.s,h);void 0!==Y&&(a.f=a.f&&(Y==h||Y instanceof Error),a.c=h=Y),(_t(h)||"function"==typeof F.Promise&&h instanceof F.Promise)&&(T=!0,a.i=!0)}catch(ke){h=ke,a.f=!0,f2(a)||(b=!0)}}a.c=h,T&&(Y=ot(a.m,a,!0),T=ot(a.m,a,!1),h instanceof b1?(Go(h,Y,T),h.C=!0):h.then(Y,T)),b&&(h=new uc(h),bs[h.a]=h,a.h=h.a)}function C1(){mt.call(this)}function cc(){mt.call(this)}function uc(a){this.a=F.setTimeout(ot(this.c,this),0),this.b=a}(B=Zo.prototype).Ma=function(){void 0!==pe&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ji(this.b,Xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},B.abort=function(){this.a&&this.c&&(Ji(this.b,Xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ml(this))},B.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ml(this,!0)),Zo.bb.Da.call(this)},B.Wb=function(){this.ya||(this.N||this.i||this.f?Mo(this):this.Jc())},B.Jc=function(){Mo(this)},B.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case T0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(v3,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(h){return Ji(this.b,"Can not get response: "+h.message),null}},b1.prototype.cancel=function(a){if(this.a)this.c instanceof b1&&this.c.cancel();else{if(this.b){var h=this.b;delete this.b,a?h.cancel(a):(h.l--,0>=h.l&&h.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new cc(this),Hr(this),ac(this,!1,a))}},b1.prototype.m=function(a,h){this.i=!1,ac(this,a,h)},b1.prototype.then=function(a,h,b){var T,S,z=new ln(function(U,Y){T=U,S=Y});return Go(this,T,function(U){U instanceof cc?z.cancel():S(U)}),z.then(a,h,b)},b1.prototype.$goog_Thenable=!0,de(C1,mt),C1.prototype.message="Deferred has already fired",C1.prototype.name="AlreadyCalledError",de(cc,mt),cc.prototype.message="Deferred was canceled",cc.prototype.name="CanceledError",uc.prototype.c=function(){throw delete bs[this.a],this.b};var bs={};function ti(a){var h={},b=h.document||document,T=un(a).toString(),S=G1(document,"SCRIPT"),z={Xb:S,Ma:void 0},U=new b1(z),Y=null,ke=null!=h.timeout?h.timeout:5e3;return 0<ke&&(Y=window.setTimeout(function(){h2(S,!0);var qe=new I0(xd,"Timeout reached for loading script "+T);Hr(U),ac(U,!1,qe)},ke),z.Ma=Y),S.onload=S.onreadystatechange=function(){S.readyState&&"loaded"!=S.readyState&&"complete"!=S.readyState||(h2(S,h.xd||!1,Y),Hr(U),ac(U,!0,null))},S.onerror=function(){h2(S,!0,Y);var qe=new I0(Oh,"Error while loading script "+T);Hr(U),ac(U,!1,qe)},W(z=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),er(S,z),function(a,h){Q(a,"HTMLScriptElement"),a.src=un(h),(h=a.ownerDocument&&a.ownerDocument.defaultView)&&h!=F?h=se(h.document):(null===ee&&(ee=se(F.document)),h=ee),h&&a.setAttribute("nonce",h)}(S,a),function(a){var h;return(h=(a||document).getElementsByTagName("HEAD"))&&0!=h.length?h[0]:a.documentElement}(b).appendChild(S),U}function M0(){if(this&&this.Xb){var a=this.Xb;a&&"SCRIPT"==a.tagName&&h2(a,!0,this.Ma)}}function h2(a,h,b){null!=b&&F.clearTimeout(b),a.onload=ue,a.onerror=ue,a.onreadystatechange=ue,h&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}var Oh=0,xd=1;function I0(a,h){var b="Jsloader error (code #"+a+")";h&&(b+=": "+h),mt.call(this,b),this.code=a}function Na(a){this.f=a}function Pn(a,h,b){if(this.c=a,this.l=(a=h||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||x0,this.g=re(a.secureTokenHeaders||ni),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||Xi,this.a=re(a.firebaseHeaders||Io),b&&(this.a["X-Client-Version"]=b,this.g["X-Client-Version"]=b),b="Node"==o1(),!(b=F.XMLHttpRequest||b&&u.default.INTERNAL.node&&u.default.INTERNAL.node.XMLHttpRequest)&&!Zs())throw new G("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Zs()?new ys(self):ll()?new Na(b):new Sa,this.b=null}de(I0,mt),de(Na,oc),Na.prototype.a=function(){return new this.f},Na.prototype.b=function(){return{}};var ea,Li="idToken",x0=new ar(3e4,6e4),ni={"Content-Type":"application/x-www-form-urlencoded"},Xi=new ar(3e4,6e4),Io={"Content-Type":"application/json"};function lc(a,h){h?a.a["X-Firebase-Locale"]=h:delete a.a["X-Firebase-Locale"]}function eo(a,h){h&&(a.l=_u("https://securetoken.googleapis.com/v1/token",h),a.h=_u("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",h),a.i=_u("https://identitytoolkit.googleapis.com/v2/",h))}function _u(a,h){return a=xi(a),h=xi(h.url),a.f=a.a+a.f,Kr(a,h.c),a.a=h.a,Yc(a,h.g),a.toString()}function d2(a,h){h?(a.a["X-Client-Version"]=h,a.g["X-Client-Version"]=h):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function fc(a,h,b,T,S,z,U){(function(){var a=fi();return!((a="Chrome"!=X1(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||Or&&Wr&&!(9<Wr))})()||Zs()?a=ot(a.u,a):(ea||(ea=new ln(function(Y,ke){!function(a,h){((window.gapi||{}).client||{}).request?a():(F[Sl]=function(){((window.gapi||{}).client||{}).request?a():h(Error("CORS_UNSUPPORTED"))},function(a,h){Go(a,null,h,void 0)}(ti(ir(w3,{onload:Sl})),function(){h(Error("CORS_UNSUPPORTED"))}))}(Y,ke)})),a=ot(a.s,a)),a(h,b,T,S,z,U)}Pn.prototype.T=function(){return this.b},Pn.prototype.u=function(a,h,b,T,S,z){if(Zs()&&(void 0===F.fetch||void 0===F.Headers||void 0===F.Request))throw new G("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var U=new Zo(this.f);if(z){U.g=Math.max(0,z);var Y=setTimeout(function(){U.dispatchEvent("timeout")},z)}Ge(U,"complete",function(){Y&&clearTimeout(Y);var ke=null;try{ke=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(h){return Ji(a.b,"Can not get responseText: "+h.message),""}}(this))||null}catch(qe){ke=null}h&&h(ke)}),sn(U,"ready",function(){Y&&clearTimeout(Y),K4(this)}),sn(U,"timeout",function(){Y&&clearTimeout(Y),K4(this),h&&h(null)}),function(a,h,b,T,S){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+h);b=b?b.toUpperCase():"GET",a.l=h,a.h="",a.P=b,a.J=!1,a.c=!0,a.a=a.D?a.D.a():Ao.a(),a.C=function(a){return a.c||(a.c=a.b())}(a.D?a.D:Ao),a.a.onreadystatechange=ot(a.Wb,a);try{Ji(a.b,Xs(a,"Opening Xhr")),a.N=!0,a.a.open(b,String(h),!0),a.N=!1}catch(U){return Ji(a.b,Xs(a,"Error opening Xhr: "+U.message)),void Da(a,U)}h=T||"";var z=new Bs(a.headers);S&&function(a,h){if(a.forEach&&"function"==typeof a.forEach)a.forEach(h,void 0);else if(Ne(a)||"string"==typeof a)kn(a,h,void 0);else for(var b=ui(a),T=t1(a),S=T.length,z=0;z<S;z++)h.call(void 0,T[z],b&&b[z],a)}(S,function(U,Y){z.set(Y,U)}),S=function(a){e:{for(var h=b3,b=a.length,T="string"==typeof a?a.split(""):a,S=0;S<b;S++)if(S in T&&h.call(void 0,T[S],S,a)){h=S;break e}h=-1}return 0>h?null:"string"==typeof a?a.charAt(h):a[h]}(z.Y()),T=F.FormData&&h instanceof F.FormData,!Ln(_3,b)||S||T||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),z.forEach(function(U,Y){this.a.setRequestHeader(Y,U)},a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.S&&(a.a.withCredentials=a.S);try{Lh(a),0<a.g&&(a.u=function(a){return Or&&W2(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Ji(a.b,Xs(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=ot(a.Ma,a)):a.s=Qn(a.Ma,a.g,a)),Ji(a.b,Xs(a,"Sending request")),a.i=!0,a.a.send(h),a.i=!1}catch(U){Ji(a.b,Xs(a,"Send error: "+U.message)),Da(a,U)}}(U,a,b,T,S)};var w3=new ce(Ke,"https://apis.google.com/js/client.js?onload=%{onload}"),Sl="__fcb"+Math.floor(1e6*Math.random()).toString();function w1(a){if("string"!=typeof(a=a.email)||!a3.test(a))throw new G("invalid-email")}function bu(a){"email"in a&&w1(a)}function Oi(a){if(!a[Li])throw a.mfaPendingCredential?new G("multi-factor-auth-required",null,re(a)):new G("internal-error")}function Nl(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new G("internal-error")}else{if(!a.sessionInfo)throw new G("missing-verification-id");if(!a.code)throw new G("missing-verification-code")}}Pn.prototype.s=function(a,h,b,T,S){var z=this;ea.then(function(){window.gapi.client.setApiKey(z.c);var U=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:b,body:T,headers:S,authType:"none",callback:function(Y){window.gapi.auth.setToken(U),h&&h(Y)}})}).o(function(U){h&&h({error:{message:U&&U.message||"CORS_UNSUPPORTED"}})})},Pn.prototype.Ab=function(){return an(this,Ol,{})},Pn.prototype.Cb=function(a,h){return an(this,L0,{idToken:a,email:h})},Pn.prototype.Db=function(a,h){return an(this,pc,{idToken:a,password:h})};var kl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function p2(a){if(!a.phoneVerificationInfo)throw new G("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new G("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new G("missing-verification-code")}function dc(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new G("internal-error")}function S0(a,h){return h.oauthIdToken&&h.providerId&&0==h.providerId.indexOf("oidc.")&&!h.pendingToken&&(a.sessionId?h.nonce=a.sessionId:a.postBody&&ls(a=new js(a.postBody),"nonce")&&(h.nonce=a.get("nonce"))),h}function $o(a){var h=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",h=c2(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",h=c2(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",h=c2(a)):a.errorMessage&&(h=P0(a.errorMessage)),h)throw h;Oi(a)}function m2(a,h){return h.returnIdpCredential=!0,an(a,Nd,h)}function ri(a,h){return h.returnIdpCredential=!0,an(a,O0,h)}function Cu(a,h){return h.returnIdpCredential=!0,h.autoCreate=!1,an(a,gc,h)}function D0(a){if(!a.oobCode)throw new G("invalid-action-code")}(B=Pn.prototype).Eb=function(a,h){var b={idToken:a},T=[];return Tn(kl,function(S,z){var U=h[z];null===U?T.push(S):z in h&&(b[z]=U)}),T.length&&(b.deleteAttribute=T),an(this,L0,b)},B.wb=function(a,h){return W(a={requestType:"PASSWORD_RESET",email:a},h),an(this,k0,a)},B.xb=function(a,h){return W(a={requestType:"EMAIL_SIGNIN",email:a},h),an(this,D3,a)},B.vb=function(a,h){return W(a={requestType:"VERIFY_EMAIL",idToken:a},h),an(this,Dd,a)},B.Fb=function(a,h,b){return W(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:h},b),an(this,na,a)},B.gb=function(a){return an(this,R0,a)},B.ob=function(a,h){return an(this,ka,{oobCode:a,newPassword:h})},B.Sa=function(a){return an(this,x3,{oobCode:a})},B.kb=function(a){return an(this,I3,{oobCode:a})};var I3={endpoint:"setAccountInfo",A:D0,Z:"email",B:!0},x3={endpoint:"resetPassword",A:D0,G:function(a){var h=a.requestType;if(!h||!a.email&&"EMAIL_SIGNIN"!=h&&"VERIFY_AND_CHANGE_EMAIL"!=h)throw new G("internal-error")},B:!0},Vh={endpoint:"signupNewUser",A:function(a){if(w1(a),!a.password)throw new G("weak-password")},G:Oi,V:!0,B:!0},Ll={endpoint:"createAuthUri",B:!0},Fh={endpoint:"deleteAccount",O:["idToken"]},S3={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new G("internal-error")}},Hh={endpoint:"emailLinkSignin",O:["email","oobCode"],A:w1,G:Oi,V:!0,B:!0},g2={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:w1,G:Oi,V:!0},ta={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:p2,G:Oi,B:!0,Na:!0},N0={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:p2,G:Oi,B:!0,Na:!0},Sd={endpoint:"getAccountInfo"},D3={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new G("internal-error");w1(a)},Z:"email",B:!0},Dd={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new G("internal-error")},Z:"email",B:!0},na={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new G("internal-error")},Z:"email",B:!0},k0={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new G("internal-error");w1(a)},Z:"email",B:!0},v2={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},N3={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new G("internal-error")}},ka={endpoint:"resetPassword",A:D0,Z:"email",B:!0},E1={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},L0={endpoint:"setAccountInfo",O:["idToken"],A:bu,V:!0},pc={endpoint:"setAccountInfo",O:["idToken"],A:function(a){if(bu(a),!a.password)throw new G("weak-password")},G:Oi,V:!0},Ol={endpoint:"signupNewUser",G:Oi,V:!0,B:!0},Rl={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new G("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new G("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new G("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new G("internal-error")},B:!0,Na:!0},mc={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new G("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new G("internal-error")},B:!0,Na:!0},Nd={endpoint:"verifyAssertion",A:dc,Za:S0,G:$o,V:!0,B:!0},gc={endpoint:"verifyAssertion",A:dc,Za:S0,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new G("user-not-found");if(a.errorMessage)throw P0(a.errorMessage);Oi(a)},V:!0,B:!0},O0={endpoint:"verifyAssertion",A:function(a){if(dc(a),!a.idToken)throw new G("internal-error")},Za:S0,G:$o,V:!0},k3={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new G("invalid-custom-token")},G:Oi,V:!0,B:!0},L3={endpoint:"verifyPassword",A:function(a){if(w1(a),!a.password)throw new G("wrong-password")},G:Oi,V:!0,B:!0},R0={endpoint:"verifyPhoneNumber",A:Nl,G:Oi,B:!0},Uh={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new G("internal-error");Nl(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",c2(a);Oi(a)}},O3={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Nl,G:Oi,B:!0},Pl={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[Li]^!!a.refreshToken)throw new G("internal-error")},B:!0,Na:!0};function an(a,h,b){if(!function(a,h){if(!h||!h.length)return!0;if(!a)return!1;for(var b=0;b<h.length;b++){var T=a[h[b]];if(null==T||""===T)return!1}return!0}(b,h.O))return tr(new G("internal-error"));var z,T=!!h.Na,S=h.Vb||"POST";return Mt(b).then(h.A).then(function(){return h.V&&(b.returnSecureToken=!0),h.B&&a.b&&void 0===b.tenantId&&(b.tenantId=a.b),function(a,h,b,T,S,z,U){var Y=xi(h+b);Cn(Y,"key",a.c),U&&Cn(Y,"cb",Date.now().toString());var ke="GET"==T;if(ke)for(var qe in S)S.hasOwnProperty(qe)&&Cn(Y,qe,S[qe]);return new ln(function(bt,ht){fc(a,Y.toString(),function(hn){hn?hn.error?ht(zl(hn,z||{})):bt(hn):ht(new G("network-request-failed"))},T,ke?void 0:sr(o0(S)),a.a,a.v.get())})}(a,T?a.i:a.h,h.endpoint,S,b,h.Ib,h.mb||!1)}).then(function(U){return z=U,h.Za?h.Za(b,z):z}).then(h.G).then(function(){if(!h.Z)return z;if(!(h.Z in z))throw new G("internal-error");return z[h.Z]})}function P0(a){return zl({error:{errors:[{message:a}],code:400,message:a}})}function zl(a,h){var b=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",T={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(b=T[b]?new G(T[b]):null)return b;for(var S in b=a.error&&a.error.message||"",W(T={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},h||{}),h=(h=b.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<h.length?h[1]:void 0,T)if(0===b.indexOf(S))return new G(T[S],h);return!h&&a&&(h=dl(a)),new G("internal-error",h)}function wu(a){this.b=a,this.a=null,this.sb=function(a){return(D||(D=new ln(function(a,h){function b(){e2(),Rn("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){e2(),h(Error("Network Error"))},timeout:C.get()})}if(Rn("gapi.iframes.Iframe"))a();else if(Rn("gapi.load"))b();else{var T="__iframefcb"+Math.floor(1e6*Math.random()).toString();F[T]=function(){Rn("gapi.load")?b():h(Error("Network Error"))},Mt(ti(T=ir(v,{onload:T}))).o(function(){h(Error("Network Error"))})}}).o(function(a){throw D=null,a}))).then(function(){return new ln(function(h,b){Rn("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(T){function S(){clearTimeout(z),h()}a.a=T,a.a.restyle({setHideOnLeave:!1});var z=setTimeout(function(){b(Error("Network Error"))},M.get());T.ping(S).then(S,function(){b(Error("Network Error"))})})})})}(this)}var v=new ce(Ke,"https://apis.google.com/js/api.js?onload=%{onload}"),C=new ar(3e4,6e4),M=new ar(5e3,15e3),D=null;function j(a,h,b,T){this.l=a,this.h=h,this.i=b,this.g=T,this.f=null,a=this.g?Qc((a=xi(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):Qc("https",this.l,null,"/__/auth/iframe"),this.a=a,Cn(this.a,"apiKey",this.h),Cn(this.a,"appName",this.i),this.b=null,this.c=[]}function Z(a,h,b,T,S,z){this.u=a,this.s=h,this.c=b,this.m=T,this.v=z,this.i=this.g=this.l=null,this.a=S,this.h=this.f=null}function X(a){try{return u.default.app(a).auth().Ga()}catch(h){return[]}}function ne(a,h,b,T,S,z){this.s=a,this.g=h,this.b=b,this.f=z,this.c=T||null,this.i=S||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function be(a){var h=Fo();return function(a){return an(a,v2,{}).then(function(h){return h.authorizedDomains||[]})}(a).then(function(b){e:{var T=xi(h),S=T.c;T=T.a;for(var z=0;z<b.length;z++){var U=b[z],Y=T,ke=S;if(0==U.indexOf("chrome-extension://")?Y=xi(U).a==Y&&"chrome-extension"==ke:"http"!=ke&&"https"!=ke?Y=!1:nu.test(U)?Y=Y==U:(U=U.split(".").join("\\."),Y=new RegExp("^(.+\\."+U+"|"+U+")$","i").test(Y)),Y){b=!0;break e}}b=!1}if(!b)throw new C0(Fo())})}function Re(a){return a.m||(a.m=hs().then(function(){if(!a.u){var h=a.c,b=a.i,T=X(a.b),S=new j(a.s,a.g,a.b,a.f);S.f=h,S.b=b,S.c=An(T||[]),a.u=S.toString()}a.v=new wu(a.u),function(a){if(!a.v)throw Error("IfcHandler must be initialized!");!function(a,h){a.sb.then(function(){a.a.register("authEvent",h,Rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(a.v,function(h){var b={};if(h&&h.authEvent){var T=!1;for(h=ic(h.authEvent),b=0;b<a.h.length;b++)T=a.h[b](h)||T;return(b={}).status=T?"ACK":"ERROR",Mt(b)}return b.status="ERROR",Mt(b)})}(a)})),a.m}function We(a){return a.l||(a.C=a.c?Ho(a.c,X(a.b)):null,a.l=new Pn(a.g,Ct(a.i),a.C),a.f&&eo(a.l,a.f)),a.l}function rt(a,h,b,T,S,z,U,Y,ke,qe,bt,ht){return(a=new Z(a,h,b,T,S,ht)).l=z,a.g=U,a.i=Y,a.b=re(ke||null),a.f=qe,a.zb(bt).toString()}function Xe(a){if(this.a=a||u.default.INTERNAL.reactNative&&u.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new G("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Zn(a){this.b=a,this.a={},this.f=ot(this.c,this)}j.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):qs(this.a.b,"v"),this.b?Cn(this.a,"eid",this.b):qs(this.a.b,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):qs(this.a.b,"fw"),this.a.toString()},Z.prototype.zb=function(a){return this.h=a,this},Z.prototype.toString=function(){if(this.v){var a=xi(this.v.url);a=Qc(a.c,a.a,a.g,"/emulator/auth/handler")}else a=Qc("https",this.u,null,"/__/auth/handler");if(Cn(a,"apiKey",this.s),Cn(a,"appName",this.c),Cn(a,"authType",this.m),this.a.isOAuthProvider){var h=this.a;try{var b=u.default.app(this.c).auth().la()}catch(Y){b=null}for(var T in h.pb=b,Cn(a,"providerId",this.a.providerId),h=o0((b=this.a).Jb))h[T]=h[T].toString();T=b.Qc,h=re(h);for(var S=0;S<T.length;S++){var z=T[S];z in h&&delete h[z]}b.qb&&b.pb&&!h[b.qb]&&(h[b.qb]=b.pb),ie(h)||Cn(a,"customParameters",dl(h))}if("function"==typeof this.a.Rb&&(b=this.a.Rb()).length&&Cn(a,"scopes",b.join(",")),this.l?Cn(a,"redirectUrl",this.l):qs(a.b,"redirectUrl"),this.g?Cn(a,"eventId",this.g):qs(a.b,"eventId"),this.i?Cn(a,"v",this.i):qs(a.b,"v"),this.b)for(var U in this.b)this.b.hasOwnProperty(U)&&!us(a,U)&&Cn(a,U,this.b[U]);return this.h?Cn(a,"tid",this.h):qs(a.b,"tid"),this.f?Cn(a,"eid",this.f):qs(a.b,"eid"),(U=X(this.c)).length&&Cn(a,"fw",U.join(",")),a.toString()},(B=ne.prototype).Pb=function(a,h,b){var T=new G("popup-closed-by-user"),S=new G("web-storage-unsupported"),z=this,U=!1;return this.ma().then(function(){(function(a){var h={type:"webStorageSupport"};return Re(a).then(function(){return function(a,h){return a.sb.then(function(){return new ln(function(b){a.a.send(h.type,h,b,Rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(a.v,h)}).then(function(b){if(b&&b.length&&void 0!==b[0].webStorageSupport)return b[0].webStorageSupport;throw Error()})})(z).then(function(Y){Y||(a&&i1(a),h(S),U=!0)})}).o(function(){}).then(function(){if(!U)return function(a){return new ln(function(h){return function b(){Us(2e3).then(function(){if(a&&!a.closed)return b();h()})}()})}(a)}).then(function(){if(!U)return Us(b).then(function(){h(T)})})},B.Yb=function(){var a=fi();return!a1(a)&&!Xt(a)},B.Ub=function(){return!1},B.Nb=function(a,h,b,T,S,z,U,Y){if(!a)return tr(new G("popup-blocked"));if(U&&!a1())return this.ma().o(function(qe){i1(a),S(qe)}),T(),Mt();this.a||(this.a=be(We(this)));var ke=this;return this.a.then(function(){var qe=ke.ma().o(function(bt){throw i1(a),S(bt),bt});return T(),qe}).then(function(){b0(b),U||_a(rt(ke.s,ke.g,ke.b,h,b,null,z,ke.c,void 0,ke.i,Y,ke.f),a)}).o(function(qe){throw"auth/network-request-failed"==qe.code&&(ke.a=null),qe})},B.Ob=function(a,h,b,T){this.a||(this.a=be(We(this)));var S=this;return this.a.then(function(){b0(h),_a(rt(S.s,S.g,S.b,a,h,Fo(),b,S.c,void 0,S.i,T,S.f))}).o(function(z){throw"auth/network-request-failed"==z.code&&(S.a=null),z})},B.ma=function(){var a=this;return Re(this).then(function(){return a.v.sb}).o(function(){throw a.a=null,new G("network-request-failed")})},B.ac=function(){return!0},B.Ea=function(a){this.h.push(a)},B.Ta=function(a){en(this.h,function(h){return h==a})},(B=Xe.prototype).get=function(a){return Mt(this.a.getItem(a)).then(function(h){return h&&ds(h)})},B.set=function(a,h){return Mt(this.a.setItem(a,dl(h)))},B.U=function(a){return Mt(this.a.removeItem(a))},B.ca=function(){},B.ia=function(){};var Vl,to=[];function Eu(a,h,b){ie(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[h]&&(a.a[h]=[]),a.a[h].push(b)}function A1(a){this.a=a}function vc(a){this.c=a,this.b=!1,this.a=[]}function kd(a,h,b,T){var S,U,Y,ke,z=b||{},qe=null;if(a.b)return tr(Error("connection_unavailable"));var bt=T?800:50,ht="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ln(function(hn,Fn){ht?(S=Math.floor(Math.random()*Math.pow(10,20)).toString(),ht.port1.start(),Y=setTimeout(function(){Fn(Error("unsupported_event"))},bt),a.a.push(qe={messageChannel:ht,onMessage:U=function(Do){Do.data.eventId===S&&("ack"===Do.data.status?(clearTimeout(Y),ke=setTimeout(function(){Fn(Error("timeout"))},3e3)):"done"===Do.data.status?(clearTimeout(ke),void 0!==Do.data.response?hn(Do.data.response):Fn(Error("unknown_error"))):(clearTimeout(Y),clearTimeout(ke),Fn(Error("invalid_response"))))}}),ht.port1.addEventListener("message",U),a.c.postMessage({eventType:h,eventId:S,data:z},[ht.port2])):Fn(Error("connection_unavailable"))}).then(function(hn){return P3(a,qe),hn}).o(function(hn){throw P3(a,qe),hn})}function P3(a,h){if(h){var b=h.messageChannel;b&&(b.port1.removeEventListener("message",h.onMessage),b.port1.close()),en(a.a,function(S){return S==h})}}function gi(){if(!z0())throw new G("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=F.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var a=this;Zs()&&self?(this.v=function(){var a=Zs()?self:null;if(kn(to,function(b){b.b==a&&(h=b)}),!h){var h=new Zn(a);to.push(h)}return h}(),Eu(this.v,"keyChanged",function(h,b){return xo(a).then(function(T){return 0<T.length&&kn(a.a,function(S){S(T)}),{keyProcessed:Ln(T,b.key)}})}),Eu(this.v,"ping",function(){return Mt(["keyChanged"])})):function(){var a=F.navigator;return a&&a.serviceWorker?Mt().then(function(){return a.serviceWorker.ready}).then(function(h){return h.active||null}).o(function(){return null}):Mt(null)}().then(function(h){(a.h=h)&&(a.g=new vc(new A1(h)),kd(a.g,"ping",null,!0).then(function(b){b[0].fulfilled&&Ln(b[0].value,"keyChanged")&&(a.s=!0)}).o(function(){}))})}function La(a){return new ln(function(h,b){var T=a.m.open("firebaseLocalStorageDb",1);T.onerror=function(S){try{S.preventDefault()}catch(z){}b(Error(S.target.error))},T.onupgradeneeded=function(S){S=S.target.result;try{S.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(z){b(z)}},T.onsuccess=function(S){(S=S.target.result).objectStoreNames.contains("firebaseLocalStorage")?h(S):function(a){return new ln(function(h,b){var T=a.m.deleteDatabase("firebaseLocalStorageDb");T.onsuccess=function(){h()},T.onerror=function(S){b(Error(S.target.error))}})}(a).then(function(){return La(a)}).then(function(z){h(z)}).o(function(z){b(z)})}})}function z3(a){return a.i||(a.i=La(a)),a.i}function Bh(a,h){var T=0;return new ln(function b(S,z){z3(a).then(h).then(S).o(function(U){if(!(3<++T))return z3(a).then(function(Y){return Y.close(),a.i=void 0,b(S,z)}).o(function(Y){z(Y)});z(U)})})}function z0(){try{return!!F.indexedDB}catch(a){return!1}}function Fl(a){return a.objectStore("firebaseLocalStorage")}function Hl(a,h){return a.transaction(["firebaseLocalStorage"],h?"readwrite":"readonly")}function Au(a){return new ln(function(h,b){a.onsuccess=function(T){T&&T.target?h(T.target.result):h()},a.onerror=function(T){b(T.target.error)}})}function V3(a,h){return a.g&&a.h&&function(){var a=F.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?kd(a.g,"keyChanged",{key:h},a.s).then(function(){}).o(function(){}):Mt()}function xo(a){return z3(a).then(function(h){var b=Fl(Hl(h,!1));return b.getAll?Au(b.getAll()):new ln(function(T,S){var z=[],U=b.openCursor();U.onsuccess=function(Y){(Y=Y.target.result)?(z.push(Y.value),Y.continue()):T(z)},U.onerror=function(Y){S(Y.target.error)}})}).then(function(h){var b={},T=[];if(0==a.b){for(T=0;T<h.length;T++)b[h[T].fbase_key]=h[T].value;T=Q2(a.c,b),a.c=b}return T})}function Ri(a){a.l&&a.l.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function F3(a){var h=this,b=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Mt().then(function(){if(z0()){var T=Ca(),S="__sak"+T;return Vl||(Vl=new gi),(b=Vl).set(S,T).then(function(){return b.get(S)}).then(function(z){if(z!==T)throw Error("indexedDB not supported!");return b.U(S)}).then(function(){return b}).o(function(){return h.c})}return h.c}).then(function(T){return h.type=T.type,T.ca(function(S){kn(h.a,function(z){z(S)})}),T})}function ii(){this.a={},this.type="inMemory"}function V0(){if(!function(){var a="Node"==o1();if(!(a=jh()||a&&u.default.INTERNAL.node&&u.default.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==o1()?new G("internal-error","The LocalStorage compatibility library was not found."):new G("web-storage-unsupported");this.a=jh()||u.default.INTERNAL.node.localStorage,this.type="localStorage"}function jh(){try{var a=F.localStorage,h=Ca();return a&&(a.setItem(h,"1"),a.removeItem(h)),a}catch(b){return null}}function U3(){this.type="nullStorage"}function B3(){if(!function(){var a="Node"==o1();if(!(a=qh()||a&&u.default.INTERNAL.node&&u.default.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==o1()?new G("internal-error","The SessionStorage compatibility library was not found."):new G("web-storage-unsupported");this.a=qh()||u.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qh(){try{var a=F.sessionStorage,h=Ca();return a&&(a.setItem(h,"1"),a.removeItem(h)),a}catch(b){return null}}function Od(){var a={};a.Browser=y2,a.Node=ia,a.ReactNative=q3,a.Worker=Rd,this.a=a[o1()]}Zn.prototype.c=function(a){var h=a.data.eventType,b=a.data.eventId,T=this.a[h];if(T&&0<T.length){a.ports[0].postMessage({status:"ack",eventId:b,eventType:h,response:null});var S=[];kn(T,function(z){S.push(Mt().then(function(){return z(a.origin,a.data.data)}))}),Zi(S).then(function(z){var U=[];kn(z,function(Y){U.push({fulfilled:Y.Qb,value:Y.value,reason:Y.reason?Y.reason.message:void 0})}),kn(U,function(Y){for(var ke in Y)void 0===Y[ke]&&delete Y[ke]}),a.ports[0].postMessage({status:"done",eventId:b,eventType:h,response:U})})}},A1.prototype.postMessage=function(a,h){this.a.postMessage(a,h)},vc.prototype.close=function(){for(;0<this.a.length;)P3(this,this.a[0]);this.b=!0},(B=gi.prototype).set=function(a,h){var b=this,T=!1;return Bh(this,function(S){return Au((S=Fl(Hl(S,!0))).get(a))}).then(function(S){return Bh(b,function(z){if(z=Fl(Hl(z,!0)),S)return S.value=h,Au(z.put(S));b.b++,T=!0;var U={};return U.fbase_key=a,U.value=h,Au(z.add(U))})}).then(function(){return b.c[a]=h,V3(b,a)}).oa(function(){T&&b.b--})},B.get=function(a){return Bh(this,function(h){return Au(Fl(Hl(h,!1)).get(a))}).then(function(h){return h&&h.value})},B.U=function(a){var h=this,b=!1;return Bh(this,function(T){return b=!0,h.b++,Au(Fl(Hl(T,!0)).delete(a))}).then(function(){return delete h.c[a],V3(h,a)}).oa(function(){b&&h.b--})},B.ca=function(a){0==this.a.length&&function(a){Ri(a),function h(){a.f=setTimeout(function(){a.l=xo(a).then(function(b){0<b.length&&kn(a.a,function(T){T(b)})}).then(function(){h()}).o(function(b){"STOP_EVENT"!=b.message&&h()})},800)}()}(this),this.a.push(a)},B.ia=function(a){en(this.a,function(h){return h==a}),0==this.a.length&&Ri(this)},(B=F3.prototype).get=function(a){return this.b.then(function(h){return h.get(a)})},B.set=function(a,h){return this.b.then(function(b){return b.set(a,h)})},B.U=function(a){return this.b.then(function(h){return h.U(a)})},B.ca=function(a){this.a.push(a)},B.ia=function(a){en(this.a,function(h){return h==a})},(B=ii.prototype).get=function(a){return Mt(this.a[a])},B.set=function(a,h){return this.a[a]=h,Mt()},B.U=function(a){return delete this.a[a],Mt()},B.ca=function(){},B.ia=function(){},(B=V0.prototype).get=function(a){var h=this;return Mt().then(function(){return ds(h.a.getItem(a))})},B.set=function(a,h){var b=this;return Mt().then(function(){var T=dl(h);null===T?b.U(a):b.a.setItem(a,T)})},B.U=function(a){var h=this;return Mt().then(function(){h.a.removeItem(a)})},B.ca=function(a){F.window&&Co(F.window,"storage",a)},B.ia=function(a){F.window&&Ii(F.window,"storage",a)},(B=U3.prototype).get=function(){return Mt(null)},B.set=function(){return Mt()},B.U=function(){return Mt()},B.ca=function(){},B.ia=function(){},(B=B3.prototype).get=function(a){var h=this;return Mt().then(function(){return ds(h.a.getItem(a))})},B.set=function(a,h){var b=this;return Mt().then(function(){var T=dl(h);null===T?b.U(a):b.a.setItem(a,T)})},B.U=function(a){var h=this;return Mt().then(function(){h.a.removeItem(a)})},B.ca=function(){},B.ia=function(){};var j3,Ul,y2={F:V0,cb:B3},ia={F:V0,cb:B3},q3={F:Xe,cb:U3},Rd={F:V0,cb:U3},yc={rd:"local",NONE:"none",td:"session"};function Tu(){var a=!(Xt(fi())||!c3()),h=a1(),b=fl();this.m=a,this.h=h,this.l=b,this.a={},j3||(j3=new Od),a=j3;try{this.g=!Wi()&&s0()||!F.indexedDB?new a.a.F:new F3(Zs()?new ii:new a.a.F)}catch(T){this.g=new ii,this.h=!0}try{this.i=new a.a.cb}catch(T){this.i=new ii}this.v=new ii,this.f=ot(this.Zb,this),this.b={}}function _2(){return Ul||(Ul=new Tu),Ul}function _c(a,h){switch(h){case"session":return a.i;case"none":return a.v;default:return a.g}}function Mu(a,h){return"firebase:"+a.name+(h?":"+h:"")}function no(a,h,b){return b=Mu(h,b),"local"==h.F&&(a.b[b]=null),_c(a,h.F).U(b)}function Bl(a){a.c&&(clearInterval(a.c),a.c=null)}function Zh(a){this.a=a,this.b=_2()}(B=Tu.prototype).get=function(a,h){return _c(this,a.F).get(Mu(a,h))},B.set=function(a,h,b){var T=Mu(a,b),S=this,z=_c(this,a.F);return z.set(T,h).then(function(){return z.get(T)}).then(function(U){"local"==a.F&&(S.b[T]=U)})},B.addListener=function(a,h,b){a=Mu(a,h),this.l&&(this.b[a]=F.localStorage.getItem(a)),ie(this.a)&&(_c(this,"local").ca(this.f),this.h||(Wi()||!s0())&&F.indexedDB||!this.l||function(a){Bl(a),a.c=setInterval(function(){for(var h in a.a){var b=F.localStorage.getItem(h),T=a.b[h];b!=T&&(a.b[h]=b,b=new Vo({type:"storage",key:h,target:window,oldValue:T,newValue:b,a:!0}),a.Zb(b))}},1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(b)},B.removeListener=function(a,h,b){a=Mu(a,h),this.a[a]&&(en(this.a[a],function(T){return T==b}),0==this.a[a].length&&delete this.a[a]),ie(this.a)&&(_c(this,"local").ia(this.f),Bl(this))},B.Zb=function(a){if(a&&a.g){var h=a.a.key;if(null==h)for(var b in this.a){var T=this.b[b];void 0===T&&(T=null);var S=F.localStorage.getItem(b);S!==T&&(this.b[b]=S,this.nb(b))}else if(0==h.indexOf("firebase:")&&this.a[h]){if(void 0!==a.a.a?_c(this,"local").ia(this.f):Bl(this),this.m)if(b=F.localStorage.getItem(h),(T=a.a.newValue)!==b)null!==T?F.localStorage.setItem(h,T):F.localStorage.removeItem(h);else if(this.b[h]===T&&void 0===a.a.a)return;var z=this;b=function(){(void 0!==a.a.a||z.b[h]!==F.localStorage.getItem(h))&&(z.b[h]=F.localStorage.getItem(h),z.nb(h))},Or&&Wr&&10==Wr&&F.localStorage.getItem(h)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(b,10):b()}}else kn(a,ot(this.nb,this))},B.nb=function(a){this.a[a]&&kn(this.a[a],function(h){h()})};var Gh,Pi={name:"authEvent",F:"local"};function Pd(){this.a=_2()}function G3(a,h){this.b=jl,this.f=F.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=h,this.l=F.Int32Array?new Int32Array(64):Array(64),void 0===Gh&&(Gh=F.Int32Array?new Int32Array(zd):zd),this.reset()}de(G3,function(){this.b=-1});for(var jl=64,U0=jl-1,$3=[],Iu=0;Iu<U0;Iu++)$3[Iu]=0;var $h=Un(128,$3);function W3(a){for(var h=a.f,b=a.l,T=0,S=0;S<h.length;)b[T++]=h[S]<<24|h[S+1]<<16|h[S+2]<<8|h[S+3],S=4*T;for(h=16;64>h;h++){var z=(0|b[h-16])+(((S=0|b[h-15])>>>7|S<<25)^(S>>>18|S<<14)^S>>>3)|0,U=(0|b[h-7])+(((T=0|b[h-2])>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)|0;b[h]=z+U|0}T=0|a.a[0],S=0|a.a[1];var Y=0|a.a[2],ke=0|a.a[3],qe=0|a.a[4],bt=0|a.a[5],ht=0|a.a[6];for(z=0|a.a[7],h=0;64>h;h++){var hn=((T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10))+(T&S^T&Y^S&Y)|0;U=(z=z+((qe>>>6|qe<<26)^(qe>>>11|qe<<21)^(qe>>>25|qe<<7))|0)+((U=(U=qe&bt^~qe&ht)+(0|Gh[h])|0)+(0|b[h])|0)|0,z=ht,ht=bt,bt=qe,qe=ke+U|0,ke=Y,Y=S,S=T,T=U+hn|0}a.a[0]=a.a[0]+T|0,a.a[1]=a.a[1]+S|0,a.a[2]=a.a[2]+Y|0,a.a[3]=a.a[3]+ke|0,a.a[4]=a.a[4]+qe|0,a.a[5]=a.a[5]+bt|0,a.a[6]=a.a[6]+ht|0,a.a[7]=a.a[7]+z|0}function Wh(a,h,b){void 0===b&&(b=h.length);var T=0,S=a.c;if("string"==typeof h)for(;T<b;)a.f[S++]=h.charCodeAt(T++),S==a.b&&(W3(a),S=0);else{if(!Ne(h))throw Error("message must be string or array");for(;T<b;){var z=h[T++];if(!("number"==typeof z&&0<=z&&255>=z&&z==(0|z)))throw Error("message must be a byte array");a.f[S++]=z,S==a.b&&(W3(a),S=0)}}a.c=S,a.g+=b}G3.prototype.reset=function(){this.g=this.c=0,this.a=F.Int32Array?new Int32Array(this.h):An(this.h)};var zd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function f7(){G3.call(this,8,h7)}de(f7,G3);var h7=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vd(a,h,b,T,S,z){this.v=a,this.i=h,this.l=b,this.m=T||null,this.u=S||null,this.s=z,this.h=h+":"+b,this.C=new Pd,this.g=new Zh(this.h),this.f=null,this.b=[],this.a=this.c=null}function B0(a){return new G("invalid-cordova-configuration",a)}function Oa(a,h){for(var b=0;b<a.b.length;b++)try{a.b[b](h)}catch(T){}}function ql(a){return a.f||(a.f=a.ma().then(function(){return new ln(function(h){a.Ea(function b(T){return h(T),a.Ta(b),!1}),function(a){function h(U){T=!0,S&&S.cancel(),Ur(a).then(function(Y){var ke=b;if(Y&&U&&U.url){var qe=null;-1!=(ke=g3(U.url)).indexOf("/__/auth/callback")&&(qe=(qe="object"==typeof(qe=ds(us(qe=xi(ke),"firebaseError")||null))?we(qe):null)?new Qr(Y.c,Y.b,null,null,qe,null,Y.T()):new Qr(Y.c,Y.b,ke,Y.f,null,null,Y.T())),ke=qe||b}Oa(a,ke)})}var b=new Qr("unknown",null,null,null,new G("no-auth-event")),T=!1,S=Us(500).then(function(){return Ur(a).then(function(){T||Oa(a,b)})}),z=F.handleOpenURL;F.handleOpenURL=function(U){if(0==U.toLowerCase().indexOf(Rn("BuildInfo.packageName",F).toLowerCase()+"://")&&h({url:U}),"function"==typeof z)try{z(U)}catch(Y){console.error(Y)}},mu||(mu=new Jr),function(a){var h=mu;h.a.push(a),h.b||(h.b=function(b){for(var T=0;T<h.a.length;T++)h.a[T](b)},"function"==typeof(a=Rn("universalLinks.subscribe",F))&&a(null,h.b))}(h)}(a)})})),a.f}function Ur(a){var h=null;return function(a){return a.b.get(Pi,a.a).then(function(h){return ic(h)})}(a.g).then(function(b){return h=b,no((b=a.g).b,Pi,b.a)}).then(function(){return h})}function Zl(a){this.a=a,this.b=_2()}(B=Vd.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(r0(void 0)?hs().then(function(){return new ln(function(a,h){var b=F.document,T=setTimeout(function(){h(Error("Cordova framework is not ready."))},1e3);b.addEventListener("deviceready",function(){clearTimeout(T),a()},!1)})}):tr(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Rn("universalLinks.subscribe",F))throw B0("cordova-universal-links-plugin-fix is not installed");if(void 0===Rn("BuildInfo.packageName",F))throw B0("cordova-plugin-buildinfo is not installed");if("function"!=typeof Rn("cordova.plugins.browsertab.openUrl",F))throw B0("cordova-plugin-browsertab is not installed");if("function"!=typeof Rn("cordova.InAppBrowser.open",F))throw B0("cordova-plugin-inappbrowser is not installed")},function(){throw new G("cordova-not-ready")})},B.Pb=function(a,h){return h(new G("operation-not-supported-in-this-environment")),Mt()},B.Nb=function(){return tr(new G("operation-not-supported-in-this-environment"))},B.ac=function(){return!1},B.Yb=function(){return!0},B.Ub=function(){return!0},B.Ob=function(a,h,b,T){if(this.c)return tr(new G("redirect-operation-pending"));var S=this,z=F.document,U=null,Y=null,ke=null,qe=null;return this.c=Mt().then(function(){return b0(h),ql(S)}).then(function(){return function(a,h,b,T,S){var z=function(){for(var a=20,h=[];0<a;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return h.join("")}(),U=new Qr(h,T,null,z,new G("no-auth-event"),null,S),Y=Rn("BuildInfo.packageName",F);if("string"!=typeof Y)throw new G("invalid-cordova-configuration");var ke=Rn("BuildInfo.displayName",F),qe={};if(fi().toLowerCase().match(/iphone|ipad|ipod/))qe.ibi=Y;else{if(!fi().toLowerCase().match(/android/))return tr(new G("operation-not-supported-in-this-environment"));qe.apn=Y}ke&&(qe.appDisplayName=ke),z=function(a){var h=new f7;Wh(h,a),a=[];var b=8*h.g;Wh(h,$h,56>h.c?56-h.c:h.b-(h.c-56));for(var T=63;56<=T;T--)h.f[T]=255&b,b/=256;for(W3(h),T=b=0;T<h.i;T++)for(var S=24;0<=S;S-=8)a[b++]=h.a[T]>>S&255;return function(a){return Kt(a,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}(a)}(z),qe.sessionId=z;var bt=rt(a.v,a.i,a.l,h,b,null,T,a.m,qe,a.u,S,a.s);return a.ma().then(function(){var ht=a.h;return a.C.a.set(Pi,U.w(),ht)}).then(function(){var ht=Rn("cordova.plugins.browsertab.isAvailable",F);if("function"!=typeof ht)throw new G("invalid-cordova-configuration");var hn=null;ht(function(Fn){if(Fn){if("function"!=typeof(hn=Rn("cordova.plugins.browsertab.openUrl",F)))throw new G("invalid-cordova-configuration");hn(bt)}else{if("function"!=typeof(hn=Rn("cordova.InAppBrowser.open",F)))throw new G("invalid-cordova-configuration");Fn=fi(),a.a=hn(bt,Fn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Fn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(S,a,h,b,T)}).then(function(){return new ln(function(bt,ht){Y=function(){var hn=Rn("cordova.plugins.browsertab.close",F);return bt(),"function"==typeof hn&&hn(),S.a&&"function"==typeof S.a.close&&(S.a.close(),S.a=null),!1},S.Ea(Y),qe=function(){It()&&ke()},z.addEventListener("resume",ke=function(){U||(U=Us(2e3).then(function(){ht(new G("redirect-cancelled-by-user"))}))},!1),fi().toLowerCase().match(/android/)||z.addEventListener("visibilitychange",qe,!1)}).o(function(bt){return Ur(S).then(function(){throw bt})})}).oa(function(){ke&&z.removeEventListener("resume",ke,!1),qe&&z.removeEventListener("visibilitychange",qe,!1),U&&U.cancel(),Y&&S.Ta(Y),S.c=null})},B.Ea=function(a){this.b.push(a),ql(this).o(function(h){"auth/invalid-cordova-configuration"===h.code&&(h=new Qr("unknown",null,null,null,new G("no-auth-event")),a(h))})},B.Ta=function(a){en(this.b,function(h){return h==a})};var Gl={name:"pendingRedirect",F:"session"};function Yh(a){return no(a.b,Gl,a.a)}function j0(a,h,b,T){this.i={},this.u=0,this.D=a,this.v=h,this.m=b,this.J=T,this.h=[],this.f=!1,this.l=ot(this.s,this),this.b=new Yl,this.C=new Du,this.g=new Zl(Ra(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Hd(this.D,this.v,this.m,_n,this.J)}function Hd(a,h,b,T,S){var z=u.default.SDK_VERSION||null;return r0()?new Vd(a,h,b,z,T,S):new ne(a,h,b,z,T,S)}function Qh(a){a.f||(a.f=!0,a.a.Ea(a.l));var h=a.a;return a.a.ma().o(function(b){throw a.a==h&&a.reset(),b})}function $l(a){a.a.Yb()&&Qh(a).o(function(h){var b=new Qr("unknown",null,null,null,new G("operation-not-supported-in-this-environment"));M1(h)&&a.s(b)}),a.a.Ub()||Q3(a.b)}function K3(a,h){Ln(a.h,h)||a.h.push(h),a.f||function(a){return a.b.get(Gl,a.a).then(function(h){return"pending"==h})}(a.g).then(function(b){b?Yh(a.g).then(function(){Qh(a).o(function(T){var S=new Qr("unknown",null,null,null,new G("operation-not-supported-in-this-environment"));M1(T)&&a.s(S)})}):$l(a)}).o(function(){$l(a)})}function Wl(a,h){en(a.h,function(b){return b==h})}j0.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Hd(this.D,this.v,this.m,null,this.J),this.i={}},j0.prototype.s=function(a){if(!a)throw new G("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var h=!1,b=0;b<this.h.length;b++){var T=this.h[b];if(T.Gb(a.c,a.b)){(h=this.c[a.c])&&(h.h(a,T),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=Date.now())),h=!0;break}}return Q3(this.b),h};var Ud=new ar(2e3,1e4),p7=new ar(3e4,6e4);function C2(a,h,b,T,S,z,U){return a.a.Nb(h,b,T,function(){a.f||(a.f=!0,a.a.Ea(a.l))},function(){a.reset()},S,z,U)}function M1(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Kl(a,h,b,T,S){var z;return function(a){return a.b.set(Gl,"pending",a.a)}(a.g).then(function(){return a.a.Ob(h,b,T,S).o(function(U){if(M1(U))throw new G("operation-not-supported-in-this-environment");return z=U,Yh(a.g).then(function(){throw z})}).then(function(){return a.a.ac()?new ln(function(){}):Yh(a.g).then(function(){return a.ra()}).then(function(){}).o(function(){})})})}function bc(a,h,b,T,S){return a.a.Pb(T,function(z){h.na(b,null,z,S)},Ud.get())}j0.prototype.ra=function(){return this.b.ra()};var xu={};function Ra(a,h,b){return a=a+":"+h,b&&(a=a+":"+b.url),a}function Y3(a,h,b,T){var S=Ra(h,b,T);return xu[S]||(xu[S]=new j0(a,h,b,T)),xu[S]}function Yl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Q3(a){a.g||(a.g=!0,Su(a,!1,null,null))}function w2(a){a.g&&!a.i&&Su(a,!1,null,null)}function I1(a,h){if(a.b=function(){return Mt(h)},a.f.length)for(var b=0;b<a.f.length;b++)a.f[b](h)}function Su(a,h,b,T){h?T?function(a,h){if(a.b=function(){return tr(h)},a.c.length)for(var b=0;b<a.c.length;b++)a.c[b](h)}(a,T):I1(a,b):I1(a,{user:null}),a.f=[],a.c=[]}function Du(){}function Ql(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(a){this.jb=a},enumerable:!1})}function J3(a,h){this.a=h,ft(this,"verificationId",a)}function Cc(a,h,b,T){return new br(a).gb(h,b).then(function(S){return new J3(S,T)})}function qd(a){var h=uu(a);if(!(h&&h.exp&&h.auth_time&&h.iat))throw new G("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Pr(this,{token:a,expirationTime:Nt(1e3*h.exp),authTime:Nt(1e3*h.auth_time),issuedAtTime:Nt(1e3*h.iat),signInProvider:h.firebase&&h.firebase.sign_in_provider?h.firebase.sign_in_provider:null,signInSecondFactor:h.firebase&&h.firebase.sign_in_second_factor?h.firebase.sign_in_second_factor:null,claims:h})}function zi(a,h,b){var T=h&&h[Jl];if(!T)throw new G("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=re(h),this.g=b,this.c=new m1(null,T),this.b=[];var S=this;kn(h[So]||[],function(z){(z=l1(z))&&S.b.push(z)}),ft(this,"auth",this.a),ft(this,"session",this.c),ft(this,"hints",this.b)}Yl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yl.prototype.h=function(a,h){if(a){this.reset(),this.g=!0;var b=a.c,T=a.b,S=a.a&&"auth/web-storage-unsupported"==a.a.code,z=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!S&&!z),"unknown"!=b||S||z?a.a?(Su(this,!0,null,a.a),Mt()):h.Fa(b,T)?function(a,h,b){b=b.Fa(h.c,h.b);var T=h.g,S=h.f,z=h.i,U=h.T(),Y=!!h.c.match(/Redirect$/);b(T,S,U,z).then(function(ke){Su(a,Y,ke,null)}).o(function(ke){Su(a,Y,null,ke)})}(this,a,h):tr(new G("invalid-auth-event")):(Su(this,!1,null,null),Mt())}else tr(new G("invalid-auth-event"))},Yl.prototype.ra=function(){var a=this;return new ln(function(h,b){a.b?a.b().then(h,b):(a.f.push(h),a.c.push(b),function(a){var h=new G("timeout");a.a&&a.a.cancel(),a.a=Us(p7.get()).then(function(){a.b||(a.g=!0,Su(a,!0,null,h))})}(a))})},Du.prototype.h=function(a,h){if(a){var b=a.c,T=a.b;a.a?(h.na(a.c,null,a.a,a.b),Mt()):h.Fa(b,T)?function(a,h){var b=a.b,T=a.c;h.Fa(T,b)(a.g,a.f,a.T(),a.i).then(function(S){h.na(T,S,null,b)}).o(function(S){h.na(T,null,S,b)})}(a,h):tr(new G("invalid-auth-event"))}else tr(new G("invalid-auth-event"))},J3.prototype.confirm=function(a){return a=y0(this.verificationId,a),this.a(a)};var So="mfaInfo",Jl="mfaPendingCredential";function Xl(a,h,b,T){G.call(this,"multi-factor-auth-required",T,h),this.b=new zi(a,h,b),ft(this,"resolver",this.b)}function Zd(a,h,b){if(a&&Me(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new Xl(h,a.serverResponse,b,a.message)}catch(T){}return null}function e8(){}function Nu(a){ft(this,"factorId",a.fa),this.a=a}function e4(a){if(Nu.call(this,a),this.a.fa!=br.PROVIDER_ID)throw new G("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function E2(a,h){for(var b in on.call(this,a),h)this[b]=h[b]}function q0(a,h){this.a=a,this.b=[],this.c=ot(this.yc,this),Co(this.a,"userReloaded",this.c);var b=[];h&&h.multiFactor&&h.multiFactor.enrolledFactors&&kn(h.multiFactor.enrolledFactors,function(T){var S=null,z={};if(T){T.uid&&(z[ou]=T.uid),T.displayName&&(z[t2]=T.displayName),T.enrollmentTime&&(z[Ea]=new Date(T.enrollmentTime).toISOString()),T.phoneNumber&&(z[$s]=T.phoneNumber);try{S=new su(z)}catch(U){}T=S}else T=null;T&&b.push(T)}),wc(this,b)}function wc(a,h){a.b=h,ft(a,"enrolledFactors",h)}function Z0(a,h,b){if(this.h=a,this.i=h,this.g=b,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function t4(a,h){a.stop(),a.b=Us(function(a,h){return h?(a.a=a.c,a.g()):(h=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),h)}(a,h)).then(function(){return function(){var a=F.document,h=null;return It()||!a?Mt():new ln(function(b){h=function(){It()&&(a.removeEventListener("visibilitychange",h,!1),b())},a.addEventListener("visibilitychange",h,!1)}).o(function(b){throw a.removeEventListener("visibilitychange",h,!1),b})}()}).then(function(){return a.h()}).then(function(){t4(a,!0)}).o(function(b){a.i(b)&&t4(a,!1)})}function n4(a){this.f=a,this.b=this.a=null,this.c=Date.now()}function ef(a,h){void 0===h&&(h=a.b?(h=a.b).a-h.g:0),a.c=Date.now()+1e3*h}function tf(a,h){a.b=p1(h[Li]||""),a.a=h.refreshToken,ef(a,void 0!==(h=h.expiresIn)?Number(h):void 0)}function Cs(a,h){this.a=a||null,this.b=h||null,Pr(this,{lastSignInTime:Nt(h||null),creationTime:Nt(a||null)})}function $d(a,h,b,T,S,z){Pr(this,{uid:a,displayName:T||null,photoURL:S||null,email:b||null,phoneNumber:z||null,providerId:h})}function ro(a,h,b){this.N=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null;var T=u.default.SDK_VERSION?Ho(u.default.SDK_VERSION):null;this.a=new Pn(this.l,Ct(_n),T),(this.u=a.emulatorConfig||null)&&eo(this.a,this.u),this.h=new n4(this.a),K0(this,h[Li]),tf(this.h,h),ft(this,"refreshToken",this.h.a),i4(this,b||{}),Ir.call(this),this.P=!1,this.s&&Eo()&&(this.b=Y3(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(a){return new Z0(function(){return a.I(!0)},function(h){return!(!h||"auth/network-request-failed"!=h.code)},function(){var h=a.h.c-Date.now()-3e5;return 0<h?h:0})}(this),this.ba=ot(this.ib,this);var S=this;this.za=null,this.Pa=function(z){S.xa(z.h)},this.qa=null,this.Ba=function(z){r4(S,z.c)},this.$=null,this.aa=[],this.Oa=function(z){$0(S,z.f)},this.ja=null,this.S=new q0(this,b),ft(this,"multiFactor",this.S)}function r4(a,h){a.u=h,eo(a.a,h),a.b&&(h=a.b,a.b=Y3(a.s,a.l,a.m,a.u),a.P&&(Wl(h,a),K3(a.b,a)))}function x1(a,h){a.qa&&Ii(a.qa,"languageCodeChanged",a.Pa),(a.qa=h)&&Co(h,"languageCodeChanged",a.Pa)}function G0(a,h){a.$&&Ii(a.$,"emulatorConfigChanged",a.Ba),(a.$=h)&&Co(h,"emulatorConfigChanged",a.Ba)}function $0(a,h){a.aa=h,d2(a.a,u.default.SDK_VERSION?Ho(u.default.SDK_VERSION,a.aa):null)}function W0(a,h){a.ja&&Ii(a.ja,"frameworkChanged",a.Oa),(a.ja=h)&&Co(h,"frameworkChanged",a.Oa)}function S1(a){try{return u.default.app(a.m).auth()}catch(h){throw new G("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Ec(a){a.J||a.D.b||(a.D.start(),Ii(a,"tokenChanged",a.ba),Co(a,"tokenChanged",a.ba))}function Lu(a){Ii(a,"tokenChanged",a.ba),a.D.stop()}function K0(a,h){a.Aa=h,ft(a,"_lat",h)}function Vi(a){for(var h=[],b=0;b<a.W.length;b++)h.push(a.W[b](a));return Zi(h).then(function(){return a})}function D1(a){a.b&&!a.P&&(a.P=!0,K3(a.b,a))}function i4(a,h){Pr(a,{uid:h.uid,displayName:h.displayName||null,photoURL:h.photoURL||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,isAnonymous:h.isAnonymous||!1,tenantId:h.tenantId||null,metadata:new Cs(h.createdAt,h.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Y0(){}function nf(a){return Mt().then(function(){if(a.J)throw new G("app-deleted")})}function Gn(a){return Kt(a.providerData,function(h){return h.providerId})}function Q0(a,h){h&&(Wd(a,h.providerId),a.providerData.push(h))}function Wd(a,h){en(a.providerData,function(b){return b.providerId==h})}function A2(a,h,b){("uid"!=h||b)&&a.hasOwnProperty(h)&&ft(a,h,b)}function T2(a,h){a!=h&&(Pr(a,{uid:h.uid,displayName:h.displayName,photoURL:h.photoURL,email:h.email,emailVerified:h.emailVerified,phoneNumber:h.phoneNumber,isAnonymous:h.isAnonymous,tenantId:h.tenantId,providerData:[]}),ft(a,"metadata",h.metadata?function(a){return new Cs(a.a,a.b)}(h.metadata):new Cs),kn(h.providerData,function(b){Q0(a,b)}),function(a,h){a.b=h.b,a.a=h.a,a.c=h.c}(a.h,h.h),ft(a,"refreshToken",a.h.a),wc(a.S,h.S.b))}function Ac(a){return a.I().then(function(h){var b=a.isAnonymous;return function(a,h){return an(a.a,Sd,{idToken:h}).then(ot(a.Kc,a))}(a,h).then(function(){return b||A2(a,"isAnonymous",!1),h})})}function Pa(a,h){h[Li]&&a.Aa!=h[Li]&&(tf(a.h,h),a.dispatchEvent(new E2("tokenChanged")),K0(a,h[Li]),A2(a,"refreshToken",a.h.a))}function Ru(a,h){return Ac(a).then(function(){if(Ln(Gn(a),h))return Vi(a).then(function(){throw new G("provider-already-linked")})})}function J0(a,h,b){return Ni({user:a,credential:_0(h),additionalUserInfo:h=fu(h),operationType:b})}function Kd(a,h){return Pa(a,h),a.reload().then(function(){return a})}function X0(a,h,b,T,S){if(!Eo())return tr(new G("operation-not-supported-in-this-environment"));if(a.i&&!S)return tr(a.i);var z=Ys(b.providerId),U=Ca(a.uid+":::"),Y=null;(!a1()||c3())&&a.s&&b.isOAuthProvider&&(Y=rt(a.s,a.l,a.m,h,b,null,U,u.default.SDK_VERSION||null,null,null,a.tenantId,a.u));var ke=li(Y,z&&z.va,z&&z.ua);return T=T().then(function(){if(rf(a),!S)return a.I().then(function(){})}).then(function(){return C2(a.b,ke,h,b,U,!!Y,a.tenantId)}).then(function(){return new ln(function(qe,bt){a.na(h,null,new G("cancelled-popup-request"),a.g||null),a.f=qe,a.C=bt,a.g=U,a.c=bc(a.b,a,h,ke,U)})}).then(function(qe){return ke&&i1(ke),qe?Ni(qe):null}).o(function(qe){throw ke&&i1(ke),qe}),pr(a,T,S)}function Wo(a,h,b,T,S){if(!Eo())return tr(new G("operation-not-supported-in-this-environment"));if(a.i&&!S)return tr(a.i);var z=null,U=Ca(a.uid+":::");return T=T().then(function(){if(rf(a),!S)return a.I().then(function(){})}).then(function(){return a.ga=U,Vi(a)}).then(function(Y){return a.ha&&(Y=(Y=a.ha).b.set(of,a.w(),Y.a)),Y}).then(function(){return Kl(a.b,h,b,U,a.tenantId)}).o(function(Y){if(z=Y,a.ha)return s8(a.ha);throw z}).then(function(){if(z)throw z}),pr(a,T,S)}function rf(a){if(!a.b||!a.P)throw new G(a.b&&!a.P?"internal-error":"auth-domain-config-required")}function pr(a,h,b){var T=function(a,h,b){return a.i&&!b?(h.cancel(),tr(a.i)):h.o(function(T){throw!T||"auth/user-disabled"!=T.code&&"auth/user-token-expired"!=T.code||(a.i||a.dispatchEvent(new E2("userInvalidated")),a.i=T),T})}(a,h,b);return a.N.push(T),T.oa(function(){ct(a.N,T)}),T.o(function(S){var z=null;throw S&&"auth/multi-factor-auth-required"===S.code&&(z=Zd(S.w(),S1(a),ot(a.jc,a))),z||S})}function Pu(a){if(!a.apiKey)return null;var h={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName,emulatorConfig:a.emulatorConfig},b={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;b[Li]=a.stsTokenManager.accessToken,b.refreshToken=a.stsTokenManager.refreshToken||null;var T=a.stsTokenManager.expirationTime;T&&(b.expiresIn=(T-Date.now())/1e3);var S=new ro(h,b,a);return a.providerData&&kn(a.providerData,function(z){z&&Q0(S,Ni(z))}),a.redirectEventId&&(S.ga=a.redirectEventId),S}function Qd(a){this.a=a,this.b=_2()}zi.prototype.Rc=function(a){var h=this;return a.tb(this.a.a,this.c).then(function(b){var T=re(h.f);return delete T[So],delete T[Jl],W(T,b),h.g(T)})},de(Xl,G),e8.prototype.tb=function(a,h,b){return h.type==Uo?function(a,h,b,T){return b.Ha().then(function(S){return S={idToken:S},void 0!==T&&(S.displayName=T),W(S,{phoneVerificationInfo:a2(a.a)}),an(h,ta,S)})}(this,a,h,b):function(a,h,b){return b.Ha().then(function(T){return W(T={mfaPendingCredential:T},{phoneVerificationInfo:a2(a.a)}),an(h,N0,T)})}(this,a,h)},de(Nu,e8),de(e4,Nu),de(E2,on),(B=q0.prototype).yc=function(a){wc(this,function(a){var h=[];return kn(a.mfaInfo||[],function(b){(b=l1(b))&&h.push(b)}),h}(a.hd))},B.Sb=function(){return this.a.I().then(function(a){return new m1(a,null)})},B.fc=function(a,h){var b=this,T=this.a.a;return this.Sb().then(function(S){return a.tb(T,S,h)}).then(function(S){return Pa(b.a,S),b.a.reload()})},B.bd=function(a){var h=this,b="string"==typeof a?a:a.uid,T=this.a.a;return this.a.I().then(function(S){return an(T,Pl,{idToken:S,mfaEnrollmentId:b})}).then(function(S){var z=Wa(h.b,function(U){return U.uid!=b});return wc(h,z),Pa(h.a,S),h.a.reload().o(function(U){if("auth/user-token-expired"!=U.code)throw U})})},B.w=function(){return{multiFactor:{enrolledFactors:Kt(this.b,function(a){return a.w()})}}},Z0.prototype.start=function(){this.a=this.c,t4(this,!0)},Z0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},n4.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},n4.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?tr(new G("user-token-expired")):a||!this.b||Date.now()>this.c-3e4?this.a?function(a,h){return function(a,h){return new ln(function(b,T){"refresh_token"==h.grant_type&&h.refresh_token||"authorization_code"==h.grant_type&&h.code?fc(a,a.l+"?key="+encodeURIComponent(a.c),function(S){S?S.error?T(zl(S)):S.access_token&&S.refresh_token?b(S):T(new G("internal-error")):T(new G("network-request-failed"))},"POST",e0(h).toString(),a.g,a.m.get()):T(new G("internal-error"))})}(a.f,h).then(function(b){return a.b=p1(b.access_token),a.a=b.refresh_token,ef(a,b.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}}).o(function(b){throw"auth/user-token-expired"==b.code&&(a.a=null),b})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Mt(null):Mt({accessToken:this.b.toString(),refreshToken:this.a})},Cs.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},de(ro,Ir),ro.prototype.xa=function(a){this.za=a,lc(this.a,a)},ro.prototype.la=function(){return this.za},ro.prototype.Ga=function(){return An(this.aa)},ro.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ft(ro.prototype,"providerId","firebase"),(B=ro.prototype).reload=function(){var a=this;return pr(this,nf(this).then(function(){return Ac(a).then(function(){return Vi(a)}).then(Y0)}))},B.oc=function(a){return this.I(a).then(function(h){return new qd(h)})},B.I=function(a){var h=this;return pr(this,nf(this).then(function(){return h.h.getToken(a)}).then(function(b){if(!b)throw new G("internal-error");return b.accessToken!=h.Aa&&(K0(h,b.accessToken),h.dispatchEvent(new E2("tokenChanged"))),A2(h,"refreshToken",b.refreshToken),b.accessToken}))},B.Kc=function(a){if(!(a=a.users)||!a.length)throw new G("internal-error");i4(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var h=function(a){return(a=a.providerUserInfo)&&a.length?Kt(a,function(h){return new $d(h.rawId,h.providerId,h.email,h.displayName,h.photoUrl,h.phoneNumber)}):[]}(a),b=0;b<h.length;b++)Q0(this,h[b]);A2(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new E2("userReloaded",{hd:a}))},B.Lc=function(a){return c1("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(a)},B.ub=function(a){var h=this,b=null;return pr(this,a.c(this.a,this.uid).then(function(T){return Pa(h,T),b=J0(h,T,"reauthenticate"),h.i=null,h.reload()}).then(function(){return b}),!0)},B.Cc=function(a){return c1("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(a)},B.rb=function(a){var h=this,b=null;return pr(this,Ru(this,a.providerId).then(function(){return h.I()}).then(function(T){return a.b(h.a,T)}).then(function(T){return b=J0(h,T,"link"),Kd(h,T)}).then(function(){return b}))},B.Dc=function(a,h){var b=this;return pr(this,Ru(this,"phone").then(function(){return Cc(S1(b),a,h,ot(b.rb,b))}))},B.Mc=function(a,h){var b=this;return pr(this,Mt().then(function(){return Cc(S1(b),a,h,ot(b.ub,b))}),!0)},B.Cb=function(a){var h=this;return pr(this,this.I().then(function(b){return h.a.Cb(b,a)}).then(function(b){return Pa(h,b),h.reload()}))},B.ed=function(a){var h=this;return pr(this,this.I().then(function(b){return a.b(h.a,b)}).then(function(b){return Pa(h,b),h.reload()}))},B.Db=function(a){var h=this;return pr(this,this.I().then(function(b){return h.a.Db(b,a)}).then(function(b){return Pa(h,b),h.reload()}))},B.Eb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return nf(this);var h=this;return pr(this,this.I().then(function(b){return h.a.Eb(b,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(b){return Pa(h,b),A2(h,"displayName",b.displayName||null),A2(h,"photoURL",b.photoUrl||null),kn(h.providerData,function(T){"password"===T.providerId&&(ft(T,"displayName",h.displayName),ft(T,"photoURL",h.photoURL))}),Vi(h)}).then(Y0))},B.cd=function(a){var h=this;return pr(this,Ac(this).then(function(b){return Ln(Gn(h),a)?function(a,h,b){return an(a,S3,{idToken:h,deleteProvider:b})}(h.a,b,[a]).then(function(T){var S={};return kn(T.providerUserInfo||[],function(z){S[z.providerId]=!0}),kn(Gn(h),function(z){S[z]||Wd(h,z)}),S[br.PROVIDER_ID]||ft(h,"phoneNumber",null),Vi(h)}):Vi(h).then(function(){throw new G("no-such-provider")})}))},B.delete=function(){var a=this;return pr(this,this.I().then(function(h){return an(a.a,Fh,{idToken:h})}).then(function(){a.dispatchEvent(new E2("userDeleted"))})).then(function(){for(var h=0;h<a.N.length;h++)a.N[h].cancel("app-deleted");x1(a,null),G0(a,null),W0(a,null),a.N=[],a.J=!0,Lu(a),ft(a,"refreshToken",null),a.b&&Wl(a.b,a)})},B.Gb=function(a,h){return!!("linkViaPopup"==a&&(this.g||null)==h&&this.f||"reauthViaPopup"==a&&(this.g||null)==h&&this.f||"linkViaRedirect"==a&&(this.ga||null)==h||"reauthViaRedirect"==a&&(this.ga||null)==h)},B.na=function(a,h,b,T){"linkViaPopup"!=a&&"reauthViaPopup"!=a||T!=(this.g||null)||(b&&this.C?this.C(b):h&&!b&&this.f&&this.f(h),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},B.Fa=function(a,h){return"linkViaPopup"==a&&h==(this.g||null)?ot(this.Lb,this):"reauthViaPopup"==a&&h==(this.g||null)?ot(this.Mb,this):"linkViaRedirect"==a&&(this.ga||null)==h?ot(this.Lb,this):"reauthViaRedirect"==a&&(this.ga||null)==h?ot(this.Mb,this):null},B.Ec=function(a){var h=this;return X0(this,"linkViaPopup",a,function(){return Ru(h,a.providerId).then(function(){return Vi(h)})},!1)},B.Nc=function(a){return X0(this,"reauthViaPopup",a,function(){return Mt()},!0)},B.Fc=function(a){var h=this;return Wo(this,"linkViaRedirect",a,function(){return Ru(h,a.providerId)},!1)},B.Oc=function(a){return Wo(this,"reauthViaRedirect",a,function(){return Mt()},!0)},B.Lb=function(a,h,b,T){var S=this;this.c&&(this.c.cancel(),this.c=null);var z=null;return pr(this,this.I().then(function(U){return ri(S.a,{requestUri:a,postBody:T,sessionId:h,idToken:U})}).then(function(U){return z=J0(S,U,"link"),Kd(S,U)}).then(function(){return z}))},B.Mb=function(a,h,b,T){var S=this;this.c&&(this.c.cancel(),this.c=null);var z=null;return pr(this,Mt().then(function(){return Mn(Cu(S.a,{requestUri:a,sessionId:h,postBody:T,tenantId:b}),S.uid)}).then(function(Y){return z=J0(S,Y,"reauthenticate"),Pa(S,Y),S.i=null,S.reload()}).then(function(){return z}),!0)},B.vb=function(a){var h=this,b=null;return pr(this,this.I().then(function(T){return b=T,void 0===a||ie(a)?{}:Ki(new ki(a))}).then(function(T){return h.a.vb(b,T)}).then(function(T){if(h.email!=T)return h.reload()}).then(function(){}))},B.Fb=function(a,h){var b=this,T=null;return pr(this,this.I().then(function(S){return T=S,void 0===h||ie(h)?{}:Ki(new ki(h))}).then(function(S){return b.a.Fb(T,a,S)}).then(function(S){if(b.email!=S)return b.reload()}).then(function(){}))},B.jc=function(a){var h=null,b=this;return pr(this,a=Mn(Mt(a),b.uid).then(function(T){return h=J0(b,T,"reauthenticate"),Pa(b,T),b.i=null,b.reload()}).then(function(){return h}),!0)},B.toJSON=function(){return this.w()},B.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&W(a,this.metadata.w()),kn(this.providerData,function(h){a.providerData.push(function(a){var b,h={};for(b in a)a.hasOwnProperty(b)&&(h[b]=a[b]);return h}(h))}),W(a,this.S.w()),a};var of={name:"redirectUser",F:"session"};function s8(a){return no(a.b,of,a.a)}function e6(a){this.a=a,this.b=_2(),this.c=null,this.f=function(a){var h=ws("local"),b=ws("session"),T=ws("none");return function(a,h,b){var T=Mu(h,b),S=_c(a,h.F);return a.get(h,b).then(function(z){var U=null;try{U=ds(F.localStorage.getItem(T))}catch(Y){}if(U&&!z)return F.localStorage.removeItem(T),a.set(h,U,b);U&&z&&"localStorage"!=S.type&&F.localStorage.removeItem(T)})}(a.b,h,a.a).then(function(){return a.b.get(b,a.a)}).then(function(S){return S?b:a.b.get(T,a.a).then(function(z){return z?T:a.b.get(h,a.a).then(function(U){return U?h:a.b.get(I2,a.a).then(function(Y){return Y?ws(Y):h})})})}).then(function(S){return a.c=S,t6(a,S.F)}).o(function(){a.c||(a.c=h)})}(this),this.b.addListener(ws("local"),this.a,ot(this.g,this))}function t6(a,h){var T,b=[];for(T in yc)yc[T]!==h&&b.push(no(a.b,ws(yc[T]),a.a));return b.push(no(a.b,I2,a.a)),function(a){return new ln(function(h,b){var T=a.length,S=[];if(T)for(var z=function(qe,bt){T--,S[qe]=bt,0==T&&h(S)},U=function(qe){b(qe)},Y=0;Y<a.length;Y++)as(a[Y],Gt(z,Y),U);else h(S)})}(b)}e6.prototype.g=function(){var a=this,h=ws("local");N1(this,function(){return Mt().then(function(){return a.c&&"local"!=a.c.F?a.b.get(h,a.a):null}).then(function(b){if(b)return t6(a,"local").then(function(){a.c=h})})})};var I2={name:"persistence",F:"session"};function ws(a){return{name:"authUser",F:a}}function Jd(a,h){return N1(a,function(){return a.b.set(a.c,h.w(),a.a)})}function zu(a){return N1(a,function(){return no(a.b,a.c,a.a)})}function n6(a,h,b){return N1(a,function(){return a.b.get(a.c,a.a).then(function(T){return T&&h&&(T.authDomain=h),T&&b&&(T.emulatorConfig=b),Pu(T||{})})})}function N1(a,h){return a.f=a.f.then(h,h),a.f}function Ko(a){if(this.l=!1,ft(this,"settings",new Ql),ft(this,"app",a),!Nn(this).options||!Nn(this).options.apiKey)throw new G("invalid-api-key");a=u.default.SDK_VERSION?Ho(u.default.SDK_VERSION):null,this.a=new Pn(Nn(this).options&&Nn(this).options.apiKey,Ct(_n),a),this.P=[],this.s=[],this.N=[],this.Pa=u.default.INTERNAL.createSubscribe(ot(this.zc,this)),this.W=void 0,this.ib=u.default.INTERNAL.createSubscribe(ot(this.Ac,this)),Tc(this,null),this.i=new e6(Nn(this).options.apiKey+":"+Nn(this).name),this.D=new Qd(Nn(this).options.apiKey+":"+Nn(this).name),this.$=$n(this,function(a){var h=Nn(a).options.authDomain,b=function(a){var h=function(a,h){return a.b.get(of,a.a).then(function(b){return b&&h&&(b.authDomain=h),Pu(b||{})})}(a.D,Nn(a).options.authDomain).then(function(b){return(a.m=b)&&(b.ha=a.D),s8(a.D)});return $n(a,h)}(a).then(function(){return n6(a.i,h,a.R)}).then(function(T){return T?(T.ha=a.D,a.m&&(a.m.ga||null)==(T.ga||null)?T:T.reload().then(function(){return Jd(a.i,T).then(function(){return T})}).o(function(S){return"auth/network-request-failed"==S.code?T:zu(a.i)})):null}).then(function(T){Tc(a,T||null)});return $n(a,b)}(this)),this.h=$n(this,function(a){return a.$.then(function(){return k1(a)}).o(function(){}).then(function(){if(!a.l)return a.ja()}).o(function(){}).then(function(){if(!a.l){a.ba=!0;var h=a.i;h.b.addListener(ws("local"),h.a,a.ja)}})}(this)),this.ba=!1,this.ja=ot(this.Zc,this),this.Ba=ot(this.da,this),this.qa=ot(this.mc,this),this.za=ot(this.wc,this),this.Aa=ot(this.xc,this),this.b=null,function(a){var h=Nn(a).options.authDomain,b=Nn(a).options.apiKey;h&&Eo()&&(a.Oa=a.$.then(function(){if(!a.l){if(a.b=Y3(h,b,Nn(a).name,a.R),K3(a.b,a),Yt(a)&&D1(Yt(a)),a.m){D1(a.m);var T=a.m;T.xa(a.la()),x1(T,a),$0(T=a.m,a.J),W0(T,a),r4(T=a.m,a.R),G0(T,a),a.m=null}return a.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=ot(this.delete,this),this.INTERNAL.logFramework=ot(this.Gc,this),this.u=0,Ir.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.la()},set:function(h){this.xa(h)},enumerable:!1}),a.aa=null,Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(h){this.zb(h)},enumerable:!1}),a.S=null,Object.defineProperty(a,"emulatorConfig",{get:function(){if(this.R){var h=xi(this.R.url);h=Ni({protocol:h.c,host:h.a,port:h.g,options:Ni({disableWarnings:this.R.ec})})}else h=null;return h},enumerable:!1})}(this),this.J=[],this.R=null}function af(a){on.call(this,"languageCodeChanged"),this.h=a}function Xd(a){on.call(this,"emulatorConfigChanged"),this.c=a}function s4(a){on.call(this,"frameworkChanged"),this.f=a}function gr(a){return a.Oa||tr(new G("auth-domain-config-required"))}function k1(a){if(!Eo())return tr(new G("operation-not-supported-in-this-environment"));var h=gr(a).then(function(){return a.b.ra()}).then(function(b){return b?Ni(b):null});return $n(a,h)}function Tc(a,h){Yt(a)&&(function(a,h){en(a.W,function(b){return b==h})}(Yt(a),a.Ba),Ii(Yt(a),"tokenChanged",a.qa),Ii(Yt(a),"userDeleted",a.za),Ii(Yt(a),"userInvalidated",a.Aa),Lu(Yt(a))),h&&(h.W.push(a.Ba),Co(h,"tokenChanged",a.qa),Co(h,"userDeleted",a.za),Co(h,"userInvalidated",a.Aa),0<a.u&&Ec(h)),ft(a,"currentUser",h),h&&(h.xa(a.la()),x1(h,a),$0(h,a.J),W0(h,a),r4(h,a.R),G0(h,a))}function x2(a,h){var b=null,T=null;return $n(a,h.then(function(S){return b=_0(S),T=fu(S),function(a,h){var b={};return b.apiKey=Nn(a).options.apiKey,b.authDomain=Nn(a).options.authDomain,b.appName=Nn(a).name,a.R&&(b.emulatorConfig=a.R),a.$.then(function(){return function(a,h,b,T){var S=new ro(a,h);return b&&(S.ha=b),T&&$0(S,T),S.reload().then(function(){return S})}(b,h,a.D,a.Ga())}).then(function(T){return Yt(a)&&T.uid==Yt(a).uid?(T2(Yt(a),T),a.da(T)):(Tc(a,T),D1(T),a.da(T))}).then(function(){c4(a)})}(a,S)},function(S){var z=null;throw S&&"auth/multi-factor-auth-required"===S.code&&(z=Zd(S.w(),a,ot(a.kc,a))),z||S}).then(function(){return Ni({user:Yt(a),credential:b,additionalUserInfo:T,operationType:"signIn"})}))}function Nn(a){return a.app}function Yt(a){return a.currentUser}function Es(a){return Yt(a)&&Yt(a)._lat||null}function c4(a){if(a.ba){for(var h=0;h<a.s.length;h++)a.s[h]&&a.s[h](Es(a));if(a.W!==a.getUid()&&a.N.length)for(a.W=a.getUid(),h=0;h<a.N.length;h++)a.N[h]&&a.N[h](Es(a))}}function $n(a,h){return a.P.push(h),h.oa(function(){ct(a.P,h)}),h}function za(){}function Mc(){this.a={},this.b=1e12}e6.prototype.yb=function(a){var h=null,b=this;return function(a){var h=new G("invalid-persistence-type"),b=new G("unsupported-persistence-type");e:{for(T in yc)if(yc[T]==a){var T=!0;break e}T=!1}if(!T||"string"!=typeof a)throw h;switch(o1()){case"ReactNative":if("session"===a)throw b;break;case"Node":if("none"!==a)throw b;break;case"Worker":if("session"===a||!z0()&&"none"!==a)throw b;break;default:if(!fl()&&"none"!==a)throw b}}(a),N1(this,function(){return a!=b.c.F?b.b.get(b.c,b.a).then(function(T){return h=T,t6(b,a)}).then(function(){if(b.c=ws(a),h)return b.b.set(b.c,h,b.a)}):Mt()})},de(Ko,Ir),de(af,on),de(Xd,on),de(s4,on),(B=Ko.prototype).yb=function(a){return $n(this,a=this.i.yb(a))},B.xa=function(a){this.aa===a||this.l||(this.aa=a,lc(this.a,this.aa),this.dispatchEvent(new af(this.la())))},B.la=function(){return this.aa},B.fd=function(){var a=F.navigator;this.xa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},B.gd=function(a,h){if(!this.R){if(!/^https?:\/\//.test(a))throw new G("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(a){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),F.document&&!a&&hs().then(function(){var h=F.document.createElement("div");h.innerText="Running in emulator mode. Do not use with production credentials.",h.style.position="fixed",h.style.width="100%",h.style.backgroundColor="#ffffff",h.style.border=".1em solid #000000",h.style.color="#b50000",h.style.bottom="0px",h.style.left="0px",h.style.margin="0px",h.style.zIndex=1e4,h.style.textAlign="center",h.classList.add("firebase-emulator-warning"),F.document.body.appendChild(h)})})(h=!!h&&!!h.disableWarnings),this.R={url:a,ec:h},this.settings.jb=!0,eo(this.a,this.R),this.dispatchEvent(new Xd(this.R))}},B.Gc=function(a){this.J.push(a),d2(this.a,u.default.SDK_VERSION?Ho(u.default.SDK_VERSION,this.J):null),this.dispatchEvent(new s4(this.J))},B.Ga=function(){return An(this.J)},B.zb=function(a){this.S===a||this.l||(this.S=a,this.a.b=this.S)},B.T=function(){return this.S},B.toJSON=function(){return{apiKey:Nn(this).options.apiKey,authDomain:Nn(this).options.authDomain,appName:Nn(this).name,currentUser:Yt(this)&&Yt(this).w()}},B.Gb=function(a,h){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==h&&!!this.f;default:return!1}},B.na=function(a,h,b,T){"signInViaPopup"==a&&this.g==T&&(b&&this.C?this.C(b):h&&!b&&this.f&&this.f(h),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},B.Fa=function(a,h){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==h&&this.f?ot(this.ic,this):null},B.ic=function(a,h,b,T){var S=this,z={requestUri:a,postBody:T,sessionId:h,tenantId:b};return this.c&&(this.c.cancel(),this.c=null),S.$.then(function(){return x2(S,m2(S.a,z))})},B.Xc=function(a){if(!Eo())return tr(new G("operation-not-supported-in-this-environment"));var h=this,b=Ys(a.providerId),T=Ca(),S=null;(!a1()||c3())&&Nn(this).options.authDomain&&a.isOAuthProvider&&(S=rt(Nn(this).options.authDomain,Nn(this).options.apiKey,Nn(this).name,"signInViaPopup",a,null,T,u.default.SDK_VERSION||null,null,null,this.T(),this.R));var z=li(S,b&&b.va,b&&b.ua);return $n(this,b=gr(this).then(function(U){return C2(U,z,"signInViaPopup",a,T,!!S,h.T())}).then(function(){return new ln(function(U,Y){h.na("signInViaPopup",null,new G("cancelled-popup-request"),h.g),h.f=U,h.C=Y,h.g=T,h.c=bc(h.b,h,"signInViaPopup",z,T)})}).then(function(U){return z&&i1(z),U?Ni(U):null}).o(function(U){throw z&&i1(z),U}))},B.Yc=function(a){if(!Eo())return tr(new G("operation-not-supported-in-this-environment"));var h=this;return $n(this,gr(this).then(function(){return function(a){return N1(a,function(){return a.b.set(I2,a.c.F,a.a)})}(h.i)}).then(function(){return Kl(h.b,"signInViaRedirect",a,void 0,h.T())}))},B.ra=function(){var a=this;return k1(this).then(function(h){return a.b&&w2(a.b.b),h}).o(function(h){throw a.b&&w2(a.b.b),h})},B.dd=function(a){if(!a)return tr(new G("null-user"));if(this.S!=a.tenantId)return tr(new G("tenant-id-mismatch"));var h=this,b={};b.apiKey=Nn(this).options.apiKey,b.authDomain=Nn(this).options.authDomain,b.appName=Nn(this).name;var T=function(a,h,b,T){var S=a.h,z={};return z[Li]=S.b&&S.b.toString(),z.refreshToken=S.a,h=new ro(h||{apiKey:a.l,authDomain:a.s,appName:a.m},z),b&&(h.ha=b),T&&$0(h,T),T2(h,a),h}(a,b,h.D,h.Ga());return $n(this,this.h.then(function(){if(Nn(h).options.apiKey!=a.l)return T.reload()}).then(function(){return Yt(h)&&a.uid==Yt(h).uid?(T2(Yt(h),a),h.da(a)):(Tc(h,T),D1(T),h.da(T))}).then(function(){c4(h)}))},B.Bb=function(){var a=this;return $n(this,this.h.then(function(){return a.b&&w2(a.b.b),Yt(a)?(Tc(a,null),zu(a.i).then(function(){c4(a)})):Mt()}))},B.Zc=function(){var a=this;return n6(this.i,Nn(this).options.authDomain).then(function(h){if(!a.l){var b;if(b=Yt(a)&&h){b=Yt(a).uid;var T=h.uid;b=null!=b&&""!==b&&null!=T&&""!==T&&b==T}if(b)return T2(Yt(a),h),Yt(a).I();(Yt(a)||h)&&(Tc(a,h),h&&(D1(h),h.ha=a.D),a.b&&K3(a.b,a),c4(a))}})},B.da=function(a){return Jd(this.i,a)},B.mc=function(){c4(this),this.da(Yt(this))},B.wc=function(){this.Bb()},B.xc=function(){this.Bb()},B.kc=function(a){var h=this;return this.h.then(function(){return x2(h,Mt(a))})},B.zc=function(a){var h=this;this.addAuthTokenListener(function(){a.next(Yt(h))})},B.Ac=function(a){var h=this;!function(a,h){a.N.push(h),$n(a,a.h.then(function(){!a.l&&Ln(a.N,h)&&a.W!==a.getUid()&&(a.W=a.getUid(),h(Es(a)))}))}(this,function(){a.next(Yt(h))})},B.Ic=function(a,h,b){var T=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof a?a(Yt(T)):"function"==typeof a.next&&a.next(Yt(T))}),this.Pa(a,h,b)},B.Hc=function(a,h,b){var T=this;return this.ba&&Promise.resolve().then(function(){T.W=T.getUid(),"function"==typeof a?a(Yt(T)):"function"==typeof a.next&&a.next(Yt(T))}),this.ib(a,h,b)},B.nc=function(a){var h=this;return $n(this,this.h.then(function(){return Yt(h)?Yt(h).I(a).then(function(T){return{accessToken:T}}):null}))},B.Tc=function(a){var h=this;return this.h.then(function(){return x2(h,an(h.a,k3,{token:a}))}).then(function(b){var T=b.user;return A2(T,"isAnonymous",!1),h.da(T),b})},B.Uc=function(a,h){var b=this;return this.h.then(function(){return x2(b,an(b.a,L3,{email:a,password:h}))})},B.dc=function(a,h){var b=this;return this.h.then(function(){return x2(b,an(b.a,Vh,{email:a,password:h}))})},B.ab=function(a){var h=this;return this.h.then(function(){return x2(h,a.ka(h.a))})},B.Sc=function(a){return c1("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(a)},B.Ab=function(){var a=this;return this.h.then(function(){var h=Yt(a);if(h&&h.isAnonymous){var b=Ni({providerId:null,isNewUser:!1});return Ni({user:h,credential:null,additionalUserInfo:b,operationType:"signIn"})}return x2(a,a.a.Ab()).then(function(T){var S=T.user;return A2(S,"isAnonymous",!0),a.da(S),T})})},B.getUid=function(){return Yt(this)&&Yt(this).uid||null},B.cc=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&Yt(this)&&Ec(Yt(this))},B.Pc=function(a){var h=this;kn(this.s,function(b){b==a&&h.u--}),0>this.u&&(this.u=0),0==this.u&&Yt(this)&&Lu(Yt(this)),this.removeAuthTokenListener(a)},B.addAuthTokenListener=function(a){var h=this;this.s.push(a),$n(this,this.h.then(function(){h.l||Ln(h.s,a)&&a(Es(h))}))},B.removeAuthTokenListener=function(a){en(this.s,function(h){return h==a})},B.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(ws("local"),a.a,this.ja),this.b&&(Wl(this.b,this),w2(this.b.b)),Promise.resolve()},B.hc=function(a){return $n(this,function(a,h){return an(a,Ll,{identifier:h,continueUri:hl()?Fo():"http://localhost"}).then(function(b){return b.signinMethods||[]})}(this.a,a))},B.Bc=function(a){return!!v0(a)},B.xb=function(a,h){var b=this;return $n(this,Mt().then(function(){var T=new ki(h);if(!T.c)throw new G("argument-error",Aa+" must be true when sending sign in link to email");return Ki(T)}).then(function(T){return b.a.xb(a,T)}).then(function(){}))},B.jd=function(a){return this.Sa(a).then(function(h){return h.data.email})},B.ob=function(a,h){return $n(this,this.a.ob(a,h).then(function(){}))},B.Sa=function(a){return $n(this,this.a.Sa(a).then(function(h){return new Md(h)}))},B.kb=function(a){return $n(this,this.a.kb(a).then(function(){}))},B.wb=function(a,h){var b=this;return $n(this,Mt().then(function(){return void 0===h||ie(h)?{}:Ki(new ki(h))}).then(function(T){return b.a.wb(a,T)}).then(function(){}))},B.Wc=function(a,h){return $n(this,Cc(this,a,h,ot(this.ab,this)))},B.Vc=function(a,h){var b=this;return $n(this,Mt().then(function(){var T=h||Fo(),S=xa(a,T);if(!(T=v0(T)))throw new G("argument-error","Invalid email link!");if(T.tenantId!==b.T())throw new G("tenant-id-mismatch");return b.ab(S)}))},za.prototype.render=function(){},za.prototype.reset=function(){},za.prototype.getResponse=function(){},za.prototype.execute=function(){};var u4=null;function Vu(a,h){return(h=cf(h))&&a.a[h]||null}function cf(a){return(a=void 0===a?1e12:a)?a.toString():null}function l4(a,h){this.g=!1,this.c=h,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qt(a);var b=this;this.i=function(){b.execute()},this.h?this.execute():Co(this.f,"click",this.i)}function f4(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function u8(){}function uf(){}Mc.prototype.render=function(a,h){return this.a[this.b.toString()]=new l4(a,h),this.b++},Mc.prototype.reset=function(a){var h=Vu(this,a);a=cf(a),h&&a&&(h.delete(),delete this.a[a])},Mc.prototype.getResponse=function(a){return(a=Vu(this,a))?a.getResponse():null},Mc.prototype.execute=function(a){(a=Vu(this,a))&&a.execute()},l4.prototype.getResponse=function(){return f4(this),this.b},l4.prototype.execute=function(){f4(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,h=[];0<a;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return h.join("")}();var h=a.c.callback,b=a.c["expired-callback"];if(h)try{h(a.b)}catch(T){}a.a=setTimeout(function(){if(a.a=null,a.b=null,b)try{b()}catch(T){}a.h&&a.execute()},6e4)},500))},l4.prototype.delete=function(){f4(this),this.g=!0,clearTimeout(this.a),this.a=null,Ii(this.f,"click",this.i)},ft(u8,"FACTOR_ID","phone"),uf.prototype.g=function(){return u4||(u4=new Mc),Mt(u4)},uf.prototype.c=function(){};var Ic=null;function l8(){this.b=F.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var f8=new ce(Ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),h8=new ar(3e4,6e4);l8.prototype.g=function(a){var h=this;return new ln(function(b,T){var S=setTimeout(function(){T(new G("network-request-failed"))},h8.get());!F.grecaptcha||a!==h.f&&!h.b?(F[h.a]=function(){if(F.grecaptcha){h.f=a;var U=F.grecaptcha.render;F.grecaptcha.render=function(Y,ke){return Y=U(Y,ke),h.b++,Y},clearTimeout(S),b(F.grecaptcha)}else clearTimeout(S),T(new G("internal-error"));delete F[h.a]},Mt(ti(ir(f8,{onload:h.a,hl:a||""}))).o(function(){clearTimeout(S),T(new G("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(S),b(F.grecaptcha))})},l8.prototype.c=function(){this.b--};var r6=null;function d8(a,h,b,T,S,z,U){if(ft(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=h,this.g=null,U?(Ic||(Ic=new uf),U=Ic):(r6||(r6=new l8),U=r6),this.m=U,this.a=b||{theme:"light",type:"image"},this.h=[],this.a[p8])throw new G("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xc],!F.document)throw new G("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qt(h)||!this.i&&qt(h).hasChildNodes())throw new G("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Pn(a,z||null,S||null),this.u=T||function(){return null};var Y=this;this.l=[];var ke=this.a[lf];this.a[lf]=function(bt){if(ff(Y,bt),"function"==typeof ke)ke(bt);else if("string"==typeof ke){var ht=Rn(ke,F);"function"==typeof ht&&ht(bt)}};var qe=this.a[i6];this.a[i6]=function(){if(ff(Y,null),"function"==typeof qe)qe();else if("string"==typeof qe){var bt=Rn(qe,F);"function"==typeof bt&&bt()}}}var lf="callback",i6="expired-callback",p8="sitekey",xc="size";function ff(a,h){for(var b=0;b<a.l.length;b++)try{a.l[b](h)}catch(T){}}function Yo(a,h){return a.h.push(h),h.oa(function(){ct(a.h,h)}),h}function hf(a){if(a.J)throw new G("internal-error","RecaptchaVerifier instance has been destroyed.")}function o6(a,h,b){var T=!1;try{this.b=b||u.default.app()}catch(U){throw new G("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new G("invalid-api-key");b=this.b.options.apiKey;var S=this,z=null;try{z=this.b.auth().Ga()}catch(U){}try{T=this.b.auth().settings.appVerificationDisabledForTesting}catch(U){}z=u.default.SDK_VERSION?Ho(u.default.SDK_VERSION,z):null,d8.call(this,b,a,h,function(){try{var U=S.b.auth().la()}catch(Y){U=null}return U},z,Ct(_n),T)}function As(a,h,b,T){e:{b=Array.prototype.slice.call(b);for(var S=0,z=!1,U=0;U<h.length;U++)if(h[U].optional)z=!0;else{if(z)throw new G("internal-error","Argument validator encountered a required argument after an optional argument.");S++}if(z=h.length,b.length<S||z<b.length)T="Expected "+(S==z?1==S?"1 argument":S+" arguments":S+"-"+z+" arguments")+" but got "+b.length+".";else{for(S=0;S<b.length;S++)if(z=h[S].optional&&void 0===b[S],!h[S].M(b[S])&&!z){if(h=h[S],0>S||S>=df.length)throw new G("internal-error","Argument validator received an unsupported number of arguments.");b=df[S],T=(T?"":b+" argument ")+(h.name?'"'+h.name+'" ':"")+"must be "+h.K+".";break e}T=null}}if(T)throw new G("argument-error",a+" failed: "+T)}(B=d8.prototype).Ia=function(){var a=this;return this.f?this.f:this.f=Yo(this,Mt().then(function(){if(hl()&&!Zs())return hs();throw new G("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return a.m.g(a.u())}).then(function(h){return a.g=h,an(a.s,N3,{})}).then(function(h){a.a[p8]=h.recaptchaSiteKey}).o(function(h){throw a.f=null,h}))},B.render=function(){hf(this);var a=this;return Yo(this,this.Ia().then(function(){if(null===a.c){var h=a.v;if(!a.i){var b=qt(h);h=function(a,h,b){var T=arguments,S=document,z=String(T[0]),U=T[1];if(!nn&&U&&(U.name||U.type)){if(z=["<",z],U.name&&z.push(' name="',Ya(U.name),'"'),U.type){z.push(' type="',Ya(U.type),'"');var Y={};W(Y,U),delete Y.type,U=Y}z.push(">"),z=z.join("")}return z=G1(S,z),U&&("string"==typeof U?z.className=U:Array.isArray(U)?z.className=U.join(" "):er(z,U)),2<T.length&&Yn(S,z,T),z}("DIV"),b.appendChild(h)}a.c=a.g.render(h,a.a)}return a.c}))},B.verify=function(){hf(this);var a=this;return Yo(this,this.render().then(function(h){return new ln(function(b){var T=a.g.getResponse(h);if(T)b(T);else{var S=function(z){z&&(function(a,h){en(a.l,function(b){return b==h})}(a,S),b(z))};a.l.push(S),a.i&&a.g.execute(a.c)}})}))},B.reset=function(){hf(this),null!==this.c&&this.g.reset(this.c)},B.clear=function(){hf(this),this.J=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=qt(this.v);for(var h;h=a.firstChild;)a.removeChild(h)}},de(o6,d8);var df="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function vt(a,h){return{name:a||"",K:"a valid string",optional:!!h,M:function(b){return"string"==typeof b}}}function S2(a,h){return{name:a||"",K:"a boolean",optional:!!h,M:function(b){return"boolean"==typeof b}}}function Nr(a,h){return{name:a||"",K:"a valid object",optional:!!h,M:Me}}function h4(a,h){return{name:a||"",K:"a function",optional:!!h,M:function(b){return"function"==typeof b}}}function Qo(a,h){return{name:a||"",K:"null",optional:!!h,M:function(b){return null===b}}}function D2(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(h){return!!h&&!(!h.ka||a&&h.providerId!==a)}}}function r5(a,h){return Me(a)&&"string"==typeof a.type&&a.type===h&&"function"==typeof a.Ha}function C7(a){return Me(a)&&"string"==typeof a.uid}function Ce(a,h,b,T){return{name:b||"",K:a.K+" or "+h.K,optional:!!T,M:function(S){return a.M(S)||h.M(S)}}}function Pe(a,h){for(var b in h){var T=h[b].name;a[T]=tt(T,a[b],h[b].j)}}function Ts(a,h){for(var b in h){var T=h[b].name;T!==b&&Object.defineProperty(a,T,{get:Gt(function(S){return this[S]},b),set:Gt(function(S,z,U,Y){As(S,[U],[Y],!0),this[z]=Y},T,b,h[b].lb),enumerable:!0})}}function In(a,h,b,T){a[h]=tt(h,b,T)}function tt(a,h,b){function T(){var U=Array.prototype.slice.call(arguments);return As(S,b,U),h.apply(this,U)}if(!b)return h;var z,S=function(a){return(a=a.split("."))[a.length-1]}(a);for(z in h)T[z]=h[z];for(z in h.prototype)T.prototype[z]=h.prototype[z];return T}Pe(Ko.prototype,{kb:{name:"applyActionCode",j:[vt("code")]},Sa:{name:"checkActionCode",j:[vt("code")]},ob:{name:"confirmPasswordReset",j:[vt("code"),vt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[vt("email"),vt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[vt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[vt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ce(Nr(),h4(),"nextOrObserver"),h4("opt_error",!0),h4("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ce(Nr(),h4(),"nextOrObserver"),h4("opt_error",!0),h4("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[vt("email"),Ce(Nr("opt_actionCodeSettings",!0),Qo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[vt("email"),Nr("actionCodeSettings")]},yb:{name:"setPersistence",j:[vt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[D2()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[D2()]},Tc:{name:"signInWithCustomToken",j:[vt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[vt("email"),vt("password")]},Vc:{name:"signInWithEmailLink",j:[vt("email"),vt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Ce({name:"user",K:"an instance of Firebase User",optional:!1,M:function(h){return!!(h&&h instanceof ro)}},Qo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[vt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[vt("url"),Nr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[vt("code")]}}),Ts(Ko.prototype,{lc:{name:"languageCode",lb:Ce(vt(),Qo(),"languageCode")},ti:{name:"tenantId",lb:Ce(vt(),Qo(),"tenantId")}}),(Ko.Persistence=yc).LOCAL="local",Ko.Persistence.SESSION="session",Ko.Persistence.NONE="none",Pe(ro.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[S2("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[S2("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[D2()]},rb:{name:"linkWithCredential",j:[D2()]},Dc:{name:"linkWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[D2()]},ub:{name:"reauthenticateWithCredential",j:[D2()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[vt("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ce(Nr("opt_actionCodeSettings",!0),Qo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[vt(null,!0)]},cd:{name:"unlink",j:[vt("provider")]},Cb:{name:"updateEmail",j:[vt("email")]},Db:{name:"updatePassword",j:[vt("password")]},ed:{name:"updatePhoneNumber",j:[D2("phone")]},Eb:{name:"updateProfile",j:[Nr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[vt("email"),Ce(Nr("opt_actionCodeSettings",!0),Qo(null,!0),"opt_actionCodeSettings",!0)]}}),Pe(Mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pe(za.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pe(ln.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ts(Ql.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:S2("appVerificationDisabledForTesting")}}),Pe(J3.prototype,{confirm:{name:"confirm",j:[vt("verificationCode")]}}),In(Qs,"fromJSON",function(a){a="string"==typeof a?JSON.parse(a):a;for(var h,b=[g0,Ia,Jn,g1],T=0;T<b.length;T++)if(h=b[T](a))return h;return null},[Ce(vt(),Nr(),"json")]),In(Dr,"credential",function(a,h){return new ut(a,h)},[vt("email"),vt("password")]),Pe(ut.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),Pe(Vr.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(Vr,"credential",du,[Ce(vt(),Nr(),"token")]),In(Dr,"credentialWithLink",xa,[vt("email"),vt("emailLink")]),Pe(pi.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(pi,"credential",pu,[Ce(vt(),Nr(),"token")]),Pe(Ma.prototype,{Ca:{name:"addScope",j:[vt("scope")]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(Ma,"credential",Cl,[Ce(vt(),Ce(Nr(),Qo()),"idToken"),Ce(vt(),Qo(),"accessToken",!0)]),Pe(Dn.prototype,{Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),In(Dn,"credential",L,[Ce(vt(),Nr(),"token"),vt("secret",!0)]),Pe(Sr.prototype,{Ca:{name:"addScope",j:[vt("scope")]},credential:{name:"credential",j:[Ce(vt(),Ce(Nr(),Qo()),"optionsOrIdToken"),Ce(vt(),Qo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nr("customOAuthParameters")]}}),Pe(di.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),Pe(Js.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),In(br,"credential",y0,[vt("verificationId"),vt("verificationCode")]),Pe(br.prototype,{gb:{name:"verifyPhoneNumber",j:[Ce(vt(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(b){return!!b&&(b.session&&b.phoneNumber?r5(b.session,Uo)&&"string"==typeof b.phoneNumber:b.session&&b.multiFactorHint?r5(b.session,Bo)&&C7(b.multiFactorHint):b.session&&b.multiFactorUid?r5(b.session,Bo)&&"string"==typeof b.multiFactorUid:!!b.phoneNumber&&"string"==typeof b.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]}}),Pe(ms.prototype,{w:{name:"toJSON",j:[vt(null,!0)]}}),Pe(G.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),Pe(v1.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),Pe(C0.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),Pe(Xl.prototype,{toJSON:{name:"toJSON",j:[vt(null,!0)]}}),Pe(zi.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}}]}}),Pe(q0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}},vt("displayName",!0)]},bd:{name:"unenroll",j:[Ce({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:C7},vt(),"multiFactorInfoIdentifier")]}}),Pe(o6.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),In(h3,"parseLink",tc,[vt("link")]),In(u8,"assertion",function(a){return new e4(a)},[D2("phone")]),function(){if(void 0===u.default||!u.default.INTERNAL||!u.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ec,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ml,VERIFY_AND_CHANGE_EMAIL:au,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ko,AuthCredential:Qs,Error:G};In(a,"EmailAuthProvider",Dr,[]),In(a,"FacebookAuthProvider",Vr,[]),In(a,"GithubAuthProvider",pi,[]),In(a,"GoogleAuthProvider",Ma,[]),In(a,"TwitterAuthProvider",Dn,[]),In(a,"OAuthProvider",Sr,[vt("providerId")]),In(a,"SAMLAuthProvider",bl,[vt("providerId")]),In(a,"PhoneAuthProvider",br,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof Ko)}}]),In(a,"RecaptchaVerifier",o6,[Ce(vt(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Nr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof u.default.app.App)}}]),In(a,"ActionCodeURL",h3,[]),In(a,"PhoneMultiFactorGenerator",u8,[]),u.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(h){return new Ko(h=h.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(h){h.getProvider("auth-internal").initialize()}}),u.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(h){return{getUid:ot((h=h.getProvider("auth").getImmediate()).getUid,h),getToken:ot(h.nc,h),addAuthTokenListener:ot(h.cc,h),removeAuthTokenListener:ot(h.Pc,h)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),u.default.registerVersion("@firebase/auth","0.16.8"),u.default.INTERNAL.extendNamespace({User:ro})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6034:(wt,je,J)=>{"use strict";J.r(je),J.d(je,{Component:()=>V,ComponentContainer:()=>me,Provider:()=>Se});var u=J(4762),B=J(4685),V=function(){function pe(F,ae,ee){this.name=F,this.instanceFactory=ae,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return pe.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},pe.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},pe.prototype.setServiceProps=function(F){return this.serviceProps=F,this},pe.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},pe}(),fe="[DEFAULT]",Se=function(){function pe(F,ae){this.name=F,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return pe.prototype.get=function(F){var ae=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(ae)){var ee=new B.Deferred;if(this.instancesDeferred.set(ae,ee),this.isInitialized(ae)||this.shouldAutoInitialize())try{var se=this.getOrInitializeService({instanceIdentifier:ae});se&&ee.resolve(se)}catch(ue){}}return this.instancesDeferred.get(ae).promise},pe.prototype.getImmediate=function(F){var ae,ee=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),se=null!==(ae=null==F?void 0:F.optional)&&void 0!==ae&&ae;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ue){if(se)return null;throw ue}},pe.prototype.getComponent=function(){return this.component},pe.prototype.setComponent=function(F){var ae,ee;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(pe){return"EAGER"===pe.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(Ze){}try{for(var se=(0,u.__values)(this.instancesDeferred.entries()),ue=se.next();!ue.done;ue=se.next()){var Te=(0,u.__read)(ue.value,2),De=Te[1],Me=this.normalizeInstanceIdentifier(Te[0]);try{var Le=this.getOrInitializeService({instanceIdentifier:Me});De.resolve(Le)}catch(Ze){}}}catch(Ze){ae={error:Ze}}finally{try{ue&&!ue.done&&(ee=se.return)&&ee.call(se)}finally{if(ae)throw ae.error}}}},pe.prototype.clearInstance=function(F){void 0===F&&(F=fe),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},pe.prototype.delete=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var F;return(0,u.__generator)(this,function(ae){switch(ae.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,u.__spreadArray)((0,u.__spreadArray)([],(0,u.__read)(F.filter(function(ee){return"INTERNAL"in ee}).map(function(ee){return ee.INTERNAL.delete()}))),(0,u.__read)(F.filter(function(ee){return"_delete"in ee}).map(function(ee){return ee._delete()}))))];case 1:return ae.sent(),[2]}})})},pe.prototype.isComponentSet=function(){return null!=this.component},pe.prototype.isInitialized=function(F){return void 0===F&&(F=fe),this.instances.has(F)},pe.prototype.getOptions=function(F){return void 0===F&&(F=fe),this.instancesOptions.get(F)||{}},pe.prototype.initialize=function(F){var ae,ee;void 0===F&&(F={});var se=F.options,ue=void 0===se?{}:se,Te=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Te))throw Error(this.name+"("+Te+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ne=this.getOrInitializeService({instanceIdentifier:Te,options:ue});try{for(var De=(0,u.__values)(this.instancesDeferred.entries()),Me=De.next();!Me.done;Me=De.next()){var Le=(0,u.__read)(Me.value,2),nt=Le[1];Te===this.normalizeInstanceIdentifier(Le[0])&&nt.resolve(Ne)}}catch(Bt){ae={error:Bt}}finally{try{Me&&!Me.done&&(ee=De.return)&&ee.call(De)}finally{if(ae)throw ae.error}}return Ne},pe.prototype.onInit=function(F,ae){var ee,se=this.normalizeInstanceIdentifier(ae),ue=null!==(ee=this.onInitCallbacks.get(se))&&void 0!==ee?ee:new Set;ue.add(F),this.onInitCallbacks.set(se,ue);var Te=this.instances.get(se);return Te&&F(Te,se),function(){ue.delete(F)}},pe.prototype.invokeOnInitCallbacks=function(F,ae){var ee,se,ue=this.onInitCallbacks.get(ae);if(ue)try{for(var Te=(0,u.__values)(ue),Ne=Te.next();!Ne.done;Ne=Te.next()){var De=Ne.value;try{De(F,ae)}catch(Me){}}}catch(Me){ee={error:Me}}finally{try{Ne&&!Ne.done&&(se=Te.return)&&se.call(Te)}finally{if(ee)throw ee.error}}},pe.prototype.getOrInitializeService=function(F){var ae=F.instanceIdentifier,ee=F.options,se=void 0===ee?{}:ee,ue=this.instances.get(ae);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:ge(ae),options:se}),this.instances.set(ae,ue),this.instancesOptions.set(ae,se),this.invokeOnInitCallbacks(ue,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,ue)}catch(Te){}return ue||null},pe.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=fe),this.component?this.component.multipleInstances?F:fe:F},pe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},pe}();function ge(pe){return pe===fe?void 0:pe}var me=function(){function pe(F){this.name=F,this.providers=new Map}return pe.prototype.addComponent=function(F){var ae=this.getProvider(F.name);if(ae.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);ae.setComponent(F)},pe.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},pe.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var ae=new Se(F,this);return this.providers.set(F,ae),ae},pe.prototype.getProviders=function(){return Array.from(this.providers.values())},pe}()},9192:(wt,je,J)=>{"use strict";var u=J(9759),B=J(6034),V=J(4685),fe=J(4762),Se=J(300);wt=J.hmd(wt);var me="";function pe(p){me=p}var p,F=function(){function p(d){this.domStorage_=d,this.prefix_="firebase:"}return p.prototype.set=function(d,v){null==v?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,V.stringify)(v))},p.prototype.get=function(d){var v=this.domStorage_.getItem(this.prefixedName_(d));return null==v?null:(0,V.jsonEval)(v)},p.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},p.prototype.prefixedName_=function(d){return this.prefix_+d},p.prototype.toString=function(){return this.domStorage_.toString()},p}(),ae=function(){function p(){this.cache_={},this.isInMemoryStorage=!0}return p.prototype.set=function(d,v){null==v?delete this.cache_[d]:this.cache_[d]=v},p.prototype.get=function(d){return(0,V.contains)(this.cache_,d)?this.cache_[d]:null},p.prototype.remove=function(d){delete this.cache_[d]},p}(),ee=function(p){try{if("undefined"!=typeof window&&void 0!==window[p]){var d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new F(d)}}catch(v){}return new ae},se=ee("localStorage"),ue=ee("sessionStorage"),Te=new Se.Logger("@firebase/database"),Ne=(p=1,function(){return p++}),De=function(p){var d=(0,V.stringToByteArray)(p),v=new V.Sha1;v.update(d);var C=v.digest();return V.base64.encodeByteArray(C)},Me=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];for(var v="",C=0;C<p.length;C++){var M=p[C];Array.isArray(M)||M&&"object"==typeof M&&"number"==typeof M.length?v+=Me.apply(null,M):v+="object"==typeof M?(0,V.stringify)(M):M,v+=" "}return v},Le=null,Ze=!0,nt=function(p,d){(0,V.assert)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(Te.logLevel=Se.LogLevel.VERBOSE,Le=Te.log.bind(Te),d&&ue.set("logging_enabled",!0)):"function"==typeof p?Le=p:(Le=null,ue.remove("logging_enabled"))},Qe=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];if(!0===Ze&&(Ze=!1,null===Le&&!0===ue.get("logging_enabled")&&nt(!0)),Le){var v=Me.apply(null,p);Le(v)}},Bt=function(p){return function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];Qe.apply(void 0,(0,fe.__spreadArray)([p],(0,fe.__read)(d)))}},ot=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE INTERNAL ERROR: "+Me.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(p)));Te.error(v)},Gt=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE FATAL ERROR: "+Me.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(p)));throw Te.error(v),new Error(v)},yn=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var v="FIREBASE WARNING: "+Me.apply(void 0,(0,fe.__spreadArray)([],(0,fe.__read)(p)));Te.warn(v)},Ae=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},we="[MIN_NAME]",Ue="[MAX_NAME]",Ee=function(p,d){if(p===d)return 0;if(p===we||d===Ue)return-1;if(d===we||p===Ue)return 1;var v=rr(p),C=rr(d);return null!==v?null!==C?v-C==0?p.length-d.length:v-C:-1:null!==C?1:p<d?-1:1},Et=function(p,d){return p===d?0:p<d?-1:1},Ct=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,V.stringify)(d))},_n=function(p){if("object"!=typeof p||null===p)return(0,V.stringify)(p);var d=[];for(var v in p)d.push(v);d.sort();for(var C="{",M=0;M<d.length;M++)0!==M&&(C+=","),C+=(0,V.stringify)(d[M]),C+=":",C+=_n(p[d[M]]);return C+"}"},_t=function(p,d){var v=p.length;if(v<=d)return[p];for(var C=[],M=0;M<v;M+=d)C.push(p.substring(M,M+d>v?v:M+d));return C};function mt(p,d){for(var v in p)p.hasOwnProperty(v)&&d(v,p[v])}var it=function(p){(0,V.assert)(!Ae(p),"Invalid JSON number");var M,D,O,j,Z,C=1023;0===p?(D=0,O=0,M=1/p==-1/0?1:0):(M=p<0,(p=Math.abs(p))>=Math.pow(2,1-C)?(D=(j=Math.min(Math.floor(Math.log(p)/Math.LN2),C))+C,O=Math.round(p*Math.pow(2,52-j)-Math.pow(2,52))):(D=0,O=Math.round(p/Math.pow(2,-1074))));var X=[];for(Z=52;Z;Z-=1)X.push(O%2?1:0),O=Math.floor(O/2);for(Z=11;Z;Z-=1)X.push(D%2?1:0),D=Math.floor(D/2);X.push(M?1:0),X.reverse();var ne=X.join(""),be="";for(Z=0;Z<64;Z+=8){var Re=parseInt(ne.substr(Z,8),2).toString(16);1===Re.length&&(Re="0"+Re),be+=Re}return be.toLowerCase()},rn=new RegExp("^-?(0*)\\d{1,10}$"),Lr=-2147483648,Xn=2147483647,rr=function(p){if(rn.test(p)){var d=Number(p);if(d>=Lr&&d<=Xn)return d}return null},Bi=function(p){try{p()}catch(d){setTimeout(function(){throw yn("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},is=function(p,d){var v=setTimeout(p,d);return"object"==typeof v&&v.unref&&v.unref(),v},Wa=function(){function p(d,v){var C=this;this.appName_=d,this.appCheckProvider=v,this.appCheck=null==v?void 0:v.getImmediate({optional:!0}),this.appCheck||null==v||v.get().then(function(M){return C.appCheck=M})}return p.prototype.getToken=function(d){var v=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(C,M){setTimeout(function(){v.appCheck?v.getToken(d).then(C,M):C(null)},0)})},p.prototype.addTokenChangeListener=function(d){var v;null===(v=this.appCheckProvider)||void 0===v||v.get().then(function(C){return C.addTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){yn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},p}(),Kt=function(){function p(d,v,C){var M=this;this.appName_=d,this.firebaseOptions_=v,this.authProvider_=C,this.auth_=null,this.auth_=C.getImmediate({optional:!0}),this.auth_||C.onInit(function(D){return M.auth_=D})}return p.prototype.getToken=function(d){var v=this;return this.auth_?this.auth_.getToken(d).catch(function(C){return C&&"auth/token-not-initialized"===C.code?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(C)}):new Promise(function(C,M){setTimeout(function(){v.auth_?v.getToken(d).then(C,M):C(null)},0)})},p.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(v){return v.addAuthTokenListener(d)})},p.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(v){return v.removeAuthTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';yn(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},p}(),zt=function(){function p(d){this.accessToken=d}return p.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},p.prototype.addTokenChangeListener=function(d){d(this.accessToken)},p.prototype.removeTokenChangeListener=function(d){},p.prototype.notifyForInvalidToken=function(){},p.OWNER="owner",p}(),An=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hr="websocket",Vc="long_polling",Bn=function(){function p(d,v,C,M,D,O,j){void 0===D&&(D=!1),void 0===O&&(O=""),void 0===j&&(j=!1),this.secure=v,this.namespace=C,this.webSocketOnly=M,this.nodeAdmin=D,this.persistenceKey=O,this.includeNamespaceInQueryParams=j,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=se.get("host:"+d)||this._host}return p.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},p.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(p.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&se.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),p.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},p.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},p}();function Pt(p,d,v){var C;if((0,V.assert)("string"==typeof d,"typeof type must == string"),(0,V.assert)("object"==typeof v,"typeof params must == object"),d===hr)C=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==Vc)throw new Error("Unknown connection type: "+d);C=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(v.ns=p.namespace);var M=[];return mt(v,function(D,O){M.push(D+"="+O)}),C+M.join("&")}var Sn=function(){function p(){this.counters_={}}return p.prototype.incrementCounter=function(d,v){void 0===v&&(v=1),(0,V.contains)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=v},p.prototype.get=function(){return(0,V.deepCopy)(this.counters_)},p}(),mo={},Er={};function bn(p){var d=p.toString();return mo[d]||(mo[d]=new Sn),mo[d]}var dr=function(){function p(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p.prototype.closeAfter=function(d,v){this.closeAfterResponse=d,this.onClose=v,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},p.prototype.handleResponse=function(d,v){var C=this;this.pendingResponses[d]=v;for(var M=function(){var j=D.pendingResponses[D.currentResponseNum];delete D.pendingResponses[D.currentResponseNum];for(var Z=function(ne){j[ne]&&Bi(function(){C.onMessage_(j[ne])})},X=0;X<j.length;++X)Z(X);if(D.currentResponseNum===D.closeAfterResponse)return D.onClose&&(D.onClose(),D.onClose=null),"break";D.currentResponseNum++},D=this;this.pendingResponses[this.currentResponseNum]&&"break"!==M(););},p}(),yr=function(){function p(d,v,C,M,D,O,j){var Z=this;this.connId=d,this.repoInfo=v,this.applicationId=C,this.appCheckToken=M,this.authToken=D,this.transportSessionId=O,this.lastSessionId=j,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bt(d),this.stats_=bn(v),this.urlFn=function(X){return Z.appCheckToken&&(X.ac=Z.appCheckToken),Pt(v,Vc,X)}}return p.prototype.open=function(d,v){var C=this;this.curSegmentNum=0,this.onDisconnect_=v,this.myPacketOrderer=new dr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){C.log_("Timed out trying to connect."),C.onClosed_(),C.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,V.isNodeSdk)()||"complete"===document.readyState)p();else{var d=!1,v=function(){document.body?d||(d=!0,p()):setTimeout(v,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",v,!1),window.addEventListener("load",v,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&v()}),window.attachEvent("onload",v))}}(function(){if(!C.isClosed_){C.scriptTagHolder=new go(function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var Z=(0,fe.__read)(O,5),X=Z[0],ne=Z[1],be=Z[2];if(C.incrementIncomingBytes_(O),C.scriptTagHolder)if(C.connectTimeoutTimer_&&(clearTimeout(C.connectTimeoutTimer_),C.connectTimeoutTimer_=null),C.everConnected_=!0,"start"===X)C.id=ne,C.password=be;else{if("close"!==X)throw new Error("Unrecognized command received: "+X);ne?(C.scriptTagHolder.sendNewPolls=!1,C.myPacketOrderer.closeAfter(ne,function(){C.onClosed_()})):C.onClosed_()}},function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var Z=(0,fe.__read)(O,2),X=Z[0],ne=Z[1];C.incrementIncomingBytes_(O),C.myPacketOrderer.handleResponse(X,ne)},function(){C.onClosed_()},C.urlFn);var M={start:"t"};M.ser=Math.floor(1e8*Math.random()),C.scriptTagHolder.uniqueCallbackIdentifier&&(M.cb=C.scriptTagHolder.uniqueCallbackIdentifier),M.v="5",C.transportSessionId&&(M.s=C.transportSessionId),C.lastSessionId&&(M.ls=C.lastSessionId),C.applicationId&&(M.p=C.applicationId),C.appCheckToken&&(M.ac=C.appCheckToken),"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(M.r="f");var D=C.urlFn(M);C.log_("Connecting via long-poll to "+D),C.scriptTagHolder.addTag(D,function(){})}})},p.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},p.forceAllow=function(){p.forceAllow_=!0},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){return!((0,V.isNodeSdk)()||!p.forceAllow_&&(p.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},p.prototype.markConnectionHealthy=function(){},p.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},p.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},p.prototype.send=function(d){var v=(0,V.stringify)(d);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);for(var C=(0,V.base64Encode)(v),M=_t(C,1840),D=0;D<M.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[D]),this.curSegmentNum++},p.prototype.addDisconnectPingFrame=function(d,v){if(!(0,V.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var C={dframe:"t"};C.id=d,C.pw=v,this.myDisconnFrame.src=this.urlFn(C),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},p.prototype.incrementIncomingBytes_=function(d){var v=(0,V.stringify)(d).length;this.bytesReceived+=v,this.stats_.incrementCounter("bytes_received",v)},p}(),go=function(){function p(d,v,C,M){if(this.onDisconnect=C,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.isNodeSdk)())this.commandCB=d,this.onMessageCB=v;else{this.uniqueCallbackIdentifier=Ne(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=v,this.myIFrame=p.createIFrame_();var D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(D='<script>document.domain="'+document.domain+'";<\/script>');var j="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(j),this.myIFrame.doc.close()}catch(Z){Qe("frame writing exception"),Z.stack&&Qe(Z.stack),Qe(Z)}}}return p.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Qe("No IE domain setting required")}catch(M){var C=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+C+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},p.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var v=this.onDisconnect;v&&(this.onDisconnect=null,v())},p.prototype.startLongPoll=function(d,v){for(this.myID=d,this.myPW=v,this.alive=!0;this.newRequest_(););},p.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var v=this.urlFn(d),C="",M=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+C.length<=1870;){var O=this.pendingSegs.shift();C=C+"&seg"+M+"="+O.seg+"&ts"+M+"="+O.ts+"&d"+M+"="+O.d,M++}return this.addLongPollTag_(v+=C,this.currentSerial),!0}return!1},p.prototype.enqueueSegment=function(d,v,C){this.pendingSegs.push({seg:d,ts:v,d:C}),this.alive&&this.newRequest_()},p.prototype.addLongPollTag_=function(d,v){var C=this;this.outstandingRequests.add(v);var M=function(){C.outstandingRequests.delete(v),C.newRequest_()},D=setTimeout(M,Math.floor(25e3));this.addTag(d,function(){clearTimeout(D),M()})},p.prototype.addTag=function(d,v){var C=this;(0,V.isNodeSdk)()?this.doNodeLongPoll(d,v):setTimeout(function(){try{if(!C.sendNewPolls)return;var M=C.myIFrame.doc.createElement("script");M.type="text/javascript",M.async=!0,M.src=d,M.onload=M.onreadystatechange=function(){var D=M.readyState;(!D||"loaded"===D||"complete"===D)&&(M.onload=M.onreadystatechange=null,M.parentNode&&M.parentNode.removeChild(M),v())},M.onerror=function(){Qe("Long-poll script failed to load: "+d),C.sendNewPolls=!1,C.close()},C.myIFrame.doc.body.appendChild(M)}catch(D){}},Math.floor(1))},p}(),Ei=null;"undefined"!=typeof MozWebSocket?Ei=MozWebSocket:"undefined"!=typeof WebSocket&&(Ei=WebSocket);var $r=function(){function p(d,v,C,M,D,O,j){this.connId=d,this.applicationId=C,this.appCheckToken=M,this.authToken=D,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bt(this.connId),this.stats_=bn(v),this.connURL=p.connectionURL_(v,O,j,M),this.nodeAdmin=v.nodeAdmin}return p.connectionURL_=function(d,v,C,M){var D={v:"5"};return!(0,V.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(D.r="f"),v&&(D.s=v),C&&(D.ls=C),M&&(D.ac=M),Pt(d,hr,D)},p.prototype.open=function(d,v){var C=this;this.onDisconnect=v,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,se.set("previous_websocket_failure",!0);try{if((0,V.isNodeSdk)()){var D={headers:{"User-Agent":"Firebase/5/"+me+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(D.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);var O=process.env,j=0===this.connURL.indexOf("wss://")?O.HTTPS_PROXY||O.https_proxy:O.HTTP_PROXY||O.http_proxy;j&&(D.proxy={origin:j}),this.mySock=new Ei(this.connURL,[],D)}else this.mySock=new Ei(this.connURL,[],D={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(X){this.log_("Error instantiating WebSocket.");var Z=X.message||X.data;return Z&&this.log_(Z),void this.onClosed_()}this.mySock.onopen=function(){C.log_("Websocket connected."),C.everConnected_=!0},this.mySock.onclose=function(){C.log_("Websocket connection was disconnected."),C.mySock=null,C.onClosed_()},this.mySock.onmessage=function(X){C.handleIncomingFrame(X)},this.mySock.onerror=function(X){C.log_("WebSocket error.  Closing connection.");var ne=X.message||X.data;ne&&C.log_(ne),C.onClosed_()}},p.prototype.start=function(){},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var C=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);C&&C.length>1&&parseFloat(C[1])<4.4&&(d=!0)}return!d&&null!==Ei&&!p.forceDisallow_},p.previouslyFailed=function(){return se.isInMemoryStorage||!0===se.get("previous_websocket_failure")},p.prototype.markConnectionHealthy=function(){se.remove("previous_websocket_failure")},p.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var v=this.frames.join("");this.frames=null;var C=(0,V.jsonEval)(v);this.onMessage(C)}},p.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},p.prototype.extractFrameCount_=function(d){if((0,V.assert)(null===this.frames,"We already have a frame buffer"),d.length<=6){var v=Number(d);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),d},p.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var v=d.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{var C=this.extractFrameCount_(v);null!==C&&this.appendFrame_(C)}}},p.prototype.send=function(d){this.resetKeepAlive();var v=(0,V.stringify)(d);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);var C=_t(v,16384);C.length>1&&this.sendString_(String(C.length));for(var M=0;M<C.length;M++)this.sendString_(C[M])},p.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},p.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},p.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},p.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p}(),vo=function(){function p(d){this.initTransports_(d)}return Object.defineProperty(p,"ALL_TRANSPORTS",{get:function(){return[yr,$r]},enumerable:!1,configurable:!0}),p.prototype.initTransports_=function(d){var v,C,M=$r&&$r.isAvailable(),D=M&&!$r.previouslyFailed();if(d.webSocketOnly&&(M||yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[$r];else{var O=this.transports_=[];try{for(var j=(0,fe.__values)(p.ALL_TRANSPORTS),Z=j.next();!Z.done;Z=j.next()){var X=Z.value;X&&X.isAvailable()&&O.push(X)}}catch(ne){v={error:ne}}finally{try{Z&&!Z.done&&(C=j.return)&&C.call(j)}finally{if(v)throw v.error}}}},p.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},p.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},p}(),Or=function(){function p(d,v,C,M,D,O,j,Z,X,ne){this.id=d,this.repoInfo_=v,this.applicationId_=C,this.appCheckToken_=M,this.authToken_=D,this.onMessage_=O,this.onReady_=j,this.onDisconnect_=Z,this.onKill_=X,this.lastSessionId=ne,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bt("c:"+this.id+":"),this.transportManager_=new vo(v),this.log_("Connection created"),this.start_()}return p.prototype.start_=function(){var d=this,v=this.transportManager_.initialTransport();this.conn_=new v(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=v.responsesRequiredToBeHealthy||0;var C=this.connReceiver_(this.conn_),M=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(C,M)},Math.floor(0));var D=v.healthyTimeout||0;D>0&&(this.healthyTimeout_=is(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(D)))},p.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},p.prototype.disconnReceiver_=function(d){var v=this;return function(C){d===v.conn_?v.onConnectionLost_(C):d===v.secondaryConn_?(v.log_("Secondary connection lost."),v.onSecondaryConnectionLost_()):v.log_("closing an old connection")}},p.prototype.connReceiver_=function(d){var v=this;return function(C){2!==v.state_&&(d===v.rx_?v.onPrimaryMessageReceived_(C):d===v.secondaryConn_?v.onSecondaryMessageReceived_(C):v.log_("message on old connection"))}},p.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},p.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},p.prototype.onSecondaryControl_=function(d){if("t"in d){var v=d.t;"a"===v?this.upgradeIfSecondaryHealthy_():"r"===v?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===v&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},p.prototype.onSecondaryMessageReceived_=function(d){var v=Ct("t",d),C=Ct("d",d);if("c"===v)this.onSecondaryControl_(C);else{if("d"!==v)throw new Error("Unknown protocol layer: "+v);this.pendingDataMessages.push(C)}},p.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},p.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},p.prototype.onPrimaryMessageReceived_=function(d){var v=Ct("t",d),C=Ct("d",d);"c"===v?this.onControl_(C):"d"===v&&this.onDataMessage_(C)},p.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},p.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},p.prototype.onControl_=function(d){var v=Ct("t",d);if("d"in d){var C=d.d;if("h"===v)this.onHandshake_(C);else if("n"===v){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===v?this.onConnectionShutdown_(C):"r"===v?this.onReset_(C):"e"===v?ot("Server Error: "+C):"o"===v?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ot("Unknown control packet command: "+v)}},p.prototype.onHandshake_=function(d){var v=d.ts,C=d.v,M=d.h;this.sessionId=d.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,v),"5"!==C&&yn("Protocol version mismatch detected"),this.tryStartUpgrade_())},p.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},p.prototype.startUpgrade_=function(d){var v=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var C=this.connReceiver_(this.secondaryConn_),M=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(C,M),is(function(){v.secondaryConn_&&(v.log_("Timed out trying to upgrade."),v.secondaryConn_.close())},Math.floor(6e4))},p.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},p.prototype.onConnectionEstablished_=function(d,v){var C=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(v,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):is(function(){C.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},p.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},p.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},p.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(se.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},p.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},p.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},p.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},p.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},p}(),Fc=function(){function p(){}return p.prototype.put=function(d,v,C,M){},p.prototype.merge=function(d,v,C,M){},p.prototype.refreshAuthToken=function(d){},p.prototype.refreshAppCheckToken=function(d){},p.prototype.onDisconnectPut=function(d,v,C){},p.prototype.onDisconnectMerge=function(d,v,C){},p.prototype.onDisconnectCancel=function(d,v){},p.prototype.reportStats=function(d){},p}(),$2=function(){function p(d){this.allowedEvents_=d,this.listeners_={},(0,V.assert)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return p.prototype.trigger=function(d){for(var v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];if(Array.isArray(this.listeners_[d]))for(var M=(0,fe.__spreadArray)([],(0,fe.__read)(this.listeners_[d])),D=0;D<M.length;D++)M[D].callback.apply(M[D].context,v)},p.prototype.on=function(d,v,C){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:v,context:C});var M=this.getInitialEvent(d);M&&v.apply(C,M)},p.prototype.off=function(d,v,C){this.validateEventType_(d);for(var M=this.listeners_[d]||[],D=0;D<M.length;D++)if(M[D].callback===v&&(!C||C===M[D].context))return void M.splice(D,1)},p.prototype.validateEventType_=function(d){(0,V.assert)(this.allowedEvents_.find(function(v){return v===d}),"Unknown event: "+d)},p}(),ci=function(p){function d(){var v=p.call(this,["online"])||this;return v.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.isMobileCordova)()&&(window.addEventListener("online",function(){v.online_||(v.online_=!0,v.trigger("online",!0))},!1),window.addEventListener("offline",function(){v.online_&&(v.online_=!1,v.trigger("online",!1))},!1)),v}return(0,fe.__extends)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(v){return(0,V.assert)("online"===v,"Unknown event type: "+v),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}($2),jt=function(){function p(d,v){if(void 0===v){this.pieces_=d.split("/");for(var C=0,M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[C]=this.pieces_[M],C++);this.pieces_.length=C,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=v}return p.prototype.toString=function(){for(var d="",v=this.pieceNum_;v<this.pieces_.length;v++)""!==this.pieces_[v]&&(d+="/"+this.pieces_[v]);return d||"/"},p}();function pt(){return new jt("")}function Wt(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function Rs(p){return p.pieces_.length-p.pieceNum_}function Jt(p){var d=p.pieceNum_;return d<p.pieces_.length&&d++,new jt(p.pieces_,d)}function W2(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function os(p,d){return void 0===d&&(d=0),p.pieces_.slice(p.pieceNum_+d)}function Wr(p){if(p.pieceNum_>=p.pieces_.length)return null;for(var d=[],v=p.pieceNum_;v<p.pieces_.length-1;v++)d.push(p.pieces_[v]);return new jt(d,0)}function nn(p,d){for(var v=[],C=p.pieceNum_;C<p.pieces_.length;C++)v.push(p.pieces_[C]);if(d instanceof jt)for(C=d.pieceNum_;C<d.pieces_.length;C++)v.push(d.pieces_[C]);else{var M=d.split("/");for(C=0;C<M.length;C++)M[C].length>0&&v.push(M[C])}return new jt(v,0)}function qt(p){return p.pieceNum_>=p.pieces_.length}function er(p,d){var v=Wt(p),C=Wt(d);if(null===v)return d;if(v===C)return er(Jt(p),Jt(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function yo(p,d){for(var v=os(p,0),C=os(d,0),M=0;M<v.length&&M<C.length;M++){var D=Ee(v[M],C[M]);if(0!==D)return D}return v.length===C.length?0:v.length<C.length?-1:1}function Hc(p,d){if(Rs(p)!==Rs(d))return!1;for(var v=p.pieceNum_,C=d.pieceNum_;v<=p.pieces_.length;v++,C++)if(p.pieces_[v]!==d.pieces_[C])return!1;return!0}function Yn(p,d){var v=p.pieceNum_,C=d.pieceNum_;if(Rs(p)>Rs(d))return!1;for(;v<p.pieces_.length;){if(p.pieces_[v]!==d.pieces_[C])return!1;++v,++C}return!0}var G1=function(d,v){this.errorPrefix_=v,this.parts_=os(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var C=0;C<this.parts_.length;C++)this.byteLength_+=(0,V.stringLength)(this.parts_[C]);wh(this)};function wh(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ps(p))}function Ps(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}var Mt,il,nl=function(p){function d(){var C,M,v=p.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(M="visibilitychange",C="hidden"):void 0!==document.mozHidden?(M="mozvisibilitychange",C="mozHidden"):void 0!==document.msHidden?(M="msvisibilitychange",C="msHidden"):void 0!==document.webkitHidden&&(M="webkitvisibilitychange",C="webkitHidden")),v.visible_=!0,M&&document.addEventListener(M,function(){var D=!document[C];D!==v.visible_&&(v.visible_=D,v.trigger("visible",D))},!1),v}return(0,fe.__extends)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(v){return(0,V.assert)("visible"===v,"Unknown event type: "+v),[this.visible_]},d}($2),rl=1e3,$1=function(p){function d(v,C,M,D,O,j,Z,X){var ne=p.call(this)||this;if(ne.repoInfo_=v,ne.applicationId_=C,ne.onDataUpdate_=M,ne.onConnectStatus_=D,ne.onServerInfoUpdate_=O,ne.authTokenProvider_=j,ne.appCheckTokenProvider_=Z,ne.authOverride_=X,ne.id=d.nextPersistentConnectionId_++,ne.log_=Bt("p:"+ne.id+":"),ne.interruptReasons_={},ne.listens=new Map,ne.outstandingPuts_=[],ne.outstandingGets_=[],ne.outstandingPutCount_=0,ne.outstandingGetCount_=0,ne.onDisconnectRequestQueue_=[],ne.connected_=!1,ne.reconnectDelay_=rl,ne.maxReconnectDelay_=3e5,ne.securityDebugCallback_=null,ne.lastSessionId=null,ne.establishConnectionTimer_=null,ne.visible_=!1,ne.requestCBHash_={},ne.requestNumber_=0,ne.realtime_=null,ne.authToken_=null,ne.appCheckToken_=null,ne.forceTokenRefresh_=!1,ne.invalidAuthTokenCount_=0,ne.invalidAppCheckTokenCount_=0,ne.firstConnection_=!0,ne.lastConnectionAttemptTime_=null,ne.lastConnectionEstablishedTime_=null,X&&!(0,V.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return nl.getInstance().on("visible",ne.onVisible_,ne),-1===v.host.indexOf("fblocal")&&ci.getInstance().on("online",ne.onOnline_,ne),ne}return(0,fe.__extends)(d,p),d.prototype.sendRequest=function(v,C,M){var D=++this.requestNumber_,O={r:D,a:v,b:C};this.log_((0,V.stringify)(O)),(0,V.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),M&&(this.requestCBHash_[D]=M)},d.prototype.get=function(v){var C=this;this.initConnection_();var M=new V.Deferred,D={p:v._path.toString(),q:v._queryObject},O={action:"g",request:D,onComplete:function(Z){var X=Z.d;"ok"===Z.s?(C.onDataUpdate_(D.p,X,!1,null),M.resolve(X)):M.reject(X)}};this.outstandingGets_.push(O),this.outstandingGetCount_++;var j=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var Z=C.outstandingGets_[j];void 0===Z||O!==Z||(delete C.outstandingGets_[j],C.outstandingGetCount_--,0===C.outstandingGetCount_&&(C.outstandingGets_=[]),C.log_("get "+j+" timed out on connection"),M.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(j),M.promise},d.prototype.listen=function(v,C,M,D){this.initConnection_();var O=v._queryIdentifier,j=v._path.toString();this.log_("Listen called for "+j+" "+O),this.listens.has(j)||this.listens.set(j,new Map),(0,V.assert)(v._queryParams.isDefault()||!v._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.assert)(!this.listens.get(j).has(O),"listen() called twice for same path/queryId.");var Z={onComplete:D,hashFn:C,query:v,tag:M};this.listens.get(j).set(O,Z),this.connected_&&this.sendListen_(Z)},d.prototype.sendGet_=function(v){var C=this,M=this.outstandingGets_[v];this.sendRequest("g",M.request,function(D){delete C.outstandingGets_[v],C.outstandingGetCount_--,0===C.outstandingGetCount_&&(C.outstandingGets_=[]),M.onComplete&&M.onComplete(D)})},d.prototype.sendListen_=function(v){var C=this,M=v.query,D=M._path.toString(),O=M._queryIdentifier;this.log_("Listen on "+D+" for "+O);var j={p:D};v.tag&&(j.q=M._queryObject,j.t=v.tag),j.h=v.hashFn(),this.sendRequest("q",j,function(X){var ne=X.d,be=X.s;d.warnOnListenWarnings_(ne,M),(C.listens.get(D)&&C.listens.get(D).get(O))===v&&(C.log_("listen response",X),"ok"!==be&&C.removeListen_(D,O),v.onComplete&&v.onComplete(be,ne))})},d.warnOnListenWarnings_=function(v,C){if(v&&"object"==typeof v&&(0,V.contains)(v,"w")){var M=(0,V.safeGet)(v,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){var D='".indexOn": "'+C._queryParams.getIndex().toString()+'"',O=C._path.toString();yn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+D+" at "+O+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(v){this.authToken_=v,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(v)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(v){(v&&40===v.length||(0,V.isAdmin)(v))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(v){this.appCheckToken_=v,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var v=this;if(this.connected_&&this.authToken_){var C=this.authToken_,M=(0,V.isValidFormat)(C)?"auth":"gauth",D={cred:C};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(M,D,function(O){var j=O.s,Z=O.d||"error";v.authToken_===C&&("ok"===j?v.invalidAuthTokenCount_=0:v.onAuthRevoked_(j,Z))})}},d.prototype.tryAppCheck=function(){var v=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(C){var M=C.s,D=C.d||"error";"ok"===M?v.invalidAppCheckTokenCount_=0:v.onAppCheckRevoked_(M,D)})},d.prototype.unlisten=function(v,C){var M=v._path.toString(),D=v._queryIdentifier;this.log_("Unlisten called for "+M+" "+D),(0,V.assert)(v._queryParams.isDefault()||!v._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,D)&&this.connected_&&this.sendUnlisten_(M,D,v._queryObject,C)},d.prototype.sendUnlisten_=function(v,C,M,D){this.log_("Unlisten on "+v+" for "+C);var O={p:v};D&&(O.q=M,O.t=D),this.sendRequest("n",O)},d.prototype.onDisconnectPut=function(v,C,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",v,C,M):this.onDisconnectRequestQueue_.push({pathString:v,action:"o",data:C,onComplete:M})},d.prototype.onDisconnectMerge=function(v,C,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",v,C,M):this.onDisconnectRequestQueue_.push({pathString:v,action:"om",data:C,onComplete:M})},d.prototype.onDisconnectCancel=function(v,C){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",v,null,C):this.onDisconnectRequestQueue_.push({pathString:v,action:"oc",data:null,onComplete:C})},d.prototype.sendOnDisconnect_=function(v,C,M,D){var O={p:C,d:M};this.log_("onDisconnect "+v,O),this.sendRequest(v,O,function(j){D&&setTimeout(function(){D(j.s,j.d)},Math.floor(0))})},d.prototype.put=function(v,C,M,D){this.putInternal("p",v,C,M,D)},d.prototype.merge=function(v,C,M,D){this.putInternal("m",v,C,M,D)},d.prototype.putInternal=function(v,C,M,D,O){this.initConnection_();var j={p:C,d:M};void 0!==O&&(j.h=O),this.outstandingPuts_.push({action:v,request:j,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+C)},d.prototype.sendPut_=function(v){var C=this,M=this.outstandingPuts_[v].action,D=this.outstandingPuts_[v].request,O=this.outstandingPuts_[v].onComplete;this.outstandingPuts_[v].queued=this.connected_,this.sendRequest(M,D,function(j){C.log_(M+" response",j),delete C.outstandingPuts_[v],C.outstandingPutCount_--,0===C.outstandingPutCount_&&(C.outstandingPuts_=[]),O&&O(j.s,j.d)})},d.prototype.reportStats=function(v){var C=this;if(this.connected_){var M={c:v};this.log_("reportStats",M),this.sendRequest("s",M,function(D){"ok"!==D.s&&C.log_("reportStats","Error sending stats: "+D.d)})}},d.prototype.onDataMessage_=function(v){if("r"in v){this.log_("from server: "+(0,V.stringify)(v));var C=v.r,M=this.requestCBHash_[C];M&&(delete this.requestCBHash_[C],M(v.b))}else{if("error"in v)throw"A server-side error has occurred: "+v.error;"a"in v&&this.onDataPush_(v.a,v.b)}},d.prototype.onDataPush_=function(v,C){this.log_("handleServerMessage",v,C),"d"===v?this.onDataUpdate_(C.p,C.d,!1,C.t):"m"===v?this.onDataUpdate_(C.p,C.d,!0,C.t):"c"===v?this.onListenRevoked_(C.p,C.q):"ac"===v?this.onAuthRevoked_(C.s,C.d):"apc"===v?this.onAppCheckRevoked_(C.s,C.d):"sd"===v?this.onSecurityDebugPacket_(C):ot("Unrecognized action received from server: "+(0,V.stringify)(v)+"\nAre you using the latest client?")},d.prototype.onReady_=function(v,C){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(v),this.lastSessionId=C,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(v){var C=this;(0,V.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){C.establishConnectionTimer_=null,C.establishConnection_()},Math.floor(v))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(v){v&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=v},d.prototype.onOnline_=function(v){v?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var C=(new Date).getTime()-this.lastConnectionAttemptTime_,M=Math.max(0,this.reconnectDelay_-C);M=Math.random()*M,this.log_("Trying to reconnect in "+M+"ms"),this.scheduleConnect_(M),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return(0,fe.__awaiter)(this,void 0,void 0,function(){var v,C,M,D,O,j,Z,X,be,Re,We,rt,He,At=this;return(0,fe.__generator)(this,function(Xe){switch(Xe.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,v=this.onDataMessage_.bind(this),C=this.onReady_.bind(this),M=this.onRealtimeDisconnect_.bind(this),D=this.id+":"+d.nextConnectionId_++,O=this.lastSessionId,j=!1,Z=null,this.realtime_={close:X=function(){Z?Z.close():(j=!0,M())},sendRequest:function(Zn){(0,V.assert)(Z,"sendRequest call when we're not connected not allowed."),Z.sendRequest(Zn)}},be=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Xe.label=1;case 1:return Xe.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(be),this.appCheckTokenProvider_.getToken(be)])];case 2:return Re=fe.__read.apply(void 0,[Xe.sent(),2]),We=Re[0],rt=Re[1],j?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=We&&We.accessToken,this.appCheckToken_=rt&&rt.token,Z=new Or(D,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,v,C,M,function(Zn){yn(Zn+" ("+At.repoInfo_.toString()+")"),At.interrupt("server_kill")},O)),[3,4];case 3:return He=Xe.sent(),this.log_("Failed to get token: "+He),j||(this.repoInfo_.nodeAdmin&&yn(He),X()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(v){Qe("Interrupting connection for reason: "+v),this.interruptReasons_[v]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(v){Qe("Resuming connection for reason: "+v),delete this.interruptReasons_[v],(0,V.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(v){var C=v-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:C})},d.prototype.cancelSentTransactions_=function(){for(var v=0;v<this.outstandingPuts_.length;v++){var C=this.outstandingPuts_[v];C&&"h"in C.request&&C.queued&&(C.onComplete&&C.onComplete("disconnect"),delete this.outstandingPuts_[v],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(v,C){var M;M=C?C.map(function(O){return _n(O)}).join("$"):"default";var D=this.removeListen_(v,M);D&&D.onComplete&&D.onComplete("permission_denied")},d.prototype.removeListen_=function(v,C){var D,M=new jt(v).toString();if(this.listens.has(M)){var O=this.listens.get(M);D=O.get(C),O.delete(C),0===O.size&&this.listens.delete(M)}else D=void 0;return D},d.prototype.onAuthRevoked_=function(v,C){Qe("Auth token revoked: "+v+"/"+C),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===v||"permission_denied"===v)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(v,C){Qe("App check token revoked: "+v+"/"+C),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===v||"permission_denied"===v)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(v){this.securityDebugCallback_?this.securityDebugCallback_(v):"msg"in v&&console.log("FIREBASE: "+v.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var v,C,M,D;this.tryAuth(),this.tryAppCheck();try{for(var O=(0,fe.__values)(this.listens.values()),j=O.next();!j.done;j=O.next()){var Z=j.value;try{for(var X=(M=void 0,(0,fe.__values)(Z.values())),ne=X.next();!ne.done;ne=X.next())this.sendListen_(ne.value)}catch(rt){M={error:rt}}finally{try{ne&&!ne.done&&(D=X.return)&&D.call(X)}finally{if(M)throw M.error}}}}catch(rt){v={error:rt}}finally{try{j&&!j.done&&(C=O.return)&&C.call(O)}finally{if(v)throw v.error}}for(var Re=0;Re<this.outstandingPuts_.length;Re++)this.outstandingPuts_[Re]&&this.sendPut_(Re);for(;this.onDisconnectRequestQueue_.length;){var We=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(We.action,We.pathString,We.data,We.onComplete)}for(Re=0;Re<this.outstandingGets_.length;Re++)this.outstandingGets_[Re]&&this.sendGet_(Re)},d.prototype.sendConnectStats_=function(){var v={},C="js";(0,V.isNodeSdk)()&&(C=this.repoInfo_.nodeAdmin?"admin_node":"node"),v["sdk."+C+"."+me.replace(/\./g,"-")]=1,(0,V.isMobileCordova)()?v["framework.cordova"]=1:(0,V.isReactNative)()&&(v["framework.reactnative"]=1),this.reportStats(v)},d.prototype.shouldReconnect_=function(){var v=ci.getInstance().currentlyOnline();return(0,V.isEmpty)(this.interruptReasons_)&&v},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(Fc),fn=function(){function p(d,v){this.name=d,this.node=v}return p.Wrap=function(d,v){return new p(d,v)},p}(),Uc=function(){function p(){}return p.prototype.getCompare=function(){return this.compare.bind(this)},p.prototype.indexedValueChanged=function(d,v){var C=new fn(we,d),M=new fn(we,v);return 0!==this.compare(C,M)},p.prototype.minPost=function(){return fn.MIN},p}(),tr=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Mt},set:function(v){Mt=v},enumerable:!1,configurable:!0}),d.prototype.compare=function(v,C){return Ee(v.name,C.name)},d.prototype.isDefinedOn=function(v){throw(0,V.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(v,C){return!1},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return new fn(Ue,Mt)},d.prototype.makePost=function(v,C){return(0,V.assert)("string"==typeof v,"KeyIndex indexValue must always be a string."),new fn(v,Mt)},d.prototype.toString=function(){return".key"},d}(Uc),as=new tr,Bc=function(){function p(d,v,C,M,D){void 0===D&&(D=null),this.isReverse_=M,this.resultGenerator_=D,this.nodeStack_=[];for(var O=1;!d.isEmpty();)if(d=d,O=v?C(d.key,v):1,M&&(O*=-1),O<0)d=this.isReverse_?d.left:d.right;else{if(0===O){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return p.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var v,d=this.nodeStack_.pop();if(v=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return v},p.prototype.hasNext=function(){return this.nodeStack_.length>0},p.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},p}(),Zi=function(){function p(d,v,C,M,D){this.key=d,this.value=v,this.color=null!=C?C:p.RED,this.left=null!=M?M:zo.EMPTY_NODE,this.right=null!=D?D:zo.EMPTY_NODE}return p.prototype.copy=function(d,v,C,M,D){return new p(null!=d?d:this.key,null!=v?v:this.value,null!=C?C:this.color,null!=M?M:this.left,null!=D?D:this.right)},p.prototype.count=function(){return this.left.count()+1+this.right.count()},p.prototype.isEmpty=function(){return!1},p.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},p.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},p.prototype.minKey=function(){return this.min_().key},p.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},p.prototype.insert=function(d,v,C){var M=this,D=C(d,M.key);return(M=D<0?M.copy(null,null,null,M.left.insert(d,v,C),null):0===D?M.copy(null,v,null,null,null):M.copy(null,null,null,null,M.right.insert(d,v,C))).fixUp_()},p.prototype.removeMin_=function(){if(this.left.isEmpty())return zo.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},p.prototype.remove=function(d,v){var C,M;if(v(d,(C=this).key)<0)!C.left.isEmpty()&&!C.left.isRed_()&&!C.left.left.isRed_()&&(C=C.moveRedLeft_()),C=C.copy(null,null,null,C.left.remove(d,v),null);else{if(C.left.isRed_()&&(C=C.rotateRight_()),!C.right.isEmpty()&&!C.right.isRed_()&&!C.right.left.isRed_()&&(C=C.moveRedRight_()),0===v(d,C.key)){if(C.right.isEmpty())return zo.EMPTY_NODE;M=C.right.min_(),C=C.copy(M.key,M.value,null,null,C.right.removeMin_())}C=C.copy(null,null,null,null,C.right.remove(d,v))}return C.fixUp_()},p.prototype.isRed_=function(){return this.color},p.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},p.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},p.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},p.prototype.rotateLeft_=function(){var d=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},p.prototype.rotateRight_=function(){var d=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},p.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,v)},p.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},p.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},p.RED=!0,p.BLACK=!1,p}(),Ah=function(){function p(){}return p.prototype.copy=function(d,v,C,M,D){return this},p.prototype.insert=function(d,v,C){return new Zi(d,v,null)},p.prototype.remove=function(d,v){return this},p.prototype.count=function(){return 0},p.prototype.isEmpty=function(){return!0},p.prototype.inorderTraversal=function(d){return!1},p.prototype.reverseTraversal=function(d){return!1},p.prototype.minKey=function(){return null},p.prototype.maxKey=function(){return null},p.prototype.check_=function(){return 0},p.prototype.isRed_=function(){return!1},p}(),zo=function(){function p(d,v){void 0===v&&(v=p.EMPTY_NODE),this.comparator_=d,this.root_=v}return p.prototype.insert=function(d,v){return new p(this.comparator_,this.root_.insert(d,v,this.comparator_).copy(null,null,Zi.BLACK,null,null))},p.prototype.remove=function(d){return new p(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Zi.BLACK,null,null))},p.prototype.get=function(d){for(var v,C=this.root_;!C.isEmpty();){if(0===(v=this.comparator_(d,C.key)))return C.value;v<0?C=C.left:v>0&&(C=C.right)}return null},p.prototype.getPredecessorKey=function(d){for(var v,C=this.root_,M=null;!C.isEmpty();){if(0===(v=this.comparator_(d,C.key))){if(C.left.isEmpty())return M?M.key:null;for(C=C.left;!C.right.isEmpty();)C=C.right;return C.key}v<0?C=C.left:v>0&&(M=C,C=C.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},p.prototype.isEmpty=function(){return this.root_.isEmpty()},p.prototype.count=function(){return this.root_.count()},p.prototype.minKey=function(){return this.root_.minKey()},p.prototype.maxKey=function(){return this.root_.maxKey()},p.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},p.prototype.getIterator=function(d){return new Bc(this.root_,null,this.comparator_,!1,d)},p.prototype.getIteratorFrom=function(d,v){return new Bc(this.root_,d,this.comparator_,!1,v)},p.prototype.getReverseIteratorFrom=function(d,v){return new Bc(this.root_,d,this.comparator_,!0,v)},p.prototype.getReverseIterator=function(d){return new Bc(this.root_,null,this.comparator_,!0,d)},p.EMPTY_NODE=new Ah,p}();function q4(p,d){return Ee(p.name,d.name)}function Ti(p,d){return Ee(p,d)}var $4,t3,ol,al,Vo,jc=function(p){return"number"==typeof p?"number:"+it(p):"string:"+p},G4=function(p){if(p.isLeafNode()){var d=p.val();(0,V.assert)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,V.contains)(d,".sv"),"Priority must be a string or number.")}else(0,V.assert)(p===il||p.isEmpty(),"priority of unexpected type.");(0,V.assert)(p===il||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xa=function(){function p(d,v){void 0===v&&(v=p.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=v,this.lazyHash_=null,(0,V.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),G4(this.priorityNode_)}return Object.defineProperty(p,"__childrenNodeConstructor",{get:function(){return $4},set:function(d){$4=d},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!0},p.prototype.getPriority=function(){return this.priorityNode_},p.prototype.updatePriority=function(d){return new p(this.value_,d)},p.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.getChild=function(d){return qt(d)?this:".priority"===Wt(d)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.hasChild=function(){return!1},p.prototype.getPredecessorChildName=function(d,v){return null},p.prototype.updateImmediateChild=function(d,v){return".priority"===d?this.updatePriority(v):v.isEmpty()&&".priority"!==d?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,v).updatePriority(this.priorityNode_)},p.prototype.updateChild=function(d,v){var C=Wt(d);return null===C?v:v.isEmpty()&&".priority"!==C?this:((0,V.assert)(".priority"!==C||1===Rs(d),".priority must be the last token in a path"),this.updateImmediateChild(C,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(d),v)))},p.prototype.isEmpty=function(){return!1},p.prototype.numChildren=function(){return 0},p.prototype.forEachChild=function(d,v){return!1},p.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+jc(this.priorityNode_.val())+":");var v=typeof this.value_;d+=v+":",d+="number"===v?it(this.value_):this.value_,this.lazyHash_=De(d)}return this.lazyHash_},p.prototype.getValue=function(){return this.value_},p.prototype.compareTo=function(d){return d===p.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof p.__childrenNodeConstructor?-1:((0,V.assert)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},p.prototype.compareToLeafNode_=function(d){var v=typeof d.value_,C=typeof this.value_,M=p.VALUE_TYPE_ORDER.indexOf(v),D=p.VALUE_TYPE_ORDER.indexOf(C);return(0,V.assert)(M>=0,"Unknown leaf type: "+v),(0,V.assert)(D>=0,"Unknown leaf type: "+C),M===D?"object"===C?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:D-M},p.prototype.withIndex=function(){return this},p.prototype.isIndexed=function(){return!0},p.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p}(),On=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),d.prototype.compare=function(v,C){var M=v.node.getPriority(),D=C.node.getPriority(),O=M.compareTo(D);return 0===O?Ee(v.name,C.name):O},d.prototype.isDefinedOn=function(v){return!v.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(v,C){return!v.getPriority().equals(C.getPriority())},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return new fn(Ue,new Xa("[PRIORITY-POST]",ol))},d.prototype.makePost=function(v,C){var M=t3(v);return new fn(C,new Xa("[PRIORITY-POST]",M))},d.prototype.toString=function(){return".priority"},d}(Uc)),K4=Math.log(2),sl=function(){function p(d){this.count=parseInt(Math.log(d+1)/K4,10),this.current_=this.count-1;var M=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&M}return p.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},p}(),qc=function(p,d,v,C){p.sort(d);var M=function(Z,X){var be,Re,ne=X-Z;if(0===ne)return null;if(1===ne)return be=p[Z],Re=v?v(be):be,new Zi(Re,be.node,Zi.BLACK,null,null);var We=parseInt(ne/2,10)+Z,rt=M(Z,We),He=M(We+1,X);return be=p[We],Re=v?v(be):be,new Zi(Re,be.node,Zi.BLACK,rt,He)},j=function(Z){for(var X=null,ne=null,be=p.length,Re=function(Xe,Zn){var to=be-Xe,ra=be;be-=Xe;var Eu=M(to+1,ra),A1=p[to],vc=v?v(A1):A1;We(new Zi(vc,A1.node,Zn,null,Eu))},We=function(Xe){X?(X.left=Xe,X=Xe):(ne=Xe,X=Xe)},rt=0;rt<Z.count;++rt){var He=Z.nextBitIsOne(),At=Math.pow(2,Z.count-(rt+1));He?Re(At,Zi.BLACK):(Re(At,Zi.BLACK),Re(At,Zi.RED))}return ne}(new sl(p.length));return new zo(C||d,j)},Zc={},on=function(){function p(d,v){this.indexes_=d,this.indexSet_=v}return Object.defineProperty(p,"Default",{get:function(){return(0,V.assert)(Zc&&On,"ChildrenNode.ts has not been loaded"),al=al||new p({".priority":Zc},{".priority":On})},enumerable:!1,configurable:!0}),p.prototype.get=function(d){var v=(0,V.safeGet)(this.indexes_,d);if(!v)throw new Error("No index defined for "+d);return v instanceof zo?v:null},p.prototype.hasIndex=function(d){return(0,V.contains)(this.indexSet_,d.toString())},p.prototype.addIndex=function(d,v){(0,V.assert)(d!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var C=[],M=!1,D=v.getIterator(fn.Wrap),O=D.getNext();O;)M=M||d.isDefinedOn(O.node),C.push(O),O=D.getNext();var j;j=M?qc(C,d.getCompare()):Zc;var Z=d.toString(),X=(0,fe.__assign)({},this.indexSet_);X[Z]=d;var ne=(0,fe.__assign)({},this.indexes_);return ne[Z]=j,new p(ne,X)},p.prototype.addToIndexes=function(d,v){var C=this;return new p((0,V.map)(this.indexes_,function(D,O){var j=(0,V.safeGet)(C.indexSet_,O);if((0,V.assert)(j,"Missing index implementation for "+O),D===Zc){if(j.isDefinedOn(d.node)){for(var Z=[],X=v.getIterator(fn.Wrap),ne=X.getNext();ne;)ne.name!==d.name&&Z.push(ne),ne=X.getNext();return Z.push(d),qc(Z,j.getCompare())}return Zc}var be=v.get(d.name),Re=D;return be&&(Re=Re.remove(new fn(d.name,be))),Re.insert(d,d.node)}),this.indexSet_)},p.prototype.removeFromIndexes=function(d,v){return new p((0,V.map)(this.indexes_,function(M){if(M===Zc)return M;var D=v.get(d.name);return D?M.remove(new fn(d.name,D)):M}),this.indexSet_)},p}(),Lt=function(){function p(d,v,C){this.children_=d,this.priorityNode_=v,this.indexMap_=C,this.lazyHash_=null,this.priorityNode_&&G4(this.priorityNode_),this.children_.isEmpty()&&(0,V.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(p,"EMPTY_NODE",{get:function(){return Vo||(Vo=new p(new zo(Ti),null,on.Default))},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!1},p.prototype.getPriority=function(){return this.priorityNode_||Vo},p.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new p(this.children_,d,this.indexMap_)},p.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var v=this.children_.get(d);return null===v?Vo:v},p.prototype.getChild=function(d){var v=Wt(d);return null===v?this:this.getImmediateChild(v).getChild(Jt(d))},p.prototype.hasChild=function(d){return null!==this.children_.get(d)},p.prototype.updateImmediateChild=function(d,v){if((0,V.assert)(v,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(v);var C=new fn(d,v),M=void 0,D=void 0;v.isEmpty()?(M=this.children_.remove(d),D=this.indexMap_.removeFromIndexes(C,this.children_)):(M=this.children_.insert(d,v),D=this.indexMap_.addToIndexes(C,this.children_));var O=M.isEmpty()?Vo:this.priorityNode_;return new p(M,O,D)},p.prototype.updateChild=function(d,v){var C=Wt(d);if(null===C)return v;(0,V.assert)(".priority"!==Wt(d)||1===Rs(d),".priority must be the last token in a path");var M=this.getImmediateChild(C).updateChild(Jt(d),v);return this.updateImmediateChild(C,M)},p.prototype.isEmpty=function(){return this.children_.isEmpty()},p.prototype.numChildren=function(){return this.children_.count()},p.prototype.val=function(d){if(this.isEmpty())return null;var v={},C=0,M=0,D=!0;if(this.forEachChild(On,function(Z,X){v[Z]=X.val(d),C++,D&&p.INTEGER_REGEXP_.test(Z)?M=Math.max(M,Number(Z)):D=!1}),!d&&D&&M<2*C){var O=[];for(var j in v)O[j]=v[j];return O}return d&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+jc(this.getPriority().val())+":"),this.forEachChild(On,function(v,C){var M=C.hash();""!==M&&(d+=":"+v+":"+M)}),this.lazyHash_=""===d?"":De(d)}return this.lazyHash_},p.prototype.getPredecessorChildName=function(d,v,C){var M=this.resolveIndex_(C);if(M){var D=M.getPredecessorKey(new fn(d,v));return D?D.name:null}return this.children_.getPredecessorKey(d)},p.prototype.getFirstChildName=function(d){var v=this.resolveIndex_(d);if(v){var C=v.minKey();return C&&C.name}return this.children_.minKey()},p.prototype.getFirstChild=function(d){var v=this.getFirstChildName(d);return v?new fn(v,this.children_.get(v)):null},p.prototype.getLastChildName=function(d){var v=this.resolveIndex_(d);if(v){var C=v.maxKey();return C&&C.name}return this.children_.maxKey()},p.prototype.getLastChild=function(d){var v=this.getLastChildName(d);return v?new fn(v,this.children_.get(v)):null},p.prototype.forEachChild=function(d,v){var C=this.resolveIndex_(d);return C?C.inorderTraversal(function(M){return v(M.name,M.node)}):this.children_.inorderTraversal(v)},p.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},p.prototype.getIteratorFrom=function(d,v){var C=this.resolveIndex_(v);if(C)return C.getIteratorFrom(d,function(O){return O});for(var M=this.children_.getIteratorFrom(d.name,fn.Wrap),D=M.peek();null!=D&&v.compare(D,d)<0;)M.getNext(),D=M.peek();return M},p.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},p.prototype.getReverseIteratorFrom=function(d,v){var C=this.resolveIndex_(v);if(C)return C.getReverseIteratorFrom(d,function(O){return O});for(var M=this.children_.getReverseIteratorFrom(d.name,fn.Wrap),D=M.peek();null!=D&&v.compare(D,d)>0;)M.getNext(),D=M.peek();return M},p.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===zn?-1:0},p.prototype.withIndex=function(d){if(d===as||this.indexMap_.hasIndex(d))return this;var v=this.indexMap_.addIndex(d,this.children_);return new p(this.children_,this.priorityNode_,v)},p.prototype.isIndexed=function(d){return d===as||this.indexMap_.hasIndex(d)},p.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var v=d;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){for(var C=this.getIterator(On),M=v.getIterator(On),D=C.getNext(),O=M.getNext();D&&O;){if(D.name!==O.name||!D.node.equals(O.node))return!1;D=C.getNext(),O=M.getNext()}return null===D&&null===O}return!1}return!1},p.prototype.resolveIndex_=function(d){return d===as?null:this.indexMap_.get(d.toString())},p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p}(),zn=new(function(p){function d(){return p.call(this,new zo(Ti),Lt.EMPTY_NODE,on.Default)||this}return(0,fe.__extends)(d,p),d.prototype.compareTo=function(v){return v===this?0:1},d.prototype.equals=function(v){return v===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(v){return Lt.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(Lt));function jn(p,d){if(void 0===d&&(d=null),null===p)return Lt.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,V.assert)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new Xa(p,jn(d));if(p instanceof Array){var Z=Lt.EMPTY_NODE;return mt(p,function(X,ne){if((0,V.contains)(p,X)&&"."!==X.substring(0,1)){var be=jn(ne);(be.isLeafNode()||!be.isEmpty())&&(Z=Z.updateImmediateChild(X,be))}}),Z.updatePriority(jn(d))}var C=[],M=!1;if(mt(p,function(X,ne){if("."!==X.substring(0,1)){var be=jn(ne);be.isEmpty()||(M=M||!be.getPriority().isEmpty(),C.push(new fn(X,be)))}}),0===C.length)return Lt.EMPTY_NODE;var O=qc(C,q4,function(X){return X.name},Ti);if(M){var j=qc(C,On.getCompare());return new Lt(O,jn(d),new on({".priority":j},{".priority":On}))}return new Lt(O,jn(d),on.Default)}Object.defineProperties(fn,{MIN:{value:new fn(we,Lt.EMPTY_NODE)},MAX:{value:new fn(Ue,zn)}}),tr.__EMPTY_NODE=Lt.EMPTY_NODE,Xa.__childrenNodeConstructor=Lt,function(p){il=p}(zn),function(p){ol=p}(zn),function(p){t3=p}(jn);var ga=function(p){function d(v){var C=p.call(this)||this;return C.indexPath_=v,(0,V.assert)(!qt(v)&&".priority"!==Wt(v),"Can't create PathIndex with empty path or .priority key"),C}return(0,fe.__extends)(d,p),d.prototype.extractChild=function(v){return v.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(v){return!v.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(v,C){var M=this.extractChild(v.node),D=this.extractChild(C.node),O=M.compareTo(D);return 0===O?Ee(v.name,C.name):O},d.prototype.makePost=function(v,C){var M=jn(v),D=Lt.EMPTY_NODE.updateChild(this.indexPath_,M);return new fn(C,D)},d.prototype.maxPost=function(){var v=Lt.EMPTY_NODE.updateChild(this.indexPath_,zn);return new fn(Ue,v)},d.prototype.toString=function(){return os(this.indexPath_,0).join("/")},d}(Uc),K1=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),d.prototype.compare=function(v,C){var M=v.node.compareTo(C.node);return 0===M?Ee(v.name,C.name):M},d.prototype.isDefinedOn=function(v){return!0},d.prototype.indexedValueChanged=function(v,C){return!v.equals(C)},d.prototype.minPost=function(){return fn.MIN},d.prototype.maxPost=function(){return fn.MAX},d.prototype.makePost=function(v,C){var M=jn(v);return new fn(C,M)},d.prototype.toString=function(){return".value"},d}(Uc)),Vs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y4=function(){var p=0,d=[];return function(v){var C=v===p;p=v;var M,D=new Array(8);for(M=7;M>=0;M--)D[M]=Vs.charAt(v%64),v=Math.floor(v/64);(0,V.assert)(0===v,"Cannot push at time == 0");var O=D.join("");if(C){for(M=11;M>=0&&63===d[M];M--)d[M]=0;d[M]++}else for(M=0;M<12;M++)d[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)O+=Vs.charAt(d[M]);return(0,V.assert)(20===O.length,"nextPushId: Length should be 20."),O}}(),$c=function(p){if(p===""+Xn)return"-";var d=rr(p);if(null!=d)return""+(d+1);for(var v=new Array(p.length),C=0;C<v.length;C++)v[C]=p.charAt(C);if(v.length<786)return v.push("-"),v.join("");for(var M=v.length-1;M>=0&&"z"===v[M];)M--;if(-1===M)return Ue;var O=Vs.charAt(Vs.indexOf(v[M])+1);return v[M]=O,v.slice(0,M+1).join("")},Hs=function(p){if(p===""+Lr)return we;var d=rr(p);if(null!=d)return""+(d-1);for(var v=new Array(p.length),C=0;C<v.length;C++)v[C]=p.charAt(C);return"-"===v[v.length-1]?1===v.length?""+Xn:(delete v[v.length-1],v.join("")):(v[v.length-1]=Vs.charAt(Vs.indexOf(v[v.length-1])-1),v.join("")+"z".repeat(786-v.length))};function Ii(p){return{type:"value",snapshotNode:p}}function va(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function Dt(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function Y2(p,d,v){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:v}}var Q4=function(){function p(d){this.index_=d}return p.prototype.updateChild=function(d,v,C,M,D,O){(0,V.assert)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var j=d.getImmediateChild(v);return j.getChild(M).equals(C.getChild(M))&&j.isEmpty()===C.isEmpty()||(null!=O&&(C.isEmpty()?d.hasChild(v)?O.trackChildChange(Dt(v,j)):(0,V.assert)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):j.isEmpty()?O.trackChildChange(va(v,C)):O.trackChildChange(Y2(v,C,j))),d.isLeafNode()&&C.isEmpty())?d:d.updateImmediateChild(v,C).withIndex(this.index_)},p.prototype.updateFullNode=function(d,v,C){return null!=C&&(d.isLeafNode()||d.forEachChild(On,function(M,D){v.hasChild(M)||C.trackChildChange(Dt(M,D))}),v.isLeafNode()||v.forEachChild(On,function(M,D){if(d.hasChild(M)){var O=d.getImmediateChild(M);O.equals(D)||C.trackChildChange(Y2(M,D,O))}else C.trackChildChange(va(M,D))})),v.withIndex(this.index_)},p.prototype.updatePriority=function(d,v){return d.isEmpty()?Lt.EMPTY_NODE:d.updatePriority(v)},p.prototype.filtersNodes=function(){return!1},p.prototype.getIndexedFilter=function(){return this},p.prototype.getIndex=function(){return this.index_},p}(),Wc=function(){function p(d){this.indexedFilter_=new Q4(d.getIndex()),this.index_=d.getIndex(),this.startPost_=p.getStartPost_(d),this.endPost_=p.getEndPost_(d)}return p.prototype.getStartPost=function(){return this.startPost_},p.prototype.getEndPost=function(){return this.endPost_},p.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},p.prototype.updateChild=function(d,v,C,M,D,O){return this.matches(new fn(v,C))||(C=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(d,v,C,M,D,O)},p.prototype.updateFullNode=function(d,v,C){v.isLeafNode()&&(v=Lt.EMPTY_NODE);var M=v.withIndex(this.index_);M=M.updatePriority(Lt.EMPTY_NODE);var D=this;return v.forEachChild(On,function(O,j){D.matches(new fn(O,j))||(M=M.updateImmediateChild(O,Lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,M,C)},p.prototype.updatePriority=function(d,v){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.indexedFilter_},p.prototype.getIndex=function(){return this.index_},p.getStartPost_=function(d){if(d.hasStart()){var v=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),v)}return d.getIndex().minPost()},p.getEndPost_=function(d){if(d.hasEnd()){var v=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),v)}return d.getIndex().maxPost()},p}(),J4=function(){function p(d){this.rangedFilter_=new Wc(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return p.prototype.updateChild=function(d,v,C,M,D,O){return this.rangedFilter_.matches(new fn(v,C))||(C=Lt.EMPTY_NODE),d.getImmediateChild(v).equals(C)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,v,C,M,D,O):this.fullLimitUpdateChild_(d,v,C,D,O)},p.prototype.updateFullNode=function(d,v,C){var M;if(v.isLeafNode()||v.isEmpty())M=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<v.numChildren()&&v.isIndexed(this.index_)){M=Lt.EMPTY_NODE.withIndex(this.index_);var D=void 0;D=this.reverse_?v.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):v.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var O=0;D.hasNext()&&O<this.limit_;){var j=D.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),j)<=0:this.index_.compare(j,this.rangedFilter_.getEndPost())<=0))break;M=M.updateImmediateChild(j.name,j.node),O++}}else{M=(M=v.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE);var X=void 0,ne=void 0,be=void 0;if(D=void 0,this.reverse_){D=M.getReverseIterator(this.index_),X=this.rangedFilter_.getEndPost(),ne=this.rangedFilter_.getStartPost();var Re=this.index_.getCompare();be=function(At,Xe){return Re(Xe,At)}}else D=M.getIterator(this.index_),X=this.rangedFilter_.getStartPost(),ne=this.rangedFilter_.getEndPost(),be=this.index_.getCompare();O=0;for(var We=!1;D.hasNext();)j=D.getNext(),!We&&be(X,j)<=0&&(We=!0),We&&O<this.limit_&&be(j,ne)<=0?O++:M=M.updateImmediateChild(j.name,Lt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,M,C)},p.prototype.updatePriority=function(d,v){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},p.prototype.getIndex=function(){return this.index_},p.prototype.fullLimitUpdateChild_=function(d,v,C,M,D){var O;if(this.reverse_){var j=this.index_.getCompare();O=function(Zn,to){return j(to,Zn)}}else O=this.index_.getCompare();var Z=d;(0,V.assert)(Z.numChildren()===this.limit_,"");var X=new fn(v,C),ne=this.reverse_?Z.getFirstChild(this.index_):Z.getLastChild(this.index_),be=this.rangedFilter_.matches(X);if(Z.hasChild(v)){for(var Re=Z.getImmediateChild(v),We=M.getChildAfterChild(this.index_,ne,this.reverse_);null!=We&&(We.name===v||Z.hasChild(We.name));)We=M.getChildAfterChild(this.index_,We,this.reverse_);var rt=null==We?1:O(We,X);if(be&&!C.isEmpty()&&rt>=0)return null!=D&&D.trackChildChange(Y2(v,C,Re)),Z.updateImmediateChild(v,C);null!=D&&D.trackChildChange(Dt(v,Re));var At=Z.updateImmediateChild(v,Lt.EMPTY_NODE);return null!=We&&this.rangedFilter_.matches(We)?(null!=D&&D.trackChildChange(va(We.name,We.node)),At.updateImmediateChild(We.name,We.node)):At}return C.isEmpty()?d:be&&O(ne,X)>=0?(null!=D&&(D.trackChildChange(Dt(ne.name,ne.node)),D.trackChildChange(va(v,C))),Z.updateImmediateChild(v,C).updateImmediateChild(ne.name,Lt.EMPTY_NODE)):d},p}(),cl=function(){function p(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}return p.prototype.hasStart=function(){return this.startSet_},p.prototype.hasStartAfter=function(){return this.startAfterSet_},p.prototype.hasEndBefore=function(){return this.endBeforeSet_},p.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},p.prototype.getIndexStartValue=function(){return(0,V.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},p.prototype.getIndexStartName=function(){return(0,V.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:we},p.prototype.hasEnd=function(){return this.endSet_},p.prototype.getIndexEndValue=function(){return(0,V.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},p.prototype.getIndexEndName=function(){return(0,V.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ue},p.prototype.hasLimit=function(){return this.limitSet_},p.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},p.prototype.getLimit=function(){return(0,V.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},p.prototype.getIndex=function(){return this.index_},p.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},p.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===On},p.prototype.copy=function(){var d=new p;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},p}();function e1(p,d,v){var C=p.copy();return C.startSet_=!0,void 0===d&&(d=null),C.indexStartValue_=d,null!=v?(C.startNameSet_=!0,C.indexStartName_=v):(C.startNameSet_=!1,C.indexStartName_=""),C}function Us(p,d,v){var C=p.copy();return C.endSet_=!0,void 0===d&&(d=null),C.indexEndValue_=d,void 0!==v?(C.endNameSet_=!0,C.indexEndName_=v):(C.endNameSet_=!1,C.indexEndName_=""),C}function ui(p,d){var v=p.copy();return v.index_=d,v}function Kc(p){var v,d={};return p.isDefault()||(p.index_===On?v="$priority":p.index_===K1?v="$value":p.index_===as?v="$key":((0,V.assert)(p.index_ instanceof ga,"Unrecognized index type!"),v=p.index_.toString()),d.orderBy=(0,V.stringify)(v),p.startSet_&&(d.startAt=(0,V.stringify)(p.indexStartValue_),p.startNameSet_&&(d.startAt+=","+(0,V.stringify)(p.indexStartName_))),p.endSet_&&(d.endAt=(0,V.stringify)(p.indexEndValue_),p.endNameSet_&&(d.endAt+=","+(0,V.stringify)(p.indexEndName_))),p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_)),d}function Bs(p){var d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_)),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_)),p.limitSet_){d.l=p.limit_;var v=p.viewFrom_;""===v&&(v=p.isViewFromLeft()?"l":"r"),d.vf=v}return p.index_!==On&&(d.i=p.index_.toString()),d}var r3=function(p){function d(v,C,M,D){var O=p.call(this)||this;return O.repoInfo_=v,O.onDataUpdate_=C,O.authTokenProvider_=M,O.appCheckTokenProvider_=D,O.log_=Bt("p:rest:"),O.listens_={},O}return(0,fe.__extends)(d,p),d.prototype.reportStats=function(v){throw new Error("Method not implemented.")},d.getListenId_=function(v,C){return void 0!==C?"tag$"+C:((0,V.assert)(v._queryParams.isDefault(),"should have a tag if it's not a default query."),v._path.toString())},d.prototype.listen=function(v,C,M,D){var O=this,j=v._path.toString();this.log_("Listen called for "+j+" "+v._queryIdentifier);var Z=d.getListenId_(v,M),X={};this.listens_[Z]=X;var ne=Kc(v._queryParams);this.restRequest_(j+".json",ne,function(be,Re){var We=Re;404===be&&(We=null,be=null),null===be&&O.onDataUpdate_(j,We,!1,M),(0,V.safeGet)(O.listens_,Z)===X&&D(be?401===be?"permission_denied":"rest_error:"+be:"ok",null)})},d.prototype.unlisten=function(v,C){var M=d.getListenId_(v,C);delete this.listens_[M]},d.prototype.get=function(v){var C=this,M=Kc(v._queryParams),D=v._path.toString(),O=new V.Deferred;return this.restRequest_(D+".json",M,function(j,Z){var X=Z;404===j&&(X=null,j=null),null===j?(C.onDataUpdate_(D,X,!1,null),O.resolve(X)):O.reject(new Error(X))}),O.promise},d.prototype.refreshAuthToken=function(v){},d.prototype.restRequest_=function(v,C,M){var D=this;return void 0===C&&(C={}),C.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(O){var j=(0,fe.__read)(O,2),Z=j[0],X=j[1];Z&&Z.accessToken&&(C.auth=Z.accessToken),X&&X.token&&(C.ac=X.token);var ne=(D.repoInfo_.secure?"https://":"http://")+D.repoInfo_.host+v+"?ns="+D.repoInfo_.namespace+(0,V.querystring)(C);D.log_("Sending REST request for "+ne);var be=new XMLHttpRequest;be.onreadystatechange=function(){if(M&&4===be.readyState){D.log_("REST Response for "+ne+" received. status:",be.status,"response:",be.responseText);var Re=null;if(be.status>=200&&be.status<300){try{Re=(0,V.jsonEval)(be.responseText)}catch(We){yn("Failed to parse JSON response for "+ne+": "+be.responseText)}M(null,Re)}else 401!==be.status&&404!==be.status&&yn("Got unsuccessful REST response for "+ne+" Status: "+be.status),M(be.status);M=null}},be.open("GET",ne,!0),be.send()})},d}(Fc),Y1=function(){function p(){this.rootNode_=Lt.EMPTY_NODE}return p.prototype.getNode=function(d){return this.rootNode_.getChild(d)},p.prototype.updateSnapshot=function(d,v){this.rootNode_=this.rootNode_.updateChild(d,v)},p}();function n1(){return{value:null,children:new Map}}function ya(p,d,v){if(qt(d))p.value=v,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,v);else{var C=Wt(d);p.children.has(C)||p.children.set(C,n1()),ya(p.children.get(C),d=Jt(d),v)}}function Vn(p,d){if(qt(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;var v=p.value;return p.value=null,v.forEachChild(On,function(D,O){ya(p,new jt(D),O)}),Vn(p,d)}if(p.children.size>0){var C=Wt(d);return d=Jt(d),p.children.has(C)&&Vn(p.children.get(C),d)&&p.children.delete(C),0===p.children.size}return!0}function Kr(p,d,v){null!==p.value?v(d,p.value):function(p,d){p.children.forEach(function(v,C){d(C,v)})}(p,function(C,M){Kr(M,new jt(d.toString()+"/"+C),v)})}var cs=function(){function p(d){this.collection_=d,this.last_=null}return p.prototype.get=function(){var d=this.collection_.get(),v=(0,fe.__assign)({},d);return this.last_&&mt(this.last_,function(C,M){v[C]=v[C]-M}),this.last_=d,v},p}(),Qc=function(){function p(d,v){this.server_=v,this.statsToReport_={},this.statsListener_=new cs(d);var C=1e4+2e4*Math.random();is(this.reportStats_.bind(this),Math.floor(C))}return p.prototype.reportStats_=function(){var d=this,v=this.statsListener_.get(),C={},M=!1;mt(v,function(D,O){O>0&&(0,V.contains)(d.statsToReport_,D)&&(C[D]=O,M=!0)}),M&&this.server_.reportStats(C),is(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},p}(),Rr=(()=>(function(p){p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Rr||(Rr={})),Rr))();function Q1(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}var i3=function(){function p(d,v,C){this.path=d,this.affectedTree=v,this.revert=C,this.type=Rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p.prototype.operationForChild=function(d){if(qt(this.path)){if(null!=this.affectedTree.value)return(0,V.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var v=this.affectedTree.subtree(new jt(d));return new p(pt(),v,this.revert)}return(0,V.assert)(Wt(this.path)===d,"operationForChild called for unrelated child."),new p(Jt(this.path),this.affectedTree,this.revert)},p}(),X4=function(){function p(d,v){this.source=d,this.path=v,this.type=Rr.LISTEN_COMPLETE}return p.prototype.operationForChild=function(d){return qt(this.path)?new p(this.source,pt()):new p(this.source,Jt(this.path))},p}(),J1=function(){function p(d,v,C){this.source=d,this.path=v,this.snap=C,this.type=Rr.OVERWRITE}return p.prototype.operationForChild=function(d){return qt(this.path)?new p(this.source,pt(),this.snap.getImmediateChild(d)):new p(this.source,Jt(this.path),this.snap)},p}(),js=function(){function p(d,v,C){this.source=d,this.path=v,this.children=C,this.type=Rr.MERGE}return p.prototype.operationForChild=function(d){if(qt(this.path)){var v=this.children.subtree(new jt(d));return v.isEmpty()?null:v.value?new J1(this.source,pt(),v.value):new p(this.source,pt(),v)}return(0,V.assert)(Wt(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new p(this.source,Jt(this.path),this.children)},p.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},p}(),Si=function(){function p(d,v,C){this.node_=d,this.fullyInitialized_=v,this.filtered_=C}return p.prototype.isFullyInitialized=function(){return this.fullyInitialized_},p.prototype.isFiltered=function(){return this.filtered_},p.prototype.isCompleteForPath=function(d){if(qt(d))return this.isFullyInitialized()&&!this.filtered_;var v=Wt(d);return this.isCompleteForChild(v)},p.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},p.prototype.getNode=function(){return this.node_},p}(),e0=function(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function ls(p,d,v,C,M,D){var O=C.filter(function(j){return j.type===v});O.sort(function(j,Z){return function(p,d,v){if(null==d.childName||null==v.childName)throw(0,V.assertionError)("Should only compare child_ events.");var C=new fn(d.childName,d.snapshotNode),M=new fn(v.childName,v.snapshotNode);return p.index_.compare(C,M)}(p,j,Z)}),O.forEach(function(j){var Z=function(p,d,v){return"value"===d.type||"child_removed"===d.type||(d.prevName=v.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,j,D);M.forEach(function(X){X.respondsTo(j.type)&&d.push(X.createEvent(Z,p.query_))})})}function nr(p,d){return{eventCache:p,serverCache:d}}function fs(p,d,v,C){return nr(new Si(d,v,C),p.serverCache)}function sr(p,d,v,C){return nr(p.eventCache,new Si(d,v,C))}function t0(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function r1(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}var ul,$i=function(){function p(d,v){void 0===v&&(ul||(ul=new zo(Et)),v=ul),this.value=d,this.children=v}return p.fromObject=function(d){var v=new p(null);return mt(d,function(C,M){v=v.set(new jt(C),M)}),v},p.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},p.prototype.findRootMostMatchingPathAndValue=function(d,v){if(null!=this.value&&v(this.value))return{path:pt(),value:this.value};if(qt(d))return null;var C=Wt(d),M=this.children.get(C);if(null!==M){var D=M.findRootMostMatchingPathAndValue(Jt(d),v);return null!=D?{path:nn(new jt(C),D.path),value:D.value}:null}return null},p.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},p.prototype.subtree=function(d){if(qt(d))return this;var v=Wt(d),C=this.children.get(v);return null!==C?C.subtree(Jt(d)):new p(null)},p.prototype.set=function(d,v){if(qt(d))return new p(v,this.children);var C=Wt(d),D=(this.children.get(C)||new p(null)).set(Jt(d),v),O=this.children.insert(C,D);return new p(this.value,O)},p.prototype.remove=function(d){if(qt(d))return this.children.isEmpty()?new p(null):new p(null,this.children);var v=Wt(d),C=this.children.get(v);if(C){var M=C.remove(Jt(d)),D=void 0;return D=M.isEmpty()?this.children.remove(v):this.children.insert(v,M),null===this.value&&D.isEmpty()?new p(null):new p(this.value,D)}return this},p.prototype.get=function(d){if(qt(d))return this.value;var v=Wt(d),C=this.children.get(v);return C?C.get(Jt(d)):null},p.prototype.setTree=function(d,v){if(qt(d))return v;var O,C=Wt(d),D=(this.children.get(C)||new p(null)).setTree(Jt(d),v);return O=D.isEmpty()?this.children.remove(C):this.children.insert(C,D),new p(this.value,O)},p.prototype.fold=function(d){return this.fold_(pt(),d)},p.prototype.fold_=function(d,v){var C={};return this.children.inorderTraversal(function(M,D){C[M]=D.fold_(nn(d,M),v)}),v(d,this.value,C)},p.prototype.findOnPath=function(d,v){return this.findOnPath_(d,pt(),v)},p.prototype.findOnPath_=function(d,v,C){var M=!!this.value&&C(v,this.value);if(M)return M;if(qt(d))return null;var D=Wt(d),O=this.children.get(D);return O?O.findOnPath_(Jt(d),nn(v,D),C):null},p.prototype.foreachOnPath=function(d,v){return this.foreachOnPath_(d,pt(),v)},p.prototype.foreachOnPath_=function(d,v,C){if(qt(d))return this;this.value&&C(v,this.value);var M=Wt(d),D=this.children.get(M);return D?D.foreachOnPath_(Jt(d),nn(v,M),C):new p(null)},p.prototype.foreach=function(d){this.foreach_(pt(),d)},p.prototype.foreach_=function(d,v){this.children.inorderTraversal(function(C,M){M.foreach_(nn(d,C),v)}),this.value&&v(d,this.value)},p.prototype.foreachChild=function(d){this.children.inorderTraversal(function(v,C){C.value&&d(v,C.value)})},p}(),Wi=function(){function p(d){this.writeTree_=d}return p.empty=function(){return new p(new $i(null))},p}();function Fo(p,d,v){if(qt(d))return new Wi(new $i(v));var C=p.writeTree_.findRootMostValueAndPath(d);if(null!=C){var M=C.path,D=C.value,O=er(M,d);return D=D.updateChild(O,v),new Wi(p.writeTree_.set(M,D))}var j=new $i(v),Z=p.writeTree_.setTree(d,j);return new Wi(Z)}function _a(p,d,v){var C=p;return mt(v,function(M,D){C=Fo(C,nn(d,M),D)}),C}function Q2(p,d){if(qt(d))return Wi.empty();var v=p.writeTree_.setTree(d,new $i(null));return new Wi(v)}function tu(p,d){return null!=ba(p,d)}function ba(p,d){var v=p.writeTree_.findRootMostValueAndPath(d);return null!=v?p.writeTree_.get(v.path).getChild(er(v.path,d)):null}function i1(p){var d=[],v=p.writeTree_.value;return null!=v?v.isLeafNode()||v.forEachChild(On,function(C,M){d.push(new fn(C,M))}):p.writeTree_.children.inorderTraversal(function(C,M){null!=M.value&&d.push(new fn(C,M.value))}),d}function li(p,d){if(qt(d))return p;var v=ba(p,d);return new Wi(null!=v?new $i(v):p.writeTree_.subtree(d))}function J2(p){return p.writeTree_.isEmpty()}function nu(p,d){return a3(pt(),p.writeTree_,d)}function a3(p,d,v){if(null!=d.value)return v.updateChild(p,d.value);var C=null;return d.children.inorderTraversal(function(M,D){".priority"===M?((0,V.assert)(null!==D.value,"Priority writes must always be leaf nodes"),C=D.value):v=a3(nn(p,M),D,v)}),!v.getChild(p).isEmpty()&&null!==C&&(v=v.updateChild(nn(p,".priority"),C)),v}function hs(p,d){return Ca(d,p)}function o1(p,d){if(p.snap)return Yn(p.path,d);for(var v in p.children)if(p.children.hasOwnProperty(v)&&Yn(nn(p.path,v),d))return!0;return!1}function u3(p){return p.visible}function wo(p,d,v){for(var C=Wi.empty(),M=0;M<p.length;++M){var D=p[M];if(d(D)){var O=D.path,j=void 0;if(D.snap)Yn(v,O)?C=Fo(C,j=er(v,O),D.snap):Yn(O,v)&&(j=er(O,v),C=Fo(C,pt(),D.snap.getChild(j)));else{if(!D.children)throw(0,V.assertionError)("WriteRecord should have .snap or .children");if(Yn(v,O))C=_a(C,j=er(v,O),D.children);else if(Yn(O,v))if(qt(j=er(O,v)))C=_a(C,pt(),D.children);else{var Z=(0,V.safeGet)(D.children,Wt(j));if(Z){var X=Z.getChild(Jt(j));C=Fo(C,pt(),X)}}}}}return C}function X2(p,d,v,C,M){if(C||M){var Z=li(p.visibleWrites,d);return!M&&J2(Z)?v:M||null!=v||tu(Z,pt())?nu(wo(p.allWrites,function(Re){return(Re.visible||M)&&(!C||!~C.indexOf(Re.writeId))&&(Yn(Re.path,d)||Yn(d,Re.path))},d),v||Lt.EMPTY_NODE):null}var D=ba(p.visibleWrites,d);if(null!=D)return D;var O=li(p.visibleWrites,d);return J2(O)?v:null!=v||tu(O,pt())?nu(O,v||Lt.EMPTY_NODE):null}function Eo(p,d,v,C){return X2(p.writeTree,p.treePath,d,v,C)}function hl(p,d){return function(p,d,v){var C=Lt.EMPTY_NODE,M=ba(p.visibleWrites,d);if(M)return M.isLeafNode()||M.forEachChild(On,function(j,Z){C=C.updateImmediateChild(j,Z)}),C;if(v){var D=li(p.visibleWrites,d);return v.forEachChild(On,function(j,Z){var X=nu(li(D,new jt(j)),Z);C=C.updateImmediateChild(j,X)}),i1(D).forEach(function(j){C=C.updateImmediateChild(j.name,j.node)}),C}return i1(li(p.visibleWrites,d)).forEach(function(j){C=C.updateImmediateChild(j.name,j.node)}),C}(p.writeTree,p.treePath,d)}function s1(p,d,v,C){return function(p,d,v,C,M){(0,V.assert)(C||M,"Either existingEventSnap or existingServerSnap must exist");var D=nn(d,v);if(tu(p.visibleWrites,D))return null;var O=li(p.visibleWrites,D);return J2(O)?M.getChild(v):nu(O,M.getChild(v))}(p.writeTree,p.treePath,d,v,C)}function a1(p,d){return function(p,d){return ba(p.visibleWrites,d)}(p.writeTree,nn(p.treePath,d))}function o0(p,d,v){return function(p,d,v,C){var M=nn(d,v),D=ba(p.visibleWrites,M);return null!=D?D:C.isCompleteForChild(v)?nu(li(p.visibleWrites,M),C.getNode().getImmediateChild(v)):null}(p.writeTree,p.treePath,d,v)}function ds(p,d){return Ca(nn(p.treePath,d),p.writeTree)}function Ca(p,d){return{treePath:p,writeTree:d}}var Xt=function(){function p(){this.changeMap=new Map}return p.prototype.trackChildChange=function(d){var v=d.type,C=d.childName;(0,V.assert)("child_added"===v||"child_changed"===v||"child_removed"===v,"Only child changes supported for tracking"),(0,V.assert)(".priority"!==C,"Only non-priority child changes can be tracked.");var M=this.changeMap.get(C);if(M){var D=M.type;if("child_added"===v&&"child_removed"===D)this.changeMap.set(C,Y2(C,d.snapshotNode,M.snapshotNode));else if("child_removed"===v&&"child_added"===D)this.changeMap.delete(C);else if("child_removed"===v&&"child_changed"===D)this.changeMap.set(C,Dt(C,M.oldSnap));else if("child_changed"===v&&"child_added"===D)this.changeMap.set(C,va(C,d.snapshotNode));else{if("child_changed"!==v||"child_changed"!==D)throw(0,V.assertionError)("Illegal combination of changes: "+d+" occurred after "+M);this.changeMap.set(C,Y2(C,d.snapshotNode,M.oldSnap))}}else this.changeMap.set(C,d)},p.prototype.getChanges=function(){return Array.from(this.changeMap.values())},p}(),ar=new(function(){function p(){}return p.prototype.getCompleteChild=function(d){return null},p.prototype.getChildAfterChild=function(d,v,C){return null},p}()),It=function(){function p(d,v,C){void 0===C&&(C=null),this.writes_=d,this.viewCache_=v,this.optCompleteServerCache_=C}return p.prototype.getCompleteChild=function(d){var v=this.viewCache_.eventCache;if(v.isCompleteForChild(d))return v.getNode().getImmediateChild(d);var C=null!=this.optCompleteServerCache_?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return o0(this.writes_,d,C)},p.prototype.getChildAfterChild=function(d,v,C){var M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:r1(this.viewCache_),D=function(p,d,v,C,M,D){return function(p,d,v,C,M,D,O){var j,Z=li(p.visibleWrites,d),X=ba(Z,pt());if(null!=X)j=X;else{if(null==v)return[];j=nu(Z,v)}if((j=j.withIndex(O)).isEmpty()||j.isLeafNode())return[];for(var ne=[],be=O.getCompare(),Re=D?j.getReverseIteratorFrom(C,O):j.getIteratorFrom(C,O),We=Re.getNext();We&&ne.length<M;)0!==be(We,C)&&ne.push(We),We=Re.getNext();return ne}(p.writeTree,p.treePath,d,v,C,M,D)}(this.writes_,M,v,1,C,d);return 0===D.length?null:D[0]},p}();function Gs(p,d,v,C,M,D){var O=d.eventCache;if(null!=a1(C,v))return d;var j=void 0,Z=void 0;if(qt(v))if((0,V.assert)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var X=r1(d),be=hl(C,X instanceof Lt?X:Lt.EMPTY_NODE);j=p.filter.updateFullNode(d.eventCache.getNode(),be,D)}else{var Re=Eo(C,r1(d));j=p.filter.updateFullNode(d.eventCache.getNode(),Re,D)}else{var We=Wt(v);if(".priority"===We){(0,V.assert)(1===Rs(v),"Can't have a priority with additional path components");var rt=O.getNode(),He=s1(C,v,rt,Z=d.serverCache.getNode());j=null!=He?p.filter.updatePriority(rt,He):O.getNode()}else{var At=Jt(v),Xe=void 0;if(O.isCompleteForChild(We)){Z=d.serverCache.getNode();var Zn=s1(C,v,O.getNode(),Z);Xe=null!=Zn?O.getNode().getImmediateChild(We).updateChild(At,Zn):O.getNode().getImmediateChild(We)}else Xe=o0(C,We,d.serverCache);j=null!=Xe?p.filter.updateChild(O.getNode(),We,Xe,At,M,D):O.getNode()}}return fs(d,j,O.isFullyInitialized()||qt(v),p.filter.filtersNodes())}function cr(p,d,v,C,M,D,O,j){var X,Z=d.serverCache,ne=O?p.filter:p.filter.getIndexedFilter();if(qt(v))X=ne.updateFullNode(Z.getNode(),C,null);else if(ne.filtersNodes()&&!Z.isFiltered()){var be=Z.getNode().updateChild(v,C);X=ne.updateFullNode(Z.getNode(),be,null)}else{var Re=Wt(v);if(!Z.isCompleteForPath(v)&&Rs(v)>1)return d;var We=Jt(v),He=Z.getNode().getImmediateChild(Re).updateChild(We,C);X=".priority"===Re?ne.updatePriority(Z.getNode(),He):ne.updateChild(Z.getNode(),Re,He,We,ar,null)}var At=sr(d,X,Z.isFullyInitialized()||qt(v),ne.filtersNodes());return Gs(p,At,v,M,new It(M,At,D),j)}function c1(p,d,v,C,M,D,O){var Z,X,j=d.eventCache,ne=new It(M,d,D);if(qt(v))X=p.filter.updateFullNode(d.eventCache.getNode(),C,O),Z=fs(d,X,!0,p.filter.filtersNodes());else{var be=Wt(v);if(".priority"===be)X=p.filter.updatePriority(d.eventCache.getNode(),C),Z=fs(d,X,j.isFullyInitialized(),j.isFiltered());else{var Re=Jt(v),We=j.getNode().getImmediateChild(be),rt=void 0;if(qt(Re))rt=C;else{var He=ne.getCompleteChild(be);rt=null!=He?".priority"===W2(Re)&&He.getChild(Wr(Re)).isEmpty()?He:He.updateChild(Re,C):Lt.EMPTY_NODE}Z=We.equals(rt)?d:fs(d,p.filter.updateChild(j.getNode(),be,rt,Re,ne,O),j.isFullyInitialized(),p.filter.filtersNodes())}}return Z}function u1(p,d){return p.eventCache.isCompleteForChild(d)}function ft(p,d,v){return v.foreach(function(C,M){d=d.updateChild(C,M)}),d}function Pr(p,d,v,C,M,D,O,j){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var X,Z=d;X=qt(v)?C:new $i(null).setTree(v,C);var ne=d.serverCache.getNode();return X.children.inorderTraversal(function(be,Re){if(ne.hasChild(be)){var rt=ft(0,d.serverCache.getNode().getImmediateChild(be),Re);Z=cr(p,Z,new jt(be),rt,M,D,O,j)}}),X.children.inorderTraversal(function(be,Re){var We=!d.serverCache.isCompleteForChild(be)&&void 0===Re.value;if(!ne.hasChild(be)&&!We){var He=ft(0,d.serverCache.getNode().getImmediateChild(be),Re);Z=cr(p,Z,new jt(be),He,M,D,O,j)}}),Z}var iu=function(){function p(d,v){this.query_=d,this.eventRegistrations_=[];var C=this.query_._queryParams,M=new Q4(C.getIndex()),D=function(p){return p.loadsAllData()?new Q4(p.getIndex()):p.hasLimit()?new J4(p):new Wc(p)}(C);this.processor_=function(p){return{filter:p}}(D);var O=v.serverCache,j=v.eventCache,Z=M.updateFullNode(Lt.EMPTY_NODE,O.getNode(),null),X=D.updateFullNode(Lt.EMPTY_NODE,j.getNode(),null),ne=new Si(Z,O.isFullyInitialized(),M.filtersNodes()),be=new Si(X,j.isFullyInitialized(),D.filtersNodes());this.viewCache_=nr(be,ne),this.eventGenerator_=new e0(this.query_)}return Object.defineProperty(p.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),p}();function t2(p,d){var v=r1(p.viewCache_);return v&&(p.query._queryParams.loadsAllData()||!qt(d)&&!v.getImmediateChild(Wt(d)).isEmpty())?v.getChild(d):null}function Ea(p){return 0===p.eventRegistrations_.length}function $s(p,d,v){var C=[];if(v){(0,V.assert)(null==d,"A cancel should cancel all event registrations.");var M=p.query._path;p.eventRegistrations_.forEach(function(Z){var X=Z.createCancelEvent(v,M);X&&C.push(X)})}if(d){for(var D=[],O=0;O<p.eventRegistrations_.length;++O){var j=p.eventRegistrations_[O];if(j.matches(d)){if(d.hasAnyCallback()){D=D.concat(p.eventRegistrations_.slice(O+1));break}}else D.push(j)}p.eventRegistrations_=D}else p.eventRegistrations_=[];return C}function su(p,d,v,C){d.type===Rr.MERGE&&null!==d.source.queryId&&((0,V.assert)(r1(p.viewCache_),"We should always have a full cache before handling merges"),(0,V.assert)(t0(p.viewCache_),"Missing event cache, even though we have a server cache"));var M=p.viewCache_,D=function(p,d,v,C,M){var O,j,D=new Xt;if(v.type===Rr.OVERWRITE){var Z=v;Z.source.fromUser?O=c1(p,d,Z.path,Z.snap,C,M,D):((0,V.assert)(Z.source.fromServer,"Unknown source."),j=Z.source.tagged||d.serverCache.isFiltered()&&!qt(Z.path),O=cr(p,d,Z.path,Z.snap,C,M,j,D))}else if(v.type===Rr.MERGE){var X=v;X.source.fromUser?O=function(p,d,v,C,M,D,O){var j=d;return C.foreach(function(Z,X){var ne=nn(v,Z);u1(d,Wt(ne))&&(j=c1(p,j,ne,X,M,D,O))}),C.foreach(function(Z,X){var ne=nn(v,Z);u1(d,Wt(ne))||(j=c1(p,j,ne,X,M,D,O))}),j}(p,d,X.path,X.children,C,M,D):((0,V.assert)(X.source.fromServer,"Unknown source."),j=X.source.tagged||d.serverCache.isFiltered(),O=Pr(p,d,X.path,X.children,C,M,j,D))}else if(v.type===Rr.ACK_USER_WRITE){var ne=v;O=ne.revert?function(p,d,v,C,M,D){var O;if(null!=a1(C,v))return d;var j=new It(C,d,M),Z=d.eventCache.getNode(),X=void 0;if(qt(v)||".priority"===Wt(v)){var ne=void 0;if(d.serverCache.isFullyInitialized())ne=Eo(C,r1(d));else{var be=d.serverCache.getNode();(0,V.assert)(be instanceof Lt,"serverChildren would be complete if leaf node"),ne=hl(C,be)}X=p.filter.updateFullNode(Z,ne=ne,D)}else{var Re=Wt(v),We=o0(C,Re,d.serverCache);null==We&&d.serverCache.isCompleteForChild(Re)&&(We=Z.getImmediateChild(Re)),(X=null!=We?p.filter.updateChild(Z,Re,We,Jt(v),j,D):d.eventCache.getNode().hasChild(Re)?p.filter.updateChild(Z,Re,Lt.EMPTY_NODE,Jt(v),j,D):Z).isEmpty()&&d.serverCache.isFullyInitialized()&&(O=Eo(C,r1(d))).isLeafNode()&&(X=p.filter.updateFullNode(X,O,D))}return O=d.serverCache.isFullyInitialized()||null!=a1(C,pt()),fs(d,X,O,p.filter.filtersNodes())}(p,d,ne.path,C,M,D):function(p,d,v,C,M,D,O){if(null!=a1(M,v))return d;var j=d.serverCache.isFiltered(),Z=d.serverCache;if(null!=C.value){if(qt(v)&&Z.isFullyInitialized()||Z.isCompleteForPath(v))return cr(p,d,v,Z.getNode().getChild(v),M,D,j,O);if(qt(v)){var X=new $i(null);return Z.getNode().forEachChild(as,function(be,Re){X=X.set(new jt(be),Re)}),Pr(p,d,v,X,M,D,j,O)}return d}var ne=new $i(null);return C.foreach(function(be,Re){var We=nn(v,be);Z.isCompleteForPath(We)&&(ne=ne.set(be,Z.getNode().getChild(We)))}),Pr(p,d,v,ne,M,D,j,O)}(p,d,ne.path,ne.affectedTree,C,M,D)}else{if(v.type!==Rr.LISTEN_COMPLETE)throw(0,V.assertionError)("Unknown operation type: "+v.type);O=function(p,d,v,C,M){var D=d.serverCache;return Gs(p,sr(d,D.getNode(),D.isFullyInitialized()||qt(v),D.isFiltered()),v,C,ar,M)}(p,d,v.path,C,D)}var be=D.getChanges();return function(p,d,v){var C=d.eventCache;if(C.isFullyInitialized()){var M=C.getNode().isLeafNode()||C.getNode().isEmpty(),D=t0(p);(v.length>0||!p.eventCache.isFullyInitialized()||M&&!C.getNode().equals(D)||!C.getNode().getPriority().equals(D.getPriority()))&&v.push(Ii(t0(d)))}}(d,O,be),{viewCache:O,changes:be}}(p.processor_,M,d,v,C);return function(p,d){(0,V.assert)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,V.assert)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,D.viewCache),(0,V.assert)(D.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=D.viewCache,ml(p,D.changes,D.viewCache.eventCache.getNode(),null)}function ml(p,d,v,C){return function(p,d,v,C){var M=[],D=[];return d.forEach(function(O){"child_changed"===O.type&&p.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&D.push(function(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(O.childName,O.snapshotNode))}),ls(p,M,"child_removed",d,C,v),ls(p,M,"child_added",d,C,v),ls(p,M,"child_moved",D,C,v),ls(p,M,"child_changed",d,C,v),ls(p,M,"value",d,C,v),M}(p.eventGenerator_,d,v,C?[C]:p.eventRegistrations_)}var ec,f0,au=function(){this.views=new Map};function u0(p,d,v,C){var M,D,O=d.source.queryId;if(null!==O){var j=p.views.get(O);return(0,V.assert)(null!=j,"SyncTree gave us an op for an invalid query."),su(j,d,v,C)}var Z=[];try{for(var X=(0,fe.__values)(p.views.values()),ne=X.next();!ne.done;ne=X.next())Z=Z.concat(su(j=ne.value,d,v,C))}catch(be){M={error:be}}finally{try{ne&&!ne.done&&(D=X.return)&&D.call(X)}finally{if(M)throw M.error}}return Z}function l0(p,d,v,C,M){var O=p.views.get(d._queryIdentifier);if(!O){var j=Eo(v,M?C:null),Z=!1;j?Z=!0:C instanceof Lt?(j=hl(v,C),Z=!1):(j=Lt.EMPTY_NODE,Z=!1);var X=nr(new Si(j,Z,!1),new Si(C,M,!1));return new iu(d,X)}return O}function f3(p){var d,v,C=[];try{for(var M=(0,fe.__values)(p.views.values()),D=M.next();!D.done;D=M.next()){var O=D.value;O.query._queryParams.loadsAllData()||C.push(O)}}catch(j){d={error:j}}finally{try{D&&!D.done&&(v=M.return)&&v.call(M)}finally{if(d)throw d.error}}return C}function f1(p,d){var v,C,M=null;try{for(var D=(0,fe.__values)(p.views.values()),O=D.next();!O.done;O=D.next())M=M||t2(O.value,d)}catch(Z){v={error:Z}}finally{try{O&&!O.done&&(C=D.return)&&C.call(D)}finally{if(v)throw v.error}}return M}function xh(p,d){return d._queryParams.loadsAllData()?Yr(p):p.views.get(d._queryIdentifier)}function h3(p,d){return null!=xh(p,d)}function ps(p){return null!=Yr(p)}function Yr(p){var d,v;try{for(var C=(0,fe.__values)(p.views.values()),M=C.next();!M.done;M=C.next()){var D=M.value;if(D.query._queryParams.loadsAllData())return D}}catch(O){d={error:O}}finally{try{M&&!M.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}return null}var cu=1,h1=function(d){this.listenProvider_=d,this.syncPointTree_=new $i(null),this.pendingWriteTree_={visibleWrites:Wi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function tc(p,d,v,C,M){return function(p,d,v,C,M){(0,V.assert)(C>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),p.allWrites.push({path:d,snap:v,writeId:C,visible:M}),M&&(p.visibleWrites=Fo(p.visibleWrites,d,v)),p.lastWriteId=C}(p.pendingWriteTree_,d,v,C,M),M?Qi(p,new J1({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,v)):[]}function zr(p,d,v){void 0===v&&(v=!1);var C=function(p,d){for(var v=0;v<p.allWrites.length;v++){var C=p.allWrites[v];if(C.writeId===d)return C}return null}(p.pendingWriteTree_,d);if(function(p,d){var v=p.allWrites.findIndex(function(X){return X.writeId===d});(0,V.assert)(v>=0,"removeWrite called with nonexistent writeId.");var C=p.allWrites[v];p.allWrites.splice(v,1);for(var M=C.visible,D=!1,O=p.allWrites.length-1;M&&O>=0;){var j=p.allWrites[O];j.visible&&(O>=v&&o1(j,C.path)?M=!1:Yn(C.path,j.path)&&(D=!0)),O--}return!!M&&(D?(function(p){p.visibleWrites=wo(p.allWrites,u3,pt()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(C.snap?p.visibleWrites=Q2(p.visibleWrites,C.path):mt(C.children,function(X){p.visibleWrites=Q2(p.visibleWrites,nn(C.path,X))}),!0))}(p.pendingWriteTree_,d)){var D=new $i(null);return null!=C.snap?D=D.set(pt(),!0):mt(C.children,function(O){D=D.set(new jt(O),!0)}),Qi(p,new i3(C.path,D,v))}return[]}function Ks(p,d,v){return Qi(p,new J1({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,v))}function vl(p,d,v,C){var M=d._path,D=p.syncPointTree_.get(M),O=[];if(D&&("default"===d._queryIdentifier||h3(D,d))){var j=function(p,d,v,C){var M,D,O=d._queryIdentifier,j=[],Z=[],X=ps(p);if("default"===O)try{for(var ne=(0,fe.__values)(p.views.entries()),be=ne.next();!be.done;be=ne.next()){var rt,Re=(0,fe.__read)(be.value,2),We=Re[0];Z=Z.concat($s(rt=Re[1],v,C)),Ea(rt)&&(p.views.delete(We),rt.query._queryParams.loadsAllData()||j.push(rt.query))}}catch(He){M={error:He}}finally{try{be&&!be.done&&(D=ne.return)&&D.call(ne)}finally{if(M)throw M.error}}else(rt=p.views.get(O))&&(Z=Z.concat($s(rt,v,C)),Ea(rt)&&(p.views.delete(O),rt.query._queryParams.loadsAllData()||j.push(rt.query)));return X&&!ps(p)&&j.push(new((0,V.assert)(ec,"Reference.ts has not been loaded"),ec)(d._repo,d._path)),{removed:j,events:Z}}(D,d,v,C);(function(p){return 0===p.views.size})(D)&&(p.syncPointTree_=p.syncPointTree_.remove(M));var Z=j.removed;O=j.events;var X=-1!==Z.findIndex(function(Zn){return Zn._queryParams.loadsAllData()}),ne=p.syncPointTree_.findOnPath(M,function(Zn,to){return ps(to)});if(X&&!ne){var be=p.syncPointTree_.subtree(M);if(!be.isEmpty())for(var Re=function(p){return p.fold(function(d,v,C){if(v&&ps(v))return[Yr(v)];var D=[];return v&&(D=f3(v)),mt(C,function(O,j){D=D.concat(j)}),D})}(be),We=0;We<Re.length;++We){var rt=Re[We],He=rt.query,At=yl(p,rt);p.listenProvider_.startListening(Ys(He),d1(p,He),At.hashFn,At.onComplete)}}!ne&&Z.length>0&&!C&&(X?p.listenProvider_.stopListening(Ys(d),null):Z.forEach(function(Zn){var to=p.queryToTagMap.get(p1(Zn));p.listenProvider_.stopListening(Ys(Zn),to)})),function(p,d){for(var v=0;v<d.length;++v){var C=d[v];if(!C._queryParams.loadsAllData()){var M=p1(C),D=p.queryToTagMap.get(M);p.queryToTagMap.delete(M),p.tagToQueryMap.delete(D)}}}(p,Z)}return O}function d0(p,d,v){var C=d._path,M=null,D=!1;p.syncPointTree_.foreachOnPath(C,function(He,At){var Xe=er(He,C);M=M||f1(At,Xe),D=D||ps(At)});var j,O=p.syncPointTree_.get(C);O?(D=D||ps(O),M=M||f1(O,pt())):(O=new au,p.syncPointTree_=p.syncPointTree_.set(C,O)),null!=M?j=!0:(j=!1,M=Lt.EMPTY_NODE,p.syncPointTree_.subtree(C).foreachChild(function(He,At){var Xe=f1(At,pt());Xe&&(M=M.updateImmediateChild(He,Xe))}));var X=h3(O,d);if(!X&&!d._queryParams.loadsAllData()){var ne=p1(d);(0,V.assert)(!p.queryToTagMap.has(ne),"View does not exist, but we have a tag");var be=cu++;p.queryToTagMap.set(ne,be),p.tagToQueryMap.set(be,ne)}var We=function(p,d,v,C,M,D){var O=l0(p,d,C,M,D);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,O),function(p,d){p.eventRegistrations_.push(d)}(O,v),function(p,d){var v=p.viewCache_.eventCache,C=[];return v.getNode().isLeafNode()||v.getNode().forEachChild(On,function(D,O){C.push(va(D,O))}),v.isFullyInitialized()&&C.push(Ii(v.getNode())),ml(p,C,v.getNode(),d)}(O,v)}(O,d,v,hs(p.pendingWriteTree_,C),M,j);if(!X&&!D){var rt=xh(O,d);We=We.concat(function(p,d,v){var C=d._path,M=d1(p,d),D=yl(p,v),O=p.listenProvider_.startListening(Ys(d),M,D.hashFn,D.onComplete),j=p.syncPointTree_.subtree(C);if(M)(0,V.assert)(!ps(j.value),"If we're adding a query, it shouldn't be shadowed");else for(var Z=j.fold(function(be,Re,We){if(!qt(be)&&Re&&ps(Re))return[Yr(Re).query];var rt=[];return Re&&(rt=rt.concat(f3(Re).map(function(He){return He.query}))),mt(We,function(He,At){rt=rt.concat(At)}),rt}),X=0;X<Z.length;++X){var ne=Z[X];p.listenProvider_.stopListening(Ys(ne),d1(p,ne))}return O}(p,d,rt))}return We}function Ki(p,d,v){var M=p.pendingWriteTree_,D=p.syncPointTree_.findOnPath(d,function(O,j){var X=f1(j,er(O,d));if(X)return X});return X2(M,d,D,v,!0)}function Qi(p,d){return n2(d,p.syncPointTree_,null,hs(p.pendingWriteTree_,pt()))}function n2(p,d,v,C){if(qt(p.path))return nc(p,d,v,C);var M=d.get(pt());null==v&&null!=M&&(v=f1(M,pt()));var D=[],O=Wt(p.path),j=p.operationForChild(O),Z=d.children.get(O);if(Z&&j){var X=v?v.getImmediateChild(O):null,ne=ds(C,O);D=D.concat(n2(j,Z,X,ne))}return M&&(D=D.concat(u0(M,p,C,v))),D}function nc(p,d,v,C){var M=d.get(pt());null==v&&null!=M&&(v=f1(M,pt()));var D=[];return d.children.inorderTraversal(function(O,j){var Z=v?v.getImmediateChild(O):null,X=ds(C,O),ne=p.operationForChild(O);ne&&(D=D.concat(nc(ne,j,Z,X)))}),M&&(D=D.concat(u0(M,p,C,v))),D}function yl(p,d){var v=d.query,C=d1(p,v);return{hashFn:function(){return(function(p){return p.viewCache_.serverCache.getNode()}(d)||Lt.EMPTY_NODE).hash()},onComplete:function(M){if("ok"===M)return C?function(p,d,v){var C=uu(p,v);if(C){var M=lu(C),D=M.path,O=M.queryId,j=er(D,d);return _r(p,D,new X4(Q1(O),j))}return[]}(p,v._path,C):function(p,d){return Qi(p,new X4({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,v._path);var D=function(p,d){var v="Unknown Error";"too_big"===p?v="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?v="Client doesn't have permission to access the desired data.":"unavailable"===p&&(v="The service is unavailable");var C=new Error(p+" at "+d._path.toString()+": "+v);return C.code=p.toUpperCase(),C}(M,v);return vl(p,v,null,D)}}}function d1(p,d){var v=p1(d);return p.queryToTagMap.get(v)}function p1(p){return p._path.toString()+"$"+p._queryIdentifier}function uu(p,d){return p.tagToQueryMap.get(d)}function lu(p){var d=p.indexOf("$");return(0,V.assert)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new jt(p.substr(0,d))}}function _r(p,d,v){var C=p.syncPointTree_.get(d);return(0,V.assert)(C,"Missing sync point for query tag that we're tracking"),u0(C,v,hs(p.pendingWriteTree_,d),null)}function Ys(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new((0,V.assert)(f0,"Reference.ts has not been loaded"),f0)(p._repo,p._path):p}var rc=function(){function p(d){this.node_=d}return p.prototype.getImmediateChild=function(d){return new p(this.node_.getImmediateChild(d))},p.prototype.node=function(){return this.node_},p}(),hi=function(){function p(d,v){this.syncTree_=d,this.path_=v}return p.prototype.getImmediateChild=function(d){var v=nn(this.path_,d);return new p(this.syncTree_,v)},p.prototype.node=function(){return Ki(this.syncTree_,this.path_)},p}(),s2=function(p,d,v){return p&&"object"==typeof p?((0,V.assert)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?m3(p[".sv"],d,v):"object"==typeof p[".sv"]?hu(p[".sv"],d):void(0,V.assert)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},m3=function(p,d,v){switch(p){case"timestamp":return v.timestamp;default:(0,V.assert)(!1,"Unexpected server value: "+p)}},hu=function(p,d,v){p.hasOwnProperty("increment")||(0,V.assert)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));var C=p.increment;"number"!=typeof C&&(0,V.assert)(!1,"Unexpected increment value: "+C);var M=d.node();if((0,V.assert)(null!=M,"Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return C;var O=M.getValue();return"number"!=typeof O?C:O+C},g3=function(p,d,v,C){return Uo(d,new hi(v,p),C)},m1=function(p,d,v){return Uo(p,new rc(d),v)};function Uo(p,d,v){var D,C=p.getPriority().val(),M=s2(C,d.getImmediateChild(".priority"),v);if(p.isLeafNode()){var O=p,j=s2(O.getValue(),d,v);return j!==O.getValue()||M!==O.getPriority().val()?new Xa(j,jn(M)):p}var Z=p;return D=Z,M!==Z.getPriority().val()&&(D=D.updatePriority(new Xa(M))),Z.forEachChild(On,function(X,ne){var be=Uo(ne,d.getImmediateChild(X),v);be!==ne&&(D=D.updateImmediateChild(X,be))}),D}var Bo=function(d,v,C){void 0===d&&(d=""),void 0===v&&(v=null),void 0===C&&(C={children:{},childCount:0}),this.name=d,this.parent=v,this.node=C};function Qs(p,d){for(var v=d instanceof jt?d:new jt(d),C=p,M=Wt(v);null!==M;){var D=(0,V.safeGet)(C.node.children,M)||{children:{},childCount:0};C=new Bo(M,C,D),M=Wt(v=Jt(v))}return C}function Mn(p){return p.node.value}function Js(p,d){p.node.value=d,bl(p)}function m0(p){return p.node.childCount>0}function di(p,d){mt(p.node.children,function(v,C){d(new Bo(v,p,C))})}function _l(p,d,v,C){v&&!C&&d(p),di(p,function(M){_l(M,d,!0,C)}),v&&C&&d(p)}function jo(p){return new jt(null===p.parent?p.name:jo(p.parent)+"/"+p.name)}function bl(p){null!==p.parent&&function(p,d,v){var C=function(p){return void 0===Mn(p)&&!m0(p)}(v),M=(0,V.contains)(p.node.children,d);C&&M?(delete p.node.children[d],p.node.childCount--,bl(p)):!C&&!M&&(p.node.children[d]=v.node,p.node.childCount++,bl(p))}(p.parent,p.name,p)}var Vr=/[\[\].#$\/\u0000-\u001F\u007F]/,du=/[\[\].#$\u0000-\u001F\u007F]/,pi=10485760,pu=function(p){return"string"==typeof p&&0!==p.length&&!Vr.test(p)},Ma=function(p){return"string"==typeof p&&0!==p.length&&!du.test(p)},Dn=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!Ae(p)||p&&"object"==typeof p&&(0,V.contains)(p,".sv")},L=function(p,d,v,C){C&&void 0===d||ut((0,V.errorPrefix)(p,"value"),d,v)},ut=function(p,d,v){var C=v instanceof jt?new G1(v,p):v;if(void 0===d)throw new Error(p+"contains undefined "+Ps(C));if("function"==typeof d)throw new Error(p+"contains a function "+Ps(C)+" with contents = "+d.toString());if(Ae(d))throw new Error(p+"contains "+d.toString()+" "+Ps(C));if("string"==typeof d&&d.length>pi/3&&(0,V.stringLength)(d)>pi)throw new Error(p+"contains a string greater than "+pi+" utf8 bytes "+Ps(C)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var M=!1,D=!1;if(mt(d,function(O,j){if(".value"===O)M=!0;else if(".priority"!==O&&".sv"!==O&&(D=!0,!pu(O)))throw new Error(p+" contains an invalid key ("+O+") "+Ps(C)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,V.stringLength)(d),wh(p)})(C,O),ut(p,j,C),function(p){var d=p.parts_.pop();p.byteLength_-=(0,V.stringLength)(d),p.parts_.length>0&&(p.byteLength_-=1)}(C)}),M&&D)throw new Error(p+' contains ".value" child '+Ps(C)+" in addition to actual children.")}},Dr=function(p,d,v,C){if(!C||void 0!==d){var M=(0,V.errorPrefix)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(M+" must be an object containing the children to replace.");var D=[];mt(d,function(O,j){var Z=new jt(O);if(ut(M,j,nn(v,Z)),".priority"===W2(Z)&&!Dn(j))throw new Error(M+"contains an invalid value for '"+Z.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(Z)}),function(p,d){var v,C;for(v=0;v<d.length;v++)for(var M=os(C=d[v]),D=0;D<M.length;D++)if((".priority"!==M[D]||D!==M.length-1)&&!pu(M[D]))throw new Error(p+"contains an invalid key ("+M[D]+") in path "+C.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(yo);var O=null;for(v=0;v<d.length;v++){if(C=d[v],null!==O&&Yn(O,C))throw new Error(p+"contains a path "+O.toString()+" that is ancestor of another path "+C.toString());O=C}}(M,D)}},xa=function(p,d,v){if(!v||void 0!==d){if(Ae(d))throw new Error((0,V.errorPrefix)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dn(d))throw new Error((0,V.errorPrefix)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},v0=function(p,d,v){if(!v||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.errorPrefix)(p,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ms=function(p,d,v,C){if(!(C&&void 0===v||pu(v)))throw new Error((0,V.errorPrefix)(p,d)+'was an invalid key = "'+v+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Jn=function(p,d,v,C){if(!(C&&void 0===v||Ma(v)))throw new Error((0,V.errorPrefix)(p,d)+'was an invalid path = "'+v+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},br=function(p,d){if(".info"===Wt(d))throw new Error(p+" failed = Can't modify data under /.info/")},y0=function(p,d){var v=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!pu(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==v.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Ma(p)}(v))throw new Error((0,V.errorPrefix)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_0=function(p,d,v,C){if((!C||void 0!==v)&&"boolean"!=typeof v)throw new Error((0,V.errorPrefix)(p,d)+"must be a boolean.")},b0=function(){this.eventLists_=[],this.recursionDepth_=0};function Qr(p,d){for(var v=null,C=0;C<d.length;C++){var M=d[C],D=M.getPath();null!==v&&!Hc(D,v.path)&&(p.eventLists_.push(v),v=null),null===v&&(v={events:[],path:D}),v.events.push(M)}v&&p.eventLists_.push(v)}function ic(p,d,v){Qr(p,v),mu(p,function(C){return Hc(C,d)})}function Jr(p,d,v){Qr(p,v),mu(p,function(C){return Yn(C,d)||Yn(d,C)})}function mu(p,d){p.recursionDepth_++;for(var v=!0,C=0;C<p.eventLists_.length;C++){var M=p.eventLists_[C];M&&(d(M.path)?(Dh(p.eventLists_[C]),p.eventLists_[C]=null):v=!1)}v&&(p.eventLists_=[]),p.recursionDepth_--}function Dh(p){for(var d=0;d<p.events.length;d++){var v=p.events[d];if(null!==v){p.events[d]=null;var C=v.getEventRunner();Le&&Qe("event: "+v.toString()),Bi(C)}}}var C0="repo_interrupt",c2=function(){function p(d,v,C,M){this.repoInfo_=d,this.forceRestClient_=v,this.authTokenProvider_=C,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=n1(),this.transactionQueueTree_=new Bo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},p}();function wl(p){var v=p.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+v}function Ao(p){return function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p}({timestamp:wl(p)})}function qo(p,d,v,C,M){p.dataUpdateCount++;var D=new jt(d);v=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,v):v;var O=[];if(M)if(C){var j=(0,V.map)(v,function(Re){return jn(Re)});O=function(p,d,v,C){var M=uu(p,C);if(M){var D=lu(M),O=D.path,j=D.queryId,Z=er(O,d),X=$i.fromObject(v);return _r(p,O,new js(Q1(j),Z,X))}return[]}(p.serverSyncTree_,D,j,M)}else{var Z=jn(v);O=function(p,d,v,C){var M=uu(p,C);if(null!=M){var D=lu(M),O=D.path,j=D.queryId,Z=er(O,d);return _r(p,O,new J1(Q1(j),Z,v))}return[]}(p.serverSyncTree_,D,Z,M)}else if(C){var X=(0,V.map)(v,function(Re){return jn(Re)});O=function(p,d,v){var C=$i.fromObject(v);return Qi(p,new js({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,C))}(p.serverSyncTree_,D,X)}else{var ne=jn(v);O=Ks(p.serverSyncTree_,D,ne)}var be=D;O.length>0&&(be=l2(p,D)),Jr(p.eventQueue_,be,O)}function Sa(p,d){vu(p,"connected",d),!1===d&&function(p){y1(p,"onDisconnectEvents");var d=Ao(p),v=n1();Kr(p.onDisconnect_,pt(),function(M,D){var O=g3(M,D,p.serverSyncTree_,d);ya(v,M,O)});var C=[];Kr(v,pt(),function(M,D){C=C.concat(Ks(p.serverSyncTree_,M,D));var O=_1(p,M);l2(p,O)}),p.onDisconnect_=n1(),Jr(p.eventQueue_,pt(),C)}(p)}function vu(p,d,v){var C=new jt("/.info/"+d),M=jn(v);p.infoData_.updateSnapshot(C,M);var D=Ks(p.infoSyncTree_,C,M);Jr(p.eventQueue_,C,D)}function Xr(p){return p.nextWriteId_++}function vs(p,d,v,C,M){y1(p,"set",{path:d.toString(),value:v,priority:C});var D=Ao(p),O=jn(v,C),j=Ki(p.serverSyncTree_,d),Z=m1(O,j,D),X=Xr(p),ne=tc(p.serverSyncTree_,d,Z,X,!0);Qr(p.eventQueue_,ne),p.server_.put(d.toString(),O.val(!0),function(Re,We){var rt="ok"===Re;rt||yn("set at "+d+" failed: "+Re);var He=zr(p.serverSyncTree_,X,!rt);Jr(p.eventQueue_,d,He),To(0,M,Re,We)});var be=_1(p,d);l2(p,be),Jr(p.eventQueue_,be,[])}function El(p,d,v){p.server_.onDisconnectCancel(d.toString(),function(C,M){"ok"===C&&Vn(p.onDisconnect_,d),To(0,v,C,M)})}function E0(p,d,v,C){var M=jn(v);p.server_.onDisconnectPut(d.toString(),M.val(!0),function(D,O){"ok"===D&&ya(p.onDisconnect_,d,M),To(0,C,D,O)})}function sc(p,d,v){var C;C=".info"===Wt(d._path)?vl(p.infoSyncTree_,d,v):vl(p.serverSyncTree_,d,v),ic(p.eventQueue_,d._path,C)}function Fr(p){p.persistentConnection_&&p.persistentConnection_.interrupt(C0)}function y1(p){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];var C="";p.persistentConnection_&&(C=p.persistentConnection_.id+":"),Qe.apply(void 0,(0,fe.__spreadArray)([C],(0,fe.__read)(d)))}function To(p,d,v,C){d&&Bi(function(){if("ok"===v)d(null);else{var M=(v||"error").toUpperCase(),D=M;C&&(D+=": "+C);var O=new Error(D);O.code=M,d(O)}})}function mi(p,d,v){return Ki(p.serverSyncTree_,d,v)||Lt.EMPTY_NODE}function Zo(p,d){if(void 0===d&&(d=p.transactionQueueTree_),d||Da(p,d),Mn(d)){var v=Tl(p,d);(0,V.assert)(v.length>0,"Sending zero length transaction queue"),v.every(function(M){return 0===M.status})&&function(p,d,v){for(var C=v.map(function(Re){return Re.currentWriteId}),M=mi(p,d,C),D=M,O=M.hash(),j=0;j<v.length;j++){var Z=v[j];(0,V.assert)(0===Z.status,"tryToSendTransactionQueue_: items in queue should all be run."),Z.status=1,Z.retryCount++;var X=er(d,Z.path);D=D.updateChild(X,Z.currentOutputSnapshotRaw)}var ne=D.val(!0),be=d;p.server_.put(be.toString(),ne,function(Re){y1(p,"transaction put response",{path:be.toString(),status:Re});var We=[];if("ok"===Re){for(var rt=[],He=function(Xe){v[Xe].status=2,We=We.concat(zr(p.serverSyncTree_,v[Xe].currentWriteId)),v[Xe].onComplete&&rt.push(function(){return v[Xe].onComplete(null,!0,v[Xe].currentOutputSnapshotResolved)}),v[Xe].unwatcher()},At=0;At<v.length;At++)He(At);for(Da(p,Qs(p.transactionQueueTree_,d)),Zo(p,p.transactionQueueTree_),Jr(p.eventQueue_,d,We),At=0;At<rt.length;At++)Bi(rt[At])}else{if("datastale"===Re)for(At=0;At<v.length;At++)v[At].status=3===v[At].status?4:0;else for(yn("transaction at "+be.toString()+" failed: "+Re),At=0;At<v.length;At++)v[At].status=4,v[At].abortReason=Re;l2(p,d)}},O)}(p,jo(d),v)}else m0(d)&&di(d,function(M){Zo(p,M)})}function l2(p,d){var v=kh(p,d),C=jo(v);return function(p,d,v){if(0!==d.length){for(var C=[],M=[],O=d.filter(function(X){return 0===X.status}).map(function(X){return X.currentWriteId}),j=function(X){var We,ne=d[X],be=er(v,ne.path),Re=!1;if((0,V.assert)(null!==be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ne.status)Re=!0,We=ne.abortReason,M=M.concat(zr(p.serverSyncTree_,ne.currentWriteId,!0));else if(0===ne.status)if(ne.retryCount>=25)Re=!0,We="maxretry",M=M.concat(zr(p.serverSyncTree_,ne.currentWriteId,!0));else{var rt=mi(p,ne.path,O);ne.currentInputSnapshot=rt;var He=d[X].update(rt.val());if(void 0!==He){ut("transaction failed: Data returned ",He,ne.path);var At=jn(He);"object"==typeof He&&null!=He&&(0,V.contains)(He,".priority")||(At=At.updatePriority(rt.getPriority()));var Zn=ne.currentWriteId,to=Ao(p),ra=m1(At,rt,to);ne.currentOutputSnapshotRaw=At,ne.currentOutputSnapshotResolved=ra,ne.currentWriteId=Xr(p),O.splice(O.indexOf(Zn),1),M=(M=M.concat(tc(p.serverSyncTree_,ne.path,ra,ne.currentWriteId,ne.applyLocally))).concat(zr(p.serverSyncTree_,Zn,!0))}else Re=!0,We="nodata",M=M.concat(zr(p.serverSyncTree_,ne.currentWriteId,!0))}Jr(p.eventQueue_,v,M),M=[],Re&&(d[X].status=2,setTimeout(d[X].unwatcher,Math.floor(0)),d[X].onComplete&&C.push("nodata"===We?function(){return d[X].onComplete(null,!1,d[X].currentInputSnapshot)}:function(){return d[X].onComplete(new Error(We),!1,null)}))},Z=0;Z<d.length;Z++)j(Z);for(Da(p,p.transactionQueueTree_),Z=0;Z<C.length;Z++)Bi(C[Z]);Zo(p,p.transactionQueueTree_)}}(p,Tl(p,v),C),C}function kh(p,d){var v,C=p.transactionQueueTree_;for(v=Wt(d);null!==v&&void 0===Mn(C);)C=Qs(C,v),v=Wt(d=Jt(d));return C}function Tl(p,d){var v=[];return b3(p,d,v),v.sort(function(C,M){return C.order-M.order}),v}function b3(p,d,v){var C=Mn(d);if(C)for(var M=0;M<C.length;M++)v.push(C[M]);di(d,function(D){b3(p,D,v)})}function Da(p,d){var v=Mn(d);if(v){for(var C=0,M=0;M<v.length;M++)2!==v[M].status&&(v[C]=v[M],C++);v.length=C,Js(d,v.length>0?v:void 0)}di(d,function(D){Da(p,D)})}function _1(p,d){var v=jo(kh(p,d)),C=Qs(p.transactionQueueTree_,d);return function(p,d,v){for(var C=p.parent;null!==C;){if(d(C))return!0;C=C.parent}}(C,function(M){Mo(p,M)}),Mo(p,C),_l(C,function(M){Mo(p,M)}),v}function Mo(p,d){var v=Mn(d);if(v){for(var C=[],M=[],D=-1,O=0;O<v.length;O++)3===v[O].status||(1===v[O].status?((0,V.assert)(D===O-1,"All SENT items should be at beginning of queue."),D=O,v[O].status=3,v[O].abortReason="set"):((0,V.assert)(0===v[O].status,"Unexpected transaction status in abort"),v[O].unwatcher(),M=M.concat(zr(p.serverSyncTree_,v[O].currentWriteId,!0)),v[O].onComplete&&C.push(v[O].onComplete.bind(null,new Error("set"),!1,null))));for(-1===D?Js(d,void 0):v.length=D+1,Jr(p.eventQueue_,jo(d),M),O=0;O<C.length;O++)Bi(C[O])}}var _s=function(p,d){var v=Il(p),C=v.namespace;return"firebase.com"===v.domain&&Gt(v.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!C||"undefined"===C)&&"localhost"!==v.domain&&Gt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),v.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Bn(v.host,v.secure,C,d,"ws"===v.scheme||"wss"===v.scheme,"",C!==v.subdomain),path:new jt(v.pathString)}},Il=function(p){var d="",v="",C="",M="",D="",O=!0,j="https",Z=443;if("string"==typeof p){var X=p.indexOf("//");X>=0&&(j=p.substring(0,X-1),p=p.substring(X+2));var ne=p.indexOf("/");-1===ne&&(ne=p.length);var be=p.indexOf("?");-1===be&&(be=p.length),d=p.substring(0,Math.min(ne,be)),ne<be&&(M=function(p){for(var d="",v=p.split("/"),C=0;C<v.length;C++)if(v[C].length>0){var M=v[C];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch(D){}d+="/"+M}return d}(p.substring(ne,be)));var Re=function(p){var d,v,C={};"?"===p.charAt(0)&&(p=p.substring(1));try{for(var M=(0,fe.__values)(p.split("&")),D=M.next();!D.done;D=M.next()){var O=D.value;if(0!==O.length){var j=O.split("=");2===j.length?C[decodeURIComponent(j[0])]=decodeURIComponent(j[1]):yn("Invalid query segment '"+O+"' in query '"+p+"'")}}}catch(Z){d={error:Z}}finally{try{D&&!D.done&&(v=M.return)&&v.call(M)}finally{if(d)throw d.error}}return C}(p.substring(Math.min(p.length,be)));(X=d.indexOf(":"))>=0?(O="https"===j||"wss"===j,Z=parseInt(d.substring(X+1),10)):X=d.length;var We=d.slice(0,X);if("localhost"===We.toLowerCase())v="localhost";else if(We.split(".").length<=2)v=We;else{var rt=d.indexOf(".");C=d.substring(0,rt).toLowerCase(),v=d.substring(rt+1),D=C}"ns"in Re&&(D=Re.ns)}return{host:d,port:Z,domain:v,subdomain:C,secure:O,scheme:j,pathString:M,namespace:D}},C3=function(){function p(d,v,C,M){this.eventType=d,this.eventRegistration=v,this.snapshot=C,this.prevName=M}return p.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},p.prototype.getEventType=function(){return this.eventType},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.stringify)(this.snapshot.exportVal())},p}(),Xs=function(){function p(d,v,C){this.eventRegistration=d,this.error=v,this.path=C}return p.prototype.getPath=function(){return this.path},p.prototype.getEventType=function(){return"cancel"},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.path.toString()+":cancel"},p}(),b1=function(){function p(d,v){this.snapshotCallback=d,this.cancelCallback=v}return p.prototype.onValue=function(d,v){this.snapshotCallback.call(null,d,v)},p.prototype.onCancel=function(d){return(0,V.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(p.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),p.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},p}(),ac=function(){function p(d,v){this._repo=d,this._path=v}return p.prototype.cancel=function(){var d=new V.Deferred;return El(this._repo,this._path,d.wrapCallback(function(){})),d.promise},p.prototype.remove=function(){br("OnDisconnect.remove",this._path);var d=new V.Deferred;return E0(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},p.prototype.set=function(d){br("OnDisconnect.set",this._path),L("OnDisconnect.set",d,this._path,!1);var v=new V.Deferred;return E0(this._repo,this._path,d,v.wrapCallback(function(){})),v.promise},p.prototype.setWithPriority=function(d,v){br("OnDisconnect.setWithPriority",this._path),L("OnDisconnect.setWithPriority",d,this._path,!1),xa("OnDisconnect.setWithPriority",v,!1);var C=new V.Deferred;return function(p,d,v,C,M){var D=jn(v,C);p.server_.onDisconnectPut(d.toString(),D.val(!0),function(O,j){"ok"===O&&ya(p.onDisconnect_,d,D),To(0,M,O,j)})}(this._repo,this._path,d,v,C.wrapCallback(function(){})),C.promise},p.prototype.update=function(d){br("OnDisconnect.update",this._path),Dr("OnDisconnect.update",d,this._path,!1);var v=new V.Deferred;return function(p,d,v,C){if((0,V.isEmpty)(v))return Qe("onDisconnect().update() called with empty data.  Don't do anything."),void To(0,C,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),v,function(M,D){"ok"===M&&mt(v,function(O,j){var Z=jn(j);ya(p.onDisconnect_,nn(d,O),Z)}),To(0,C,M,D)})}(this._repo,this._path,d,v.wrapCallback(function(){})),v.promise},p}(),Hr=function(){function p(d,v,C,M){this._repo=d,this._path=v,this._queryParams=C,this._orderByCalled=M}return Object.defineProperty(p.prototype,"key",{get:function(){return qt(this._path)?null:W2(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ref",{get:function(){return new pn(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryIdentifier",{get:function(){var d=Bs(this._queryParams),v=_n(d);return"{}"===v?"default":v},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryObject",{get:function(){return Bs(this._queryParams)},enumerable:!1,configurable:!0}),p.prototype.isEqual=function(d){if(!((d=(0,V.getModularInstance)(d))instanceof p))return!1;var v=this._repo===d._repo,C=Hc(this._path,d._path);return v&&C&&this._queryIdentifier===d._queryIdentifier},p.prototype.toJSON=function(){return this.toString()},p.prototype.toString=function(){return this._repo.toString()+function(p){for(var d="",v=p.pieceNum_;v<p.pieces_.length;v++)""!==p.pieces_[v]&&(d+="/"+encodeURIComponent(String(p.pieces_[v])));return d||"/"}(this._path)},p}();function yu(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function Go(p){var d=null,v=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(v=p.getIndexEndValue()),p.getIndex()===as){var C="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",M="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==we)throw new Error(C);if("string"!=typeof d)throw new Error(M)}if(p.hasEnd()){if(p.getIndexEndName()!==Ue)throw new Error(C);if("string"!=typeof v)throw new Error(M)}}else if(p.getIndex()===On){if(null!=d&&!Dn(d)||null!=v&&!Dn(v))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.assert)(p.getIndex()instanceof ga||p.getIndex()===K1,"unknown index type."),null!=d&&"object"==typeof d||null!=v&&"object"==typeof v)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function f2(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pn=function(p){function d(v,C){return p.call(this,v,C,new cl,!1)||this}return(0,fe.__extends)(d,p),Object.defineProperty(d.prototype,"parent",{get:function(){var v=Wr(this._path);return null===v?null:new d(this._repo,v)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var v=this;null!==v.parent;)v=v.parent;return v},enumerable:!1,configurable:!0}),d}(Hr),C1=function(){function p(d,v,C){this._node=d,this.ref=v,this._index=C}return Object.defineProperty(p.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),p.prototype.child=function(d){var v=new jt(d),C=bs(this.ref,d);return new p(this._node.getChild(v),C,On)},p.prototype.exists=function(){return!this._node.isEmpty()},p.prototype.exportVal=function(){return this._node.val(!0)},p.prototype.forEach=function(d){var v=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(M,D){return d(new p(D,bs(v.ref,M),On))})},p.prototype.hasChild=function(d){var v=new jt(d);return!this._node.getChild(v).isEmpty()},p.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},p.prototype.toJSON=function(){return this.exportVal()},p.prototype.val=function(){return this._node.val()},p}();function cc(p,d){return(p=(0,V.getModularInstance)(p))._checkNotDeleted("ref"),void 0!==d?bs(p._root,d):p._root}function uc(p,d){(p=(0,V.getModularInstance)(p))._checkNotDeleted("refFromURL");var v=_s(d,p._repo.repoInfo_.nodeAdmin);y0("refFromURL",v);var C=v.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&C.host!==p._repo.repoInfo_.host&&Gt("refFromURL: Host name does not match the current database: (found "+C.host+" but expected "+p._repo.repoInfo_.host+")"),cc(p,v.path.toString())}function bs(p,d){return null===Wt((p=(0,V.getModularInstance)(p))._path)?((v=d)&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),Jn("child","path",v,!1)):Jn("child","path",d,!1),new pn(p._repo,nn(p._path,d));var v}function ti(p,d){p=(0,V.getModularInstance)(p),br("push",p._path),L("push",d,p._path,!0);var O,v=wl(p._repo),C=Y4(v),M=bs(p,C),D=bs(p,C);return O=null!=d?M0(D,d).then(function(){return D}):Promise.resolve(D),M.then=O.then.bind(O),M.catch=O.then.bind(O,void 0),M}function xl(p){return br("remove",p._path),M0(p,null)}function M0(p,d){p=(0,V.getModularInstance)(p),br("set",p._path),L("set",d,p._path,!1);var v=new V.Deferred;return vs(p._repo,p._path,d,null,v.wrapCallback(function(){})),v.promise}function h2(p,d){p=(0,V.getModularInstance)(p),br("setPriority",p._path),xa("setPriority",d,!1);var v=new V.Deferred;return vs(p._repo,nn(p._path,".priority"),d,null,v.wrapCallback(function(){})),v.promise}function Oh(p,d,v){if(br("setWithPriority",p._path),L("setWithPriority",d,p._path,!1),xa("setWithPriority",v,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";var C=new V.Deferred;return vs(p._repo,p._path,d,v,C.wrapCallback(function(){})),C.promise}function xd(p,d){Dr("update",d,p._path,!1);var v=new V.Deferred;return function(p,d,v,C){y1(p,"update",{path:d.toString(),value:v});var M=!0,D=Ao(p),O={};if(mt(v,function(X,ne){M=!1,O[X]=g3(nn(d,X),jn(ne),p.serverSyncTree_,D)}),M)Qe("update() called with empty data.  Don't do anything."),To(0,C,"ok",void 0);else{var j=Xr(p),Z=function(p,d,v,C){!function(p,d,v,C){(0,V.assert)(C>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:v,writeId:C,visible:!0}),p.visibleWrites=_a(p.visibleWrites,d,v),p.lastWriteId=C}(p.pendingWriteTree_,d,v,C);var M=$i.fromObject(v);return Qi(p,new js({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,M))}(p.serverSyncTree_,d,O,j);Qr(p.eventQueue_,Z),p.server_.merge(d.toString(),v,function(X,ne){var be="ok"===X;be||yn("update at "+d+" failed: "+X);var Re=zr(p.serverSyncTree_,j,!be),We=Re.length>0?l2(p,d):d;Jr(p.eventQueue_,We,Re),To(0,C,X,ne)}),mt(v,function(X){var ne=_1(p,nn(d,X));l2(p,ne)}),Jr(p.eventQueue_,d,[])}}(p._repo,p._path,d,v.wrapCallback(function(){})),v.promise}function I0(p){return function(p,d){var v=function(p,d){var v=d._path,C=null;p.syncPointTree_.foreachOnPath(v,function(X,ne){var be=er(X,v);C=C||f1(ne,be)});var M=p.syncPointTree_.get(v);M?C=C||f1(M,pt()):(M=new au,p.syncPointTree_=p.syncPointTree_.set(v,M));var D=null!=C,O=D?new Si(C,!0,!1):null;return function(p){return t0(p.viewCache_)}(l0(M,d,hs(p.pendingWriteTree_,d._path),D?O.getNode():Lt.EMPTY_NODE,D))}(p.serverSyncTree_,d);return null!=v?Promise.resolve(v):p.server_.get(d).then(function(C){var M=jn(C).withIndex(d._queryParams.getIndex()),D=Ks(p.serverSyncTree_,d._path,M);return ic(p.eventQueue_,d._path,D),Promise.resolve(M)},function(C){return y1(p,"get for query "+(0,V.stringify)(d)+" failed: "+C),Promise.reject(new Error(C))})}((p=(0,V.getModularInstance)(p))._repo,p).then(function(d){return new C1(d,new pn(p._repo,p._path),p._queryParams.getIndex())})}var Na=function(){function p(d){this.callbackContext=d}return p.prototype.respondsTo=function(d){return"value"===d},p.prototype.createEvent=function(d,v){var C=v._queryParams.getIndex();return new C3("value",this,new C1(d.snapshotNode,new pn(v._repo,v._path),C))},p.prototype.getEventRunner=function(d){var v=this;return"cancel"===d.getEventType()?function(){return v.callbackContext.onCancel(d.error)}:function(){return v.callbackContext.onValue(d.snapshot,null)}},p.prototype.createCancelEvent=function(d,v){return this.callbackContext.hasCancelCallback?new Xs(this,d,v):null},p.prototype.matches=function(d){return d instanceof p&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},p.prototype.hasAnyCallback=function(){return null!==this.callbackContext},p}(),Pn=function(){function p(d,v){this.eventType=d,this.callbackContext=v}return p.prototype.respondsTo=function(d){var v="children_added"===d?"child_added":d;return this.eventType===("children_removed"===v?"child_removed":v)},p.prototype.createCancelEvent=function(d,v){return this.callbackContext.hasCancelCallback?new Xs(this,d,v):null},p.prototype.createEvent=function(d,v){(0,V.assert)(null!=d.childName,"Child events should have a childName.");var C=bs(new pn(v._repo,v._path),d.childName),M=v._queryParams.getIndex();return new C3(d.type,this,new C1(d.snapshotNode,C,M),d.prevName)},p.prototype.getEventRunner=function(d){var v=this;return"cancel"===d.getEventType()?function(){return v.callbackContext.onCancel(d.error)}:function(){return v.callbackContext.onValue(d.snapshot,d.prevName)}},p.prototype.matches=function(d){return d instanceof p&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},p.prototype.hasAnyCallback=function(){return!!this.callbackContext},p}();function ea(p,d,v,C,M){var D;if("object"==typeof C&&(D=void 0,M=C),"function"==typeof C&&(D=C),M&&M.onlyOnce){var O=v,j=function(ne,be){sc(p._repo,p,X),O(ne,be)};j.userCallback=v.userCallback,j.context=v.context,v=j}var Z=new b1(v,D||void 0),X="value"===d?new Na(Z):new Pn(d,Z);return function(p,d,v){var C;C=".info"===Wt(d._path)?d0(p.infoSyncTree_,d,v):d0(p.serverSyncTree_,d,v),ic(p.eventQueue_,d._path,C)}(p._repo,p,X),function(){return sc(p._repo,p,X)}}function Li(p,d,v,C){return ea(p,"value",d,v,C)}function x0(p,d,v,C){return ea(p,"child_added",d,v,C)}function ni(p,d,v,C){return ea(p,"child_changed",d,v,C)}function Xi(p,d,v,C){return ea(p,"child_moved",d,v,C)}function Io(p,d,v,C){return ea(p,"child_removed",d,v,C)}function lc(p,d,v){var C=null,M=v?new b1(v):null;"value"===d?C=new Na(M):d&&(C=new Pn(d,M)),sc(p._repo,p,C)}var eo=function(){},_u=function(p){function d(v,C){var M=p.call(this)||this;return M._value=v,M._key=C,M}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){L("endAt",this._value,v._path,!0);var C=Us(v._queryParams,this._value,this._key);if(f2(C),Go(C),v._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(eo);function d2(p,d){return ms("endAt","key",d,!0),new _u(p,d)}var fc=function(p){function d(v,C){var M=p.call(this)||this;return M._value=v,M._key=C,M}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){L("endBefore",this._value,v._path,!1);var C=function(p,d,v){var M;return p.index_===as?("string"==typeof d&&(d=Hs(d)),M=Us(p,d,v)):M=Us(p,d,null==v?we:Hs(v)),M.endBeforeSet_=!0,M}(v._queryParams,this._value,this._key);if(f2(C),Go(C),v._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(eo);function w3(p,d){return ms("endBefore","key",d,!0),new fc(p,d)}var Sl=function(p){function d(v,C){var M=p.call(this)||this;return M._value=v,M._key=C,M}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){L("startAt",this._value,v._path,!0);var C=e1(v._queryParams,this._value,this._key);if(f2(C),Go(C),v._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(eo);function Rh(p,d){return void 0===p&&(p=null),ms("startAt","key",d,!0),new Sl(p,d)}var Ph=function(p){function d(v,C){var M=p.call(this)||this;return M._value=v,M._key=C,M}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){L("startAfter",this._value,v._path,!1);var C=function(p,d,v){var C;return p.index_===as?("string"==typeof d&&(d=$c(d)),C=e1(p,d,v)):C=e1(p,d,null==v?Ue:$c(v)),C.startAfterSet_=!0,C}(v._queryParams,this._value,this._key);if(f2(C),Go(C),v._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Hr(v._repo,v._path,C,v._orderByCalled)},d}(eo);function E3(p,d){return ms("startAfter","key",d,!0),new Ph(p,d)}var w1=function(p){function d(v){var C=p.call(this)||this;return C._limit=v,C}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){if(v._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(v._repo,v._path,function(p,d){var v=p.copy();return v.limitSet_=!0,v.limit_=d,v.viewFrom_="l",v}(v._queryParams,this._limit),v._orderByCalled)},d}(eo);function bu(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new w1(p)}var A3=function(p){function d(v){var C=p.call(this)||this;return C._limit=v,C}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){if(v._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(v._repo,v._path,function(p,d){var v=p.copy();return v.limitSet_=!0,v.limit_=d,v.viewFrom_="r",v}(v._queryParams,this._limit),v._orderByCalled)},d}(eo);function Dl(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new A3(p)}var Oi=function(p){function d(v){var C=p.call(this)||this;return C._path=v,C}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){yu(v,"orderByChild");var C=new jt(this._path);if(qt(C))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var M=new ga(C),D=ui(v._queryParams,M);return Go(D),new Hr(v._repo,v._path,D,!0)},d}(eo);function Nl(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jn("orderByChild","path",p,!1),new Oi(p)}var kl=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){yu(v,"orderByKey");var C=ui(v._queryParams,as);return Go(C),new Hr(v._repo,v._path,C,!0)},d}(eo);function T3(){return new kl}var zh=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){yu(v,"orderByPriority");var C=ui(v._queryParams,On);return Go(C),new Hr(v._repo,v._path,C,!0)},d}(eo);function p2(){return new zh}var hc=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){yu(v,"orderByValue");var C=ui(v._queryParams,K1);return Go(C),new Hr(v._repo,v._path,C,!0)},d}(eo);function M3(){return new hc}var dc=function(p){function d(v,C){var M=p.call(this)||this;return M._value=v,M._key=C,M}return(0,fe.__extends)(d,p),d.prototype._apply=function(v){if(L("equalTo",this._value,v._path,!1),v._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(v._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _u(this._value,this._key)._apply(new Sl(this._value,this._key)._apply(v))},d}(eo);function S0(p,d){return ms("equalTo","key",d,!0),new dc(p,d)}function $o(p){for(var d,v,C=[],M=1;M<arguments.length;M++)C[M-1]=arguments[M];var D=(0,V.getModularInstance)(p);try{for(var O=(0,fe.__values)(C),j=O.next();!j.done;j=O.next()){var Z=j.value;D=Z._apply(D)}}catch(X){d={error:X}}finally{try{j&&!j.done&&(v=O.return)&&v.call(O)}finally{if(d)throw d.error}}return D}(function(p){(0,V.assert)(!ec,"__referenceConstructor has already been defined"),ec=p})(pn),function(p){(0,V.assert)(!f0,"__referenceConstructor has already been defined"),f0=p}(pn);var ri={},Cu=!1;function I3(p,d,v,C,M){var D=C||p.options.databaseURL;void 0===D&&(p.options.projectId||Gt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",p.options.projectId),D=p.options.projectId+"-default-rtdb.firebaseio.com");var Z,O=_s(D,M),j=O.repoInfo,X=void 0;"undefined"!=typeof process&&(X=process.env.FIREBASE_DATABASE_EMULATOR_HOST),X?(Z=!0,j=(O=_s(D="http://"+X+"?ns="+j.namespace,M)).repoInfo):Z=!O.repoInfo.secure;var ne=M&&Z?new zt(zt.OWNER):new Kt(p.name,p.options,d);y0("Invalid Firebase Database URL",O),qt(O.path)||Gt("Database URL must point to the root of a Firebase Database (not including a child path).");var be=function(p,d,v,C){var M=ri[d.name];M||(ri[d.name]=M={});var D=M[p.toURLString()];return D&&Gt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new c2(p,Cu,v,C),M[p.toURLString()]=D,D}(j,p,ne,new Wa(p.name,v));return new Fh(be,p)}var Fh=function(){function p(d,v){this._repoInternal=d,this.app=v,this.type="database",this._instanceStarted=!1}return Object.defineProperty(p.prototype,"_repo",{get:function(){return this._instanceStarted||(function(p,d,v){if(p.stats_=bn(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new r3(p.repoInfo_,function(C,M,D,O){qo(p,C,M,D,O)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(function(){return Sa(p,!0)},0);else{if(null!=v){if("object"!=typeof v)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.stringify)(v)}catch(C){throw new Error("Invalid authOverride provided: "+C)}}p.persistentConnection_=new $1(p.repoInfo_,d,function(C,M,D,O){qo(p,C,M,D,O)},function(C){Sa(p,C)},function(C){!function(p,d){mt(d,function(v,C){vu(p,v,C)})}(p,C)},p.authTokenProvider_,p.appCheckProvider_,v),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(function(C){p.server_.refreshAuthToken(C)}),p.appCheckProvider_.addTokenChangeListener(function(C){p.server_.refreshAppCheckToken(C.token)}),p.statsReporter_=function(p,d){var v=p.toString();return Er[v]||(Er[v]=d()),Er[v]}(p.repoInfo_,function(){return new Qc(p.stats_,p.server_)}),p.infoData_=new Y1,p.infoSyncTree_=new h1({startListening:function(C,M,D,O){var j=[],Z=p.infoData_.getNode(C._path);return Z.isEmpty()||(j=Ks(p.infoSyncTree_,C._path,Z),setTimeout(function(){O("ok")},0)),j},stopListening:function(){}}),vu(p,"connected",!1),p.serverSyncTree_=new h1({startListening:function(C,M,D,O){return p.server_.listen(C,D,M,function(j,Z){var X=O(j,Z);Jr(p.eventQueue_,C._path,X)}),[]},stopListening:function(C,M){p.server_.unlisten(C,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new pn(this._repo,pt())),this._rootInternal},enumerable:!1,configurable:!0}),p.prototype._delete=function(){return null!==this._rootInternal&&(function(p,d){var v=ri[d];(!v||v[p.key]!==p)&&Gt("Database "+d+"("+p.repoInfo_+") has already been deleted."),Fr(p),delete v[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},p.prototype._checkNotDeleted=function(d){null===this._rootInternal&&Gt("Cannot call "+d+" on a deleted database.")},p}();function Hh(p){(p=(0,V.getModularInstance)(p))._checkNotDeleted("goOffline"),Fr(p._repo)}function g2(p){(p=(0,V.getModularInstance)(p))._checkNotDeleted("goOnline"),function(p){p.persistentConnection_&&p.persistentConnection_.resume(C0)}(p._repo)}var ta={".sv":"timestamp"},D3=function(){function p(d,v){this.committed=d,this.snapshot=v}return p.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}();function Dd(p,d,v){var C;if(p=(0,V.getModularInstance)(p),br("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";var M=null===(C=null==v?void 0:v.applyLocally)||void 0===C||C,D=new V.Deferred,j=Li(p,function(){});return function(p,d,v,C,M,D){y1(p,"transaction on "+d);var O={path:d,update:v,onComplete:C,status:null,order:Ne(),applyLocally:D,retryCount:0,unwatcher:M,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},j=mi(p,d,void 0);O.currentInputSnapshot=j;var Z=O.update(j.val());if(void 0===Z)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{ut("transaction failed: Data returned ",Z,O.path),O.status=0;var X=Qs(p.transactionQueueTree_,d),ne=Mn(X)||[];ne.push(O),Js(X,ne);var be=void 0;"object"==typeof Z&&null!==Z&&(0,V.contains)(Z,".priority")?(be=(0,V.safeGet)(Z,".priority"),(0,V.assert)(Dn(be),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):be=(Ki(p.serverSyncTree_,d)||Lt.EMPTY_NODE).getPriority().val();var We=Ao(p),rt=jn(Z,be),He=m1(rt,j,We);O.currentOutputSnapshotRaw=rt,O.currentOutputSnapshotResolved=He,O.currentWriteId=Xr(p);var At=tc(p.serverSyncTree_,d,He,O.currentWriteId,O.applyLocally);Jr(p.eventQueue_,d,At),Zo(p,p.transactionQueueTree_)}}(p._repo,p._path,d,function(Z,X,ne){var be=null;Z?D.reject(Z):(be=new C1(ne,new pn(p._repo,p._path),On),D.resolve(new D3(X,be)))},j,M),D.promise}var na=function(){function p(d){this._delegate=d}return p.prototype.cancel=function(d){(0,V.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,V.validateCallback)("OnDisconnect.cancel","onComplete",d,!0);var v=this._delegate.cancel();return d&&v.then(function(){return d(null)},function(C){return d(C)}),v},p.prototype.remove=function(d){(0,V.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,V.validateCallback)("OnDisconnect.remove","onComplete",d,!0);var v=this._delegate.remove();return d&&v.then(function(){return d(null)},function(C){return d(C)}),v},p.prototype.set=function(d,v){(0,V.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,V.validateCallback)("OnDisconnect.set","onComplete",v,!0);var C=this._delegate.set(d);return v&&C.then(function(){return v(null)},function(M){return v(M)}),C},p.prototype.setWithPriority=function(d,v,C){(0,V.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.validateCallback)("OnDisconnect.setWithPriority","onComplete",C,!0);var M=this._delegate.setWithPriority(d,v);return C&&M.then(function(){return C(null)},function(D){return C(D)}),M},p.prototype.update=function(d,v){if((0,V.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var C={},M=0;M<d.length;++M)C[""+M]=d[M];d=C,yn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.validateCallback)("OnDisconnect.update","onComplete",v,!0);var D=this._delegate.update(d);return v&&D.then(function(){return v(null)},function(O){return v(O)}),D},p}(),k0=function(){function p(d,v){this.committed=d,this.snapshot=v}return p.prototype.toJSON=function(){return(0,V.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}(),v2=function(){function p(d,v){this._database=d,this._delegate=v}return p.prototype.val=function(){return(0,V.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},p.prototype.exportVal=function(){return(0,V.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},p.prototype.toJSON=function(){return(0,V.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.exists=function(){return(0,V.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},p.prototype.child=function(d){return(0,V.validateArgCount)("DataSnapshot.child",0,1,arguments.length),d=String(d),Jn("DataSnapshot.child","path",d,!1),new p(this._database,this._delegate.child(d))},p.prototype.hasChild=function(d){return(0,V.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Jn("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},p.prototype.getPriority=function(){return(0,V.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},p.prototype.forEach=function(d){var v=this;return(0,V.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,V.validateCallback)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(C){return d(new p(v._database,C))})},p.prototype.hasChildren=function(){return(0,V.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(p.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),p.prototype.numChildren=function(){return(0,V.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},p.prototype.getRef=function(){return(0,V.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ka(this._database,this._delegate.ref)},Object.defineProperty(p.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),p}(),N3=function(){function p(d,v){this.database=d,this._delegate=v}return p.prototype.on=function(d,v,C,M){var O,D=this;(0,V.validateArgCount)("Query.on",2,4,arguments.length),(0,V.validateCallback)("Query.on","callback",v,!1);var j=p.getCancelAndContextArgs_("Query.on",C,M),Z=function(ne,be){v.call(j.context,new v2(D.database,ne),be)};Z.userCallback=v,Z.context=j.context;var X=null===(O=j.cancel)||void 0===O?void 0:O.bind(j.context);switch(d){case"value":return Li(this._delegate,Z,X),v;case"child_added":return x0(this._delegate,Z,X),v;case"child_removed":return Io(this._delegate,Z,X),v;case"child_changed":return ni(this._delegate,Z,X),v;case"child_moved":return Xi(this._delegate,Z,X),v;default:throw new Error((0,V.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},p.prototype.off=function(d,v,C){if((0,V.validateArgCount)("Query.off",0,3,arguments.length),v0("Query.off",d,!0),(0,V.validateCallback)("Query.off","callback",v,!0),(0,V.validateContextObject)("Query.off","context",C,!0),v){var M=function(){};M.userCallback=v,M.context=C,lc(this._delegate,d,M)}else lc(this._delegate,d)},p.prototype.get=function(){var d=this;return I0(this._delegate).then(function(v){return new v2(d.database,v)})},p.prototype.once=function(d,v,C,M){var D=this;(0,V.validateArgCount)("Query.once",1,4,arguments.length),(0,V.validateCallback)("Query.once","callback",v,!0);var O=p.getCancelAndContextArgs_("Query.once",C,M),j=new V.Deferred,Z=function(ne,be){var Re=new v2(D.database,ne);v&&v.call(O.context,Re,be),j.resolve(Re)};Z.userCallback=v,Z.context=O.context;var X=function(ne){O.cancel&&O.cancel.call(O.context,ne),j.reject(ne)};switch(d){case"value":Li(this._delegate,Z,X,{onlyOnce:!0});break;case"child_added":x0(this._delegate,Z,X,{onlyOnce:!0});break;case"child_removed":Io(this._delegate,Z,X,{onlyOnce:!0});break;case"child_changed":ni(this._delegate,Z,X,{onlyOnce:!0});break;case"child_moved":Xi(this._delegate,Z,X,{onlyOnce:!0});break;default:throw new Error((0,V.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return j.promise},p.prototype.limitToFirst=function(d){return(0,V.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new p(this.database,$o(this._delegate,bu(d)))},p.prototype.limitToLast=function(d){return(0,V.validateArgCount)("Query.limitToLast",1,1,arguments.length),new p(this.database,$o(this._delegate,Dl(d)))},p.prototype.orderByChild=function(d){return(0,V.validateArgCount)("Query.orderByChild",1,1,arguments.length),new p(this.database,$o(this._delegate,Nl(d)))},p.prototype.orderByKey=function(){return(0,V.validateArgCount)("Query.orderByKey",0,0,arguments.length),new p(this.database,$o(this._delegate,T3()))},p.prototype.orderByPriority=function(){return(0,V.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new p(this.database,$o(this._delegate,p2()))},p.prototype.orderByValue=function(){return(0,V.validateArgCount)("Query.orderByValue",0,0,arguments.length),new p(this.database,$o(this._delegate,M3()))},p.prototype.startAt=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.startAt",0,2,arguments.length),new p(this.database,$o(this._delegate,Rh(d,v)))},p.prototype.startAfter=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.startAfter",0,2,arguments.length),new p(this.database,$o(this._delegate,E3(d,v)))},p.prototype.endAt=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.endAt",0,2,arguments.length),new p(this.database,$o(this._delegate,d2(d,v)))},p.prototype.endBefore=function(d,v){return void 0===d&&(d=null),(0,V.validateArgCount)("Query.endBefore",0,2,arguments.length),new p(this.database,$o(this._delegate,w3(d,v)))},p.prototype.equalTo=function(d,v){return(0,V.validateArgCount)("Query.equalTo",1,2,arguments.length),new p(this.database,$o(this._delegate,S0(d,v)))},p.prototype.toString=function(){return(0,V.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},p.prototype.toJSON=function(){return(0,V.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.isEqual=function(d){if((0,V.validateArgCount)("Query.isEqual",1,1,arguments.length),!(d instanceof p)){var v="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(v)}return this._delegate.isEqual(d._delegate)},p.getCancelAndContextArgs_=function(d,v,C){var M={cancel:void 0,context:void 0};if(v&&C)M.cancel=v,(0,V.validateCallback)(d,"cancel",M.cancel,!0),M.context=C,(0,V.validateContextObject)(d,"context",M.context,!0);else if(v)if("object"==typeof v&&null!==v)M.context=v;else{if("function"!=typeof v)throw new Error((0,V.errorPrefix)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");M.cancel=v}return M},Object.defineProperty(p.prototype,"ref",{get:function(){return new ka(this.database,new pn(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),p}(),ka=function(p){function d(v,C){var M=p.call(this,v,new Hr(C._repo,C._path,new cl,!1))||this;return M.database=v,M._delegate=C,M}return(0,fe.__extends)(d,p),d.prototype.getKey=function(){return(0,V.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(v){return(0,V.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof v&&(v=String(v)),new d(this.database,bs(this._delegate,v))},d.prototype.getParent=function(){(0,V.validateArgCount)("Reference.parent",0,0,arguments.length);var v=this._delegate.parent;return v?new d(this.database,v):null},d.prototype.getRoot=function(){return(0,V.validateArgCount)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(v,C){(0,V.validateArgCount)("Reference.set",1,2,arguments.length),(0,V.validateCallback)("Reference.set","onComplete",C,!0);var M=M0(this._delegate,v);return C&&M.then(function(){return C(null)},function(D){return C(D)}),M},d.prototype.update=function(v,C){if((0,V.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(v)){for(var M={},D=0;D<v.length;++D)M[""+D]=v[D];v=M,yn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}br("Reference.update",this._delegate._path),(0,V.validateCallback)("Reference.update","onComplete",C,!0);var O=xd(this._delegate,v);return C&&O.then(function(){return C(null)},function(j){return C(j)}),O},d.prototype.setWithPriority=function(v,C,M){(0,V.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,V.validateCallback)("Reference.setWithPriority","onComplete",M,!0);var D=Oh(this._delegate,v,C);return M&&D.then(function(){return M(null)},function(O){return M(O)}),D},d.prototype.remove=function(v){(0,V.validateArgCount)("Reference.remove",0,1,arguments.length),(0,V.validateCallback)("Reference.remove","onComplete",v,!0);var C=xl(this._delegate);return v&&C.then(function(){return v(null)},function(M){return v(M)}),C},d.prototype.transaction=function(v,C,M){var D=this;(0,V.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,V.validateCallback)("Reference.transaction","transactionUpdate",v,!1),(0,V.validateCallback)("Reference.transaction","onComplete",C,!0),_0("Reference.transaction","applyLocally",M,!0);var O=Dd(this._delegate,v,{applyLocally:M}).then(function(j){return new k0(j.committed,new v2(D.database,j.snapshot))});return C&&O.then(function(j){return C(null,j.committed,j.snapshot)},function(j){return C(j,!1,null)}),O},d.prototype.setPriority=function(v,C){(0,V.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,V.validateCallback)("Reference.setPriority","onComplete",C,!0);var M=h2(this._delegate,v);return C&&M.then(function(){return C(null)},function(D){return C(D)}),M},d.prototype.push=function(v,C){var M=this;(0,V.validateArgCount)("Reference.push",0,2,arguments.length),(0,V.validateCallback)("Reference.push","onComplete",C,!0);var D=ti(this._delegate,v),O=D.then(function(Z){return new d(M.database,Z)});C&&O.then(function(){return C(null)},function(Z){return C(Z)});var j=new d(this.database,D);return j.then=O.then.bind(O),j.catch=O.catch.bind(O,void 0),j},d.prototype.onDisconnect=function(){return br("Reference.onDisconnect",this._delegate._path),new na(new ac(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(N3),E1=function(){function p(d,v){var C=this;this._delegate=d,this.app=v,this.INTERNAL={delete:function(){return C._delegate._delete()}}}return p.prototype.useEmulator=function(d,v,C){void 0===C&&(C={}),function(p,d,v,C){void 0===C&&(C={}),(p=(0,V.getModularInstance)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&Gt("Cannot call useEmulator() after instance has already been initialized.");var M=p._repoInternal,D=void 0;if(M.repoInfo_.nodeAdmin)C.mockUserToken&&Gt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new zt(zt.OWNER);else if(C.mockUserToken){var O="string"==typeof C.mockUserToken?C.mockUserToken:(0,V.createMockUserToken)(C.mockUserToken,p.app.options.projectId);D=new zt(O)}!function(p,d,v,C){p.repoInfo_=new Bn(d+":"+v,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams),C&&(p.authTokenProvider_=C)}(M,d,v,D)}(this._delegate,d,v,C)},p.prototype.ref=function(d){if((0,V.validateArgCount)("database.ref",0,1,arguments.length),d instanceof ka){var v=uc(this._delegate,d.toString());return new ka(this,v)}return v=cc(this._delegate,d),new ka(this,v)},p.prototype.refFromURL=function(d){var v="database.refFromURL";(0,V.validateArgCount)(v,1,1,arguments.length);var C=uc(this._delegate,d);return new ka(this,C)},p.prototype.goOffline=function(){return(0,V.validateArgCount)("database.goOffline",0,0,arguments.length),Hh(this._delegate)},p.prototype.goOnline=function(){return(0,V.validateArgCount)("database.goOnline",0,0,arguments.length),g2(this._delegate)},p.ServerValue={TIMESTAMP:ta,increment:function(d){return function(p){return{".sv":{increment:p}}}(d)}},p}(),L3=Object.freeze({__proto__:null,forceLongPolling:function(){$r.forceDisallow(),yr.forceAllow()},forceWebSockets:function(){yr.forceDisallow()},isWebSocketsAvailable:function(){return $r.isAvailable()},setSecurityDebugCallback:function(p,d){p._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(p,d){!function(p,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var v;d?(p.statsListener_||(p.statsListener_=new cs(p.stats_)),v=p.statsListener_.get()):v=p.stats_.get();var C=Object.keys(v).reduce(function(M,D){return Math.max(D.length,M)},0);mt(v,function(M,D){for(var O=M,j=M.length;j<C+2;j++)O+=" ";console.log(O+D)})}}(p._delegate._repo,d)},statsIncrementCounter:function(p,d){!function(p,d){p.stats_.incrementCounter(d),function(p,d){p.statsToReport_[d]=!0}(p.statsReporter_,d)}(p._delegate._repo,d)},dataUpdateCount:function(p){return p._delegate._repo.dataUpdateCount},interceptServerData:function(p,d){return function(p,d){p.interceptServerDataCallback_=d}(p._delegate._repo,d)},initStandalone:function(p){var d=p.app,v=p.url,M=p.customAuthImpl,D=p.namespace,O=p.nodeAdmin,j=void 0!==O&&O;pe(p.version);var Z=new B.Provider("auth-internal",new B.ComponentContainer("database-standalone"));return Z.setComponent(new B.Component("auth-internal",function(){return M},"PRIVATE")),{instance:new E1(I3(d,Z,void 0,v,j),d),namespace:D}}}),R0=$1;$1.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},$1.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)};var zl=Object.freeze({__proto__:null,DataConnection:R0,RealTimeConnection:Or,hijackHash:function(p){var d=$1.prototype.put;return $1.prototype.put=function(v,C,M,D){void 0!==D&&(D=p()),d.call(this,v,C,M,D)},function(){$1.prototype.put=d}},ConnectionTarget:Bn,queryIdentifier:function(p){return p._delegate._queryIdentifier},forceRestClient:function(p){!function(p){Cu=p}(p)}}),wu=E1.ServerValue;!function(p){pe(p.SDK_VERSION);var d=p.INTERNAL.registerComponent(new B.Component("database",function(v,C){var M=C.instanceIdentifier,D=v.getProvider("app").getImmediate(),O=v.getProvider("auth-internal"),j=v.getProvider("app-check-internal");return new E1(I3(D,O,j,M),D)},"PUBLIC").setServiceProps({Reference:ka,Query:N3,Database:E1,DataSnapshot:v2,enableLogging:nt,INTERNAL:L3,ServerValue:wu,TEST_ACCESS:zl}).setMultipleInstances(!0));p.registerVersion("@firebase/database","0.11.0"),(0,V.isNodeSdk)()&&(wt.exports=d)}(u.default)},300:(wt,je,J)=>{"use strict";function u(){for(var ee=0,se=0,ue=arguments.length;se<ue;se++)ee+=arguments[se].length;var Te=Array(ee),Ne=0;for(se=0;se<ue;se++)for(var De=arguments[se],Me=0,Le=De.length;Me<Le;Me++,Ne++)Te[Ne]=De[Me];return Te}J.r(je),J.d(je,{LogLevel:()=>fe,Logger:()=>pe,setLogLevel:()=>F,setUserLogHandler:()=>ae});var B,V=[],fe=(()=>{return(ee=fe||(fe={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",fe;var ee})(),Se={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ge=fe.INFO,ze=((B={})[fe.DEBUG]="log",B[fe.VERBOSE]="log",B[fe.INFO]="info",B[fe.WARN]="warn",B[fe.ERROR]="error",B),me=function(ee,se){for(var ue=[],Te=2;Te<arguments.length;Te++)ue[Te-2]=arguments[Te];if(!(se<ee.logLevel)){var Ne=(new Date).toISOString(),De=ze[se];if(!De)throw new Error("Attempted to log a message with an invalid logType (value: "+se+")");console[De].apply(console,u(["["+Ne+"]  "+ee.name+":"],ue))}},pe=function(){function ee(se){this.name=se,this._logLevel=ge,this._logHandler=me,this._userLogHandler=null,V.push(this)}return Object.defineProperty(ee.prototype,"logLevel",{get:function(){return this._logLevel},set:function(se){if(!(se in fe))throw new TypeError('Invalid value "'+se+'" assigned to `logLevel`');this._logLevel=se},enumerable:!1,configurable:!0}),ee.prototype.setLogLevel=function(se){this._logLevel="string"==typeof se?Se[se]:se},Object.defineProperty(ee.prototype,"logHandler",{get:function(){return this._logHandler},set:function(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(se){this._userLogHandler=se},enumerable:!1,configurable:!0}),ee.prototype.debug=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,fe.DEBUG],se)),this._logHandler.apply(this,u([this,fe.DEBUG],se))},ee.prototype.log=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,fe.VERBOSE],se)),this._logHandler.apply(this,u([this,fe.VERBOSE],se))},ee.prototype.info=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,fe.INFO],se)),this._logHandler.apply(this,u([this,fe.INFO],se))},ee.prototype.warn=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,fe.WARN],se)),this._logHandler.apply(this,u([this,fe.WARN],se))},ee.prototype.error=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,fe.ERROR],se)),this._logHandler.apply(this,u([this,fe.ERROR],se))},ee}();function F(ee){V.forEach(function(se){se.setLogLevel(ee)})}function ae(ee,se){for(var ue=function(Me){var Le=null;se&&se.level&&(Le=Se[se.level]),Me.userLogHandler=null===ee?null:function(Ze,nt){for(var Qe=[],Bt=2;Bt<arguments.length;Bt++)Qe[Bt-2]=arguments[Bt];var ot=Qe.map(function(Gt){if(null==Gt)return null;if("string"==typeof Gt)return Gt;if("number"==typeof Gt||"boolean"==typeof Gt)return Gt.toString();if(Gt instanceof Error)return Gt.message;try{return JSON.stringify(Gt)}catch(yn){return null}}).filter(function(Gt){return Gt}).join(" ");nt>=(null!=Le?Le:Ze.logLevel)&&ee({level:fe[nt].toLowerCase(),message:ot,args:Qe,type:Ze.name})}},Te=0,Ne=V;Te<Ne.length;Te++)ue(Ne[Te])}},4685:(wt,je,J)=>{"use strict";J.r(je),J.d(je,{CONSTANTS:()=>B,Deferred:()=>ue,ErrorFactory:()=>Et,FirebaseError:()=>Ee,MAX_VALUE_MILLIS:()=>mo,RANDOM_FACTOR:()=>Er,Sha1:()=>wr,areCookiesEnabled:()=>G,assert:()=>V,assertionError:()=>fe,async:()=>en,base64:()=>ze,base64Decode:()=>F,base64Encode:()=>me,base64urlEncodeWithoutPadding:()=>pe,calculateBackoffMillis:()=>bn,contains:()=>Lr,createMockUserToken:()=>Te,createSubscribe:()=>Ln,decode:()=>it,deepCopy:()=>ae,deepEqual:()=>kn,deepExtend:()=>ee,errorPrefix:()=>q1,extractQuerystring:()=>zt,getGlobal:()=>we,getModularInstance:()=>Tn,getUA:()=>Ne,isAdmin:()=>rn,isBrowser:()=>Le,isBrowserExtension:()=>Ze,isElectron:()=>Qe,isEmpty:()=>rr,isIE:()=>Bt,isIndexedDBAvailable:()=>de,isMobileCordova:()=>De,isNode:()=>Me,isNodeSdk:()=>Gt,isReactNative:()=>nt,isSafari:()=>yn,isUWP:()=>ot,isValidFormat:()=>En,isValidTimestamp:()=>at,issuedAtTime:()=>Ot,jsonEval:()=>_t,map:()=>Bi,ordinal:()=>bi,querystring:()=>Wa,querystringDecode:()=>Kt,safeGet:()=>Xn,stringLength:()=>lt,stringToByteArray:()=>Bn,stringify:()=>mt,validateArgCount:()=>ks,validateCallback:()=>hr,validateContextObject:()=>Vc,validateIndexedDBOpenable:()=>Ae,validateNamespace:()=>ji});var u=J(4762),B={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(ie,re){if(!ie)throw fe(re)},fe=function(ie){return new Error("Firebase Database ("+B.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ie)},Se=function(ie){for(var re=[],ve=0,W=0;W<ie.length;W++){var Q=ie.charCodeAt(W);Q<128?re[ve++]=Q:Q<2048?(re[ve++]=Q>>6|192,re[ve++]=63&Q|128):55296==(64512&Q)&&W+1<ie.length&&56320==(64512&ie.charCodeAt(W+1))?(Q=65536+((1023&Q)<<10)+(1023&ie.charCodeAt(++W)),re[ve++]=Q>>18|240,re[ve++]=Q>>12&63|128,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128):(re[ve++]=Q>>12|224,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128)}return re},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ie,re){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ve=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[],Q=0;Q<ie.length;Q+=3){var ce=ie[Q],_e=Q+1<ie.length,Fe=_e?ie[Q+1]:0,Ke=Q+2<ie.length,dt=Ke?ie[Q+2]:0,un=(15&Fe)<<2|dt>>6,ir=63&dt;Ke||(ir=64,_e||(un=64)),W.push(ve[ce>>2],ve[(3&ce)<<4|Fe>>4],ve[un],ve[ir])}return W.join("")},encodeString:function(ie,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ie):this.encodeByteArray(Se(ie),re)},decodeString:function(ie,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ie):function(ie){for(var re=[],ve=0,W=0;ve<ie.length;){var Q=ie[ve++];if(Q<128)re[W++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var ce=ie[ve++];re[W++]=String.fromCharCode((31&Q)<<6|63&ce)}else if(Q>239&&Q<365){var Ke=((7&Q)<<18|(63&(ce=ie[ve++]))<<12|(63&(_e=ie[ve++]))<<6|63&ie[ve++])-65536;re[W++]=String.fromCharCode(55296+(Ke>>10)),re[W++]=String.fromCharCode(56320+(1023&Ke))}else{ce=ie[ve++];var _e=ie[ve++];re[W++]=String.fromCharCode((15&Q)<<12|(63&ce)<<6|63&_e)}}return re.join("")}(this.decodeStringToByteArray(ie,re))},decodeStringToByteArray:function(ie,re){this.init_();for(var ve=re?this.charToByteMapWebSafe_:this.charToByteMap_,W=[],Q=0;Q<ie.length;){var ce=ve[ie.charAt(Q++)],Fe=Q<ie.length?ve[ie.charAt(Q)]:0,dt=++Q<ie.length?ve[ie.charAt(Q)]:64,dn=++Q<ie.length?ve[ie.charAt(Q)]:64;if(++Q,null==ce||null==Fe||null==dt||null==dn)throw Error();W.push(ce<<2|Fe>>4),64!==dt&&(W.push(Fe<<4&240|dt>>2),64!==dn&&W.push(dt<<6&192|dn))}return W},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},me=function(ie){var re=Se(ie);return ze.encodeByteArray(re,!0)},pe=function(ie){return me(ie).replace(/\./g,"")},F=function(ie){try{return ze.decodeString(ie,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function ae(ie){return ee(void 0,ie)}function ee(ie,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return re}for(var W in re)!re.hasOwnProperty(W)||!se(W)||(ie[W]=ee(ie[W],re[W]));return ie}function se(ie){return"__proto__"!==ie}var ue=function(){function ie(){var re=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ve,W){re.resolve=ve,re.reject=W})}return ie.prototype.wrapCallback=function(re){var ve=this;return function(W,Q){W?ve.reject(W):ve.resolve(Q),"function"==typeof re&&(ve.promise.catch(function(){}),1===re.length?re(W):re(W,Q))}},ie}();function Te(ie,re){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var W=re||"demo-project",Q=ie.iat||0,ce=ie.sub||ie.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var _e=(0,u.__assign)({iss:"https://securetoken.google.com/"+W,aud:W,iat:Q,exp:Q+3600,auth_time:Q,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(_e)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ze(){var ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return Ne().indexOf("Electron/")>=0}function Bt(){var ie=Ne();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function ot(){return Ne().indexOf("MSAppHost/")>=0}function Gt(){return!0===B.NODE_CLIENT||!0===B.NODE_ADMIN}function yn(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"indexedDB"in self&&null!=indexedDB}function Ae(){return new Promise(function(ie,re){try{var ve=!0,W="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(W);Q.onsuccess=function(){Q.result.close(),ve||self.indexedDB.deleteDatabase(W),ie(!0)},Q.onupgradeneeded=function(){ve=!1},Q.onerror=function(){var ce;re((null===(ce=Q.error)||void 0===ce?void 0:ce.message)||"")}}catch(ce){re(ce)}})}function G(){return!(!navigator||!navigator.cookieEnabled)}function we(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Ee=function(ie){function re(ve,W,Q){var ce=ie.call(this,W)||this;return ce.code=ve,ce.customData=Q,ce.name="FirebaseError",Object.setPrototypeOf(ce,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(ce,Et.prototype.create),ce}return(0,u.__extends)(re,ie),re}(Error),Et=function(){function ie(re,ve,W){this.service=re,this.serviceName=ve,this.errors=W}return ie.prototype.create=function(re){for(var ve=[],W=1;W<arguments.length;W++)ve[W-1]=arguments[W];var Q=ve[0]||{},ce=this.service+"/"+re,_e=this.errors[re],Fe=_e?Ct(_e,Q):"Error",Ke=this.serviceName+": "+Fe+" ("+ce+").",dt=new Ee(ce,Ke,Q);return dt},ie}();function Ct(ie,re){return ie.replace(_n,function(ve,W){var Q=re[W];return null!=Q?String(Q):"<"+W+"?>"})}var _n=/\{\$([^}]+)}/g;function _t(ie){return JSON.parse(ie)}function mt(ie){return JSON.stringify(ie)}var it=function(ie){var re={},ve={},W={},Q="";try{var ce=ie.split(".");re=_t(F(ce[0])||""),ve=_t(F(ce[1])||""),Q=ce[2],W=ve.d||{},delete ve.d}catch(_e){}return{header:re,claims:ve,data:W,signature:Q}},at=function(ie){var re=it(ie).claims,ve=Math.floor((new Date).getTime()/1e3),W=0,Q=0;return"object"==typeof re&&(re.hasOwnProperty("nbf")?W=re.nbf:re.hasOwnProperty("iat")&&(W=re.iat),Q=re.hasOwnProperty("exp")?re.exp:W+86400),!!ve&&!!W&&!!Q&&ve>=W&&ve<=Q},Ot=function(ie){var re=it(ie).claims;return"object"==typeof re&&re.hasOwnProperty("iat")?re.iat:null},En=function(ie){var ve=it(ie).claims;return!!ve&&"object"==typeof ve&&ve.hasOwnProperty("iat")},rn=function(ie){var re=it(ie).claims;return"object"==typeof re&&!0===re.admin};function Lr(ie,re){return Object.prototype.hasOwnProperty.call(ie,re)}function Xn(ie,re){if(Object.prototype.hasOwnProperty.call(ie,re))return ie[re]}function rr(ie){for(var re in ie)if(Object.prototype.hasOwnProperty.call(ie,re))return!1;return!0}function Bi(ie,re,ve){var W={};for(var Q in ie)Object.prototype.hasOwnProperty.call(ie,Q)&&(W[Q]=re.call(ve,ie[Q],Q,ie));return W}function kn(ie,re){if(ie===re)return!0;for(var ve=Object.keys(ie),W=Object.keys(re),Q=0,ce=ve;Q<ce.length;Q++){if(!W.includes(_e=ce[Q]))return!1;var Fe=ie[_e],Ke=re[_e];if(is(Fe)&&is(Ke)){if(!kn(Fe,Ke))return!1}else if(Fe!==Ke)return!1}for(var dt=0,$t=W;dt<$t.length;dt++){var _e;if(!ve.includes(_e=$t[dt]))return!1}return!0}function is(ie){return null!==ie&&"object"==typeof ie}function Wa(ie){for(var re=[],ve=function(Ke,dt){Array.isArray(dt)?dt.forEach(function($t){re.push(encodeURIComponent(Ke)+"="+encodeURIComponent($t))}):re.push(encodeURIComponent(Ke)+"="+encodeURIComponent(dt))},W=0,Q=Object.entries(ie);W<Q.length;W++){var ce=Q[W];ve(ce[0],ce[1])}return re.length?"&"+re.join("&"):""}function Kt(ie){var re={};return ie.replace(/^\?/,"").split("&").forEach(function(W){if(W){var Q=W.split("="),_e=Q[1];re[decodeURIComponent(Q[0])]=decodeURIComponent(_e)}}),re}function zt(ie){var re=ie.indexOf("?");if(!re)return"";var ve=ie.indexOf("#",re);return ie.substring(re,ve>0?ve:void 0)}var wr=function(){function ie(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var re=1;re<this.blockSize;++re)this.pad_[re]=0;this.reset()}return ie.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ie.prototype.compress_=function(re,ve){ve||(ve=0);var W=this.W_;if("string"==typeof re)for(var Q=0;Q<16;Q++)W[Q]=re.charCodeAt(ve)<<24|re.charCodeAt(ve+1)<<16|re.charCodeAt(ve+2)<<8|re.charCodeAt(ve+3),ve+=4;else for(Q=0;Q<16;Q++)W[Q]=re[ve]<<24|re[ve+1]<<16|re[ve+2]<<8|re[ve+3],ve+=4;for(Q=16;Q<80;Q++)W[Q]=4294967295&((ce=W[Q-3]^W[Q-8]^W[Q-14]^W[Q-16])<<1|ce>>>31);var dn,un,_e=this.chain_[0],Fe=this.chain_[1],Ke=this.chain_[2],dt=this.chain_[3],$t=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(dn=dt^Fe&(Ke^dt),un=1518500249):(dn=Fe^Ke^dt,un=1859775393):Q<60?(dn=Fe&Ke|dt&(Fe|Ke),un=2400959708):(dn=Fe^Ke^dt,un=3395469782);var ce=(_e<<5|_e>>>27)+dn+$t+un+W[Q]&4294967295;$t=dt,dt=Ke,Ke=4294967295&(Fe<<30|Fe>>>2),Fe=_e,_e=ce}this.chain_[0]=this.chain_[0]+_e&4294967295,this.chain_[1]=this.chain_[1]+Fe&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+dt&4294967295,this.chain_[4]=this.chain_[4]+$t&4294967295},ie.prototype.update=function(re,ve){if(null!=re){void 0===ve&&(ve=re.length);for(var W=ve-this.blockSize,Q=0,ce=this.buf_,_e=this.inbuf_;Q<ve;){if(0===_e)for(;Q<=W;)this.compress_(re,Q),Q+=this.blockSize;if("string"==typeof re){for(;Q<ve;)if(ce[_e]=re.charCodeAt(Q),++Q,++_e===this.blockSize){this.compress_(ce),_e=0;break}}else for(;Q<ve;)if(ce[_e]=re[Q],++Q,++_e===this.blockSize){this.compress_(ce),_e=0;break}}this.inbuf_=_e,this.total_+=ve}},ie.prototype.digest=function(){var re=[],ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&ve,ve/=256;this.compress_(this.buf_);var Q=0;for(W=0;W<5;W++)for(var ce=24;ce>=0;ce-=8)re[Q]=this.chain_[W]>>ce&255,++Q;return re},ie}();function Ln(ie,re){var ve=new ct(ie,re);return ve.subscribe.bind(ve)}var ct=function(){function ie(re,ve){var W=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(function(){re(W)}).catch(function(Q){W.error(Q)})}return ie.prototype.next=function(re){this.forEachObserver(function(ve){ve.next(re)})},ie.prototype.error=function(re){this.forEachObserver(function(ve){ve.error(re)}),this.close(re)},ie.prototype.complete=function(){this.forEachObserver(function(re){re.complete()}),this.close()},ie.prototype.subscribe=function(re,ve,W){var ce,Q=this;if(void 0===re&&void 0===ve&&void 0===W)throw new Error("Missing Observer.");void 0===(ce=function(ie,re){if("object"!=typeof ie||null===ie)return!1;for(var ve=0,W=["next","error","complete"];ve<W.length;ve++){var Q=W[ve];if(Q in ie&&"function"==typeof ie[Q])return!0}return!1}(re)?re:{next:re,error:ve,complete:W}).next&&(ce.next=An),void 0===ce.error&&(ce.error=An),void 0===ce.complete&&(ce.complete=An);var _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?ce.error(Q.finalError):ce.complete()}catch(Fe){}}),this.observers.push(ce),_e},ie.prototype.unsubscribeOne=function(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ie.prototype.forEachObserver=function(re){if(!this.finalized)for(var ve=0;ve<this.observers.length;ve++)this.sendOne(ve,re)},ie.prototype.sendOne=function(re,ve){var W=this;this.task.then(function(){if(void 0!==W.observers&&void 0!==W.observers[re])try{ve(W.observers[re])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})},ie.prototype.close=function(re){var ve=this;this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(function(){ve.observers=void 0,ve.onNoObservers=void 0}))},ie}();function en(ie,re){return function(){for(var ve=[],W=0;W<arguments.length;W++)ve[W]=arguments[W];Promise.resolve(!0).then(function(){ie.apply(void 0,ve)}).catch(function(Q){re&&re(Q)})}}function An(){}var ks=function(ie,re,ve,W){var Q;if(W<re?Q="at least "+re:W>ve&&(Q=0===ve?"none":"no more than "+ve),Q)throw new Error(ie+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+Q+".")};function q1(ie,re){return ie+" failed: "+re+" argument "}function ji(ie,re,ve){if((!ve||re)&&"string"!=typeof re)throw new Error(q1(ie,"namespace")+"must be a valid firebase namespace.")}function hr(ie,re,ve,W){if((!W||ve)&&"function"!=typeof ve)throw new Error(q1(ie,re)+"must be a valid function.")}function Vc(ie,re,ve,W){if((!W||ve)&&("object"!=typeof ve||null===ve))throw new Error(q1(ie,re)+"must be a valid context object.")}var Bn=function(ie){for(var re=[],ve=0,W=0;W<ie.length;W++){var Q=ie.charCodeAt(W);if(Q>=55296&&Q<=56319){var ce=Q-55296;W++,V(W<ie.length,"Surrogate pair missing trail surrogate."),Q=65536+(ce<<10)+(ie.charCodeAt(W)-56320)}Q<128?re[ve++]=Q:Q<2048?(re[ve++]=Q>>6|192,re[ve++]=63&Q|128):Q<65536?(re[ve++]=Q>>12|224,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128):(re[ve++]=Q>>18|240,re[ve++]=Q>>12&63|128,re[ve++]=Q>>6&63|128,re[ve++]=63&Q|128)}return re},lt=function(ie){for(var re=0,ve=0;ve<ie.length;ve++){var W=ie.charCodeAt(ve);W<128?re++:W<2048?re+=2:W>=55296&&W<=56319?(re+=4,ve++):re+=3}return re},mo=144e5,Er=.5;function bn(ie,re,ve){void 0===re&&(re=1e3),void 0===ve&&(ve=2);var W=re*Math.pow(ve,ie),Q=Math.round(Er*W*(Math.random()-.5)*2);return Math.min(mo,W+Q)}function bi(ie){return Number.isFinite(ie)?ie+function(ie){var re=(ie=Math.abs(ie))%100;if(re>=10&&re<=20)return"th";var ve=ie%10;return 1===ve?"st":2===ve?"nd":3===ve?"rd":"th"}(ie):""+ie}function Tn(ie){return ie&&ie._delegate?ie._delegate:ie}},2329:(wt,je,J)=>{"use strict";J.d(je,{Z:()=>u.default});var u=J(9759),V="8.10.1";u.default.registerVersion("firebase",V,"app"),u.default.SDK_VERSION=V},6676:function(wt,je){!function(J){"use strict";function u(De){return Array.prototype.slice.call(De)}function B(De){return new Promise(function(Me,Le){De.onsuccess=function(){Me(De.result)},De.onerror=function(){Le(De.error)}})}function V(De,Me,Le){var Ze,nt=new Promise(function(Qe,Bt){B(Ze=De[Me].apply(De,Le)).then(Qe,Bt)});return nt.request=Ze,nt}function fe(De,Me,Le){var Ze=V(De,Me,Le);return Ze.then(function(nt){if(nt)return new F(nt,Ze.request)})}function Se(De,Me,Le){Le.forEach(function(Ze){Object.defineProperty(De.prototype,Ze,{get:function(){return this[Me][Ze]},set:function(nt){this[Me][Ze]=nt}})})}function ge(De,Me,Le,Ze){Ze.forEach(function(nt){nt in Le.prototype&&(De.prototype[nt]=function(){return V(this[Me],nt,arguments)})})}function ze(De,Me,Le,Ze){Ze.forEach(function(nt){nt in Le.prototype&&(De.prototype[nt]=function(){return this[Me][nt].apply(this[Me],arguments)})})}function me(De,Me,Le,Ze){Ze.forEach(function(nt){nt in Le.prototype&&(De.prototype[nt]=function(){return fe(this[Me],nt,arguments)})})}function pe(De){this._index=De}function F(De,Me){this._cursor=De,this._request=Me}function ae(De){this._store=De}function ee(De){this._tx=De,this.complete=new Promise(function(Me,Le){De.oncomplete=function(){Me()},De.onerror=function(){Le(De.error)},De.onabort=function(){Le(De.error)}})}function se(De,Me,Le){this._db=De,this.oldVersion=Me,this.transaction=new ee(Le)}function ue(De){this._db=De}Se(pe,"_index",["name","keyPath","multiEntry","unique"]),ge(pe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),me(pe,"_index",IDBIndex,["openCursor","openKeyCursor"]),Se(F,"_cursor",["direction","key","primaryKey","value"]),ge(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(De){De in IDBCursor.prototype&&(F.prototype[De]=function(){var Me=this,Le=arguments;return Promise.resolve().then(function(){return Me._cursor[De].apply(Me._cursor,Le),B(Me._request).then(function(Ze){if(Ze)return new F(Ze,Me._request)})})})}),ae.prototype.createIndex=function(){return new pe(this._store.createIndex.apply(this._store,arguments))},ae.prototype.index=function(){return new pe(this._store.index.apply(this._store,arguments))},Se(ae,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(ae,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),me(ae,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ze(ae,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new ae(this._tx.objectStore.apply(this._tx,arguments))},Se(ee,"_tx",["objectStoreNames","mode"]),ze(ee,"_tx",IDBTransaction,["abort"]),se.prototype.createObjectStore=function(){return new ae(this._db.createObjectStore.apply(this._db,arguments))},Se(se,"_db",["name","version","objectStoreNames"]),ze(se,"_db",IDBDatabase,["deleteObjectStore","close"]),ue.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},Se(ue,"_db",["name","version","objectStoreNames"]),ze(ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(De){[ae,pe].forEach(function(Me){De in Me.prototype&&(Me.prototype[De.replace("open","iterate")]=function(){var Le=u(arguments),Ze=Le[Le.length-1],nt=this._store||this._index,Qe=nt[De].apply(nt,Le.slice(0,-1));Qe.onsuccess=function(){Ze(Qe.result)}})})}),[pe,ae].forEach(function(De){De.prototype.getAll||(De.prototype.getAll=function(Me,Le){var Ze=this,nt=[];return new Promise(function(Qe){Ze.iterateCursor(Me,function(Bt){Bt?(nt.push(Bt.value),void 0===Le||nt.length!=Le?Bt.continue():Qe(nt)):Qe(nt)})})})}),J.openDb=function(De,Me,Le){var Ze=V(indexedDB,"open",[De,Me]),nt=Ze.request;return nt&&(nt.onupgradeneeded=function(Qe){Le&&Le(new se(nt.result,Qe.oldVersion,nt.transaction))}),Ze.then(function(Qe){return new ue(Qe)})},J.deleteDb=function(De){return V(indexedDB,"deleteDatabase",[De])},Object.defineProperty(J,"__esModule",{value:!0})}(je)},7574:(wt,je,J)=>{"use strict";J.d(je,{y:()=>ae});var u=J(7393),V=J(9181),fe=J(6490),ge=J(6554),ze=J(4487);var F=J(2494);let ae=(()=>{class se{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const Ne=new se;return Ne.source=this,Ne.operator=Te,Ne}subscribe(Te,Ne,De){const{operator:Me}=this,Le=function(se,ue,Te){if(se){if(se instanceof u.L)return se;if(se[V.b])return se[V.b]()}return se||ue||Te?new u.L(se,ue,Te):new u.L(fe.c)}(Te,Ne,De);if(Le.add(Me?Me.call(Le,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Le.syncErrorThrowable?this._subscribe(Le):this._trySubscribe(Le)),F.v.useDeprecatedSynchronousErrorHandling&&Le.syncErrorThrowable&&(Le.syncErrorThrowable=!1,Le.syncErrorThrown))throw Le.syncErrorValue;return Le}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ne){F.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=Ne),function(se){for(;se;){const{closed:ue,destination:Te,isStopped:Ne}=se;if(ue||Ne)return!1;se=Te&&Te instanceof u.L?Te:null}return!0}(Te)?Te.error(Ne):console.warn(Ne)}}forEach(Te,Ne){return new(Ne=ee(Ne))((De,Me)=>{let Le;Le=this.subscribe(Ze=>{try{Te(Ze)}catch(nt){Me(nt),Le&&Le.unsubscribe()}},Me,De)})}_subscribe(Te){const{source:Ne}=this;return Ne&&Ne.subscribe(Te)}[ge.L](){return this}pipe(...Te){return 0===Te.length?this:function(se){return 0===se.length?ze.y:1===se.length?se[0]:function(Te){return se.reduce((Ne,De)=>De(Ne),Te)}}(Te)(this)}toPromise(Te){return new(Te=ee(Te))((Ne,De)=>{let Me;this.subscribe(Le=>Me=Le,Le=>De(Le),()=>Ne(Me))})}}return se.create=ue=>new se(ue),se})();function ee(se){if(se||(se=F.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(wt,je,J)=>{"use strict";J.d(je,{c:()=>V});var u=J(2494),B=J(4449);const V={closed:!0,next(fe){},error(fe){if(u.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,B.z)(fe)},complete(){}}},9765:(wt,je,J)=>{"use strict";J.d(je,{Yc:()=>ze,xQ:()=>me});var u=J(7574),B=J(7393),V=J(5319),fe=J(7971),Se=J(8858),ge=J(9181);class ze extends B.L{constructor(ae){super(ae),this.destination=ae}}let me=(()=>{class F extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ge.b](){return new ze(this)}lift(ee){const se=new pe(this,this);return se.operator=ee,se}next(ee){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:se}=this,ue=se.length,Te=se.slice();for(let Ne=0;Ne<ue;Ne++)Te[Ne].next(ee)}}error(ee){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:se}=this,ue=se.length,Te=se.slice();for(let Ne=0;Ne<ue;Ne++)Te[Ne].error(ee);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:ee}=this,se=ee.length,ue=ee.slice();for(let Te=0;Te<se;Te++)ue[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new fe.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new fe.N;return this.hasError?(ee.error(this.thrownError),V.w.EMPTY):this.isStopped?(ee.complete(),V.w.EMPTY):(this.observers.push(ee),new Se.W(this,ee))}asObservable(){const ee=new u.y;return ee.source=this,ee}}return F.create=(ae,ee)=>new pe(ae,ee),F})();class pe extends me{constructor(ae,ee){super(),this.destination=ae,this.source=ee}next(ae){const{destination:ee}=this;ee&&ee.next&&ee.next(ae)}error(ae){const{destination:ee}=this;ee&&ee.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:ee}=this;return ee?this.source.subscribe(ae):V.w.EMPTY}}},8858:(wt,je,J)=>{"use strict";J.d(je,{W:()=>B});var u=J(5319);class B extends u.w{constructor(fe,Se){super(),this.subject=fe,this.subscriber=Se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,Se=fe.observers;if(this.subject=null,!Se||0===Se.length||fe.isStopped||fe.closed)return;const ge=Se.indexOf(this.subscriber);-1!==ge&&Se.splice(ge,1)}}},7393:(wt,je,J)=>{"use strict";J.d(je,{L:()=>ze});var u=J(9105),B=J(6490),V=J(5319),fe=J(9181),Se=J(2494),ge=J(4449);class ze extends V.w{constructor(F,ae,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!F){this.destination=B.c;break}if("object"==typeof F){F instanceof ze?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,F,ae,ee)}}[fe.b](){return this}static create(F,ae,ee){const se=new ze(F,ae,ee);return se.syncErrorThrowable=!1,se}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class me extends ze{constructor(F,ae,ee,se){super(),this._parentSubscriber=F;let ue,Te=this;(0,u.m)(ae)?ue=ae:ae&&(ue=ae.next,ee=ae.error,se=ae.complete,ae!==B.c&&(Te=Object.create(ae),(0,u.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=ue,this._error=ee,this._complete=se}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Se.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:ee}=Se.v;if(this._error)ee&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(ae.syncErrorThrowable)ee?(ae.syncErrorValue=F,ae.syncErrorThrown=!0):(0,ge.z)(F),this.unsubscribe();else{if(this.unsubscribe(),ee)throw F;(0,ge.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,ae){try{F.call(this._context,ae)}catch(ee){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,ge.z)(ee)}}__tryOrSetError(F,ae,ee){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,ee)}catch(se){return Se.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=se,F.syncErrorThrown=!0,!0):((0,ge.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(wt,je,J)=>{"use strict";J.d(je,{w:()=>ge});var u=J(9796),B=J(1555),V=J(9105);const Se=(()=>{function me(pe){return Error.call(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((F,ae)=>`${ae+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe,this}return me.prototype=Object.create(Error.prototype),me})();class ge{constructor(pe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,pe&&(this._ctorUnsubscribe=!0,this._unsubscribe=pe)}unsubscribe(){let pe;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:ae,_unsubscribe:ee,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ge)F.remove(this);else if(null!==F)for(let ue=0;ue<F.length;++ue)F[ue].remove(this);if((0,V.m)(ee)){ae&&(this._unsubscribe=void 0);try{ee.call(this)}catch(ue){pe=ue instanceof Se?ze(ue.errors):[ue]}}if((0,u.k)(se)){let ue=-1,Te=se.length;for(;++ue<Te;){const Ne=se[ue];if((0,B.K)(Ne))try{Ne.unsubscribe()}catch(De){pe=pe||[],De instanceof Se?pe=pe.concat(ze(De.errors)):pe.push(De)}}}if(pe)throw new Se(pe)}add(pe){let F=pe;if(!pe)return ge.EMPTY;switch(typeof pe){case"function":F=new ge(pe);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ge)){const se=F;F=new ge,F._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+pe+" added to Subscription.")}let{_parentOrParents:ae}=F;if(null===ae)F._parentOrParents=this;else if(ae instanceof ge){if(ae===this)return F;F._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return F;ae.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[F]:ee.push(F),F}remove(pe){const F=this._subscriptions;if(F){const ae=F.indexOf(pe);-1!==ae&&F.splice(ae,1)}}}var me;function ze(me){return me.reduce((pe,F)=>pe.concat(F instanceof Se?F.errors:F),[])}ge.EMPTY=((me=new ge).closed=!0,me)},2494:(wt,je,J)=>{"use strict";J.d(je,{v:()=>B});let u=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=V},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(wt,je,J)=>{"use strict";J.d(je,{IY:()=>fe,Ds:()=>ge,ft:()=>me});var u=J(7393),B=J(7574),V=J(7444);class fe extends u.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ge extends u.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function me(pe,F){if(F.closed)return;if(pe instanceof B.y)return pe.subscribe(F);let ae;try{ae=(0,V.s)(pe)(F)}catch(ee){F.error(ee)}return ae}},2441:(wt,je,J)=>{"use strict";J.d(je,{c:()=>Se,N:()=>ge});var u=J(9765),B=J(7574),V=J(5319),fe=J(1307);class Se extends B.y{constructor(ae,ee){super(),this.source=ae,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new V.w,ae.add(this.source.subscribe(new ze(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=V.w.EMPTY)),ae}refCount(){return(0,fe.x)()(this)}}const ge=(()=>{const F=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ze extends u.Yc{constructor(ae,ee){super(ae),this.connectable=ee}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const ee=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,ee&&ee.unsubscribe()}}}},9193:(wt,je,J)=>{"use strict";J.d(je,{E:()=>B,c:()=>V});var u=J(7574);const B=new u.y(Se=>Se.complete());function V(Se){return Se?function(Se){return new u.y(ge=>Se.schedule(()=>ge.complete()))}(Se):B}},4402:(wt,je,J)=>{"use strict";J.d(je,{D:()=>Te});var u=J(7574),B=J(7444),V=J(5319),fe=J(6554),ze=J(4087),me=J(377),ae=J(4072),ee=J(9489);function Te(Ne,De){return De?function(Ne,De){if(null!=Ne){if(function(Ne){return Ne&&"function"==typeof Ne[fe.L]}(Ne))return function(Ne,De){return new u.y(Me=>{const Le=new V.w;return Le.add(De.schedule(()=>{const Ze=Ne[fe.L]();Le.add(Ze.subscribe({next(nt){Le.add(De.schedule(()=>Me.next(nt)))},error(nt){Le.add(De.schedule(()=>Me.error(nt)))},complete(){Le.add(De.schedule(()=>Me.complete()))}}))})),Le})}(Ne,De);if((0,ae.t)(Ne))return function(Ne,De){return new u.y(Me=>{const Le=new V.w;return Le.add(De.schedule(()=>Ne.then(Ze=>{Le.add(De.schedule(()=>{Me.next(Ze),Le.add(De.schedule(()=>Me.complete()))}))},Ze=>{Le.add(De.schedule(()=>Me.error(Ze)))}))),Le})}(Ne,De);if((0,ee.z)(Ne))return(0,ze.r)(Ne,De);if(function(Ne){return Ne&&"function"==typeof Ne[me.hZ]}(Ne)||"string"==typeof Ne)return function(Ne,De){if(!Ne)throw new Error("Iterable cannot be null");return new u.y(Me=>{const Le=new V.w;let Ze;return Le.add(()=>{Ze&&"function"==typeof Ze.return&&Ze.return()}),Le.add(De.schedule(()=>{Ze=Ne[me.hZ](),Le.add(De.schedule(function(){if(Me.closed)return;let nt,Qe;try{const Bt=Ze.next();nt=Bt.value,Qe=Bt.done}catch(Bt){return void Me.error(Bt)}Qe?Me.complete():(Me.next(nt),this.schedule())}))})),Le})}(Ne,De)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,De):Ne instanceof u.y?Ne:new u.y((0,B.s)(Ne))}},6693:(wt,je,J)=>{"use strict";J.d(je,{n:()=>fe});var u=J(7574),B=J(5015),V=J(4087);function fe(Se,ge){return ge?(0,V.r)(Se,ge):new u.y((0,B.V)(Se))}},6682:(wt,je,J)=>{"use strict";J.d(je,{T:()=>Se});var u=J(7574),B=J(4869),V=J(3282),fe=J(6693);function Se(...ge){let ze=Number.POSITIVE_INFINITY,me=null,pe=ge[ge.length-1];return(0,B.K)(pe)?(me=ge.pop(),ge.length>1&&"number"==typeof ge[ge.length-1]&&(ze=ge.pop())):"number"==typeof pe&&(ze=ge.pop()),null===me&&1===ge.length&&ge[0]instanceof u.y?ge[0]:(0,V.J)(ze)((0,fe.n)(ge,me))}},5917:(wt,je,J)=>{"use strict";J.d(je,{of:()=>fe});var u=J(4869),B=J(6693),V=J(4087);function fe(...Se){let ge=Se[Se.length-1];return(0,u.K)(ge)?(Se.pop(),(0,V.r)(Se,ge)):(0,B.n)(Se)}},8002:(wt,je,J)=>{"use strict";J.d(je,{U:()=>B});var u=J(7393);function B(Se,ge){return function(me){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new V(Se,ge))}}class V{constructor(ge,ze){this.project=ge,this.thisArg=ze}call(ge,ze){return ze.subscribe(new fe(ge,this.project,this.thisArg))}}class fe extends u.L{constructor(ge,ze,me){super(ge),this.project=ze,this.count=0,this.thisArg=me||this}_next(ge){let ze;try{ze=this.project.call(this.thisArg,ge,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(ze)}}},3282:(wt,je,J)=>{"use strict";J.d(je,{J:()=>V});var u=J(9773),B=J(4487);function V(fe=Number.POSITIVE_INFINITY){return(0,u.zg)(B.y,fe)}},9773:(wt,je,J)=>{"use strict";J.d(je,{zg:()=>fe});var u=J(8002),B=J(4402),V=J(5345);function fe(me,pe,F=Number.POSITIVE_INFINITY){return"function"==typeof pe?ae=>ae.pipe(fe((ee,se)=>(0,B.D)(me(ee,se)).pipe((0,u.U)((ue,Te)=>pe(ee,ue,se,Te))),F)):("number"==typeof pe&&(F=pe),ae=>ae.lift(new Se(me,F)))}class Se{constructor(pe,F=Number.POSITIVE_INFINITY){this.project=pe,this.concurrent=F}call(pe,F){return F.subscribe(new ge(pe,this.project,this.concurrent))}}class ge extends V.Ds{constructor(pe,F,ae=Number.POSITIVE_INFINITY){super(pe),this.project=F,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(pe){this.active<this.concurrent?this._tryNext(pe):this.buffer.push(pe)}_tryNext(pe){let F;const ae=this.index++;try{F=this.project(pe,ae)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(F)}_innerSub(pe){const F=new V.IY(this),ae=this.destination;ae.add(F);const ee=(0,V.ft)(pe,F);ee!==F&&ae.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(pe){this.destination.next(pe)}notifyComplete(){const pe=this.buffer;this.active--,pe.length>0?this._next(pe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(wt,je,J)=>{"use strict";J.d(je,{ht:()=>ae,QV:()=>pe});var u=J(7393),B=J(9193),V=J(5917),fe=J(7574);class me{constructor(ue,Te,Ne){this.kind=ue,this.value=Te,this.error=Ne,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Te,Ne){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Te&&Te(this.error);case"C":return Ne&&Ne()}}accept(ue,Te,Ne){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Te,Ne)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return se=this.error,new fe.y(Te=>Te.error(se));case"C":return(0,B.c)()}var se;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new me("N",ue):me.undefinedValueNotification}static createError(ue){return new me("E",void 0,ue)}static createComplete(){return me.completeNotification}}function pe(se,ue=0){return function(Ne){return Ne.lift(new F(se,ue))}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0);class F{constructor(ue,Te=0){this.scheduler=ue,this.delay=Te}call(ue,Te){return Te.subscribe(new ae(ue,this.scheduler,this.delay))}}class ae extends u.L{constructor(ue,Te,Ne=0){super(ue),this.scheduler=Te,this.delay=Ne}static dispatch(ue){const{notification:Te,destination:Ne}=ue;Te.observe(Ne),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new ee(ue,this.destination)))}_next(ue){this.scheduleMessage(me.createNext(ue))}_error(ue){this.scheduleMessage(me.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(me.createComplete()),this.unsubscribe()}}class ee{constructor(ue,Te){this.notification=ue,this.destination=Te}}},1307:(wt,je,J)=>{"use strict";J.d(je,{x:()=>B});var u=J(7393);function B(){return function(ge){return ge.lift(new V(ge))}}class V{constructor(ge){this.connectable=ge}call(ge,ze){const{connectable:me}=this;me._refCount++;const pe=new fe(ge,me),F=ze.subscribe(pe);return pe.closed||(pe.connection=me.connect()),F}}class fe extends u.L{constructor(ge,ze){super(ge),this.connectable=ze}_unsubscribe(){const{connectable:ge}=this;if(!ge)return void(this.connection=null);this.connectable=null;const ze=ge._refCount;if(ze<=0)return void(this.connection=null);if(ge._refCount=ze-1,ze>1)return void(this.connection=null);const{connection:me}=this,pe=ge._connection;this.connection=null,pe&&(!me||pe===me)&&pe.unsubscribe()}}},8819:(wt,je,J)=>{"use strict";J.d(je,{B:()=>ze});var u=J(2441);var fe=J(1307),Se=J(9765);function ge(){return new Se.xQ}function ze(){return me=>(0,fe.x)()(function(me,pe){return function(ae){let ee;ee="function"==typeof me?me:function(){return me};const se=Object.create(ae,u.N);return se.source=ae,se.subjectFactory=ee,se}}(ge)(me))}},3101:(wt,je,J)=>{"use strict";J.d(je,{R:()=>De});var u=J(7574);let B=1;const V=Promise.resolve(),fe={};function Se(Le){return Le in fe&&(delete fe[Le],!0)}const ge={setImmediate(Le){const Ze=B++;return fe[Ze]=!0,V.then(()=>Se(Ze)&&Le()),Ze},clearImmediate(Le){Se(Le)}};var me=J(6465),F=J(6102);const se=new class extends F.v{flush(Ze){this.active=!0,this.scheduled=void 0;const{actions:nt}=this;let Qe,Bt=-1,ot=nt.length;Ze=Ze||nt.shift();do{if(Qe=Ze.execute(Ze.state,Ze.delay))break}while(++Bt<ot&&(Ze=nt.shift()));if(this.active=!1,Qe){for(;++Bt<ot&&(Ze=nt.shift());)Ze.unsubscribe();throw Qe}}}(class extends me.o{constructor(Ze,nt){super(Ze,nt),this.scheduler=Ze,this.work=nt}requestAsyncId(Ze,nt,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Ze,nt,Qe):(Ze.actions.push(this),Ze.scheduled||(Ze.scheduled=ge.setImmediate(Ze.flush.bind(Ze,null))))}recycleAsyncId(Ze,nt,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(Ze,nt,Qe);0===Ze.actions.length&&(ge.clearImmediate(nt),Ze.scheduled=void 0)}});var ue=J(9796);class Ne extends u.y{constructor(Ze,nt=0,Qe=se){var Le;super(),this.source=Ze,this.delayTime=nt,this.scheduler=Qe,(!(!(0,ue.k)(Le=nt)&&Le-parseFloat(Le)+1>=0)||nt<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=se)}static create(Ze,nt=0,Qe=se){return new Ne(Ze,nt,Qe)}static dispatch(Ze){const{source:nt,subscriber:Qe}=Ze;return this.add(nt.subscribe(Qe))}_subscribe(Ze){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:Ze})}}function De(Le,Ze=0){return function(Qe){return Qe.lift(new Me(Le,Ze))}}class Me{constructor(Ze,nt){this.scheduler=Ze,this.delay=nt}call(Ze,nt){return new Ne(nt,this.delay,this.scheduler).subscribe(Ze)}}},3342:(wt,je,J)=>{"use strict";J.d(je,{b:()=>fe});var u=J(7393);function B(){}var V=J(9105);function fe(ze,me,pe){return function(ae){return ae.lift(new Se(ze,me,pe))}}class Se{constructor(me,pe,F){this.nextOrObserver=me,this.error=pe,this.complete=F}call(me,pe){return pe.subscribe(new ge(me,this.nextOrObserver,this.error,this.complete))}}class ge extends u.L{constructor(me,pe,F,ae){super(me),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=F||B,this._tapComplete=ae||B,(0,V.m)(pe)?(this._context=this,this._tapNext=pe):pe&&(this._context=pe,this._tapNext=pe.next||B,this._tapError=pe.error||B,this._tapComplete=pe.complete||B)}_next(me){try{this._tapNext.call(this._context,me)}catch(pe){return void this.destination.error(pe)}this.destination.next(me)}_error(me){try{this._tapError.call(this._context,me)}catch(pe){return void this.destination.error(pe)}this.destination.error(me)}_complete(){try{this._tapComplete.call(this._context)}catch(me){return void this.destination.error(me)}return this.destination.complete()}}},4087:(wt,je,J)=>{"use strict";J.d(je,{r:()=>V});var u=J(7574),B=J(5319);function V(fe,Se){return new u.y(ge=>{const ze=new B.w;let me=0;return ze.add(Se.schedule(function(){me!==fe.length?(ge.next(fe[me++]),ge.closed||ze.add(this.schedule())):ge.complete()})),ze})}},6465:(wt,je,J)=>{"use strict";J.d(je,{o:()=>V});var u=J(5319);class B extends u.w{constructor(Se,ge){super()}schedule(Se,ge=0){return this}}class V extends B{constructor(Se,ge){super(Se,ge),this.scheduler=Se,this.work=ge,this.pending=!1}schedule(Se,ge=0){if(this.closed)return this;this.state=Se;const ze=this.id,me=this.scheduler;return null!=ze&&(this.id=this.recycleAsyncId(me,ze,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(me,this.id,ge),this}requestAsyncId(Se,ge,ze=0){return setInterval(Se.flush.bind(Se,this),ze)}recycleAsyncId(Se,ge,ze=0){if(null!==ze&&this.delay===ze&&!1===this.pending)return ge;clearInterval(ge)}execute(Se,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(Se,ge);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ge){let me,ze=!1;try{this.work(Se)}catch(pe){ze=!0,me=!!pe&&pe||new Error(pe)}if(ze)return this.unsubscribe(),me}_unsubscribe(){const Se=this.id,ge=this.scheduler,ze=ge.actions,me=ze.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&ze.splice(me,1),null!=Se&&(this.id=this.recycleAsyncId(ge,Se,null)),this.delay=null}}},6102:(wt,je,J)=>{"use strict";J.d(je,{v:()=>B});let u=(()=>{class V{constructor(Se,ge=V.now){this.SchedulerAction=Se,this.now=ge}schedule(Se,ge=0,ze){return new this.SchedulerAction(this,Se).schedule(ze,ge)}}return V.now=()=>Date.now(),V})();class B extends u{constructor(fe,Se=u.now){super(fe,()=>B.delegate&&B.delegate!==this?B.delegate.now():Se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,Se=0,ge){return B.delegate&&B.delegate!==this?B.delegate.schedule(fe,Se,ge):super.schedule(fe,Se,ge)}flush(fe){const{actions:Se}=this;if(this.active)return void Se.push(fe);let ge;this.active=!0;do{if(ge=fe.execute(fe.state,fe.delay))break}while(fe=Se.shift());if(this.active=!1,ge){for(;fe=Se.shift();)fe.unsubscribe();throw ge}}}},3637:(wt,je,J)=>{"use strict";J.d(je,{z:()=>V,P:()=>fe});var u=J(6465);const V=new(J(6102).v)(u.o),fe=V},7771:(wt,je,J)=>{"use strict";J.d(je,{c:()=>ge,N:()=>Se});var u=J(6465),V=J(6102);const Se=new class extends V.v{}(class extends u.o{constructor(me,pe){super(me,pe),this.scheduler=me,this.work=pe}schedule(me,pe=0){return pe>0?super.schedule(me,pe):(this.delay=pe,this.state=me,this.scheduler.flush(this),this)}execute(me,pe){return pe>0||this.closed?super.execute(me,pe):this._execute(me,pe)}requestAsyncId(me,pe,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(me,pe,F):me.flush(this)}}),ge=Se},377:(wt,je,J)=>{"use strict";J.d(je,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(wt,je,J)=>{"use strict";J.d(je,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(wt,je,J)=>{"use strict";J.d(je,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(wt,je,J)=>{"use strict";J.d(je,{N:()=>B});const B=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(wt,je,J)=>{"use strict";function u(B){setTimeout(()=>{throw B},0)}J.d(je,{z:()=>u})},4487:(wt,je,J)=>{"use strict";function u(B){return B}J.d(je,{y:()=>u})},9796:(wt,je,J)=>{"use strict";J.d(je,{k:()=>u});const u=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(wt,je,J)=>{"use strict";J.d(je,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(wt,je,J)=>{"use strict";function u(B){return"function"==typeof B}J.d(je,{m:()=>u})},1555:(wt,je,J)=>{"use strict";function u(B){return null!==B&&"object"==typeof B}J.d(je,{K:()=>u})},4072:(wt,je,J)=>{"use strict";function u(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}J.d(je,{t:()=>u})},4869:(wt,je,J)=>{"use strict";function u(B){return B&&"function"==typeof B.schedule}J.d(je,{K:()=>u})},7444:(wt,je,J)=>{"use strict";J.d(je,{s:()=>ae});var u=J(5015),B=J(4449),fe=J(377),ge=J(6554),me=J(9489),pe=J(4072),F=J(1555);const ae=ee=>{if(ee&&"function"==typeof ee[ge.L])return(ee=>se=>{const ue=ee[ge.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(se)})(ee);if((0,me.z)(ee))return(0,u.V)(ee);if((0,pe.t)(ee))return(ee=>se=>(ee.then(ue=>{se.closed||(se.next(ue),se.complete())},ue=>se.error(ue)).then(null,B.z),se))(ee);if(ee&&"function"==typeof ee[fe.hZ])return(ee=>se=>{const ue=ee[fe.hZ]();for(;;){let Te;try{Te=ue.next()}catch(Ne){return se.error(Ne),se}if(Te.done){se.complete();break}if(se.next(Te.value),se.closed)break}return"function"==typeof ue.return&&se.add(()=>{ue.return&&ue.return()}),se})(ee);{const ue=`You provided ${(0,F.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(wt,je,J)=>{"use strict";J.d(je,{V:()=>u});const u=B=>V=>{for(let fe=0,Se=B.length;fe<Se&&!V.closed;fe++)V.next(B[fe]);V.complete()}},9316:(wt,je,J)=>{"use strict";var u=J(7716);let B=null;function V(){return B}const ze=new u.OlP("DocumentToken");let me=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,u.Yz7)({factory:pe,token:t,providedIn:"platform"}),t})();function pe(){return(0,u.LFG)(ae)}const F=new u.OlP("Location Initialized");let ae=(()=>{class t extends me{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(n){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,s){ee()?this._history.pushState(n,r,s):this.location.hash=s}replaceState(n,r,s){ee()?this._history.replaceState(n,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ze))},t.\u0275prov=(0,u.Yz7)({factory:se,token:t,providedIn:"platform"}),t})();function ee(){return!!window.history.pushState}function se(){return new ae((0,u.LFG)(ze))}function ue(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Te(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ne(t){return t&&"?"!==t[0]?"?"+t:t}let De=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,u.Yz7)({factory:Me,token:t,providedIn:"root"}),t})();function Me(t){const e=(0,u.LFG)(ze).location;return new Ze((0,u.LFG)(me),e&&e.origin||"")}const Le=new u.OlP("appBaseHref");let Ze=(()=>{class t extends De{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ue(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,l){const g=this.prepareExternalUrl(s+Ne(l));this._platformLocation.pushState(n,r,g)}replaceState(n,r,s,l){const g=this.prepareExternalUrl(s+Ne(l));this._platformLocation.replaceState(n,r,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(me),u.LFG(Le,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends De{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ue(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,l){let g=this.prepareExternalUrl(s+Ne(l));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(n,r,g)}replaceState(n,r,s,l){let g=this.prepareExternalUrl(s+Ne(l));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(me),u.LFG(Le,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t{constructor(n,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(Gt(s)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ne(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Gt(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._platformStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ne(r)),s)}replaceState(n,r="",s=null){this._platformStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ne(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(De),u.LFG(me))},t.normalizeQueryParams=Ne,t.joinWithSlash=ue,t.stripTrailingSlash=Te,t.\u0275prov=(0,u.Yz7)({factory:Bt,token:t,providedIn:"root"}),t})();function Bt(){return new Qe((0,u.LFG)(De),(0,u.LFG)(me))}function Gt(t){return t.replace(/\/index.html$/,"")}var Ae=(()=>((Ae=Ae||{})[Ae.Zero=0]="Zero",Ae[Ae.One=1]="One",Ae[Ae.Two=2]="Two",Ae[Ae.Few=3]="Few",Ae[Ae.Many=4]="Many",Ae[Ae.Other=5]="Other",Ae))(),G=(()=>((G=G||{})[G.Format=0]="Format",G[G.Standalone=1]="Standalone",G))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),Ue=(()=>((Ue=Ue||{})[Ue.Short=0]="Short",Ue[Ue.Medium=1]="Medium",Ue[Ue.Long=2]="Long",Ue[Ue.Full=3]="Full",Ue))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function En(t,e){return en((0,u.cg1)(t)[u.wAp.DateFormat],e)}function rn(t,e){return en((0,u.cg1)(t)[u.wAp.TimeFormat],e)}function Lr(t,e){return en((0,u.cg1)(t)[u.wAp.DateTimeFormat],e)}function Xn(t,e){const n=(0,u.cg1)(t),r=n[u.wAp.NumberSymbols][e];if(void 0===r){if(e===Ee.CurrencyDecimal)return n[u.wAp.NumberSymbols][Ee.Decimal];if(e===Ee.CurrencyGroup)return n[u.wAp.NumberSymbols][Ee.Group]}return r}const Kt=u.kL8;function zt(t){if(!t[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function en(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Un(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const ji=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hr={},Vc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bn=(()=>((Bn=Bn||{})[Bn.Short=0]="Short",Bn[Bn.ShortGMT=1]="ShortGMT",Bn[Bn.Long=2]="Long",Bn[Bn.Extended=3]="Extended",Bn))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function Sn(t,e,n,r){let s=function(t){if(go(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[s,l=1,g=1]=t.split("-").map(_=>+_);return mo(s,l-1,g)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ji))return function(t){const e=new Date(0);let n=0,r=0;const s=t[8]?e.setUTCFullYear:e.setFullYear,l=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),s.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const g=Number(t[4]||0)-n,_=Number(t[5]||0)-r,E=Number(t[6]||0),x=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return l.call(e,g,_,E,x),e}(r)}const e=new Date(t);if(!go(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Er(n,e)||e;let _,g=[];for(;e;){if(_=Vc.exec(e),!_){g.push(e);break}{g=g.concat(_.slice(1));const N=g.pop();if(!N)break;e=N}}let E=s.getTimezoneOffset();r&&(E=un(r,E),s=function(t,e,n){const s=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(un(e,s)-s))}(s,r));let x="";return g.forEach(N=>{const R=function(t){if($t[t])return $t[t];let e;switch(t){case"G":case"GG":case"GGG":e=re(Pt.Eras,we.Abbreviated);break;case"GGGG":e=re(Pt.Eras,we.Wide);break;case"GGGGG":e=re(Pt.Eras,we.Narrow);break;case"y":e=Tn(lt.FullYear,1,0,!1,!0);break;case"yy":e=Tn(lt.FullYear,2,0,!0,!0);break;case"yyy":e=Tn(lt.FullYear,3,0,!1,!0);break;case"yyyy":e=Tn(lt.FullYear,4,0,!1,!0);break;case"Y":e=dt(1);break;case"YY":e=dt(2,!0);break;case"YYY":e=dt(3);break;case"YYYY":e=dt(4);break;case"M":case"L":e=Tn(lt.Month,1,1);break;case"MM":case"LL":e=Tn(lt.Month,2,1);break;case"MMM":e=re(Pt.Months,we.Abbreviated);break;case"MMMM":e=re(Pt.Months,we.Wide);break;case"MMMMM":e=re(Pt.Months,we.Narrow);break;case"LLL":e=re(Pt.Months,we.Abbreviated,G.Standalone);break;case"LLLL":e=re(Pt.Months,we.Wide,G.Standalone);break;case"LLLLL":e=re(Pt.Months,we.Narrow,G.Standalone);break;case"w":e=Ke(1);break;case"ww":e=Ke(2);break;case"W":e=Ke(1,!0);break;case"d":e=Tn(lt.Date,1);break;case"dd":e=Tn(lt.Date,2);break;case"c":case"cc":e=Tn(lt.Day,1);break;case"ccc":e=re(Pt.Days,we.Abbreviated,G.Standalone);break;case"cccc":e=re(Pt.Days,we.Wide,G.Standalone);break;case"ccccc":e=re(Pt.Days,we.Narrow,G.Standalone);break;case"cccccc":e=re(Pt.Days,we.Short,G.Standalone);break;case"E":case"EE":case"EEE":e=re(Pt.Days,we.Abbreviated);break;case"EEEE":e=re(Pt.Days,we.Wide);break;case"EEEEE":e=re(Pt.Days,we.Narrow);break;case"EEEEEE":e=re(Pt.Days,we.Short);break;case"a":case"aa":case"aaa":e=re(Pt.DayPeriods,we.Abbreviated);break;case"aaaa":e=re(Pt.DayPeriods,we.Wide);break;case"aaaaa":e=re(Pt.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":e=re(Pt.DayPeriods,we.Abbreviated,G.Standalone,!0);break;case"bbbb":e=re(Pt.DayPeriods,we.Wide,G.Standalone,!0);break;case"bbbbb":e=re(Pt.DayPeriods,we.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":e=re(Pt.DayPeriods,we.Abbreviated,G.Format,!0);break;case"BBBB":e=re(Pt.DayPeriods,we.Wide,G.Format,!0);break;case"BBBBB":e=re(Pt.DayPeriods,we.Narrow,G.Format,!0);break;case"h":e=Tn(lt.Hours,1,-12);break;case"hh":e=Tn(lt.Hours,2,-12);break;case"H":e=Tn(lt.Hours,1);break;case"HH":e=Tn(lt.Hours,2);break;case"m":e=Tn(lt.Minutes,1);break;case"mm":e=Tn(lt.Minutes,2);break;case"s":e=Tn(lt.Seconds,1);break;case"ss":e=Tn(lt.Seconds,2);break;case"S":e=Tn(lt.FractionalSeconds,1);break;case"SS":e=Tn(lt.FractionalSeconds,2);break;case"SSS":e=Tn(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(Bn.Short);break;case"ZZZZZ":e=W(Bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(Bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(Bn.Long);break;default:return null}return $t[t]=e,e}(N);x+=R?R(s,n,E):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function mo(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Er(t,e){const n=function(t){return(0,u.cg1)(t)[u.wAp.LocaleId]}(t);if(hr[n]=hr[n]||{},hr[n][e])return hr[n][e];let r="";switch(e){case"shortDate":r=En(t,Ue.Short);break;case"mediumDate":r=En(t,Ue.Medium);break;case"longDate":r=En(t,Ue.Long);break;case"fullDate":r=En(t,Ue.Full);break;case"shortTime":r=rn(t,Ue.Short);break;case"mediumTime":r=rn(t,Ue.Medium);break;case"longTime":r=rn(t,Ue.Long);break;case"fullTime":r=rn(t,Ue.Full);break;case"short":const s=Er(t,"shortTime"),l=Er(t,"shortDate");r=bn(Lr(t,Ue.Short),[s,l]);break;case"medium":const g=Er(t,"mediumTime"),_=Er(t,"mediumDate");r=bn(Lr(t,Ue.Medium),[g,_]);break;case"long":const E=Er(t,"longTime"),x=Er(t,"longDate");r=bn(Lr(t,Ue.Long),[E,x]);break;case"full":const N=Er(t,"fullTime"),R=Er(t,"fullDate");r=bn(Lr(t,Ue.Full),[N,R])}return r&&(hr[n][e]=r),r}function bn(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function bi(t,e,n="-",r,s){let l="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,l=n));let g=String(t);for(;g.length<e;)g="0"+g;return r&&(g=g.substr(g.length-e)),l+g}function Tn(t,e,n=0,r=!1,s=!1){return function(l,g){let _=function(t,e){switch(t){case lt.FullYear:return e.getFullYear();case lt.Month:return e.getMonth();case lt.Date:return e.getDate();case lt.Hours:return e.getHours();case lt.Minutes:return e.getMinutes();case lt.Seconds:return e.getSeconds();case lt.FractionalSeconds:return e.getMilliseconds();case lt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,l);if((n>0||_>-n)&&(_+=n),t===lt.Hours)0===_&&-12===n&&(_=12);else if(t===lt.FractionalSeconds)return function(t,e){return bi(t,3).substr(0,e)}(_,e);const E=Xn(g,Ee.MinusSign);return bi(_,e,E,r,s)}}function re(t,e,n=G.Format,r=!1){return function(s,l){return function(t,e,n,r,s,l){switch(n){case Pt.Months:return function(t,e,n){const r=(0,u.cg1)(t),l=en([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return en(l,n)}(e,s,r)[t.getMonth()];case Pt.Days:return function(t,e,n){const r=(0,u.cg1)(t),l=en([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return en(l,n)}(e,s,r)[t.getDay()];case Pt.DayPeriods:const g=t.getHours(),_=t.getMinutes();if(l){const x=function(t){const e=(0,u.cg1)(t);return zt(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Un(r):[Un(r[0]),Un(r[1])])}(e),N=function(t,e,n){const r=(0,u.cg1)(t);zt(r);const l=en([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return en(l,n)||[]}(e,s,r),R=x.findIndex(H=>{if(Array.isArray(H)){const[K,te]=H,he=g>=K.hours&&_>=K.minutes,Ie=g<te.hours||g===te.hours&&_<te.minutes;if(K.hours<te.hours){if(he&&Ie)return!0}else if(he||Ie)return!0}else if(H.hours===g&&H.minutes===_)return!0;return!1});if(-1!==R)return N[R]}return function(t,e,n){const r=(0,u.cg1)(t),l=en([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return en(l,n)}(e,s,r)[g<12?0:1];case Pt.Eras:return function(t,e){return en((0,u.cg1)(t)[u.wAp.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,l,t,e,n,r)}}function W(t){return function(e,n,r){const s=-1*r,l=Xn(n,Ee.MinusSign),g=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case Bn.Short:return(s>=0?"+":"")+bi(g,2,l)+bi(Math.abs(s%60),2,l);case Bn.ShortGMT:return"GMT"+(s>=0?"+":"")+bi(g,1,l);case Bn.Long:return"GMT"+(s>=0?"+":"")+bi(g,2,l)+":"+bi(Math.abs(s%60),2,l);case Bn.Extended:return 0===r?"Z":(s>=0?"+":"")+bi(g,2,l)+":"+bi(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${t}"`)}}}function Fe(t){return mo(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Ke(t,e=!1){return function(n,r){let s;if(e){const l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,g=n.getDate();s=1+Math.floor((g+l)/7)}else{const l=Fe(n),g=function(t){const e=mo(t,0,1).getDay();return mo(t,0,1+(e<=4?4:11)-e)}(l.getFullYear()),_=l.getTime()-g.getTime();s=1+Math.round(_/6048e5)}return bi(s,t,Xn(r,Ee.MinusSign))}}function dt(t,e=!1){return function(n,r){return bi(Fe(n).getFullYear(),t,Xn(r,Ee.MinusSign),e)}}const $t={};function un(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function go(t){return t instanceof Date&&!isNaN(t.valueOf())}class Z1{}let Fc=(()=>{class t extends Z1{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(Kt(r||this.locale)(n)){case Ae.Zero:return"zero";case Ae.One:return"one";case Ae.Two:return"two";case Ae.Few:return"few";case Ae.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(u.soG))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),pa=(()=>{class t{constructor(n,r,s,l){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=s,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class jt{constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pt=(()=>{class t{constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((s,l,g)=>{if(null==s.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new jt(null,this._ngForOf,-1,-1),null===g?void 0:g),E=new Wt(s,_);r.push(E)}else if(null==g)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const _=this._viewContainer.get(l);this._viewContainer.move(_,g);const E=new Wt(s,_);r.push(E)}});for(let s=0;s<r.length;s++)this._perViewChange(r[s].view,r[s].record);for(let s=0,l=this._viewContainer.length;s<l;s++){const g=this._viewContainer.get(s);g.context.index=s,g.context.count=l,g.context.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Wt{constructor(e,n){this.record=e,this.view=n}}let Jt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new W2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ja("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ja("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.s_b),u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class W2{constructor(){this.$implicit=null,this.ngIf=null}}function Ja(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Yn=(()=>{class t{constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[s,l]=n.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,s,r):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();let zs=(()=>{class t{constructor(n){this.locale=n}transform(n,r="mediumDate",s,l){if(null==n||""===n||n!=n)return null;try{return Sn(n,r,l||this.locale,s)}catch(g){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,u.AaK)(t)}'`)}(t,g.message)}}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.soG,16))},t.\u0275pipe=u.Yjl({name:"date",type:t,pure:!0}),t})(),Z4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:Z1,useClass:Fc}]}),t})();function ol(t){return"server"===t}let On=(()=>{class t{}return t.\u0275prov=(0,u.Yz7)({token:t,providedIn:"root",factory:()=>new K4((0,u.LFG)(ze),window)}),t})();class K4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const l=s.shadowRoot;if(l){const g=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(g)return g}s=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],s-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sl(this.window.history)||sl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Vo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Vo,B||(B=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Lt=Lt||document.querySelector("base"),Lt?Lt.getAttribute("href"):null);return null==n?null:function(t){zn=zn||document.createElement("a"),zn.setAttribute("href",t);const e=zn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,l]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let zn,Lt=null;const jn=new u.OlP("TRANSITION_ID"),Gi=[{provide:u.ip1,useFactory:function(t,e,n){return()=>{n.get(u.CZH).donePromise.then(()=>{const r=V(),s=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let l=0;l<s.length;l++)r.remove(s[l])})}},deps:[jn,ze,u.zs3],multi:!0}];class K1{static init(){(0,u.VLi)(new K1)}addToWindow(e){u.dqk.getAngularTestability=(r,s=!0)=>{const l=e.findTestabilityInTree(r,s);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const s=u.dqk.getAllAngularTestabilities();let l=s.length,g=!1;const _=function(E){g=g||E,l--,0==l&&r(g)};s.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const s=e.getTestability(n);return null!=s?s:r?V().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Vs=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const Ir=new u.OlP("EventManagerPlugins");let Ge=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>s.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}addGlobalEventListener(n,r,s){return this._findPluginFor(r).addGlobalEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const s=this._plugins;for(let l=0;l<s.length;l++){const g=s[l];if(g.supports(n))return this._eventNameToPlugin.set(n,g),g}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Ir),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();class sn{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const s=V().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,r)}}let e1=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Qn=(()=>{class t extends e1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,s){n.forEach(l=>{const g=this._doc.createElement("style");g.textContent=l,s.push(r.appendChild(g))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Us),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(n,s,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Us))}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ze))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();function Us(t){V().remove(t)}const t1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ui=/%COMP%/g;function Vn(t,e,n){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Vn(t,s,n):(s=s.replace(ui,t),n.push(s))}return n}function Kr(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let cs=(()=>{class t{constructor(n,r,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Cn(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Jc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(n),s}case 1:case u.ifc.ShadowDom:return new Rr(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const s=Vn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Ge),u.LFG(Qn),u.LFG(u.AFp))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();class Cn{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(t1[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const l=t1[s];l?e.setAttributeNS(l,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=t1[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(n,r,s&u.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&u.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Kr(r)):this.eventManager.addEventListener(e,n,Kr(r))}}class Jc extends Cn{constructor(e,n,r,s){super(e),this.component=r;const l=Vn(s+"-"+r.id,r.styles,[]);n.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(ui,s+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ui,t)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Rr extends Cn{constructor(e,n,r,s){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Vn(s.id,s.styles,[]);for(let g=0;g<l.length;g++){const _=document.createElement("style");_.textContent=l[g],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xc=(()=>{class t extends sn{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ze))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const ls=["alt","control","meta","shift"],s3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ul={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Mh=(()=>{class t extends sn{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,s){const l=t.parseEventName(r),g=t.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(n,l.domEventName,g))}static parseEventName(n){const r=n.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=t._normalizeKey(r.pop());let g="";if(ls.forEach(E=>{const x=r.indexOf(E);x>-1&&(r.splice(x,1),g+=E+".")}),g+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=s,_.fullKey=g,_}static getEventFullKey(n){let r="",s=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nr.hasOwnProperty(e)&&(e=nr[e]))}return s3[e]||e}(n);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ls.forEach(l=>{l!=s&&ul[l](n)&&(r+=l+".")}),r+=s,r}static eventCallback(n,r,s){return l=>{t.getEventFullKey(l)===n&&s.runGuarded(()=>r(l))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ze))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Wi=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(_a)},token:t,providedIn:"root"}),t})(),_a=(()=>{class t extends Wi{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,u.JVY)(n)}bypassSecurityTrustStyle(n){return(0,u.L6k)(n)}bypassSecurityTrustScript(n){return(0,u.eBb)(n)}bypassSecurityTrustUrl(n){return(0,u.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,u.pB0)(n)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ze))},t.\u0275prov=(0,u.Yz7)({factory:function(){return function(t){return new _a(t.get(ze))}((0,u.LFG)(u.gxx))},token:t,providedIn:"root"}),t})();const hs=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Vo.makeCurrent(),K1.init()},multi:!0},{provide:ze,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),n0=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Ir,useClass:Xc,multi:!0,deps:[ze,u.R0b,u.Lbi]},{provide:Ir,useClass:Mh,multi:!0,deps:[ze]},[],{provide:cs,useClass:cs,deps:[Ge,Qn,u.AFp]},{provide:u.FYo,useExisting:cs},{provide:e1,useExisting:Qn},{provide:Qn,useClass:Qn,deps:[ze]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ge,useClass:Ge,deps:[Ir,u.R0b]},{provide:class{},useClass:Vs,deps:[]},[]];let r0=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:u.AFp,useValue:n.appId},{provide:jn,useExisting:u.AFp},Gi]}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(t,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:n0,imports:[Z4,u.hGG]}),t})();"undefined"!=typeof window&&window;var Xt=J(57),e2=J(3637),ar=J(7574),It=J(5917),pl=J(6682),Nt=J(8002),s0=J(8819),qn=J(4402),Gs=J(5345);function cr(t,e){return"function"==typeof e?n=>n.pipe(cr((r,s)=>(0,qn.D)(t(r,s)).pipe((0,Nt.U)((l,g)=>e(r,l,s,g))))):n=>n.lift(new c1(t))}class c1{constructor(e){this.project=e}call(e,n){return n.subscribe(new u1(e,this.project))}}class u1 extends Gs.Ds{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(s){return void this.destination.error(s)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new Gs.IY(this),s=this.destination;s.add(r),this.innerSubscription=(0,Gs.ft)(e,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Di=J(7393);function ft(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new Pr(t,e,n))}}class Pr{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new Ni(e,this.accumulator,this.seed,this.hasSeed))}}class Ni extends Di.L{constructor(e,n,r,s){super(e),this.accumulator=n,this._seed=r,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(s){this.destination.error(s)}this.seed=r,this.destination.next(r)}}function a0(t,e){return n=>n.lift(new c0(t,e))}class c0{constructor(e,n){this.compare=e,this.keySelector=n}call(e,n){return n.subscribe(new iu(e,this.compare,this.keySelector))}}class iu extends Di.L{constructor(e,n,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(e,n){return e===n}_next(e){let n;try{const{keySelector:s}=this;n=s?s(e):e}catch(s){return this.destination.error(s)}let r=!1;if(this.hasKey)try{const{compare:s}=this;r=s(this.key,n)}catch(s){return this.destination.error(s)}else this.hasKey=!0;r||(this.key=n,this.destination.next(e))}}class wa extends Di.L{notifyNext(e,n,r,s,l){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class l1 extends Di.L{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var t2=J(7444);function Ea(t,e,n,r,s=new l1(t,n,r)){if(!s.closed)return e instanceof ar.y?e.subscribe(s):(0,t2.s)(e)(s)}class $s{constructor(e,n){this.observables=e,this.project=n}call(e,n){return n.subscribe(new su(e,this.observables,this.project))}}class su extends wa{constructor(e,n,r){super(e),this.observables=n,this.project=r,this.toRespond=[];const s=n.length;this.values=new Array(s);for(let l=0;l<s;l++)this.toRespond.push(l);for(let l=0;l<s;l++)this.add(Ea(this,n[l],void 0,l))}notifyNext(e,n,r){this.values[r]=n;const s=this.toRespond;if(s.length>0){const l=s.indexOf(r);-1!==l&&s.splice(l,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const n=[e,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(e){let n;try{n=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}class ml{constructor(e){this.predicate=e}call(e,n){return n.subscribe(new ec(e,this.predicate))}}class ec extends Di.L{constructor(e,n){super(e),this.predicate=n,this.skipping=!0,this.index=0}_next(e){const n=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||n.next(e)}tryCallPredicate(e){try{const n=this.predicate(e,this.index++);this.skipping=Boolean(n)}catch(n){this.destination.error(n)}}}J(9192);var xt=J(9765),Ws=J(309),l3=J(7771),u0=J(5319),l0=J(7971),Ih=J(8858);class Id extends xt.xQ{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new f3(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,l=r.length;let g;if(this.closed)throw new l0.N;if(this.isStopped||this.hasError?g=u0.w.EMPTY:(this.observers.push(e),g=new Ih.W(this,e)),s&&e.add(e=new Ws.ht(e,s)),n)for(let _=0;_<l&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<l&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),g}_getNow(){return(this.scheduler||l3.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,r=this._windowTime,s=this._events,l=s.length;let g=0;for(;g<l&&!(e-s[g].time<r);)g++;return l>n&&(g=Math.max(g,l-n)),g>0&&s.splice(0,g),s}}class f3{constructor(e,n){this.time=e,this.value=n}}function f1(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},s=>s.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,g,l=0,_=!1,E=!1;return function(N){let R;l++,!s||_?(_=!1,s=new Id(t,e,r),R=s.subscribe(this),g=N.subscribe({next(H){s.next(H)},error(H){_=!0,s.error(H)},complete(){E=!0,g=void 0,s.complete()}}),E&&(g=void 0)):R=s.subscribe(this),this.add(()=>{l--,R.unsubscribe(),R=void 0,g&&!E&&n&&0===l&&(g.unsubscribe(),g=void 0,s=void 0)})}}(r))}const ps=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Yr(t,e){return function(r){return r.lift(new f0(t,e))}}class f0{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new xr(e,this.predicate,this.thisArg))}}class xr extends Di.L{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}const cu=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var h1=J(9193);function tc(t){return e=>0===t?(0,h1.c)():e.lift(new ki(t))}class ki{constructor(e){if(this.total=e,this.total<0)throw new cu}call(e,n){return n.subscribe(new zr(e,this.total))}}class zr extends Di.L{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function Ks(t=null){return e=>e.lift(new Aa(t))}class Aa{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new Ta(e,this.defaultValue))}}class Ta extends Di.L{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function h0(t=Sh){return e=>e.lift(new vl(t))}class vl{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new d3(e,this.errorFactory))}}class d3 extends Di.L{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function Sh(){return new ps}var d0=J(4487);function Ki(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((s,l)=>t(s,l,r)):d0.y,tc(1),n?Ks(e):h0(()=>new ps))}function Yi(t,e){return e?cr(()=>t,e):cr(()=>t)}var Qi=J(3101);const nc=new u.OlP("angularfire2.auth.use-emulator"),yl=new u.OlP("angularfire2.auth.settings"),d1=new u.OlP("angularfire2.auth.tenant-id"),p1=new u.OlP("angularfire2.auth.langugage-code"),uu=new u.OlP("angularfire2.auth.use-device-language"),lu=new u.OlP("angularfire.auth.persistence");let _r=(()=>{class t{constructor(n,r,s,l,g,_,E,x,N,R){const H=new Xt.HU(l),K=(0,Xt.ss)(H),te=new xt.xQ,he=(0,It.of)(void 0).pipe((0,Ws.QV)(H.outsideAngular),cr(()=>l.runOutsideAngular(()=>J.e(952).then(J.bind(J,1952)))),(0,Nt.U)(()=>(0,Xt.on)(n,l,r)),(0,Nt.U)(Ie=>l.runOutsideAngular(()=>{const Oe=g,Be=_;return(0,Xt.sI)(`${Ie.name}.auth`,"AngularFireAuth",Ie,()=>{const $e=l.runOutsideAngular(()=>Ie.auth());if(Oe&&$e.useEmulator(`http://${Oe.join(":")}`),E&&($e.tenantId=E),$e.languageCode=x,N&&$e.useDeviceLanguage(),Be)for(const[gt,Je]of Object.entries(Be))$e.settings[gt]=Je;return R&&$e.setPersistence(R),$e},[Oe,E,x,N,Be,R])})),f1({bufferSize:1,refCount:!1}));if(ol(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{he.pipe(Ki()).subscribe();const Oe=he.pipe(cr(Je=>Je.getRedirectResult().then(Ut=>Ut,()=>null)),K,f1({bufferSize:1,refCount:!1})),Be=Je=>new ar.y(Ut=>({unsubscribe:l.runOutsideAngular(()=>Je(Ut))})),$e=he.pipe(cr(Je=>Be(Je.onAuthStateChanged.bind(Je)))),gt=he.pipe(cr(Je=>Be(Je.onIdTokenChanged.bind(Je))));this.authState=Oe.pipe(Yi($e),(0,Qi.R)(H.outsideAngular),(0,Ws.QV)(H.insideAngular)),this.user=Oe.pipe(Yi(gt),(0,Qi.R)(H.outsideAngular),(0,Ws.QV)(H.insideAngular)),this.idToken=this.user.pipe(cr(Je=>Je?(0,qn.D)(Je.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe(cr(Je=>Je?(0,qn.D)(Je.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,pl.T)(Oe,te,this.authState.pipe(Yr(Je=>!Je))).pipe((0,Nt.U)(Je=>(null==Je?void 0:Je.user)?Je:null),(0,Qi.R)(H.outsideAngular),(0,Ws.QV)(H.insideAngular))}return(0,Xt.pX)(this,he,l,{spy:{apply:(Ie,Oe,Be)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&Be.then($e=>te.next($e))}}})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nc,8),u.LFG(yl,8),u.LFG(d1,8),u.LFG(p1,8),u.LFG(uu,8),u.LFG(lu,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nc,8),u.LFG(yl,8),u.LFG(d1,8),u.LFG(p1,8),u.LFG(uu,8),u.LFG(lu,8))},token:t,providedIn:"any"}),t})(),r2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[_r]}),t})();var Ys=J(2329);function o2(t){return null==t}function rc(t){return"function"==typeof t.set}function hi(t,e){return rc(e)?e:t.ref(e)}function p0(t,e){if(function(t){return"string"==typeof t}(t))return e.stringCase();if(rc(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function s2(t,e,n="on",r=e2.z){return new ar.y(s=>{let l=null;return l=t[n](e,(g,_)=>{r.schedule(()=>{s.next({snapshot:g,prevKey:_})}),"once"===n&&r.schedule(()=>s.complete())},g=>{r.schedule(()=>s.error(g))}),"on"===n?{unsubscribe(){null!=l&&t.off(e,l)}}:{unsubscribe(){}}}).pipe((0,Nt.U)(s=>{const{snapshot:l,prevKey:g}=s;let _=null;return l.exists()&&(_=l.key),{type:e,payload:l,prevKey:g,key:_}}),(0,s0.B)())}function hu(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function m1(t,e){const{payload:n,prevKey:r,key:s}=e,l=hu(t,s),g=function(t,e){if(o2(e))return 0;{const n=hu(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let _=null;e.payload.forEach(E=>{const x={payload:E,type:"value",prevKey:_,key:E.key};return _=E.key,t=[...t,x],!1})}return t;case"child_added":if(l>-1){const _=t[l-1];(_&&_.key||null)!==r&&(t=t.filter(E=>E.payload.key!==n.key)).splice(g,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(g,0,e)}return t;case"child_removed":return t.filter(_=>_.payload.key!==n.key);case"child_changed":return t.map(_=>_.payload.key===s?e:_);case"child_moved":if(l>-1){const _=t.splice(l,1)[0];return(t=t.slice()).splice(g,0,_),t}return t;default:return t}}function Uo(t){return(o2(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Bo(t,e,n){return function(t,e,n){return s2(t,"value","once",n).pipe(cr(r=>{const s=[(0,It.of)(r)];return e.forEach(l=>s.push(s2(t,l,"on",n))),(0,pl.T)(...s).pipe(ft(m1,[]))}),a0())}(t,e=Uo(e),n)}function Qs(t,e,n){const r=(e=Uo(e)).map(s=>s2(t,s,"on",n));return(0,pl.T)(...r)}function g1(t,e){return function(r,s){return p0(r,{stringCase:()=>t.child(r)[e](s),firebaseCase:()=>r[e](s),snapshotCase:()=>r.ref[e](s)})}}function di(t){return function(n){return n?p0(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function g0(t,e){return function(){return s2(t,"value","on",e)}}const bl=new u.OlP("angularfire2.realtimeDatabaseURL"),Sr=new u.OlP("angularfire2.database.use-emulator");let Vr=(()=>{class t{constructor(n,r,s,l,g,_,E){this.schedulers=new Xt.HU(g),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const x=_,N=(0,Xt.on)(n,g,r);!Ys.Z.auth&&E&&(0,Xt.yq)(),this.database=(0,Xt.sI)(`${N.name}.database.${s}`,"AngularFireDatabase",N,()=>{const R=g.runOutsideAngular(()=>N.database(s||void 0));return x&&R.useEmulator(...x),R},[x])}list(n,r){const s=this.schedulers.ngZone.runOutsideAngular(()=>hi(this.database,n));let l=s;return r&&(l=r(s)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:g1(r,"update"),set:g1(r,"set"),push:s=>r.push(s),remove:di(r),snapshotChanges:s=>Bo(t,s,n).pipe(e.keepUnstableUntilFirst),stateChanges:s=>Qs(t,s,n).pipe(e.keepUnstableUntilFirst),auditTrail:s=>function(t,e,n){return function(t,e,n){return function(t,e){return s2(t,"value","on",e).pipe((0,Nt.U)(n=>{let r;return n.payload.forEach(s=>(r=s.key,!1)),{data:n,lastKeyToLoad:r}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new $s(t,n))}}(e),(0,Nt.U)(([s,l])=>{const g=s.lastKeyToLoad,_=l.map(E=>E.key);return{actions:l,lastKeyToLoad:g,loadedKeys:_}}),function(t){return e=>e.lift(new ml(t))}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,Nt.U)(s=>s.actions))}(t,Qs(t,e).pipe(ft((s,l)=>[...s,l],[])),n)}(t,s,n).pipe(e.keepUnstableUntilFirst),valueChanges:(s,l)=>Bo(t,s,n).pipe((0,Nt.U)(_=>_.map(E=>l&&l.idField?Object.assign(Object.assign({},E.payload.val()),{[l.idField]:E.key}):E.payload.val())),e.keepUnstableUntilFirst)}}(l,this)}object(n){return function(t,e){return{query:t,snapshotChanges:()=>g0(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst),update:n=>t.ref.update(n),set:n=>t.ref.set(n),remove:()=>t.ref.remove(),valueChanges:()=>g0(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst,(0,Nt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hi(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(bl,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Sr,8),u.LFG(nc,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(bl,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Sr,8),u.LFG(nc,8))},token:t,providedIn:"any"}),t})(),du=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Vr]}),t})();class pu{constructor(e,n){this.dueTime=e,this.scheduler=n}call(e,n){return n.subscribe(new Ma(e,this.dueTime,this.scheduler))}}class Ma extends Di.L{constructor(e,n,r){super(e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Cl,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Cl(t){t.debouncedNext()}var Dn=J(9759),L=J(4762),ut=J(4685),Ia=J(6034),Dr="firebasestorage.googleapis.com",xa="storageBucket",Jn=function(t){function e(n,r){var s=t.call(this,a2(n),"Firebase Storage: "+r+" ("+a2(n)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,e.prototype),s}return(0,L.__extends)(e,t),e.prototype._codeEquals=function(n){return a2(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ut.FirebaseError);function a2(t){return"storage/"+t}function br(){return new Jn("unknown","An unknown error occurred, please check the error payload for server response.")}function mu(){return new Jn("canceled","User canceled the upload/download.")}function c2(){return new Jn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ao(t){return new Jn("invalid-argument",t)}function qo(){return new Jn("app-deleted","The Firebase app was deleted.")}function w0(t){return new Jn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sa(t,e){return new Jn("invalid-format","String does not match format '"+t+"': "+e)}function gu(t){throw new Jn("internal-error","Internal error: "+t)}var Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gs=function(e,n){this.data=e,this.contentType=n||null};function vs(t,e){switch(t){case Xr.RAW:return new gs(u2(e));case Xr.BASE64:case Xr.BASE64URL:return new gs(El(t,e));case Xr.DATA_URL:return new gs(function(t){var e=new E0(t);return e.base64?El(Xr.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Sa(Xr.DATA_URL,"Malformed data URL.")}return u2(e)}(e.rest)}(e),function(t){return new E0(t).contentType}(e))}throw br()}function u2(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var l=r,g=t.charCodeAt(++n);e.push(240|(r=65536|(1023&l)<<10|1023&g)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function El(t,e){switch(t){case Xr.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Sa(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Xr.BASE64URL:var l=-1!==e.indexOf("+"),g=-1!==e.indexOf("/");if(l||g)throw Sa(t,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var _;try{_=function(t){return atob(t)}(e)}catch(N){throw Sa(t,"Invalid character found")}for(var E=new Uint8Array(_.length),x=0;x<_.length;x++)E[x]=_.charCodeAt(x);return E}var E0=function(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(null===n)throw Sa(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},Fr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ji(t){switch(t){case"running":case"pausing":case"canceling":return Fr.RUNNING;case"paused":return Fr.PAUSED;case"success":return Fr.SUCCESS;case"canceled":return Fr.CANCELED;case"error":default:return Fr.ERROR}}var ys=(()=>{return(t=ys||(ys={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",ys;var t})(),A0=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ys.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=ys.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ys.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,s){if(this.sent_)throw gu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==s)for(var l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gu("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gu("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},t}(),To=function(){function t(){}return t.prototype.createConnection=function(){return new A0},t}(),ei=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(s){return new t(e,"")}if(""===r.path)return r;throw function(t){return new Jn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e,n){var r=null,s="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+s+"(/(.*))?$","i");function x(Gr){Gr.path_=decodeURIComponent(Gr.path)}for(var R=n.replace(/[.]/g,"\\."),$e=[{regex:_,indices:{bucket:1,path:3},postModify:function(Gr){"/"===Gr.path.charAt(Gr.path.length-1)&&(Gr.path_=Gr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+R+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp("^https?://"+(n===Dr?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+s+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:x}],gt=0;gt<$e.length;gt++){var Je=$e[gt],Ut=Je.regex.exec(e);if(Ut){var rs=Ut[Je.indices.path];rs||(rs=""),r=new t(Ut[Je.indices.bucket],rs),Je.postModify(r);break}}if(null==r)throw function(t){return new Jn("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),mi=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function Tl(t){return"string"==typeof t||t instanceof String}function b3(t){return Da()&&t instanceof Blob}function Da(){return"undefined"!=typeof Blob}function _1(t,e,n,r){if(r<e)throw Ao("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Ao("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Mo(t,e){var n=e.match(/^(\w+):\/\/.+/),s=e;return null==(null==n?void 0:n[1])&&(s="https://"+e),s+"/v0"+t}function Ml(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Lh=function(){function t(e,n,r,s,l,g,_,E,x,N,R){var H=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=l.slice(),this.additionalRetryCodes_=g.slice(),this.callback_=_,this.errorCallback_=E,this.progressCallback_=N,this.timeout_=x,this.pool_=R,this.promise_=new Promise(function(K,te){H.resolve_=K,H.reject_=te,H.start_()})}return t.prototype.start_=function(){var e=this;function r(s,l){var g=e.resolve_,_=e.reject_,E=l.connection;if(l.wasSuccessCode)try{var x=e.callback_(E,E.getResponseText());!function(t){return void 0!==t}(x)?g():g(x)}catch(R){_(R)}else if(null!==E)(N=br()).serverResponse=E.getResponseText(),_(e.errorCallback_?e.errorCallback_(E,N):N);else if(l.canceled)_(N=e.appDelete_?qo():mu());else{var N;_(N=new Jn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?r(0,new _s(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,s=null,l=!1,g=0;function _(){return 2===g}var E=!1;function x(){for(var te=[],he=0;he<arguments.length;he++)te[he]=arguments[he];E||(E=!0,e.apply(null,te))}function N(te){s=setTimeout(function(){s=null,t(R,_())},te)}function R(te){for(var he=[],Ie=1;Ie<arguments.length;Ie++)he[Ie-1]=arguments[Ie];if(!E){if(te)return void x.call.apply(x,(0,L.__spreadArray)([null,te],he));var Be;if(_()||l)return void x.call.apply(x,(0,L.__spreadArray)([null,te],he));r<64&&(r*=2),1===g?(g=2,Be=0):Be=1e3*(r+Math.random()),N(Be)}}var H=!1;function K(te){H||(H=!0,!E&&(null!==s?(te||(g=2),clearTimeout(s),N(0)):te||(g=1)))}return N(0),setTimeout(function(){l=!0,K(!0)},n),K}(function(s,l){if(l)s(!1,new _s(!1,null,!0));else{var g=e.pool_.createConnection();e.pendingConnection_=g,null!==e.progressCallback_&&g.addUploadProgressListener(_),g.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&g.removeUploadProgressListener(_),e.pendingConnection_=null;var E=g.getErrorCode()===ys.NO_ERROR,x=g.getStatus();if(E&&!e.isRetryStatusCode_(x)){var R=-1!==e.successCodes_.indexOf(x);s(!0,new _s(R,g))}else{var N=g.getErrorCode()===ys.ABORT;s(!1,new _s(!1,null,N))}})}function _(E){null!==e.progressCallback_&&e.progressCallback_(E.loaded,E.lengthComputable?E.total:-1)}},r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return n||s||l},t}(),_s=function(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r};function Hr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Hr();if(void 0!==n){for(var r=new n,s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}if(Da())return new Blob(t);throw new Jn("unsupported-environment","This browser doesn't seem to support creating Blobs")}var f2=function(){function t(e,n){var r=0,s="";b3(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(b3(this.data_)){var s=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===s?null:new t(s)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Da()){var r=e.map(function(E){return E instanceof t?E.data_:E});return new t(yu.apply(null,r))}var s=e.map(function(E){return Tl(E)?vs(Xr.RAW,E).data:E.data_}),l=0;s.forEach(function(E){l+=E.byteLength});var g=new Uint8Array(l),_=0;return s.forEach(function(E){for(var x=0;x<E.length;x++)g[_++]=E[x]}),new t(g,!0)},t.prototype.uploadData=function(){return this.data_},t}();function pn(t){var e;try{e=JSON.parse(t)}catch(n){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function uc(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function bs(t,e){return e}var ti=function(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||bs},xl=null;function h2(){if(xl)return xl;var t=[];t.push(new ti("bucket")),t.push(new ti("generation")),t.push(new ti("metageneration")),t.push(new ti("name","fullPath",!0));var n=new ti("name");n.xform=function(l,g){return function(t){return!Tl(t)||t.length<2?t:uc(t)}(g)},t.push(n);var s=new ti("size");return s.xform=function(l,g){return void 0!==g?Number(g):g},t.push(s),t.push(new ti("timeCreated")),t.push(new ti("updated")),t.push(new ti("md5Hash",null,!0)),t.push(new ti("cacheControl",null,!0)),t.push(new ti("contentDisposition",null,!0)),t.push(new ti("contentEncoding",null,!0)),t.push(new ti("contentLanguage",null,!0)),t.push(new ti("contentType",null,!0)),t.push(new ti("metadata","customMetadata",!0)),xl=t}function I0(t,e,n){var r=pn(e);return null===r?null:function(t,e,n){for(var r={type:"file"},s=n.length,l=0;l<s;l++){var g=n[l];r[g.local]=g.xform(r,e[g.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var l=new ei(t.bucket,t.fullPath);return e._makeStorageReference(l)}})}(r,t),r}(t,r,n)}function Pn(t,e){for(var n={},r=e.length,s=0;s<r;s++){var l=e[s];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}var ea="prefixes";var Xi=function(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Io(t){if(!t)throw br()}function lc(t,e){return function(r,s){var l=I0(t,s,e);return Io(null!==l),l}}function d2(t){return function(n,r){var s;return(s=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Jn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Jn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(t){return new Jn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function(t){return new Jn("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r).serverResponse=r.serverResponse,s}}function fc(t){var e=d2(t);return function(r,s){var l=e(r,s);return 404===r.getStatus()&&(l=function(t){return new Jn("object-not-found","Object '"+t+"' does not exist.")}(t.path)),l.serverResponse=s.serverResponse,l}}function w3(t,e,n){var s=Mo(e.fullServerUrl(),t.host),g=t.maxOperationRetryTime,_=new Xi(s,"GET",lc(t,n),g);return _.errorHandler=fc(e),_}function Sl(t,e,n,r,s){var l={};l.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(l.delimiter=n),r&&(l.pageToken=r),s&&(l.maxResults=s);var _=Mo(e.bucketOnlyServerUrl(),t.host),x=t.maxOperationRetryTime,N=new Xi(_,"GET",function(t,e){return function(r,s){var l=function(t,e,n){var r=pn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ea])for(var s=0,l=n[ea];s<l.length;s++){var _=l[s].replace(/\/$/,""),E=t._makeStorageReference(new ei(e,_));r.prefixes.push(E)}if(n.items)for(var x=0,N=n.items;x<N.length;x++)E=t._makeStorageReference(new ei(e,N[x].name)),r.items.push(E);return r}(t,e,r)}(t,e,s);return Io(null!==l),l}}(t,e.bucket),x);return N.urlParams=l,N.errorHandler=d2(e),N}function bu(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Dl=function(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null};function Oi(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(s){Io(!1)}return Io(!!n&&-1!==(e||["active"]).indexOf(n)),n}var p2=function(e,n,r){if(function(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n,this.complete=r;else{var l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}};function hc(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var M3=function(){function t(e,n,r){var s=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=h2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(l){s._request=void 0,s._chunkMultiplier=1,l._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=l,s._transition("error"))},this._metadataErrorHandler=function(l){s._request=void 0,l._codeEquals("canceled")?s.completeTransitions_():(s._error=l,s._transition("error"))},this._promise=new Promise(function(l,g){s._resolve=l,s._reject=g,s._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var s=r[0],l=r[1];switch(n._state){case"running":e(s,l);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused")}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var s=function(t,e,n,r,s){var l=e.bucketOnlyServerUrl(),g=bu(e,r,s),_={name:g.fullPath},E=Mo(l,t.host),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},R=Pn(g,n),te=new Xi(E,"POST",function(he){var Ie;Oi(he);try{Ie=he.getResponseHeader("X-Goog-Upload-URL")}catch(Oe){Io(!1)}return Io(Tl(Ie)),Ie},t.maxUploadRetryTime);return te.urlParams=_,te.headers=N,te.body=R,te.errorHandler=d2(e),te}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),l=e._ref.storage._makeRequest(s,n,r);e._request=l,l.getPromise().then(function(g){e._request=void 0,e._uploadUrl=g,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,s){var l=function(t,e,n,r){var E=new Xi(n,"POST",function(x){var N=Oi(x,["active","final"]),R=null;try{R=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch(K){Io(!1)}R||Io(!1);var H=Number(R);return Io(!isNaN(H)),new Dl(H,r.size(),"final"===N)},t.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=d2(e),E}(e._ref.storage,e._ref._location,n,e._blob),g=e._ref.storage._makeRequest(l,r,s);e._request=g,g.getPromise().then(function(_){_=_,e._request=void 0,e._updateProgress(_.current),e._needToFetchStatus=!1,_.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=262144*this._chunkMultiplier,r=new Dl(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(l,g){var _;try{_=function(t,e,n,r,s,l,g,_){var E=new Dl(0,0);if(g?(E.current=g.current,E.total=g.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw new Jn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var x=E.total-E.current,N=x;s>0&&(N=Math.min(N,s));var R=E.current,te={"X-Goog-Upload-Command":N===x?"upload, finalize":"upload","X-Goog-Upload-Offset":""+E.current},he=r.slice(R,R+N);if(null===he)throw c2();var $e=new Xi(n,"POST",function(gt,Je){var Gr,Ut=Oi(gt,["active","final"]),fr=E.current+N,rs=r.size();return Gr="final"===Ut?lc(e,l)(gt,Je):null,new Dl(fr,rs,"final"===Ut,Gr)},e.maxUploadRetryTime);return $e.headers=te,$e.body=he.uploadData(),$e.progressCallback=_||null,$e.errorHandler=d2(t),$e}(e._ref._location,e._ref.storage,s,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(x){return e._error=x,void e._transition("error")}var E=e._ref.storage._makeRequest(_,l,g);e._request=E,E.getPromise().then(function(x){e._increaseMultiplier(),e._request=void 0,e._updateProgress(x.current),x.finalized?(e._metadata=x.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var s=w3(e._ref.storage,e._ref._location,e._mappings),l=e._ref.storage._makeRequest(s,n,r);e._request=l,l.getPromise().then(function(g){e._request=void 0,e._metadata=g,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var s=function(t,e,n,r,s){var l=e.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},E=function(){for(var $e="",gt=0;gt<2;gt++)$e+=Math.random().toString().slice(2);return $e}();g["Content-Type"]="multipart/related; boundary="+E;var x=bu(e,r,s),N=Pn(x,n),K=f2.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+E+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===K)throw c2();var te={name:x.fullPath},he=Mo(l,t.host),Oe=t.maxUploadRetryTime,Be=new Xi(he,"POST",lc(t,n),Oe);return Be.urlParams=te,Be.headers=g,Be.body=K.uploadData(),Be.errorHandler=d2(e),Be}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),l=e._ref.storage._makeRequest(s,n,r);e._request=l,l.getPromise().then(function(g){e._request=void 0,e._metadata=g,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=mu(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=Ji(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,s){var l=this,g=new p2(n,r,s);return this._addObserver(g),function(){l._removeObserver(g)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Ji(this._state)){case Fr.SUCCESS:hc(this._resolve.bind(null,this.snapshot))();break;case Fr.CANCELED:case Fr.ERROR:hc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){switch(Ji(this._state)){case Fr.RUNNING:case Fr.PAUSED:e.next&&hc(e.next.bind(e,this.snapshot))();break;case Fr.SUCCESS:e.complete&&hc(e.complete.bind(e))();break;case Fr.CANCELED:case Fr.ERROR:e.error&&hc(e.error.bind(e,this._error))();break;default:e.error&&hc(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},t.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},t}(),dc=function(){function t(e,n){this._service=e,this._location=n instanceof ei?n:ei.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ei(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return uc(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ei(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(""===this._location.path)throw w0(e)},t}();function $o(t){var e={prefixes:[],items:[]};return m2(t,e).then(function(){return e})}function m2(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,ri(t,{pageToken:n})];case 1:return s=_.sent(),(l=e.prefixes).push.apply(l,s.prefixes),(g=e.items).push.apply(g,s.items),null==s.nextPageToken?[3,3]:[4,m2(t,e,s.nextPageToken)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function ri(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&_1("options.maxResults",1,1e3,e.maxResults),r=Sl(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,s.sent().getPromise()]}})})}function I3(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var s=Mo(e.fullServerUrl(),t.host),g=t.maxOperationRetryTime,_=new Xi(s,"GET",function(t,e){return function(r,s){var l=I0(t,s,e);return Io(null!==l),function(t,e,n){var r=pn(e);if(null===r||!Tl(r.downloadTokens))return null;var s=r.downloadTokens;if(0===s.length)return null;var l=encodeURIComponent;return s.split(",").map(function(E){var N=t.fullPath;return Mo("/b/"+l(t.bucket)+"/o/"+l(N),n)+Ml({alt:"media",token:E})})[0]}(l,s,t.host)}}(t,n),g);return _.errorHandler=fc(e),_}(t.storage,t._location,h2()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(null===r)throw new Jn("no-download-url","The given file does not have any download URLs.");return r})]}})})}function Vh(t,e){var n=function(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ei(t._location.bucket,n);return new dc(t.storage,r)}function Ll(t){return/^[A-Za-z]+:\/\//.test(t)}function S3(t,e){if(t instanceof N0){var n=t;if(null==n._bucket)throw new Jn("no-default-bucket","No default bucket found. Did you set the '"+xa+"' property when initializing the app?");var r=new dc(n,n._bucket);return null!=e?S3(r,e):r}return void 0!==e?Vh(t,e):t}function Hh(t,e){if(e&&Ll(e)){if(t instanceof N0)return function(t,e){return new dc(t,e)}(t,e);throw Ao("To use ref(service, url), the first argument must be a Storage instance.")}return S3(t,e)}function g2(t,e){var n=null==e?void 0:e[xa];return null==n?null:ei.makeFromBucketSpec(n,t)}var N0=function(){function t(e,n,r,s,l,g){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=s,this._url=l,this._firebaseVersion=g,this._bucket=null,this._host=Dr,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?ei.makeFromBucketSpec(l,this._host):g2(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?ei.makeFromBucketSpec(this._url,e):g2(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){_1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){_1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(n=r.sent()))return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new dc(this,e)},t.prototype._makeRequest=function(e,n,r){var s=this;if(this._deleted)return new mi(qo());var l=function(t,e,n,r,s,l){var g=Ml(t.urlParams),_=t.url+g,E=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(E,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(E,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,l),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(E,r),new Lh(_,t.method,E,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(function(){return s._requests.delete(l)},function(){return s._requests.delete(l)}),l},t.prototype.makeRequestWithTokens=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=l.sent(),[2,this._makeRequest(e,n[0],n[1])]}})})},t}();function ka(t,e){return Hh(t=(0,ut.getModularInstance)(t),e)}var t,e,pc=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ol=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new pc(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(s){if(e)return e(new pc(s,r,r._ref))},n)},t.prototype.on=function(e,n,r,s){var l=this,g=void 0;return n&&(g="function"==typeof n?function(_){return n(new pc(_,l,l._ref))}:{next:n.next?function(_){return n.next(new pc(_,l,l._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,g,r||void 0,s||void 0)},t}(),Rl=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new mc(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new mc(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),mc=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Vh(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new Ol(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new M3(t,new f2(e),n)}(t=(0,ut.getModularInstance)(t),e,n)}(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){void 0===n&&(n=Xr.RAW),this._throwIfRoot("putString");var s=vs(n,e),l=(0,L.__assign)({},r);return null==l.contentType&&null!=s.contentType&&(l.contentType=s.contentType),new Ol(new M3(this._delegate,new f2(s.data,!0),l),this)},t.prototype.listAll=function(){var e=this;return function(t){return $o(t=(0,ut.getModularInstance)(t))}(this._delegate).then(function(n){return new Rl(n,e.storage)})},t.prototype.list=function(e){var n=this;return function(t,e){return ri(t=(0,ut.getModularInstance)(t),e)}(this._delegate,e||void 0).then(function(r){return new Rl(r,n.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=w3(t.storage,t._location,h2()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(e){return function(t,e){return function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var l=Mo(e.fullServerUrl(),t.host),_=Pn(n,r),x=t.maxOperationRetryTime,N=new Xi(l,"PATCH",lc(t,r),x);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=_,N.errorHandler=fc(e),N}(t.storage,t._location,e,h2()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t),e)}(this._delegate,e)},t.prototype.getDownloadURL=function(){return function(t){return I3(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var r=Mo(e.fullServerUrl(),t.host),_=new Xi(r,"DELETE",function(E,x){},t.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=fc(e),_}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,ut.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw w0(e)},t}(),Nd=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(Ll(e))throw Ao("ref() expected a child path but got a URL, use refFromURL instead.");return new mc(ka(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!Ll(e))throw Ao("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ei.makeFromUrl(e,this._delegate.host)}catch(n){throw Ao("refFromUrl() expected a valid full URL but got an invalid one.")}return new mc(ka(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var s=r.mockUserToken;s&&(t._overrideAuthToken="string"==typeof s?s:(0,ut.createMockUserToken)(s,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)},t}();function O3(t){const e=function(t){return new ar.y(e=>{const n=g=>e.next(g);n(t.snapshot);const l=t.on("state_changed",n);return t.then(g=>{n(g),e.complete()},g=>{n(t.snapshot),(g=>{e.error(g)})(g)}),function(){l()}}).pipe(function(t,e=e2.P){return n=>n.lift(new pu(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Nt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function Pl(t,e,n){return{getDownloadURL:()=>(0,It.of)(void 0).pipe((0,Ws.QV)(e.outsideAngular),cr(()=>t.getDownloadURL()),n),getMetadata:()=>(0,It.of)(void 0).pipe((0,Ws.QV)(e.outsideAngular),cr(()=>t.getMetadata()),n),delete:()=>(0,qn.D)(t.delete()),child:r=>Pl(t.child(r),e,n),updateMetadata:r=>(0,qn.D)(t.updateMetadata(r)),put:(r,s)=>O3(t.put(r,s)),putString:(r,s,l)=>O3(t.putString(r,s,l)),listAll:()=>(0,qn.D)(t.listAll())}}e={TaskState:Fr,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Xr,Storage:N0,Reference:mc},(t=Dn.default).INTERNAL.registerComponent(new Ia.Component("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),l=t.getProvider("app-check-internal");return new Nd(r,new N0(r,s,l,new To,n,Dn.default.SDK_VERSION))},"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1");const an=new u.OlP("angularfire2.storageBucket"),P0=new u.OlP("angularfire2.storage.maxUploadRetryTime"),zl=new u.OlP("angularfire2.storage.maxOperationRetryTime");let wu=(()=>{class t{constructor(n,r,s,l,g,_,E){this.schedulers=new Xt.HU(g),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const x=(0,Xt.on)(n,g,r);this.storage=(0,Xt.sI)(`${x.name}.storage.${s}`,"AngularFireStorage",x,()=>{const N=g.runOutsideAngular(()=>x.storage(s||void 0));return _&&N.setMaxUploadRetryTime(_),E&&N.setMaxOperationRetryTime(E),N},[_,E])}ref(n){return Pl(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(n){return Pl(this.storage.refFromURL(n),this.schedulers,this.keepUnstableUntilFirst)}upload(n,r,s){return Pl(this.storage.ref(n),this.schedulers,this.keepUnstableUntilFirst).put(r,s)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(an,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(P0,8),u.LFG(zl,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(an,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(P0,8),u.LFG(zl,8))},token:t,providedIn:"any"}),t})(),p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})(),d=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[wu],imports:[p]}),t})();var v=J(3282);function M(...t){return(0,v.J)(1)((0,It.of)(...t))}var D=J(4869);function O(...t){const e=t[t.length-1];return(0,D.K)(e)?(t.pop(),n=>M(t,n,e)):n=>M(t,n)}function j(){return t=>t.lift(new Z)}class Z{call(e,n){return n.subscribe(new X(e))}}class X extends Di.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let n;this.hasPrev?n=[this.prev,e]:this.hasPrev=!0,this.prev=e,n&&this.destination.next(n)}}var ne=J(300),be=function(t,e){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])})(t,e)};function We(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var He,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},At=At||{},Xe=rt||self;function Zn(){}function to(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ra(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var A1="closure_uid_"+(1e9*Math.random()>>>0),vc=0;function kd(t,e,n){return t.call.apply(t.bind,arguments)}function P3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function gi(t,e,n){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kd:P3).apply(null,arguments)}function Vl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vi(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,s,l){for(var g=Array(arguments.length-2),_=2;_<arguments.length;_++)g[_-2]=arguments[_];return e.prototype[s].apply(r,g)}}function La(){this.s=this.s,this.o=this.o}var Bh={};La.prototype.s=!1,La.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,A1)&&t[A1]||(t[A1]=++vc)}(this);delete Bh[t]}},La.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var z0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,s="string"==typeof t?t.split(""):t,l=0;l<r;l++)l in s&&e.call(n,s[l],l,t)};function Au(t){return Array.prototype.concat.apply([],arguments)}function V3(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xo(t){return/^[\s\xa0]*$/.test(t)}var ii,Ld=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ri(t,e){return-1!=t.indexOf(e)}function F3(t,e){return t<e?-1:t>e?1:0}e:{var V0=Xe.navigator;if(V0){var jh=V0.userAgent;if(jh){ii=jh;break e}}ii=""}function H3(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function U3(t){var e={};for(var n in t)e[n]=t[n];return e}var B3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qh(t,e){for(var n,r,s=1;s<arguments.length;s++){for(n in r=arguments[s])t[n]=r[n];for(var l=0;l<B3.length;l++)n=B3[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vt(t){return Vt[" "](t),t}Vt[" "]=Zn;var Tu,j3=Ri(ii,"Opera"),y2=Ri(ii,"Trident")||Ri(ii,"MSIE"),ia=Ri(ii,"Edge"),q3=ia||y2,Rd=Ri(ii,"Gecko")&&!(Ri(ii.toLowerCase(),"webkit")&&!Ri(ii,"Edge"))&&!(Ri(ii,"Trident")||Ri(ii,"MSIE"))&&!Ri(ii,"Edge"),yc=Ri(ii.toLowerCase(),"webkit")&&!Ri(ii,"Edge");function T1(){var t=Xe.document;return t?t.documentMode:void 0}e:{var Ul="",_2=function(){var t=ii;return Rd?/rv:([^\);]+)(\)|;)/.exec(t):ia?/Edge\/([\d\.]+)/.exec(t):y2?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):yc?/WebKit\/(\S+)/.exec(t):j3?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(_2&&(Ul=_2?_2[1]:""),y2){var _c=T1();if(null!=_c&&_c>parseFloat(Ul)){Tu=String(_c);break e}}Tu=Ul}var Mu={};function og(){return function(t){var e=Mu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=Ld(String(Tu)).split("."),n=Ld("9").split("."),r=Math.max(e.length,n.length),s=0;0==t&&s<r;s++){var l=e[s]||"",g=n[s]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;t=F3(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||F3(0==l[2].length,0==g[2].length)||F3(l[2],g[2]),l=l[3],g=g[3]}while(0==t)}return 0<=t}()}()}var Bl=Xe.document&&y2&&(T1()||parseInt(Tu,10))||void 0,Zh=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xe.addEventListener("test",Zn,e),Xe.removeEventListener("test",Zn,e)}catch(n){}return t}();function Pi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function H0(t,e){if(Pi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rd){e:{try{Vt(e.nodeName);var s=!0;break e}catch(l){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Pd[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&H0.Z.h.call(this)}}Pi.prototype.h=function(){this.defaultPrevented=!0},vi(H0,Pi);var Pd={2:"touch",3:"pen",4:"mouse"};H0.prototype.h=function(){H0.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Z3="closure_listenable_"+(1e6*Math.random()|0),G3=0;function Gh(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=s,this.key=++G3,this.ca=this.fa=!1}function jl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function U0(t){this.src=t,this.g={},this.h=0}function $3(t,e){var n=e.type;if(n in t.g){var l,r=t.g[n],s=z0(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(jl(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Iu(t,e,n,r){for(var s=0;s<t.length;++s){var l=t[s];if(!l.ca&&l.listener==e&&l.capture==!!n&&l.ia==r)return s}return-1}U0.prototype.add=function(t,e,n,r,s){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var g=Iu(t,e,r,s);return-1<g?(e=t[g],n||(e.fa=!1)):((e=new Gh(e,this.src,l,!!r,s)).fa=n,t.push(e)),e};var $h="closure_lm_"+(1e6*Math.random()|0),W3={};function Wh(t,e,n,r,s){if(r&&r.once)return h7(t,e,n,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wh(t,e[l],n,r,s);return null}return n=ql(n),t&&t[Z3]?t.N(e,n,ra(r)?!!r.capture:!!r,s):zd(t,e,n,!1,r,s)}function zd(t,e,n,r,s,l){if(!e)throw Error("Invalid event type");var g=ra(s)?!!s.capture:!!s,_=Fd(t);if(_||(t[$h]=_=new U0(t)),(n=_.add(e,n,r,g,l)).proxy)return n;if(r=function(){var e=sg;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zh||(s=g),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(d7(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function h7(t,e,n,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)h7(t,e[l],n,r,s);return null}return n=ql(n),t&&t[Z3]?t.O(e,n,ra(r)?!!r.capture:!!r,s):zd(t,e,n,!0,r,s)}function Vd(t,e,n,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Vd(t,e[l],n,r,s);else r=ra(r)?!!r.capture:!!r,n=ql(n),t&&t[Z3]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Iu(l=t.g[e],n,r,s))&&(jl(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete t.g[e],t.h--))):t&&(t=Fd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Iu(e,n,r,s)),(n=-1<t?e[t]:null)&&B0(n))}function B0(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Z3])$3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(d7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fd(e))?($3(n,t),0==n.h&&(n.src=null,e[$h]=null)):jl(t)}}}function d7(t){return t in W3?W3[t]:W3[t]="on"+t}function sg(t,e){if(t.ca)t=!0;else{e=new H0(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&B0(t),t=n.call(r,e)}return t}function Fd(t){return(t=t[$h])instanceof U0?t:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(t){return"function"==typeof t?t:(t[Oa]||(t[Oa]=function(e){return t.handleEvent(e)}),t[Oa])}function Ur(){La.call(this),this.i=new U0(this),this.P=this,this.I=null}function yi(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Pi(e,t);else if(e instanceof Pi)e.target=e.target||t;else{var s=e;qh(e=new Pi(r,t),s)}if(s=!0,n)for(var l=n.length-1;0<=l;l--){var g=e.g=n[l];s=Zl(g,r,!0,e)&&s}if(s=Zl(g=e.g=t,r,!0,e)&&s,s=Zl(g,r,!1,e)&&s,n)for(l=0;l<n.length;l++)s=Zl(g=e.g=n[l],r,!1,e)&&s}function Zl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var g=e[l];if(g&&!g.ca&&g.capture==n){var _=g.listener,E=g.ia||g.src;g.fa&&$3(t.i,g),s=!1!==_.call(E,r)&&s}}return s&&!r.defaultPrevented}vi(Ur,La),Ur.prototype[Z3]=!0,Ur.prototype.removeEventListener=function(t,e,n,r){Vd(this,t,e,n,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jl(n[r]);delete t.g[e],t.h--}}this.I=null},Ur.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ur.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Gl=Xe.JSON.stringify;function Kh(){var t=Ud,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $l,Yh=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=b2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),b2=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new j0},function(t){return t.reset()}),j0=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Hd(t){Xe.setTimeout(function(){throw t},0)}function Qh(t,e){$l||function(){var t=Xe.Promise.resolve(void 0);$l=function(){t.then(p7)}}(),Wl||($l(),Wl=!0),Ud.add(t,e)}var Wl=!1,Ud=new Yh;function p7(){for(var t;t=Kh();){try{t.h.call(t.g)}catch(n){Hd(n)}var e=b2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wl=!1}function C2(t,e){Ur.call(this),this.h=t||1,this.g=e||Xe,this.j=gi(this.kb,this),this.l=Date.now()}function M1(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Kl(t,e,n){if("function"==typeof t)n&&(t=gi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function bc(t){t.g=Kl(function(){t.g=null,t.i&&(t.i=!1,bc(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}vi(C2,Ur),(He=C2.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(M1(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){C2.Z.M.call(this),M1(this),delete this.g};var xu=function(t){function e(n,r){var s=t.call(this)||this;return s.m=n,s.j=r,s.h=null,s.i=!1,s.g=null,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:bc(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(La);function Ra(t){La.call(this),this.h=t,this.g={}}vi(Ra,La);var Y3=[];function Yl(t,e,n,r){Array.isArray(n)||(n&&(Y3[0]=n.toString()),n=Y3);for(var s=0;s<n.length;s++){var l=Wh(e,n[s],r||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function Q3(t){H3(t.g,function(e,n){this.g.hasOwnProperty(n)&&B0(e)},t),t.g={}}function w2(){this.g=!0}function I1(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var g=1;g<s.length;g++)s[g]=""}}}return Gl(n)}catch(_){return e}}(t,n)+(r?" "+r:"")})}Ra.prototype.M=function(){Ra.Z.M.call(this),Q3(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},w2.prototype.Aa=function(){this.g=!1},w2.prototype.info=function(){};var Du={},Xh=null;function Ql(){return Xh=Xh||new Ur}function J3(t){Pi.call(this,Du.Ma,t)}function Cc(t){var e=Ql();yi(e,new J3(e,t))}function qd(t,e){Pi.call(this,Du.STAT_EVENT,t),this.stat=e}function zi(t){var e=Ql();yi(e,new qd(e,t))}function So(t,e){Pi.call(this,Du.Na,t),this.size=e}function Jl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}Du.Ma="serverreachability",vi(J3,Pi),Du.STAT_EVENT="statevent",vi(qd,Pi),Du.Na="timingevent",vi(So,Pi);var Xl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function e8(){}function m7(){}e8.prototype.h=null;var q0,Nu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function e4(){Pi.call(this,"d")}function E2(){Pi.call(this,"c")}function X3(){}function wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ra(this),this.P=g7,this.W=new C2(t=q3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}vi(e4,Pi),vi(E2,Pi),vi(X3,e8),X3.prototype.g=function(){return new XMLHttpRequest},X3.prototype.i=function(){return{}},q0=new X3;var g7=45e3,t4={},n4={};function ef(t,e,n){t.K=1,t.v=Q0(Vi(e)),t.s=n,t.U=!0,tf(t,null)}function tf(t,e){t.F=Date.now(),ku(t),t.A=Vi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),o4(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Z0,t.g=Yo(t.l,n?e:null,!t.s),0<t.O&&(t.L=new xu(gi(t.Ia,t,t.g),t.O)),Yl(t.V,t.g,"readystatechange",t.gb),e=t.H?U3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Cc(1),function(t,e,n,r,s,l){t.info(function(){if(t.g)if(l)for(var g="",_=l.split("&"),E=0;E<_.length;E++){var x=_[E].split("=");if(1<x.length){var N=x[0];x=x[1];var R=N.split("_");g=2<=R.length&&"type"==R[1]?g+(N+"=")+x+"&":g+(N+"=redacted&")}}else g=null;else g=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+g})}(t.j,t.u,t.A,t.m,t.X,t.s)}function n8(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Gd(t,e,n){for(var s,r=!0;!t.I&&t.C<n.length;){if((s=Cs(t,n))==n4){4==e&&(t.o=4,zi(14),r=!1),I1(t.j,t.m,null,"[Incomplete Response]");break}if(s==t4){t.o=4,zi(15),I1(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}I1(t.j,t.m,s,null),G0(t,s)}n8(t)&&s!=n4&&s!=t4&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,zi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),r6(e),e.L=!0,zi(11))):(I1(t.j,t.m,n,"[Invalid Chunked Response]"),x1(t),r4(t))}function Cs(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?n4:(n=Number(e.substring(n,r)),isNaN(n)?t4:(r+=1)+n>e.length?n4:(e=e.substr(r,n),t.C=r+n,e))}function ku(t){t.Y=Date.now()+t.P,$d(t,t.P)}function $d(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jl(gi(t.eb,t),e)}function ro(t){t.B&&(Xe.clearTimeout(t.B),t.B=null)}function r4(t){0==t.l.G||t.I||i6(t.l,t)}function x1(t){ro(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,M1(t.W),Q3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function G0(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||e6(n.i,t)))if(n.I=t.N,!t.J&&e6(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(Ie){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(n.u)n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jl(gi(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;lf(n),Vu(n)}h8(n),zi(18)}if(1>=sf(n.i)&&n.ka){try{n.ka()}catch(Ie){}n.ka=void 0}}else xc(n,11)}else if((t.J||n.g==t)&&lf(n),!xo(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){var l=s[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];var g=l[3];null!=g&&(n.ma=g,n.h.info("VER="+n.ma));var _=l[4];null!=_&&(n.za=_,n.h.info("SVER="+n.za));var E=l[5];null!=E&&"number"==typeof E&&0<E&&(n.K=r=1.5*E,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var x=t.g;if(x){var N=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var R=r.i;!R.g&&(Ri(N,"spdy")||Ri(N,"quic")||Ri(N,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(t6(R,R.h),R.h=null))}if(r.D){var H=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(r.sa=H,Gn(r.F,r.D,H))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var K=t;if((r=n).oa=b7(r,r.H?r.la:null,r.W),K.J){a8(r.i,K);var te=K,he=r.K;he&&te.setTimeout(he),te.B&&(ro(te),ku(te)),r.g=K}else f8(r);0<n.l.length&&f4(n)}else"stop"!=l[0]&&"close"!=l[0]||xc(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?xc(n,7):u4(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Cc(4)}catch(Ie){}}function W0(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(to(t)||"string"==typeof t)Fl(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(to(t)||"string"==typeof t){n=[];for(var r=t.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,t)n[r++]=s;s=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(to(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var l=0;l<s;l++)e.call(void 0,r[l],n&&n[l],t)}}function S1(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof S1)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function r8(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ec(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)Ec(s,r=t.g[e])||(t.g[n++]=r,s[r]=1),e++;t.g.length=n}}function Ec(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(He=wc.prototype).setTimeout=function(t){this.P=t},He.gb=function(t){t=t.target;var e=this.L;e&&3==Es(t)?e.l():this.Ia(t)},He.Ia=function(t){try{if(t==this.g)e:{var e=Es(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||q3||this.g&&(this.h.h||this.g.ga()||c4(this.g)))){this.I||4!=e||7==n||Cc(8==n||0>=r?3:2),ro(this);var s=this.g.ba();this.N=s;t:if(n8(this)){var l=c4(this.g);t="";var g=l.length,_=4==Es(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){x1(this),r4(this);var E="";break t}this.h.i=new Xe.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,t+=this.h.i.decode(l[n],{stream:_&&n==g-1});l.splice(0,g),this.h.g+=t,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==s,function(t,e,n,r,s,l,g){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+l+" "+g})}(this.j,this.u,this.A,this.m,this.X,e,s),this.i){if(this.$&&!this.J){t:{if(this.g){var x,N=this.g;if((x=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xo(x)){var R=x;break t}}R=null}if(!(s=R)){this.i=!1,this.o=3,zi(12),x1(this),r4(this);break e}I1(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,G0(this,s)}this.U?(Gd(this,e,E),q3&&this.i&&3==e&&(Yl(this.V,this.W,"tick",this.fb),this.W.start())):(I1(this.j,this.m,E,null),G0(this,E)),4==e&&x1(this),this.i&&!this.I&&(4==e?i6(this.l,this):(this.i=!1,ku(this)))}else 400==s&&0<E.indexOf("Unknown SID")?(this.o=3,zi(12)):(this.o=0,zi(13)),x1(this),r4(this)}}}catch(H){}},He.fb=function(){if(this.g){var t=Es(this.g),e=this.g.ga();this.C<e.length&&(ro(this),Gd(this,t,e),this.i&&4!=t&&ku(this))}},He.cancel=function(){this.I=!0,x1(this)},He.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cc(3),zi(17)),x1(this),this.o=2,r4(this)):$d(this,this.Y-t)},(He=S1.prototype).R=function(){r8(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},He.T=function(){return r8(this),this.g.concat()},He.get=function(t,e){return Ec(this.h,t)?this.h[t]:e},He.set=function(t,e){Ec(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},He.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],l=this.get(s);t.call(e,l,s,this)}};var Lu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ou(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ou){this.g=void 0!==e?e:t.g,D1(this,t.j),this.s=t.s,i4(this,t.i),Y0(this,t.m),this.l=t.l,e=t.h;var n=new X0;n.i=e.i,e.g&&(n.g=new S1(e.g),n.h=e.h),nf(this,n),this.o=t.o}else t&&(n=String(t).match(Lu))?(this.g=!!e,D1(this,n[1]||"",!0),this.s=T2(n[2]||""),i4(this,n[3]||"",!0),Y0(this,n[4]),this.l=T2(n[5]||"",!0),nf(this,n[6]||"",!0),this.o=T2(n[7]||"")):(this.g=!!e,this.h=new X0(null,this.g))}function Vi(t){return new Ou(t)}function D1(t,e,n){t.j=n?T2(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function i4(t,e,n){t.i=n?T2(e,!0):e}function Y0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nf(t,e,n){e instanceof X0?(t.h=e,function(t,e){e&&!t.j&&(Wo(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(rf(this,r),o4(this,s,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Ac(e,J0)),t.h=new X0(e,t.g))}function Gn(t,e,n){t.h.set(e,n)}function Q0(t){return Gn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function T2(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ac(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ou.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ac(e,i8,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ac(e,i8,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ac(n,"/"==n.charAt(0)?Ru:M2,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ac(n,Kd)),t.join("")};var i8=/[#\/\?@]/g,M2=/[#\?:]/g,Ru=/[#\?]/g,J0=/[#\?@]/g,Kd=/#/g;function X0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wo(t){t.g||(t.g=new S1,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var l=t[n].substring(0,r);s=t[n].substring(r+1)}else l=t[n];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rf(t,e){Wo(t),e=Pu(t,e),Ec(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ec((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&r8(t)))}function pr(t,e){return Wo(t),e=Pu(t,e),Ec(t.g.h,e)}function o4(t,e,n){rf(t,e),0<n.length&&(t.i=null,t.g.set(Pu(t,e),V3(n)),t.h+=n.length)}function Pu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(He=X0.prototype).add=function(t,e){Wo(this),this.i=null,t=Pu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},He.forEach=function(t,e){Wo(this),this.g.forEach(function(n,r){Fl(n,function(s){t.call(e,s,r,this)},this)},this)},He.T=function(){Wo(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var s=t[r],l=0;l<s.length;l++)n.push(e[r]);return n},He.R=function(t){Wo(this);var e=[];if("string"==typeof t)pr(this,t)&&(e=Au(e,this.g.get(Pu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Au(e,t[n])}return e},He.set=function(t,e){return Wo(this),this.i=null,pr(this,t=Pu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},He.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],s=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var g=s;""!==r[l]&&(g+="="+encodeURIComponent(String(r[l]))),t.push(g)}}return this.i=t.join("&")};var Yd=function(e,n){this.h=e,this.g=n};function Qd(t){this.l=t||of,t=Xe.PerformanceNavigationTiming?0<(t=Xe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xe.g&&Xe.g.Ea&&Xe.g.Ea()&&Xe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var of=10;function s8(t){return!!t.h||!!t.g&&t.g.size>=t.j}function sf(t){return t.h?1:t.g?t.g.size:0}function e6(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function t6(t,e){t.g?t.g.add(e):t.h=e}function a8(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function I2(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var s=We(t.g.values()),l=s.next();!l.done;l=s.next())r=r.concat(l.value.D)}catch(_){e={error:_}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return V3(t.i)}function ws(){}function v7(){this.g=new ws}function Jd(t,e,n){var r=n||"";try{W0(t,function(s,l){var g=s;ra(s)&&(g=Gl(s)),e.push(r+l+"="+encodeURIComponent(g))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function n6(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(l){}}function N1(t){this.l=t.$b||null,this.j=t.ib||!1}function Ko(t,e){Ur.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=af,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qd.prototype.cancel=function(){var t,e;if(this.i=I2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=We(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},ws.prototype.stringify=function(t){return Xe.JSON.stringify(t,void 0)},ws.prototype.parse=function(t){return Xe.JSON.parse(t,void 0)},vi(N1,e8),N1.prototype.g=function(){return new Ko(this.l,this.j)},N1.prototype.i=function(t){return function(){return t}}({}),vi(Ko,Ur);var af=0;function Xd(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function s4(t){t.readyState=4,t.l=null,t.j=null,t.A=null,a4(t)}function a4(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(He=Ko.prototype).open=function(t,e){if(this.readyState!=af)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,a4(this)},He.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Xe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s4(this)),this.readyState=af},He.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,a4(this)),this.g&&(this.readyState=3,a4(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Xe.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xd(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?s4(this):a4(this),3==this.readyState&&Xd(this)}},He.Ua=function(t){this.g&&(this.response=this.responseText=t,s4(this))},He.Ta=function(t){this.g&&(this.response=t,s4(this))},He.ha=function(){this.g&&s4(this)},He.setRequestHeader=function(t,e){this.v.append(t,e)},He.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mr=Xe.JSON.parse;function gr(t){Ur.call(this),this.headers=new S1,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y7,this.K=this.L=!1}vi(gr,Ur);var y7="",k1=/^https?$/i,c8=["POST","PUT"];function ag(t){return"content-type"==t.toLowerCase()}function e5(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,t5(t),Nn(t)}function t5(t){t.D||(t.D=!0,yi(t,"complete"),yi(t,"error"))}function x2(t){if(t.h&&void 0!==At&&(!t.C[1]||4!=Es(t)||2!=t.ba()))if(t.v&&4==Es(t))Kl(t.Fa,0,t);else if(yi(t,"readystatechange"),4==Es(t)){t.h=!1;try{var r,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(r=n)){var s;if(s=0===e){var l=String(t.H).match(Lu)[1]||null;if(!l&&Xe.self&&Xe.self.location){var g=Xe.self.location.protocol;l=g.substr(0,g.length-1)}s=!k1.test(l?l.toLowerCase():"")}r=s}if(r)yi(t,"complete"),yi(t,"success");else{t.m=6;try{var _=2<Es(t)?t.g.statusText:""}catch(E){_=""}t.j=_+" ["+t.ba()+"]",t5(t)}}finally{Nn(t)}}}function Nn(t,e){if(t.g){Yt(t);var n=t.g,r=t.C[0]?Zn:null;t.g=null,t.C=null,e||yi(t,"ready");try{n.onreadystatechange=r}catch(s){}}}function Yt(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}function Es(t){return t.g?t.g.readyState:0}function c4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case y7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $n(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){var e="";return H3(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gn(t,e,n))}function za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Mc(t){this.za=0,this.l=[],this.h=new w2,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=za("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=za("baseRetryDelayMs",5e3,t),this.$a=za("retryDelaySeedMs",1e4,t),this.Ya=za("forwardChannelMaxRetries",2,t),this.ra=za("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Qd(t&&t.concurrentRequestLimit),this.Ca=new v7,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function u4(t){if(cf(t),3==t.G){var e=t.V++,n=Vi(t.F);Gn(n,"SID",t.J),Gn(n,"RID",e),Gn(n,"TYPE","terminate"),Ic(t,n),(e=new wc(t,t.h,e,void 0)).K=2,e.v=Q0(Vi(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon&&(n=Xe.navigator.sendBeacon(e.v.toString(),"")),!n&&Xe.Image&&((new Image).src=e.v,n=!0),n||(e.g=Yo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ku(e)}ff(t)}function Vu(t){t.g&&(r6(t),t.g.cancel(),t.g=null)}function cf(t){Vu(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),lf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xe.clearTimeout(t.m),t.m=null)}function l4(t,e){t.l.push(new Yd(t.Za++,e)),3==t.G&&f4(t)}function f4(t){s8(t.i)||t.m||(t.m=!0,Qh(t.Ha,t),t.C=0)}function uf(t,e){var n;n=e?e.m:t.V++;var r=Vi(t.F);Gn(r,"SID",t.J),Gn(r,"RID",n),Gn(r,"AID",t.U),Ic(t,r),t.o&&t.s&&$n(r,t.o,t.s),n=new wc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=l8(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),t6(t.i,n),ef(n,r,e)}function Ic(t,e){t.j&&W0({},function(n,r){Gn(e,r,n)})}function l8(t,e,n){n=Math.min(t.l.length,n);var r=t.j?gi(t.j.Oa,t.j,t):null;e:for(var s=t.l,l=-1;;){var g=["count="+n];-1==l?0<n?g.push("ofs="+(l=s[0].h)):l=0:g.push("ofs="+l);for(var _=!0,E=0;E<n;E++){var x=s[E].h,N=s[E].g;if(0>(x-=l))l=Math.max(0,s[E].h-100),_=!1;else try{Jd(N,g,"req"+x+"_")}catch(R){r&&r(N)}}if(_){r=g.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function f8(t){t.g||t.u||(t.Y=1,Qh(t.Ga,t),t.A=0)}function h8(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Jl(gi(t.Ga,t),p8(t,t.A)),t.A++,0))}function r6(t){null!=t.B&&(Xe.clearTimeout(t.B),t.B=null)}function d8(t){t.g=new wc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Vi(t.oa);Gn(e,"RID","rpc"),Gn(e,"SID",t.J),Gn(e,"CI",t.N?"0":"1"),Gn(e,"AID",t.U),Ic(t,e),Gn(e,"TYPE","xmlhttp"),t.o&&t.s&&$n(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Q0(Vi(e)),n.s=null,n.U=!0,tf(n,t)}function lf(t){null!=t.v&&(Xe.clearTimeout(t.v),t.v=null)}function i6(t,e){var n=null;if(t.g==e){lf(t),r6(t),t.g=null;var r=2}else{if(!e6(t.i,e))return;n=e.D,a8(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;yi(r=Ql(),new So(r,n,e,s)),f4(t)}else f8(t);else if(3==(s=e.o)||0==s&&0<t.I||!(1==r&&function(t,e){return!(sf(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Jl(gi(t.Ha,t,e),p8(t,t.C)),t.C++,0)))}(t,e)||2==r&&h8(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:xc(t,5);break;case 4:xc(t,10);break;case 3:xc(t,6);break;default:xc(t,2)}}function p8(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function xc(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=gi(t.jb,t);n||(n=new Ou("//www.google.com/images/cleardot.gif"),Xe.location&&"http"==Xe.location.protocol||D1(n,"https"),Q0(n)),function(t,e){var n=new w2;if(Xe.Image){var r=new Image;r.onload=Vl(n6,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vl(n6,n,r,"TestLoadImage: error",!1,e),r.onabort=Vl(n6,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vl(n6,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zi(2);t.G=0,t.j&&t.j.va(e),ff(t),cf(t)}function ff(t){t.G=0,t.I=-1,t.j&&((0!=I2(t.i).length||0!=t.l.length)&&(t.i.i.length=0,V3(t.l),t.l.length=0),t.j.ua())}function b7(t,e,n){var r=function(t){return t instanceof Ou?Vi(t):new Ou(t,void 0)}(n);if(""!=r.i)e&&i4(r,e+"."+r.i),Y0(r,r.m);else{var s=Xe.location;r=function(t,e,n,r){var s=new Ou(null,void 0);return t&&D1(s,t),e&&i4(s,e),n&&Y0(s,n),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.aa&&H3(t.aa,function(l,g){Gn(r,g,l)}),n=t.sa,(e=t.D)&&n&&Gn(r,e,n),Gn(r,"VER",t.ma),Ic(t,r),r}function Yo(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(n&&t.Ba&&!t.qa?new N1({ib:!0}):t.qa)).L=t.H,e}function hf(){}function o6(){if(y2&&!(10<=Number(Bl)))throw Error("Environmental error: no available transport.")}function As(t,e){Ur.call(this),this.g=new Mc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!xo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xo(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new S2(this)}function df(t){e4.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vt(){E2.call(this),this.status=1}function S2(t){this.g=t}(He=gr.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():q0.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:q0),this.g.onreadystatechange=gi(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(l){return void e5(this,l)}t=n||"";var s=new S1(this.headers);r&&W0(r,function(l,g){s.set(g,l)}),r=function(t){e:{for(var e=ag,n=t.length,r="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.T()),n=Xe.FormData&&t instanceof Xe.FormData,!(0<=z0(c8,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(l,g){this.g.setRequestHeader(g,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yt(this),0<this.B&&((this.K=function(t){return y2&&og()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.pa,this)):this.A=Kl(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){e5(this,l)}},He.pa=function(){void 0!==At&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},He.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yi(this,"complete"),yi(this,"abort"),Nn(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),gr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?x2(this):this.cb())},He.cb=function(){x2(this)},He.ba=function(){try{return 2<Es(this)?this.g.status:-1}catch(t){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},He.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mr(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Mc.prototype).ma=8,He.G=1,He.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},He.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new wc(this,this.h,t,void 0),n=this.s;if(this.P&&(n?qh(n=U3(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)e:{for(var r=0,s=0;s<this.l.length;s++){var l=this.l[s];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(r+=l)){r=s;break e}if(4096===r||s===this.l.length-1){r=s+1;break e}}r=1e3}else r=1e3;r=l8(this,e,r),Gn(s=Vi(this.F),"RID",t),Gn(s,"CVER",22),this.D&&Gn(s,"X-HTTP-Session-Id",this.D),Ic(this,s),this.o&&n&&$n(s,this.o,n),t6(this.i,e),this.Ra&&Gn(s,"TYPE","init"),this.ja?(Gn(s,"$req",r),Gn(s,"SID","null"),e.$=!0,ef(e,s,null)):ef(e,s,r),this.G=2}}else 3==this.G&&(t?uf(this,t):0==this.l.length||s8(this.i)||uf(this))},He.Ga=function(){if(this.u=null,d8(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Jl(gi(this.bb,this),t)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zi(10),Vu(this),d8(this))},He.ab=function(){null!=this.v&&(this.v=null,Vu(this),h8(this),zi(19))},He.jb=function(t){t?(this.h.info("Successfully pinged google.com"),zi(2)):(this.h.info("Failed to ping google.com"),zi(1))},(He=hf.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},o6.prototype.g=function(t,e){return new As(t,e)},vi(As,Ur),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Qh(gi(t.hb,t,e))),zi(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=b7(t,null,t.W),f4(t)},As.prototype.close=function(){u4(this.g)},As.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,l4(this.g,e)}else this.v?((e={}).__data__=Gl(t),l4(this.g,e)):l4(this.g,t)},As.prototype.M=function(){this.g.j=null,delete this.j,u4(this.g),delete this.g,As.Z.M.call(this)},vi(df,e4),vi(vt,E2),vi(S2,hf),S2.prototype.xa=function(){yi(this.g,"a")},S2.prototype.wa=function(t){yi(this.g,new df(t))},S2.prototype.va=function(t){yi(this.g,new vt(t))},S2.prototype.ua=function(){yi(this.g,"b")},o6.prototype.createWebChannel=o6.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,Xl.NO_ERROR=0,Xl.TIMEOUT=8,Xl.HTTP_ERROR=6,Zd.COMPLETE="complete",m7.EventType=Nu,Nu.OPEN="a",Nu.CLOSE="b",Nu.ERROR="c",Nu.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var Qo=Xl,pf=Zd,n5=Du,s6_PROXY=10,s6_NOPROXY=11,D2=N1,d4=m7,Fu=gr,io=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(s){return r.t(s)},this.i=function(s){return n.writeSequenceNumber(s)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();io.o=-1;var Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pe=function(t){function e(n,r){var s=this;return(s=t.call(this,r)||this).code=n,s.message=r,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,L.__extends)(e,t),e}(Error),Ts=new ne.Logger("@firebase/firestore");function In(){return Ts.logLevel}function tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.DEBUG){var r=e.map(h);Ts.debug.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Br(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.ERROR){var r=e.map(h);Ts.error.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ts.logLevel<=ne.LogLevel.WARN){var r=e.map(h);Ts.warn.apply(Ts,(0,L.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function h(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Br(e),new Error(e)}function T(t,e){t||b()}function S(t,e){return t}function z(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var U=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var s=z(40),l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+=e.charAt(s[l]%e.length));return r},t}();function Y(t,e){return t<e?-1:t>e?1:0}function ke(t,e,n){return t.length===e.length&&t.every(function(r,s){return n(r,e[s])})}function qe(t){return t+"\0"}var bt=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ht=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new bt(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function hn(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fn(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Do(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var N2=function(){function t(e,n,r){void 0===n?n=0:n>e.length&&b(),void 0===r?r=e.length-n:r>e.length-n&&b(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),s=0;s<r;s++){var l=e.get(s),g=n.get(s);if(l<g)return-1;if(l>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.construct=function(n,r,s){return new e(n,r,s)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var s=[],l=0,g=n;l<g.length;l++){var _=g[l];if(_.indexOf("//")>=0)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid segment ("+_+"). Paths must not contain // in them.");s.push.apply(s,_.split("/").filter(function(E){return E.length>0}))}return new e(s)},e.emptyPath=function(){return new e([])},e}(N2),mf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,L1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.construct=function(n,r,s){return new e(n,r,s)},e.isValidIdentifier=function(n){return mf.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],s="",l=0,g=function(){if(0===s.length)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(s),s=""},_=!1;l<n.length;){var E=n[l];if("\\"===E){if(l+1===n.length)throw new Pe(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var x=n[l+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Pe(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=x,l+=2}else"`"===E?(_=!_,l++):"."!==E||_?(s+=E,l++):(g(),l++)}if(g(),_)throw new Pe(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(N2),a6=function(){function t(e){this.fields=e,e.sort(L1.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return ke(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Jo=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",s=0;s<n.length;++s)r+=String.fromCharCode(n[s]);return r}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Y(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Jo.EMPTY_BYTE_STRING=new Jo("");var cg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(t){if(T(!!t),"string"==typeof t){var e=0,n=cg.exec(t);if(T(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:oi(t.seconds),nanos:oi(t.nanos)}}function oi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function c6(t){return"string"==typeof t?Jo.fromBase64String(t):Jo.fromUint8Array(t)}function i5(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function w7(t){var e=t.mapValue.fields.__previous_value__;return i5(e)?w7(e):e}function m8(t){var e=Hu(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}function p4(t){return null==t}function o5(t){return 0===t&&1/t==-1/0}function E7(t){return"number"==typeof t&&Number.isInteger(t)&&!o5(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var St=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(gn.fromString(e))},t.fromName=function(e){return new t(gn.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===gn.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return gn.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new gn(e.slice()))},t}();function u6(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i5(t)?4:10:b()}function Uu(t,e){var s,n=u6(t);if(n!==u6(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return m8(t).isEqual(m8(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;var l=Hu(r.timestampValue),g=Hu(s.timestampValue);return l.seconds===g.seconds&&l.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,c6(t.bytesValue).isEqual(c6(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return oi(r.geoPointValue.latitude)===oi(s.geoPointValue.latitude)&&oi(r.geoPointValue.longitude)===oi(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return oi(r.integerValue)===oi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){var l=oi(r.doubleValue),g=oi(s.doubleValue);return l===g?o5(l)===o5(g):isNaN(l)&&isNaN(g)}return!1}(t,e);case 9:return ke(t.arrayValue.values||[],e.arrayValue.values||[],Uu);case 10:return function(r,s){var l=r.mapValue.fields||{},g=s.mapValue.fields||{};if(hn(l)!==hn(g))return!1;for(var _ in l)if(l.hasOwnProperty(_)&&(void 0===g[_]||!Uu(l[_],g[_])))return!1;return!0}(t,e);default:return b()}}function g8(t,e){return void 0!==(t.values||[]).find(function(n){return Uu(n,e)})}function l6(t,e){var s,l,g,_,n=u6(t),r=u6(e);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return l=e,(g=oi((s=t).integerValue||s.doubleValue))<(_=oi(l.integerValue||l.doubleValue))?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1;case 3:return ug(t.timestampValue,e.timestampValue);case 4:return ug(m8(t),m8(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(s,l){var g=c6(s),_=c6(l);return g.compareTo(_)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){for(var g=s.split("/"),_=l.split("/"),E=0;E<g.length&&E<_.length;E++){var x=Y(g[E],_[E]);if(0!==x)return x}return Y(g.length,_.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){var g=Y(oi(s.latitude),oi(l.latitude));return 0!==g?g:Y(oi(s.longitude),oi(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,l){for(var g=s.values||[],_=l.values||[],E=0;E<g.length&&E<_.length;++E){var x=l6(g[E],_[E]);if(x)return x}return Y(g.length,_.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,l){var g=s.fields||{},_=Object.keys(g),E=l.fields||{},x=Object.keys(E);_.sort(),x.sort();for(var N=0;N<_.length&&N<x.length;++N){var R=Y(_[N],x[N]);if(0!==R)return R;var H=l6(g[_[N]],E[x[N]]);if(0!==H)return H}return Y(_.length,x.length)}(t.mapValue,e.mapValue);default:throw b()}}function ug(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=Hu(t),r=Hu(e),s=Y(n.seconds,r.seconds);return 0!==s?s:Y(n.nanos,r.nanos)}function s5(t){return A7(t)}function A7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(s=Hu(t.timestampValue)).seconds+","+s.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?c6(t.bytesValue).toBase64():"referenceValue"in t?St.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var s="[",l=!0,g=0,_=r.values||[];g<_.length;g++)l?l=!1:s+=",",s+=A7(_[g]);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var s="{",l=!0,g=0,_=Object.keys(r.fields||{}).sort();g<_.length;g++){var E=_[g];l?l=!1:s+=",",s+=E+":"+A7(r.fields[E])}return s+"}"}(t.mapValue):b();var s,e}function a5(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function lg(t){return!!t&&"integerValue"in t}function T7(t){return!!t&&"arrayValue"in t}function M7(t){return!!t&&"nullValue"in t}function W_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function I7(t){return!!t&&"mapValue"in t}function c5(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Fn(t.mapValue.fields,function(s,l){return e.mapValue.fields[s]=c5(l)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=c5(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Va=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!I7(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=c5(n)},t.prototype.setAll=function(e){var n=this,r=L1.emptyPath(),s={},l=[];e.forEach(function(_,E){if(!r.isImmediateParentOf(E)){var x=n.getFieldsMap(r);n.applyChanges(x,s,l),s={},l=[],r=E.popLast()}_?s[E.lastSegment()]=c5(_):l.push(E.lastSegment())});var g=this.getFieldsMap(r);this.applyChanges(g,s,l)},t.prototype.delete=function(e){var n=this.field(e.popLast());I7(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Uu(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var s=n.mapValue.fields[e.get(r)];I7(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){Fn(n,function(_,E){return e[_]=E});for(var s=0,l=r;s<l.length;s++)delete e[l[s]]},t.prototype.clone=function(){return new t(c5(this.value))},t}();function K_(t){var e=[];return Fn(t.fields,function(n,r){var s=new L1([n]);if(I7(r)){var l=K_(r.mapValue).fields;if(0===l.length)e.push(s);else for(var g=0,_=l;g<_.length;g++)e.push(s.child(_[g]))}else e.push(s)}),new a6(e)}var No=function(){function t(e,n,r,s,l){this.key=e,this.documentType=n,this.version=r,this.data=s,this.documentState=l}return t.newInvalidDocument=function(e){return new t(e,0,ht.min(),Va.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Va.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Va.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Va.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Va.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Y_=function(t,e,n,r,s,l,g){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===l&&(l=null),void 0===g&&(g=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=l,this.endAt=g,this.h=null};function u5(t,e,n,r,s,l,g){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===l&&(l=null),void 0===g&&(g=null),new Y_(t,e,n,r,s,l,g)}function f6(t){var e=S(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return(s=r).field.canonicalString()+s.op.toString()+s5(s.value);var s}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return(s=r).field.canonicalString()+s.dir;var s}).join(","),p4(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=y8(e.startAt)),e.endAt&&(n+="|ub:",n+=y8(e.endAt)),e.h=n}return e.h}function l5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!tb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((s=t.filters[r]).op!==(l=e.filters[r]).op||!s.field.isEqual(l.field)||!Uu(s.value,l.value))return!1;var s,l;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dg(t.startAt,e.startAt)&&dg(t.endAt,e.endAt)}function x7(t){return St.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var O1=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).field=n,l.op=r,l.value=s,l}return(0,L.__extends)(e,t),e.create=function(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.l(n,r,s):new eA(n,r,s):"array-contains"===r?new X_(n,s):"in"===r?new gf(n,s):"not-in"===r?new eb(n,s):"array-contains-any"===r?new hg(n,s):new e(n,r,s)},e.l=function(n,r,s){return"in"===r?new Q_(n,s):new fg(n,s)},e.prototype.matches=function(n){var r=n.data.field(this.field);return"!="===this.op?null!==r&&this.m(l6(r,this.value)):null!==r&&u6(this.value)===u6(r)&&this.m(l6(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return b()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),eA=function(t){function e(n,r,s){var l=this;return(l=t.call(this,n,r,s)||this).key=St.fromName(s.referenceValue),l}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=St.comparator(n.key,this.key);return this.m(r)},e}(O1),Q_=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"in",r)||this).keys=J_(0,r),s}return(0,L.__extends)(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(O1),fg=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"not-in",r)||this).keys=J_(0,r),s}return(0,L.__extends)(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(O1);function J_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(r){return St.fromName(r.referenceValue)})}var X_=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return T7(r)&&g8(r.arrayValue,this.value)},e}(O1),gf=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return null!==r&&g8(this.value.arrayValue,r)},e}(O1),eb=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){if(g8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return null!==r&&!g8(this.value.arrayValue,r)},e}(O1),hg=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return(0,L.__extends)(e,t),e.prototype.matches=function(n){var r=this,s=n.data.field(this.field);return!(!T7(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(l){return g8(r.value.arrayValue,l)})},e}(O1),v8=function(t,e){this.position=t,this.before=e};function y8(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return s5(e)}).join(",")}var Bu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function tb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function S7(t,e,n){for(var r=0,s=0;s<t.position.length;s++){var l=e[s],g=t.position[s];if(r=l.field.isKeyField()?St.comparator(St.fromName(g.referenceValue),n.key):l6(g,n.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function dg(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Uu(t.position[n],e.position[n]))return!1;return!0}var ju=function(t,e,n,r,s,l,g,_){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===s&&(s=null),void 0===l&&(l="F"),void 0===g&&(g=null),void 0===_&&(_=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=l,this.startAt=g,this.endAt=_,this.p=null,this.T=null};function pg(t,e,n,r,s,l,g,_){return new ju(t,e,n,r,s,l,g,_)}function vf(t){return new ju(t)}function f5(t){return!p4(t.limit)&&"F"===t.limitType}function _8(t){return!p4(t.limit)&&"L"===t.limitType}function D7(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function h5(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function d5(t){return null!==t.collectionGroup}function m4(t){var e=S(t);if(null===e.p){e.p=[];var n=h5(e),r=D7(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Bu(n)),e.p.push(new Bu(L1.keyField(),"asc"));else{for(var s=!1,l=0,g=e.explicitOrderBy;l<g.length;l++){var _=g[l];e.p.push(_),_.field.isKeyField()&&(s=!0)}if(!s){var E=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Bu(L1.keyField(),E))}}}return e.p}function k2(t){var e=S(t);if(!e.T)if("F"===e.limitType)e.T=u5(e.path,e.collectionGroup,m4(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,s=m4(e);r<s.length;r++){var l=s[r];n.push(new Bu(l.field,"desc"===l.dir?"asc":"desc"))}var _=e.endAt?new v8(e.endAt.position,!e.endAt.before):null,E=e.startAt?new v8(e.startAt.position,!e.startAt.before):null;e.T=u5(e.path,e.collectionGroup,n,e.filters,e.limit,_,E)}return e.T}function p5(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b8(t,e){return l5(k2(t),k2(e))&&t.limitType===e.limitType}function nb(t){return f6(k2(t))+"|lt:"+t.limitType}function h6(t){return"Query(target="+function(e){var n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(s=r).field.canonicalString()+" "+s.op+" "+s5(s.value);var s}).join(", ")+"]"),p4(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return(s=r).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+y8(e.startAt)),e.endAt&&(n+=", endAt: "+y8(e.endAt)),"Target("+n+")"}(k2(t))+"; limitType="+t.limitType+")"}function C8(t,e){return e.isFoundDocument()&&(s=(r=e).key.path,null!==(n=t).collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):St.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s))&&function(n,r){for(var s=0,l=n.explicitOrderBy;s<l.length;s++){var g=l[s];if(!g.field.isKeyField()&&null===r.data.field(g.field))return!1}return!0}(t,e)&&function(n,r){for(var s=0,l=n.filters;s<l.length;s++)if(!l[s].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!S7(n.startAt,m4(n),r)||n.endAt&&S7(n.endAt,m4(n),r))}(t,e);var n,r,s}function m5(t){return function(e,n){for(var r=!1,s=0,l=m4(t);s<l.length;s++){var g=l[s],_=N7(g,e,n);if(0!==_)return _;r=r||g.field.isKeyField()}return 0}}function N7(t,e,n){var s,g,_,E,r=t.field.isKeyField()?St.comparator(e.key,n.key):(g=n,_=e.data.field(s=t.field),E=g.data.field(s),null!==_&&null!==E?l6(_,E):b());switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function mg(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o5(e)?"-0":e}}function g5(t){return{integerValue:""+t}}function v5(t,e){return E7(e)?g5(e):mg(t,e)}var w8=function(){this._=void 0};function tA(t,e,n){return t instanceof d6?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},(s=e)&&(l.fields.__previous_value__=s),{mapValue:l}):t instanceof p6?L7(t,e):t instanceof qu?O7(t,e):function(r,s){var l=k7(r,s),g=y5(l)+y5(r.A);return lg(l)&&lg(r.A)?g5(g):mg(r.R,g)}(t,e);var r,s,l}function rb(t,e,n){return t instanceof p6?L7(t,e):t instanceof qu?O7(t,e):n}function k7(t,e){return t instanceof g4?lg(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}var d6=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e}(w8),p6=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return(0,L.__extends)(e,t),e}(w8);function L7(t,e){for(var n=R7(e),r=function(g){n.some(function(_){return Uu(_,g)})||n.push(g)},s=0,l=t.elements;s<l.length;s++)r(l[s]);return{arrayValue:{values:n}}}var qu=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return(0,L.__extends)(e,t),e}(w8);function O7(t,e){for(var n=R7(e),r=function(g){n=n.filter(function(_){return!Uu(_,g)})},s=0,l=t.elements;s<l.length;s++)r(l[s]);return{arrayValue:{values:n}}}var g4=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).R=n,s.A=r,s}return(0,L.__extends)(e,t),e}(w8);function y5(t){return oi(t.integerValue||t.doubleValue)}function R7(t){return T7(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var E8=function(t,e){this.field=t,this.transform=e},gg=function(t,e){this.version=t,this.transformResults=e},ko=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function yf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var A8=function(){};function ib(t,e,n){var r,s,l,g,_;t instanceof _f?(s=e,l=n,g=(r=t).value.clone(),_=V7(r.fieldTransforms,s,l.transformResults),g.setAll(_),s.convertToFoundDocument(l.version,g).setHasCommittedMutations()):t instanceof Zu?function(r,s,l){if(yf(r.precondition,s)){var g=V7(r.fieldTransforms,s,l.transformResults),_=s.data;_.setAll(z7(r)),_.setAll(g),s.convertToFoundDocument(l.version,_).setHasCommittedMutations()}else s.convertToUnknownDocument(l.version)}(t,e,n):function(r,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function _5(t,e,n){var s;t instanceof _f?function(r,s,l){if(yf(r.precondition,s)){var g=r.value.clone(),_=F7(r.fieldTransforms,l,s);g.setAll(_),s.convertToFoundDocument(b5(s),g).setHasLocalMutations()}}(t,e,n):t instanceof Zu?function(r,s,l){if(yf(r.precondition,s)){var g=F7(r.fieldTransforms,l,s),_=s.data;_.setAll(z7(r)),_.setAll(g),s.convertToFoundDocument(b5(s),_).setHasLocalMutations()}}(t,e,n):yf(t.precondition,s=e)&&s.convertToNoDocument(ht.min())}function vg(t,e){for(var n=null,r=0,s=t.fieldTransforms;r<s.length;r++){var l=s[r],g=e.data.field(l.field),_=k7(l.transform,g||null);null!=_&&(null==n&&(n=Va.empty()),n.set(l.field,_))}return n||null}function P7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ke(n,r,function(s,l){return(g=s).field.isEqual((_=l).field)&&(x=_.transform,(E=g.transform)instanceof p6&&x instanceof p6||E instanceof qu&&x instanceof qu?ke(E.elements,x.elements,Uu):E instanceof g4&&x instanceof g4?Uu(E.A,x.A):E instanceof d6&&x instanceof d6);var g,_,E,x})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function b5(t){return t.isFoundDocument()?t.version:ht.min()}var _f=function(t){function e(n,r,s,l){void 0===l&&(l=[]);var g=this;return(g=t.call(this)||this).key=n,g.value=r,g.precondition=s,g.fieldTransforms=l,g.type=0,g}return(0,L.__extends)(e,t),e}(A8),Zu=function(t){function e(n,r,s,l,g){void 0===g&&(g=[]);var _=this;return(_=t.call(this)||this).key=n,_.data=r,_.fieldMask=s,_.precondition=l,_.fieldTransforms=g,_.type=1,_}return(0,L.__extends)(e,t),e}(A8);function z7(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function V7(t,e,n){var r=new Map;T(t.length===n.length);for(var s=0;s<n.length;s++){var l=t[s],g=l.transform,_=e.data.field(l.field);r.set(l.field,rb(g,_,n[s]))}return r}function F7(t,e,n){for(var r=new Map,s=0,l=t;s<l.length;s++){var g=l[s],_=g.transform,E=n.data.field(g.field);r.set(g.field,tA(_,E,e))}return r}var si,xn,bf=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.precondition=r,s.type=2,s.fieldTransforms=[],s}return(0,L.__extends)(e,t),e}(A8),yg=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.precondition=r,s.type=3,s.fieldTransforms=[],s}return(0,L.__extends)(e,t),e}(A8),ob=function(t){this.count=t};function _g(t){switch(t){case Ce.OK:return b();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return b()}}function H7(t){if(void 0===t)return Br("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case si.OK:return Ce.OK;case si.CANCELLED:return Ce.CANCELLED;case si.UNKNOWN:return Ce.UNKNOWN;case si.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case si.INTERNAL:return Ce.INTERNAL;case si.UNAVAILABLE:return Ce.UNAVAILABLE;case si.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case si.NOT_FOUND:return Ce.NOT_FOUND;case si.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case si.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case si.ABORTED:return Ce.ABORTED;case si.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case si.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case si.DATA_LOSS:return Ce.DATA_LOSS;default:return b()}}(xn=si||(si={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";var Xo=function(){function t(e,n){this.comparator=e,this.root=n||Gu.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gu.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gu.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var s=this.comparator(e,r.key);if(0===s)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new jr(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new jr(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new jr(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new jr(this.root,e,this.comparator,!0)},t}(),jr=function(){function t(e,n,r,s){this.isReverse=s,this.nodeStack=[];for(var l=1;!e.isEmpty();)if(l=n?r(e.key,n):1,s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Gu=function(){function t(e,n,r,s,l){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=s?s:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,s,l){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var s=this,l=r(e,s.key);return(s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):0===l?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===n(e,s.key)){if(s.right.isEmpty())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw b();var e=this.left.check();if(e!==this.right.check())throw b();return e+(this.isRed()?0:1)},t}();Gu.EMPTY=null,Gu.RED=!0,Gu.BLACK=!1,Gu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,s,l){return this},t.prototype.insert=function(e,n,r){return new Gu(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Fi=function(){function t(e){this.comparator=e,this.data=new Xo(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new bg(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new bg(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var s=n.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),bg=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Cg=new Xo(St.comparator);function R1(){return Cg}var wg=new Xo(St.comparator);function C5(){return wg}var Cf=new Xo(St.comparator);function Eg(){return Cf}var sb=new Fi(St.comparator);function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sb,r=0,s=t;r<s.length;r++){var l=s[r];n=n.add(l)}return n}var ab=new Fi(Y);function T8(){return ab}var Ag=function(){function t(e,n,r,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,w5.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ht.min(),r,T8(),R1(),Wn())},t}(),w5=function(){function t(e,n,r,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Jo.EMPTY_BYTE_STRING,n,Wn(),Wn(),Wn())},t}(),wf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},L2=function(t,e){this.targetId=t,this.V=e},Tg=function(t,e,n,r){void 0===n&&(n=Jo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Mg=function(){function t(){this.S=0,this.D=z1(),this.C=Jo.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=Wn(),n=Wn(),r=Wn();return this.D.forEach(function(s,l){switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:b()}}),new w5(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=z1()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Sc=function(){function t(e){this.W=e,this.G=new Map,this.H=R1(),this.J=P1(),this.Y=new Fi(Y)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var s=r[n];e.P&&e.P.isFoundDocument()?this.Z(s,e.P):this.tt(s,e.key,e.P)}for(var l=0,g=e.removedTargetIds;l<g.length;l++)this.tt(s=g[l],e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var s=n.nt(r);switch(e.state){case 0:n.st(r)&&s.O(e.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(e.resumeToken);break;case 2:s.K(),s.F||n.removeTarget(r);break;case 3:n.st(r)&&(s.j(),s.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),s.O(e.resumeToken));break;default:b()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(s,l){r.st(l)&&n(l)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,s=this.ot(n);if(s){var l=s.target;if(x7(l))if(0===r){var g=new St(l.path);this.tt(n,g,No.newNoDocument(g,ht.min()))}else T(1===r);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(g,_){var E=n.ot(_);if(E){if(g.current&&x7(E.target)){var x=new St(E.target.path);null!==n.H.get(x)||n.at(_,x)||n.tt(_,x,No.newNoDocument(x,e))}g.$&&(r.set(_,g.M()),g.L())}});var s=Wn();this.J.forEach(function(g,_){var E=!0;_.forEachWhile(function(x){var N=n.ot(x);return!N||2===N.purpose||(E=!1,!1)}),E&&(s=s.add(g))});var l=new Ag(e,r,this.Y,this.H,s);return this.H=R1(),this.J=P1(),this.Y=new Fi(Y),l},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var s=this.nt(e);this.at(e,n)?s.B(n,1):s.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new Mg,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Fi(Y),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=null!==this.ot(e);return n||tt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new Mg),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function P1(){return new Xo(St.comparator)}function z1(){return new Xo(St.comparator)}var Ig={asc:"ASCENDING",desc:"DESCENDING"},xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cb=function(t,e){this.databaseId=t,this.I=e};function M8(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sg(t,e){return t.I?e.toBase64():e.toUint8Array()}function ub(t,e){return M8(t,e.toTimestamp())}function _i(t){return T(!!t),ht.fromTimestamp(function(e){var n=Hu(e);return new bt(n.seconds,n.nanos)}(t))}function m6(t,e){return(n=t,new gn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Dg(t){var e=gn.fromString(t);return T(Og(e)),e}function Ef(t,e){return m6(t.databaseId,e.path)}function Dc(t,e){var n=Dg(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new St(Ng(n))}function E5(t,e){return m6(t.databaseId,e)}function U7(t){var e=Dg(t);return 4===e.length?gn.emptyPath():Ng(e)}function v4(t){return new gn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ng(t){return T(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function B7(t,e,n){return{name:Ef(t,e),fields:n.value.mapValue.fields}}function j7(t,e,n){var r=Dc(t,e.name),s=_i(e.updateTime),l=new Va({mapValue:{fields:e.fields}}),g=No.newFoundDocument(r,s,l);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Af(t,e){var n,s;if(e instanceof _f)n={update:B7(t,e.key,e.value)};else if(e instanceof bf)n={delete:Ef(t,e.key)};else if(e instanceof Zu)n={update:B7(t,e.key,e.data),updateMask:hb(e.fieldMask)};else{if(!(e instanceof yg))return b();n={verify:Ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(s,l){var g=l.transform;if(g instanceof d6)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof p6)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof qu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof g4)return{fieldPath:l.field.canonicalString(),increment:g.A};throw b()}(0,r)})),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ub(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:b()),n}function I8(t,e){var x,n=e.currentDocument?void 0!==(x=e.currentDocument).updateTime?ko.updateTime(_i(x.updateTime)):void 0!==x.exists?ko.exists(x.exists):ko.none():ko.none(),r=e.updateTransforms?e.updateTransforms.map(function(x){return function(N,R){var H=null;"setToServerValue"in R?(T("REQUEST_TIME"===R.setToServerValue),H=new d6):"appendMissingElements"in R?H=new p6(R.appendMissingElements.values||[]):"removeAllFromArray"in R?H=new qu(R.removeAllFromArray.values||[]):"increment"in R?H=new g4(N,R.increment):b();var he=L1.fromServerFormat(R.fieldPath);return new E8(he,H)}(t,x)}):[];if(e.update){var s=Dc(t,e.update.name),l=new Va({mapValue:{fields:e.update.fields}});if(e.updateMask){var g=function(x){return new a6((x.fieldPaths||[]).map(function(R){return L1.fromServerFormat(R)}))}(e.updateMask);return new Zu(s,l,g,n,r)}return new _f(s,l,n,r)}if(e.delete){var _=Dc(t,e.delete);return new bf(_,n)}if(e.verify){var E=Dc(t,e.verify);return new yg(E,n)}return b()}function q7(t,e){return{documents:[E5(t,e.path)]}}function Z7(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=E5(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=E5(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var s=function(_){if(0!==_.length){var E=_.map(function(x){return function(N){if("=="===N.op){if(W_(N.value))return{unaryFilter:{field:Tf(N.field),op:"IS_NAN"}};if(M7(N.value))return{unaryFilter:{field:Tf(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(W_(N.value))return{unaryFilter:{field:Tf(N.field),op:"IS_NOT_NAN"}};if(M7(N.value))return{unaryFilter:{field:Tf(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(N.field),op:Lg(N.op),value:N.value}}}(x)});return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}}(e.filters);s&&(n.structuredQuery.where=s);var l=function(_){if(0!==_.length)return _.map(function(E){return{field:Tf((x=E).field),direction:kg(x.dir)};var x})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);var E,g=(E=e.limit,t.I||p4(E)?E:{value:E});return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=W7(e.startAt)),e.endAt&&(n.structuredQuery.endAt=W7(e.endAt)),n}function G7(t){var e=U7(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){T(1===r);var l=n.from[0];l.allDescendants?s=l.collectionId:e=e.child(l.collectionId)}var g=[];n.where&&(g=$7(n.where));var _=[];n.orderBy&&(_=n.orderBy.map(function(R){return new Bu(Mf((H=R).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));var R,H,E=null;n.limit&&(E=p4(H="object"==typeof(R=n.limit)?R.value:R)?null:H);var x=null;n.startAt&&(x=K7(n.startAt));var N=null;return n.endAt&&(N=K7(n.endAt)),pg(e,s,_,g,E,"F",x,N)}function $7(t){return t?void 0!==t.unaryFilter?[fb(t)]:void 0!==t.fieldFilter?[lb(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return $7(e)}).reduce(function(e,n){return e.concat(n)}):b():[]}function W7(t){return{before:t.before,values:t.position}}function K7(t){return new v8(t.values||[],!!t.before)}function kg(t){return Ig[t]}function Lg(t){return xg[t]}function Tf(t){return{fieldPath:t.canonicalString()}}function Mf(t){return L1.fromServerFormat(t.fieldPath)}function lb(t){return O1.create(Mf(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function fb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Mf(t.unaryFilter.field);return O1.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Mf(t.unaryFilter.field);return O1.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mf(t.unaryFilter.field);return O1.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=Mf(t.unaryFilter.field);return O1.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function hb(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function Og(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function O2(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rg(e)),e=db(t.get(n),e);return Rg(e)}function db(t,e){for(var n=e,r=t.length,s=0;s<r;s++){var l=t.charAt(s);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function Rg(t){return t+"\x01\x01"}function $u(t){var e=t.length;if(T(e>=2),2===e)return T("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),gn.emptyPath();for(var n=e-2,r=[],s="",l=0;l<e;){var g=t.indexOf("\x01",l);switch((g<0||g>n)&&b(),t.charAt(g+1)){case"\x01":var _=t.substring(l,g),E=void 0;0===s.length?E=_:(E=s+=_,s=""),r.push(E);break;case"\x10":s+=t.substring(l,g),s+="\0";break;case"\x11":s+=t.substring(l,g+1);break;default:b()}l=g+2}return new gn(r)}var pb=function(t,e){this.seconds=t,this.nanoseconds=e},Fa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fa.store="owner",Fa.key="owner";var y4=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};y4.store="mutationQueues",y4.keyPath="userId";var Cr=function(t,e,n,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s};Cr.store="mutations",Cr.keyPath="batchId",Cr.userMutationsIndex="userMutationsIndex",Cr.userMutationsKeyPath=["userId","batchId"];var es=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,O2(n)]},t.key=function(e,n,r){return[e,O2(n),r]},t}();es.store="documentMutations",es.PLACEHOLDER=new es;var mb=function(t,e){this.path=t,this.readTime=e},gb=function(t,e){this.path=t,this.version=e},qr=function(t,e,n,r,s,l){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=l};qr.store="remoteDocuments",qr.readTimeIndex="readTimeIndex",qr.readTimeIndexPath="readTime",qr.collectionReadTimeIndex="collectionReadTimeIndex",qr.collectionReadTimeIndexPath=["parentPath","readTime"];var R2=function(t){this.byteSize=t};R2.store="remoteDocumentGlobal",R2.key="remoteDocumentGlobalKey";var Ms=function(t,e,n,r,s,l,g){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=l,this.query=g};Ms.store="targets",Ms.keyPath="targetId",Ms.queryTargetsIndexName="queryTargetsIndex",Ms.queryTargetsKeyPath=["canonicalId","targetId"];var oo=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};oo.store="targetDocuments",oo.keyPath=["targetId","path"],oo.documentTargetsIndex="documentTargetsIndex",oo.documentTargetsKeyPath=["path","targetId"];var oa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};oa.key="targetGlobalKey",oa.store="targetGlobal";var _4=function(t,e){this.collectionId=t,this.parent=e};_4.store="collectionParents",_4.keyPath=["collectionId","parent"];var Nc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Nc.store="clientMetadata",Nc.keyPath="clientId";var g6=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};g6.store="bundles",g6.keyPath="bundleId";var v6=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};v6.store="namedQueries",v6.keyPath="name";var Pg=(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],(0,L.__spreadArray)((0,L.__spreadArray)([],[y4.store,Cr.store,es.store,qr.store,Ms.store,Fa.store,oa.store,oo.store]),[Nc.store])),[R2.store])),[_4.store])),[g6.store,v6.store]),A5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Y7=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Zr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},et=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(s,l){r.nextCallback=function(g){r.wrapSuccess(e,g).next(s,l)},r.catchCallback=function(g){r.wrapFailure(n,g).next(s,l)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var s=0,l=0,g=!1;e.forEach(function(_){++s,_.next(function(){++l,g&&l===s&&n()},function(E){return r(E)})}),g=!0,l===s&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(g){n=n.next(function(_){return _?t.resolve(_):g()})},s=0,l=e;s<l.length;s++)r(l[s]);return n},t.forEach=function(e,n){var r=this,s=[];return e.forEach(function(l,g){s.push(n.call(r,l,g))}),this.waitFor(s)},t}(),zg=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Zr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new y6(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(s){var l=kt(s.target.error);r.ft.reject(new y6(e,l))}}return t.open=function(e,n,r,s){try{return new t(n,e.transaction(s,r))}catch(l){throw new y6(n,l)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new Vg(n)},t}(),P2=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,ut.getUA)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return tt("SimpleDb","Removing database:",e),b4(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,ut.getUA)(),n=t._t(e),r=0<n&&n<10,s=t.Et(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(tt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(l,g){var _=indexedDB.open(r.name,r.version);_.onsuccess=function(E){l(E.target.result)},_.onblocked=function(){g(new y6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=function(E){var x=E.target.error;g("VersionError"===x.name?new Pe(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new y6(e,x))},_.onupgradeneeded=function(E){tt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.wt.Rt(E.target.result,_.transaction,E.oldVersion,r.version).next(function(){tt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(l){return r.bt(l)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var l,g,_,E,x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:l="readonly"===n,g=0,_=function(){var R,H,K,te,he;return(0,L.__generator)(this,function(Ie){switch(Ie.label){case 0:++g,Ie.label=1;case 1:return Ie.trys.push([1,4,,5]),[4,E.At(e)];case 2:return E.db=Ie.sent(),R=zg.open(E.db,e,l?"readonly":"readwrite",r),H=s(R).catch(function(Oe){return R.abort(Oe),et.reject(Oe)}).toPromise(),K={},H.catch(function(){}),[4,R.dt];case 3:return[2,(K.value=(Ie.sent(),H),K)];case 4:return tt("SimpleDb","Transaction failed with error:",(te=Ie.sent()).message,"Retrying:",he="FirebaseError"!==te.name&&g<3),E.close(),he?[3,5]:[2,{value:Promise.reject(te)}];case 5:return[2]}})},E=this,N.label=1;case 1:return[5,_()];case 2:if("object"==typeof(x=N.sent()))return[2,x.value];N.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),nA=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return b4(this.Pt.delete())},t}(),y6=function(t){function e(n,r){var s=this;return(s=t.call(this,Ce.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",s}return(0,L.__extends)(e,t),e}(Pe);function If(t){return"IndexedDbTransactionError"===t.name}var Vg=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return void 0!==n?(tt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),b4(r)},t.prototype.add=function(e){return tt("SimpleDb","ADD",this.store.name,e,e),b4(this.store.add(e))},t.prototype.get=function(e){var n=this;return b4(this.store.get(e)).next(function(r){return void 0===r&&(r=null),tt("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return tt("SimpleDb","DELETE",this.store.name,e),b4(this.store.delete(e))},t.prototype.count=function(){return tt("SimpleDb","COUNT",this.store.name),b4(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),s=[];return this.xt(r,function(l,g){s.push(g)}).next(function(){return s})},t.prototype.kt=function(e,n){tt("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var s=this.cursor(r);return this.xt(s,function(l,g,_){return _.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var s=this.cursor(r);return this.xt(s,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new et(function(r,s){n.onerror=function(l){var g=kt(l.target.error);s(g)},n.onsuccess=function(l){var g=l.target.result;g?e(g.primaryKey,g.value).next(function(_){_?g.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new et(function(s,l){e.onerror=function(g){l(g.target.error)},e.onsuccess=function(g){var _=g.target.result;if(_){var E=new nA(_),x=n(_.primaryKey,_.value,E);if(x instanceof et){var N=x.catch(function(R){return E.done(),et.reject(R)});r.push(N)}E.isDone?s():null===E.Dt?_.continue():_.continue(E.Dt)}else s()}}).next(function(){return et.waitFor(r)})},t.prototype.options=function(e,n){var r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function b4(t){return new et(function(e,n){t.onsuccess=function(r){e(r.target.result)},t.onerror=function(r){var s=kt(r.target.error);n(s)}})}var vb=!1;function kt(t){var e=P2._t((0,ut.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Pe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vb||(vb=!0,setTimeout(function(){throw r},0)),r}}return t}var Fg=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).Mt=n,s.currentSequenceNumber=r,s}return(0,L.__extends)(e,t),e}(Y7);function sa(t,e){var n=S(t);return P2.It(n.Mt,e)}var Q7=function(){function t(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,s=0;s<this.mutations.length;s++){var l=this.mutations[s];l.key.isEqual(e.key)&&ib(l,e,r[s])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(g=r[n]).key.isEqual(e.key)&&_5(g,e,this.localWriteTime);for(var s=0,l=this.mutations;s<l.length;s++){var g;(g=l[s]).key.isEqual(e.key)&&_5(g,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var s=e.get(r.key),l=s;n.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(ht.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Wn())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&ke(this.mutations,e.mutations,function(n,r){return P7(n,r)})&&ke(this.baseMutations,e.baseMutations,function(n,r){return P7(n,r)})},t}(),T5=function(){function t(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}return t.from=function(e,n,r){T(e.mutations.length===r.length);for(var s=Eg(),l=e.mutations,g=0;g<l.length;g++)s=s.insert(l[g].key,r[g].version);return new t(e,n,r,s)},t}(),M5=function(){function t(e,n,r,s,l,g,_){void 0===l&&(l=ht.min()),void 0===g&&(g=ht.min()),void 0===_&&(_=Jo.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=_}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),x8=function(t){this.Lt=t};function xf(t,e){if(e.document)return j7(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=St.fromSegments(e.noDocument.path),r=Sf(e.noDocument.readTime),s=No.newNoDocument(n,r);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){var l=St.fromSegments(e.unknownDocument.path);return r=Sf(e.unknownDocument.version),No.newUnknownDocument(l,r)}return b()}function kr(t,e,n){var R,H,r=Hg(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var l={name:Ef(R=t.Lt,(H=e).key),fields:H.data.value.mapValue.fields,updateTime:M8(R,H.version.toTimestamp())},g=e.hasCommittedMutations;return new qr(null,null,l,g,r,s)}if(e.isNoDocument()){var _=e.key.path.toArray(),E=C4(e.version);return g=e.hasCommittedMutations,new qr(null,new mb(_,E),null,g,r,s)}if(e.isUnknownDocument()){var x=e.key.path.toArray(),N=C4(e.version);return new qr(new gb(x,N),null,null,!0,r,s)}return b()}function Hg(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function J7(t){var e=new bt(t[0],t[1]);return ht.fromTimestamp(e)}function C4(t){var e=t.toTimestamp();return new pb(e.seconds,e.nanoseconds)}function Sf(t){var e=new bt(t.seconds,t.nanoseconds);return ht.fromTimestamp(e)}function _6(t,e){for(var n=(e.baseMutations||[]).map(function(E){return I8(t.Lt,E)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var g=e.mutations.map(function(E){return I8(t.Lt,E)}),_=bt.fromMillis(e.localWriteTimeMs);return new Q7(e.batchId,_,n,g)}function Df(t){var e,n,r=Sf(t.readTime),s=void 0!==t.lastLimboFreeSnapshotVersion?Sf(t.lastLimboFreeSnapshotVersion):ht.min();return void 0!==t.query.documents?(T(1===(n=t.query).documents.length),e=k2(vf(U7(n.documents[0])))):e=k2(G7(t.query)),new M5(e,t.targetId,0,t.lastListenSequenceNumber,r,s,Jo.fromBase64String(t.resumeToken))}function X7(t,e){var n,r=C4(e.snapshotVersion),s=C4(e.lastLimboFreeSnapshotVersion);n=x7(e.target)?q7(t.Lt,e.target):Z7(t.Lt,e.target);var l=e.resumeToken.toBase64();return new Ms(e.targetId,f6(e.target),r,l,e.sequenceNumber,s,n)}function I5(t){var e=G7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?p5(e,e.limit,"L"):e}var yb=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return Ug(e).get(n).next(function(r){if(r)return{id:(s=r).bundleId,createTime:Sf(s.createTime),version:s.version};var s})},t.prototype.saveBundleMetadata=function(e,n){return Ug(e).put({bundleId:(r=n).id,createTime:C4(_i(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return Bg(e).get(n).next(function(r){if(r)return{name:(s=r).name,query:I5(s.bundledQuery),readTime:Sf(s.readTime)};var s})},t.prototype.saveNamedQuery=function(e,n){return Bg(e).put({name:(r=n).name,readTime:C4(_i(r.readTime)),bundledQuery:r.bundledQuery});var r},t}();function Ug(t){return sa(t,g6.store)}function Bg(t){return sa(t,v6.store)}var S8=function(){function t(){this.Bt=new e9}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),et.resolve()},t.prototype.getCollectionParents=function(e,n){return et.resolve(this.Bt.getEntries(n))},t}(),e9=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Fi(gn.comparator),l=!s.has(r);return this.index[n]=s.add(r),l},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Fi(gn.comparator)).toArray()},t}(),_b=function(){function t(){this.qt=new e9}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var g={collectionId:s,parent:O2(l)};return jg(e).put(g)}return et.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],s=IDBKeyRange.bound([n,""],[qe(n),""],!1,!0);return jg(e).Nt(s).next(function(l){for(var g=0,_=l;g<_.length;g++){var E=_[g];if(E.collectionId!==n)break;r.push($u(E.parent))}return r})},t}();function jg(t){return sa(t,_4.store)}var D8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z2=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function t9(t,e,n){var r=t.store(Cr.store),s=t.store(es.store),l=[],g=IDBKeyRange.only(n.batchId),_=0,E=r.$t({range:g},function(te,he,Ie){return _++,Ie.delete()});l.push(E.next(function(){T(1===_)}));for(var x=[],N=0,R=n.mutations;N<R.length;N++){var H=R[N],K=es.key(e,H.key.path,n.batchId);l.push(s.delete(K)),x.push(H.key)}return et.waitFor(l).next(function(){return x})}function N8(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}z2.DEFAULT_COLLECTION_PERCENTILE=10,z2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,z2.DEFAULT=new z2(41943040,z2.DEFAULT_COLLECTION_PERCENTILE,z2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),z2.DISABLED=new z2(-1,0,0);var bb=function(){function t(e,n,r,s){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=s,this.Kt={}}return t.Qt=function(e,n,r,s){return T(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,s)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return V1(e).$t({index:Cr.userMutationsIndex,range:r},function(s,l,g){n=!1,g.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,s){var l=this,g=kf(e),_=V1(e);return _.add({}).next(function(E){T("number"==typeof E);for(var x=new Q7(E,n,r,s),N=function(Oe,Be,$e){var gt=$e.baseMutations.map(function(Ut){return Af(Oe.Lt,Ut)}),Je=$e.mutations.map(function(Ut){return Af(Oe.Lt,Ut)});return new Cr(Be,$e.batchId,$e.localWriteTime.toMillis(),gt,Je)}(l.R,l.userId,x),R=[],H=new Fi(function(Oe,Be){return Y(Oe.canonicalString(),Be.canonicalString())}),K=0,te=s;K<te.length;K++){var he=te[K],Ie=es.key(l.userId,he.key.path,E);H=H.add(he.key.path.popLast()),R.push(_.put(N)),R.push(g.put(Ie,es.PLACEHOLDER))}return H.forEach(function(Oe){R.push(l.Ut.addToCollectionParentIndex(e,Oe))}),e.addOnCommittedListener(function(){l.Kt[E]=x.keys()}),et.waitFor(R).next(function(){return x})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return V1(e).get(n).next(function(s){return s?(T(s.userId===r.userId),_6(r.R,s)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?et.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(s){if(s){var l=s.keys();return r.Kt[n]=l,l}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]),g=null;return V1(e).$t({index:Cr.userMutationsIndex,range:l},function(_,E,x){E.userId===r.userId&&(T(E.batchId>=s),g=_6(r.R,E)),x.done()}).next(function(){return g})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return V1(e).$t({index:Cr.userMutationsIndex,range:n,reverse:!0},function(s,l,g){r=l.batchId,g.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return V1(e).Nt(Cr.userMutationsIndex,r).next(function(s){return s.map(function(l){return _6(n.R,l)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,s=es.prefixForPath(this.userId,n.path),l=IDBKeyRange.lowerBound(s),g=[];return kf(e).$t({range:l},function(_,E,x){var N=_[0],H=_[2],K=$u(_[1]);if(N===r.userId&&n.path.isEqual(K))return V1(e).get(H).next(function(te){if(!te)throw b();T(te.userId===r.userId),g.push(_6(r.R,te))});x.done()}).next(function(){return g})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,s=new Fi(Y),l=[];return n.forEach(function(g){var _=es.prefixForPath(r.userId,g.path),E=IDBKeyRange.lowerBound(_),x=kf(e).$t({range:E},function(N,R,H){var K=N[0],he=N[2],Ie=$u(N[1]);K===r.userId&&g.path.isEqual(Ie)?s=s.add(he):H.done()});l.push(x)}),et.waitFor(l).next(function(){return r.Wt(e,s)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,s=n.path,l=s.length+1,g=es.prefixForPath(this.userId,s),_=IDBKeyRange.lowerBound(g),E=new Fi(Y);return kf(e).$t({range:_},function(x,N,R){var H=x[0],te=x[2],he=$u(x[1]);H===r.userId&&s.isPrefixOf(he)?he.length===l&&(E=E.add(te)):R.done()}).next(function(){return r.Wt(e,E)})},t.prototype.Wt=function(e,n){var r=this,s=[],l=[];return n.forEach(function(g){l.push(V1(e).get(g).next(function(_){if(null===_)throw b();T(_.userId===r.userId),s.push(_6(r.R,_))}))}),et.waitFor(l).next(function(){return s})},t.prototype.removeMutationBatch=function(e,n){var r=this;return t9(e.Mt,this.userId,n).next(function(s){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),et.forEach(s,function(l){return r.referenceDelegate.markPotentiallyOrphaned(e,l)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return et.resolve();var s=IDBKeyRange.lowerBound(es.prefixForUser(n.userId)),l=[];return kf(e).$t({range:s},function(g,_,E){if(g[0]===n.userId){var x=$u(g[1]);l.push(x)}else E.done()}).next(function(){T(0===l.length)})})},t.prototype.containsKey=function(e,n){return Nf(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return qg(e).get(this.userId).next(function(r){return r||new y4(n.userId,-1,"")})},t}();function Nf(t,e,n){var r=es.prefixForPath(e,n.path),s=r[1],l=IDBKeyRange.lowerBound(r),g=!1;return kf(t).$t({range:l,Ft:!0},function(_,E,x){_[0]===e&&_[1]===s&&(g=!0),x.done()}).next(function(){return g})}function V1(t){return sa(t,Cr.store)}function kf(t){return sa(t,es.store)}function qg(t){return sa(t,y4.store)}var x5=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Zg=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var s=new x5(r.highestTargetId);return r.highestTargetId=s.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return ht.fromTimestamp(new bt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var s=this;return this.Xt(e).next(function(l){return l.highestListenSequenceNumber=n,r&&(l.lastRemoteSnapshotVersion=r.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),s.Zt(e,l)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(s){return s.targetCount+=1,r.ee(n,s),r.Zt(e,s)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return b6(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(s){return T(s.targetCount>0),s.targetCount-=1,r.Zt(e,s)})},t.prototype.removeTargets=function(e,n,r){var s=this,l=0,g=[];return b6(e).$t(function(_,E){var x=Df(E);x.sequenceNumber<=n&&null===r.get(x.targetId)&&(l++,g.push(s.removeTargetData(e,x)))}).next(function(){return et.waitFor(g)}).next(function(){return l})},t.prototype.forEachTarget=function(e,n){return b6(e).$t(function(r,s){var l=Df(s);n(l)})},t.prototype.Xt=function(e){return n9(e).get(oa.key).next(function(n){return T(null!==n),n})},t.prototype.Zt=function(e,n){return n9(e).put(oa.key,n)},t.prototype.te=function(e,n){return b6(e).put(X7(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=f6(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),l=null;return b6(e).$t({range:s,index:Ms.queryTargetsIndexName},function(g,_,E){var x=Df(_);l5(n,x.target)&&(l=x,E.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(e,n,r){var s=this,l=[],g=w4(e);return n.forEach(function(_){var E=O2(_.path);l.push(g.put(new oo(r,E))),l.push(s.referenceDelegate.addReference(e,r,_))}),et.waitFor(l)},t.prototype.removeMatchingKeys=function(e,n,r){var s=this,l=w4(e);return et.forEach(n,function(g){var _=O2(g.path);return et.waitFor([l.delete([r,_]),s.referenceDelegate.removeReference(e,r,g)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=w4(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),s=w4(e),l=Wn();return s.$t({range:r,Ft:!0},function(g,_,E){var x=$u(g[1]),N=new St(x);l=l.add(N)}).next(function(){return l})},t.prototype.containsKey=function(e,n){var r=O2(n.path),s=IDBKeyRange.bound([r],[qe(r)],!1,!0),l=0;return w4(e).$t({index:oo.documentTargetsIndex,Ft:!0,range:s},function(g,_,E){0!==g[0]&&(l++,E.done())}).next(function(){return l>0})},t.prototype.lt=function(e,n){return b6(e).get(n).next(function(r){return r?Df(r):null})},t}();function b6(t){return sa(t,Ms.store)}function n9(t){return sa(t,oa.store)}function w4(t){return sa(t,oo.store)}function E4(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==A5)throw t;return tt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Gg(t,e){var r=t[1],l=e[1],g=Y(t[0],e[0]);return 0===g?Y(r,l):g}var Cb=function(){function t(e){this.ne=e,this.buffer=new Fi(Gg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Gg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),rA=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;tt("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:this.ce=null,this.oe=!0,l.label=1;case 1:return l.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return l.sent(),[3,7];case 3:return If(s=l.sent())?(tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,E4(s)];case 5:l.sent(),l.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return l.sent(),[2]}})})})},t}(),iA=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(0===n)return et.resolve(io.o);var s=new Cb(n);return this.ae.forEachTarget(e,function(l){return s.re(l.sequenceNumber)}).next(function(){return r.ae.le(e,function(l){return s.re(l)})}).next(function(){return s.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(D8)):this.getCacheSize(e).next(function(s){return s<r.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),D8):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,s,l,g,_,E,x,N=this,R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(H){return H>N.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+N.params.maximumSequenceNumbersToCollect+" from "+H),s=N.params.maximumSequenceNumbersToCollect):s=H,g=Date.now(),N.nthSequenceNumber(e,s)}).next(function(H){return r=H,_=Date.now(),N.removeTargets(e,r,n)}).next(function(H){return l=H,E=Date.now(),N.removeOrphanedDocuments(e,r)}).next(function(H){return x=Date.now(),In()<=ne.LogLevel.DEBUG&&tt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(g-R)+"ms\n\tDetermined least recently used "+s+" in "+(_-g)+"ms\n\tRemoved "+l+" targets in "+(E-_)+"ms\n\tRemoved "+H+" documents in "+(x-E)+"ms\nTotal Duration: "+(x-R)+"ms"),et.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:H})})},t}(),oA=function(){function t(e,n){this.db=e,this.garbageCollector=new iA(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(s){return r+s})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,s){return n(s)})},t.prototype.addReference=function(e,n,r){return r9(e,r)},t.prototype.removeReference=function(e,n,r){return r9(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return r9(e,n)},t.prototype._e=function(e,n){return s=n,l=!1,qg(r=e).Ot(function(g){return Nf(r,g,s).next(function(_){return _&&(l=!0),et.resolve(!_)})}).next(function(){return l});var r,s,l},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[],g=0;return this.we(e,function(_,E){if(E<=n){var x=r._e(e,_).next(function(N){if(!N)return g++,s.getEntry(e,_).next(function(){return s.removeEntry(_),w4(e).delete([0,O2(_.path)])})});l.push(x)}}).next(function(){return et.waitFor(l)}).next(function(){return s.apply(e)}).next(function(){return g})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return r9(e,n)},t.prototype.we=function(e,n){var r,s=w4(e),l=io.o;return s.$t({index:oo.documentTargetsIndex},function(g,_){var x=_.path,N=_.sequenceNumber;0===g[0]?(l!==io.o&&n(new St($u(r)),l),l=N,r=x):l=io.o}).next(function(){l!==io.o&&n(new St($u(r)),l)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function r9(t,e){return w4(t).put((r=t.currentSequenceNumber,new oo(0,O2(e.path),r)));var r}var C6=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(var s=0,l=r;s<l.length;s++){var g=l[s],E=g[1];if(this.equalsFn(g[0],e))return E}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s){for(var l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[n]:r.splice(s,1),!0;return!1},t.prototype.forEach=function(e){Fn(this.inner,function(n,r){for(var s=0,l=r;s<l.length;s++){var g=l[s];e(g[0],g[1])}})},t.prototype.isEmpty=function(){return Do(this.inner)},t}(),k8=function(){function t(){this.changes=new C6(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:ht.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){void 0===n&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:No.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return void 0!==r?et.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),wb=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return F1(e).put(S5(n),r)},t.prototype.removeEntry=function(e,n){var r=F1(e),s=S5(n);return r.delete(s)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(s){return s.byteSize+=n,r.me(e,s)})},t.prototype.getEntry=function(e,n){var r=this;return F1(e).get(S5(n)).next(function(s){return r.ye(n,s)})},t.prototype.ge=function(e,n){var r=this;return F1(e).get(S5(n)).next(function(s){return{document:r.ye(n,s),size:N8(s)}})},t.prototype.getEntries=function(e,n){var r=this,s=R1();return this.pe(e,n,function(l,g){var _=r.ye(l,g);s=s.insert(l,_)}).next(function(){return s})},t.prototype.Ee=function(e,n){var r=this,s=R1(),l=new Xo(St.comparator);return this.pe(e,n,function(g,_){var E=r.ye(g,_);s=s.insert(g,E),l=l.insert(g,N8(_))}).next(function(){return{documents:s,Te:l}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return et.resolve();var s=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),l=n.getIterator(),g=l.getNext();return F1(e).$t({range:s},function(_,E,x){for(var N=St.fromSegments(_);g&&St.comparator(g,N)<0;)r(g,null),g=l.getNext();g&&g.isEqual(N)&&(r(g,E),g=l.hasNext()?l.getNext():null),g?x.Ct(g.path.toArray()):x.done()}).next(function(){for(;g;)r(g,null),g=l.hasNext()?l.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var s=this,l=R1(),g=n.path.length+1,_={};if(r.isEqual(ht.min())){var E=n.path.toArray();_.range=IDBKeyRange.lowerBound(E)}else{var x=n.path.toArray(),N=Hg(r);_.range=IDBKeyRange.lowerBound([x,N],!0),_.index=qr.collectionReadTimeIndex}return F1(e).$t(_,function(R,H,K){if(R.length===g){var te=xf(s.R,H);n.path.isPrefixOf(te.key.path)?C8(n,te)&&(l=l.insert(te.key,te)):K.done()}}).next(function(){return l})},t.prototype.newChangeBuffer=function(e){return new Eb(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return i9(e).get(R2.key).next(function(n){return T(!!n),n})},t.prototype.me=function(e,n){return i9(e).put(R2.key,n)},t.prototype.ye=function(e,n){if(n){var r=xf(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ht.min()))return r}return No.newInvalidDocument(e)},t}(),Eb=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).Ie=n,s.trackRemovals=r,s.Ae=new C6(function(l){return l.toString()},function(l,g){return l.isEqual(g)}),s}return(0,L.__extends)(e,t),e.prototype.applyChanges=function(n){var r=this,s=[],l=0,g=new Fi(function(_,E){return Y(_.canonicalString(),E.canonicalString())});return this.changes.forEach(function(_,E){var x=r.Ae.get(_);if(E.document.isValidDocument()){var N=kr(r.Ie.R,E.document,r.getReadTime(_));g=g.add(_.path.popLast());var R=N8(N);l+=R-x,s.push(r.Ie.addEntry(n,_,N))}else if(l-=x,r.trackRemovals){var H=kr(r.Ie.R,No.newNoDocument(_,ht.min()),r.getReadTime(_));s.push(r.Ie.addEntry(n,_,H))}else s.push(r.Ie.removeEntry(n,_))}),g.forEach(function(_){s.push(r.Ie.Ut.addToCollectionParentIndex(n,_))}),s.push(this.Ie.updateMetadata(n,l)),et.waitFor(s)},e.prototype.getFromCache=function(n,r){var s=this;return this.Ie.ge(n,r).next(function(l){return s.Ae.set(r,l.size),l.document})},e.prototype.getAllFromCache=function(n,r){var s=this;return this.Ie.Ee(n,r).next(function(l){var g=l.documents;return l.Te.forEach(function(_,E){s.Ae.set(_,E)}),g})},e}(k8);function i9(t){return sa(t,R2.store)}function F1(t){return sa(t,qr.store)}function S5(t){return t.path.toArray()}var Ab=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,s){var l=this;T(r<s&&r>=0&&s<=11);var E,g=new zg("createOrUpgrade",n);r<1&&s>=1&&(e.createObjectStore(Fa.store),(E=e).createObjectStore(y4.store,{keyPath:y4.keyPath}),E.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0}),E.createObjectStore(es.store),$g(e),function(E){E.createObjectStore(qr.store)}(e));var _=et.resolve();return r<3&&s>=3&&(0!==r&&(function(E){E.deleteObjectStore(oo.store),E.deleteObjectStore(Ms.store),E.deleteObjectStore(oa.store)}(e),$g(e)),_=_.next(function(){return function(E){var x=E.store(oa.store),N=new oa(0,0,ht.min().toTimestamp(),0);return x.put(oa.key,N)}(g)})),r<4&&s>=4&&(0!==r&&(_=_.next(function(){return function(E,x){return x.store(Cr.store).Nt().next(function(N){E.deleteObjectStore(Cr.store),E.createObjectStore(Cr.store,{keyPath:Cr.keyPath,autoIncrement:!0}).createIndex(Cr.userMutationsIndex,Cr.userMutationsKeyPath,{unique:!0});var R=x.store(Cr.store),H=N.map(function(K){return R.put(K)});return et.waitFor(H)})}(e,g)})),_=_.next(function(){!function(E){E.createObjectStore(Nc.store,{keyPath:Nc.keyPath})}(e)})),r<5&&s>=5&&(_=_.next(function(){return l.Re(g)})),r<6&&s>=6&&(_=_.next(function(){return function(E){E.createObjectStore(R2.store)}(e),l.be(g)})),r<7&&s>=7&&(_=_.next(function(){return l.ve(g)})),r<8&&s>=8&&(_=_.next(function(){return l.Pe(e,g)})),r<9&&s>=9&&(_=_.next(function(){(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(e),function(E){var x=E.objectStore(qr.store);x.createIndex(qr.readTimeIndex,qr.readTimeIndexPath,{unique:!1}),x.createIndex(qr.collectionReadTimeIndex,qr.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&s>=10&&(_=_.next(function(){return l.Ve(g)})),r<11&&s>=11&&(_=_.next(function(){(function(E){E.createObjectStore(g6.store,{keyPath:g6.keyPath})})(e),function(E){E.createObjectStore(v6.store,{keyPath:v6.keyPath})}(e)})),_},t.prototype.be=function(e){var n=0;return e.store(qr.store).$t(function(r,s){n+=N8(s)}).next(function(){var r=new R2(n);return e.store(R2.store).put(R2.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(y4.store),s=e.store(Cr.store);return r.Nt().next(function(l){return et.forEach(l,function(g){var _=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return s.Nt(Cr.userMutationsIndex,_).next(function(E){return et.forEach(E,function(x){T(x.userId===g.userId);var N=_6(n.R,x);return t9(e,g.userId,N).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(oo.store),r=e.store(qr.store);return e.store(oa.store).get(oa.key).next(function(s){var l=[];return r.$t(function(g,_){var E=new gn(g),x=[0,O2(E)];l.push(n.get(x).next(function(N){return N?et.resolve():n.put(new oo(0,O2(E),s.highestListenSequenceNumber))}))}).next(function(){return et.waitFor(l)})})},t.prototype.Pe=function(e,n){e.createObjectStore(_4.store,{keyPath:_4.keyPath});var r=n.store(_4.store),s=new e9,l=function(g){if(s.add(g)){var _=g.lastSegment(),E=g.popLast();return r.put({collectionId:_,parent:O2(E)})}};return n.store(qr.store).$t({Ft:!0},function(g,_){var E=new gn(g);return l(E.popLast())}).next(function(){return n.store(es.store).$t({Ft:!0},function(g,_){var x=$u(g[1]);return l(x.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(Ms.store);return r.$t(function(s,l){var g=Df(l),_=X7(n.R,g);return r.put(_)})},t}();function $g(t){t.createObjectStore(oo.store,{keyPath:oo.keyPath}).createIndex(oo.documentTargetsIndex,oo.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ms.store,{keyPath:Ms.keyPath}).createIndex(Ms.queryTargetsIndexName,Ms.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(oa.store)}var o9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tb=function(){function t(e,n,r,s,l,g,_,E,x,N){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=l,this.window=g,this.document=_,this.De=x,this.Ce=N,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(R){return Promise.resolve()},!t.yt())throw new Pe(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oA(this,s),this.Le=n+"main",this.R=new x8(E),this.Be=new P2(this.Le,11,new Ab(this.R)),this.qe=new Zg(this.referenceDelegate,this.R),this.Ut=new _b,this.Ue=new wb(this.R,this.Ut),this.Ke=new yb,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===N&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Pe(Ce.FAILED_PRECONDITION,o9);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new io(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(s){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(s){switch(s.label){case 0:return null===r.newVersion?[4,e()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return D5(n).put(new Nc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(If(n))return tt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Lf(e).get(Fa.key).next(function(r){return et.resolve(n.tn(r))})},t.prototype.en=function(e){return D5(e).delete(this.clientId)},t.prototype.nn=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,l=this;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(_){var E=sa(_,Nc.store);return E.Nt().next(function(x){var N=l.rn(x,18e5),R=x.filter(function(H){return-1===N.indexOf(H)});return et.forEach(R,function(H){return E.delete(H.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(e=g.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)this.Qe.removeItem(this.on(r[n].clientId));g.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?et.resolve(!0):Lf(e).get(Fa.key).next(function(r){if(null!==r&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Pe(Ce.FAILED_PRECONDITION,o9);return!1}}return!(!n.networkEnabled||!n.inForeground)||D5(e).Nt().next(function(s){return void 0===n.rn(s,5e3).find(function(l){return!(n.clientId===l.clientId||!(!n.networkEnabled&&l.networkEnabled||!n.inForeground&&l.inForeground&&n.networkEnabled===l.networkEnabled))})})}).next(function(r){return n.isPrimary!==r&&tt("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fa.store,Nc.store],function(r){var s=new Fg(r,io.o);return e.Xe(s).next(function(){return e.en(s)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(s){return r.sn(s.updateTimeMs,n)&&!r.cn(s.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return D5(n).Nt().next(function(r){return e.rn(r,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return bb.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var l,s=this;return tt("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===n?"readonly":"readwrite",Pg,function(_){return l=new Fg(_,s.Ne?s.Ne.next():io.o),"readwrite-primary"===n?s.Je(l).next(function(E){return!!E||s.Ye(l)}).next(function(E){if(!E)throw Br("Failed to obtain primary lease for action '"+e+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new Pe(Ce.FAILED_PRECONDITION,A5);return r(l)}).next(function(E){return s.Ze(l).next(function(){return E})}):s.dn(l).next(function(){return r(l)})}).then(function(_){return l.raiseOnCommittedEvent(),_})},t.prototype.dn=function(e){var n=this;return Lf(e).get(Fa.key).next(function(r){if(null!==r&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Pe(Ce.FAILED_PRECONDITION,o9)})},t.prototype.Ze=function(e){var n=new Fa(this.clientId,this.allowTabSynchronization,Date.now());return Lf(e).put(Fa.key,n)},t.yt=function(){return P2.yt()},t.prototype.Xe=function(e){var n=this,r=Lf(e);return r.get(Fa.key).next(function(s){return n.tn(s)?(tt("IndexedDbPersistence","Releasing primary lease."),r.delete(Fa.key)):et.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Br("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){n.un(),(0,ut.isSafari)()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=null!==(null===(n=this.Qe)||void 0===n?void 0:n.getItem(this.on(e)));return tt("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(s){return Br("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Lf(t){return sa(t,Fa.store)}function D5(t){return sa(t,Nc.store)}function s9(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Of=function(t,e){this.progress=t,this.wn=e},Wg=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(s){return r.yn(e,n,s)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(s){for(var l=0,g=r;l<g.length;l++)g[l].applyToLocalView(s);return s})},t.prototype.gn=function(e,n){e.forEach(function(r,s){for(var l=0,g=n;l<g.length;l++)g[l].applyToLocalView(s)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(s){return r.En(e,s).next(function(){return s})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(s){return r.gn(n,s)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return St.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(e,n.path):d5(n)?this.In(e,n,r):this.An(e,n,r);var s},t.prototype.Tn=function(e,n){return this.mn(e,new St(n)).next(function(r){var s=C5();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})},t.prototype.In=function(e,n,r){var s=this,l=n.collectionGroup,g=C5();return this.Ut.getCollectionParents(e,l).next(function(_){return et.forEach(_,function(E){var N,R,x=(N=n,R=E.child(l),new ju(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));return s.An(e,x,r).next(function(N){N.forEach(function(R,H){g=g.insert(R,H)})})}).next(function(){return g})})},t.prototype.An=function(e,n,r){var s,l,g=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(_){return s=_,g._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(_){return g.Rn(e,l=_,s).next(function(E){s=E;for(var x=0,N=l;x<N.length;x++)for(var R=N[x],H=0,K=R.mutations;H<K.length;H++){var te=K[H],he=te.key,Ie=s.get(he);null==Ie&&(Ie=No.newInvalidDocument(he),s=s.insert(he,Ie)),_5(te,Ie,R.localWriteTime),Ie.isFoundDocument()||(s=s.remove(he))}})}).next(function(){return s.forEach(function(_,E){C8(n,E)||(s=s.remove(_))}),s})},t.prototype.Rn=function(e,n,r){for(var s=Wn(),l=0,g=n;l<g.length;l++)for(var _=0,E=g[l].mutations;_<E.length;_++){var x=E[_];x instanceof Zu&&null===r.get(x.key)&&(s=s.add(x.key))}var N=r;return this.Ue.getEntries(e,s).next(function(R){return R.forEach(function(H,K){K.isFoundDocument()&&(N=N.insert(H,K))}),N})},t}(),Kg=function(){function t(e,n,r,s){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=s}return t.Pn=function(e,n){for(var r=Wn(),s=Wn(),l=0,g=n.docChanges;l<g.length;l++){var _=g[l];switch(_.type){case 0:r=r.add(_.doc.key);break;case 1:s=s.add(_.doc.key)}}return new t(e,n.fromCache,r,s)},t}(),Yg=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,s){var g,l=this;return 0===(g=n).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||r.isEqual(ht.min())?this.Dn(e,n):this.Sn.pn(e,s).next(function(g){var _=l.Cn(n,g);return(f5(n)||_8(n))&&l.Nn(n.limitType,_,s,r)?l.Dn(e,n):(In()<=ne.LogLevel.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),h6(n)),l.Sn.getDocumentsMatchingQuery(e,n,r).next(function(E){return _.forEach(function(x){E=E.insert(x.key,x)}),E}))})},t.prototype.Cn=function(e,n){var r=new Fi(m5(e));return n.forEach(function(s,l){C8(e,l)&&(r=r.add(l))}),r},t.prototype.Nn=function(e,n,r,s){if(r.size!==n.size)return!0;var l="F"===e?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)},t.prototype.Dn=function(e,n){return In()<=ne.LogLevel.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",h6(n)),this.Sn.getDocumentsMatchingQuery(e,n,ht.min())},t}(),Qg=function(){function t(e,n,r,s){this.persistence=e,this.xn=n,this.R=s,this.kn=new Xo(Y),this.Fn=new C6(function(l){return f6(l)},l5),this.$n=ht.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Wg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();function Jg(t,e,n,r){return new Qg(t,e,n,r)}function a9(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return n=S(t),r=n._n,s=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(_){var E;return n._n.getAllMutationBatches(_).next(function(x){return E=x,r=n.persistence.getMutationQueue(e),s=new Wg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(_)}).next(function(x){for(var N=[],R=[],H=Wn(),K=0,te=E;K<te.length;K++){var he=te[K];N.push(he.batchId);for(var Ie=0,Oe=he.mutations;Ie<Oe.length;Ie++)H=H.add(Oe[Ie].key)}for(var $e=0,gt=x;$e<gt.length;$e++){var Je=gt[$e];R.push(Je.batchId);for(var Ut=0,fr=Je.mutations;Ut<fr.length;Ut++)H=H.add(fr[Ut].key)}return s.pn(_,H).next(function(Gr){return{Ln:Gr,removedBatchIds:N,addedBatchIds:R}})})})];case 1:return l=g.sent(),[2,(n._n=r,n.Mn=s,n.xn.Vn(n.Mn),l)]}})})}function Mb(t,e){var n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var g,_,E,x,N,R,H,s=e.batch.keys(),l=n.On.newChangeBuffer({trackRemovals:!0});return(g=n,_=r,E=e,x=l,N=E.batch,R=N.keys(),H=et.resolve(),R.forEach(function(K){H=H.next(function(){return x.getEntry(_,K)}).next(function(te){var he=E.docVersions.get(K);T(null!==he),te.version.compareTo(he)<0&&(N.applyToRemoteDocument(te,E),te.isValidDocument()&&x.addEntry(te,E.commitVersion))})}),H.next(function(){return g._n.removeMutationBatch(_,N)})).next(function(){return l.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,s)})})}function N5(t){var e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Ib(t,e){var n=S(t),r=e.snapshotVersion,s=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(l){var g=n.On.newChangeBuffer({trackRemovals:!0});s=n.kn;var _=[];e.targetChanges.forEach(function(N,R){var he,Ie,Oe,H=s.get(R);if(H){_.push(n.qe.removeMatchingKeys(l,N.removedDocuments,R).next(function(){return n.qe.addMatchingKeys(l,N.addedDocuments,R)}));var K=N.resumeToken;if(K.approximateByteSize()>0){var te=H.withResumeToken(K,r).withSequenceNumber(l.currentSequenceNumber);s=s.insert(R,te),he=H,Oe=N,T((Ie=te).resumeToken.approximateByteSize()>0),(0===he.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&_.push(n.qe.updateTargetData(l,te))}}});var E=R1();if(e.documentUpdates.forEach(function(N,R){e.resolvedLimboDocuments.has(N)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(l,N))}),_.push(c9(l,g,e.documentUpdates,r,void 0).next(function(N){E=N})),!r.isEqual(ht.min())){var x=n.qe.getLastRemoteSnapshotVersion(l).next(function(N){return n.qe.setTargetsMetadata(l,l.currentSequenceNumber,r)});_.push(x)}return et.waitFor(_).next(function(){return g.apply(l)}).next(function(){return n.Mn.En(l,E)}).next(function(){return E})}).then(function(l){return n.kn=s,l})}function c9(t,e,n,r,s){var l=Wn();return n.forEach(function(g){return l=l.add(g)}),e.getEntries(t,l).next(function(g){var _=R1();return n.forEach(function(E,x){var N=g.get(E),R=(null==s?void 0:s.get(E))||r;x.isNoDocument()&&x.version.isEqual(ht.min())?(e.removeEntry(E,R),_=_.insert(E,x)):!N.isValidDocument()||x.version.compareTo(N.version)>0||0===x.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(x,R),_=_.insert(E,x)):tt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",N.version," Watch version:",x.version)}),_})}function Xg(t,e){var n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Rf(t,e){var n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var s;return n.qe.getTargetData(r,e).next(function(l){return l?et.resolve(s=l):n.qe.allocateTargetId(r).next(function(g){return s=new M5(e,g,0,r.currentSequenceNumber),n.qe.addTargetData(r,s).next(function(){return s})})})}).then(function(r){var s=n.kn.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Pf(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:r=S(t),s=r.kn.get(e),l=n?"readwrite":"readwrite-primary",_.label=1;case 1:return _.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",l,function(E){return r.persistence.referenceDelegate.removeTarget(E,s)})];case 2:_.sent(),_.label=3;case 3:return[3,5];case 4:if(!If(g=_.sent()))throw g;return tt("LocalStore","Failed to update sequence numbers for target "+e+": "+g),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(s.target),[2]}})})}function k5(t,e,n){var r=S(t),s=ht.min(),l=Wn();return r.persistence.runTransaction("Execute query","readonly",function(g){return(_=r,E=g,x=k2(e),N=S(_),R=N.Fn.get(x),void 0!==R?et.resolve(N.kn.get(R)):N.qe.getTargetData(E,x)).next(function(_){if(_)return s=_.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(g,_.targetId).next(function(E){l=E})}).next(function(){return r.xn.getDocumentsMatchingQuery(g,e,n?s:ht.min(),n?l:Wn())}).next(function(_){return{documents:_,Bn:l}});var _,E,x,N,R})}function L5(t,e){var n=S(t),r=S(n.qe),s=n.kn.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",function(l){return r.lt(l,e).next(function(g){return g?g.target:null})})}function ev(t){var e=S(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return s=n,l=e.$n,g=S(e.On),_=R1(),E=Hg(l),x=F1(s),N=IDBKeyRange.lowerBound(E,!0),x.$t({index:qr.readTimeIndex,range:N},function(R,H){var K=xf(g.R,H);_=_.insert(K.key,K),E=H.readTime}).next(function(){return{wn:_,readTime:J7(E)}});var s,l,g,_,E,x,N}).then(function(n){var r=n.wn;return e.$n=n.readTime,r})}function tv(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){return[2,(e=S(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return l=F1(r),g=ht.min(),l.$t({index:qr.readTimeIndex,reverse:!0},function(_,E,x){E.readTime&&(g=J7(E.readTime)),x.done()}).next(function(){return g});var l,g}).then(function(r){e.$n=r})]})})}function xb(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,_,E,x,N,R,H,K;return(0,L.__generator)(this,function(te){switch(te.label){case 0:for(s=S(t),l=Wn(),g=R1(),_=Eg(),E=0,x=n;E<x.length;E++)R=e.qn((N=x[E]).metadata.name),N.document&&(l=l.add(R)),g=g.insert(R,e.Un(N)),_=_.insert(R,e.Kn(N.metadata.readTime));return H=s.On.newChangeBuffer({trackRemovals:!0}),[4,Rf(s,(he=r,k2(vf(gn.fromString("__bundle__/docs/"+he)))))];case 1:return K=te.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(he){return c9(he,H,g,ht.min(),_).next(function(Ie){return H.apply(he),Ie}).next(function(Ie){return s.qe.removeMatchingKeysForTargetId(he,K.targetId).next(function(){return s.qe.addMatchingKeys(he,l,K.targetId)}).next(function(){return s.Mn.En(he,Ie)}).next(function(){return Ie})})})]}var he})})}function Sb(t,e,n){return void 0===n&&(n=Wn()),(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,Rf(t,k2(I5(e.bundledQuery)))];case 1:return r=l.sent(),[2,(s=S(t)).persistence.runTransaction("Save named query","readwrite",function(g){var _=_i(e.readTime);if(r.snapshotVersion.compareTo(_)>=0)return s.Ke.saveNamedQuery(g,e);var E=r.withResumeToken(Jo.EMPTY_BYTE_STRING,_);return s.kn=s.kn.insert(E.targetId,E),s.qe.updateTargetData(g,E).next(function(){return s.qe.removeMatchingKeysForTargetId(g,r.targetId)}).next(function(){return s.qe.addMatchingKeys(g,n,r.targetId)}).next(function(){return s.Ke.saveNamedQuery(g,e)})})]}})})}var Db=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return et.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:_i(r.createTime)}),et.resolve()},t.prototype.getNamedQuery=function(e,n){return et.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,{name:(r=n).name,query:I5(r.bundledQuery),readTime:_i(r.readTime)}),et.resolve();var r},t}(),u9=function(){function t(){this.Wn=new Fi(so.Gn),this.zn=new Fi(so.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new so(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(s){return r.addReference(s,n)})},t.prototype.removeReference=function(e,n){this.Yn(new so(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(s){return r.removeReference(s,n)})},t.prototype.Zn=function(e){var n=this,r=new St(new gn([])),s=new so(r,e),l=new so(r,e+1),g=[];return this.zn.forEachInRange([s,l],function(_){n.Yn(_),g.push(_.key)}),g},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new St(new gn([])),r=new so(n,e),s=new so(n,e+1),l=Wn();return this.zn.forEachInRange([r,s],function(g){l=l.add(g.key)}),l},t.prototype.containsKey=function(e){var n=new so(e,0),r=this.Wn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)},t}(),so=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return St.comparator(e.key,n.key)||Y(e.ns,n.ns)},t.Hn=function(e,n){return Y(e.ns,n.ns)||St.comparator(e.key,n.key)},t}(),Nb=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Fi(so.Gn)}return t.prototype.checkEmpty=function(e){return et.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,n,r,s){var l=this.ss;this.ss++;var g=new Q7(l,n,r,s);this._n.push(g);for(var _=0,E=s;_<E.length;_++){var x=E[_];this.rs=this.rs.add(new so(x.key,l)),this.Ut.addToCollectionParentIndex(e,x.key.path.popLast())}return et.resolve(g)},t.prototype.lookupMutationBatch=function(e,n){return et.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var s=this.cs(n+1),l=s<0?0:s;return et.resolve(this._n.length>l?this._n[l]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return et.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return et.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,s=new so(n,0),l=new so(n,Number.POSITIVE_INFINITY),g=[];return this.rs.forEachInRange([s,l],function(_){var E=r.os(_.ns);g.push(E)}),et.resolve(g)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,s=new Fi(Y);return n.forEach(function(l){var g=new so(l,0),_=new so(l,Number.POSITIVE_INFINITY);r.rs.forEachInRange([g,_],function(E){s=s.add(E.ns)})}),et.resolve(this.us(s))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,s=r.length+1,l=r;St.isDocumentKey(l)||(l=l.child(""));var g=new so(new St(l),0),_=new Fi(Y);return this.rs.forEachWhile(function(E){var x=E.key.path;return!!r.isPrefixOf(x)&&(x.length===s&&(_=_.add(E.ns)),!0)},g),et.resolve(this.us(_))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(s){var l=n.os(s);null!==l&&r.push(l)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;T(0===this.hs(n.batchId,"removed")),this._n.shift();var s=this.rs;return et.forEach(n.mutations,function(l){var g=new so(l.key,n.batchId);return s=s.delete(g),r.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(function(){r.rs=s})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new so(n,0),s=this.rs.firstAfterOrEqual(r);return et.resolve(n.isEqual(s&&s.key))},t.prototype.performConsistencyCheck=function(e){return et.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),kb=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Xo(St.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var s=n.key,l=this.docs.get(s),g=l?l.size:0,_=this.ls(n);return this.docs=this.docs.insert(s,{document:n.clone(),size:_,readTime:r}),this.size+=_-g,this.Ut.addToCollectionParentIndex(e,s.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return et.resolve(r?r.document.clone():No.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,s=R1();return n.forEach(function(l){var g=r.docs.get(l);s=s.insert(l,g?g.document.clone():No.newInvalidDocument(l))}),et.resolve(s)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var s=R1(),l=new St(n.path.child("")),g=this.docs.getIteratorFrom(l);g.hasNext();){var _=g.getNext(),x=_.value,N=x.document,R=x.readTime;if(!n.path.isPrefixOf(_.key.path))break;R.compareTo(r)<=0||C8(n,N)&&(s=s.insert(N.key,N.clone()))}return et.resolve(s)},t.prototype.fs=function(e,n){return et.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new Lb(this)},t.prototype.getSize=function(e){return et.resolve(this.size)},t}(),Lb=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return(0,L.__extends)(e,t),e.prototype.applyChanges=function(n){var r=this,s=[];return this.changes.forEach(function(l,g){g.document.isValidDocument()?s.push(r.Ie.addEntry(n,g.document,r.getReadTime(l))):r.Ie.removeEntry(l)}),et.waitFor(s)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(k8),nv=function(){function t(e){this.persistence=e,this.ds=new C6(function(n){return f6(n)},l5),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.ws=0,this._s=new u9,this.targetCount=0,this.ys=x5.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,s){return n(s)}),et.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return et.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return et.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),et.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),et.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new x5(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,et.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),et.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,et.resolve()},t.prototype.removeTargets=function(e,n,r){var s=this,l=0,g=[];return this.ds.forEach(function(_,E){E.sequenceNumber<=n&&null===r.get(E.targetId)&&(s.ds.delete(_),g.push(s.removeMatchingKeysForTargetId(e,E.targetId)),l++)}),et.waitFor(g).next(function(){return l})},t.prototype.getTargetCount=function(e){return et.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return et.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),et.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(function(g){l.push(s.markPotentiallyOrphaned(e,g))}),et.waitFor(l)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),et.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return et.resolve(r)},t.prototype.containsKey=function(e,n){return et.resolve(this._s.containsKey(n))},t}(),rv=function(){function t(e,n){var r=this;this.gs={},this.Ne=new io(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new nv(this),this.Ut=new S8,this.Ue=new kb(this.Ut,function(g){return r.referenceDelegate.ps(g)}),this.R=new x8(n),this.Ke=new Db(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new Nb(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var s=this;tt("MemoryPersistence","Starting transaction:",e);var l=new Ob(this.Ne.next());return this.referenceDelegate.Es(),r(l).next(function(g){return s.referenceDelegate.Ts(l).next(function(){return g})}).toPromise().then(function(g){return l.raiseOnCommittedEvent(),g})},t.prototype.Is=function(e,n){return et.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),Ob=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return(0,L.__extends)(e,t),e}(Y7),Rb=function(){function t(e){this.persistence=e,this.As=new u9,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw b()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),et.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),et.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),et.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(l){return r.vs.add(l.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(function(l){l.forEach(function(g){return r.vs.add(g.toString())})}).next(function(){return s.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.vs,function(s){var l=St.fromPath(s);return n.Ps(e,l).next(function(g){g||r.removeEntry(l)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(s){s?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return et.or([function(){return et.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),ao=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function iv(t,e){return"firestore_clients_"+t+"_"+e}function ov(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function l9(t,e){return"firestore_targets_"+t+"_"+e}ao.UNAUTHENTICATED=new ao(null),ao.GOOGLE_CREDENTIALS=new ao("google-credentials-uid"),ao.FIRST_PARTY=new ao("first-party-uid"),ao.MOCK_USER=new ao("mock-user");var O5=function(){function t(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}return t.Vs=function(e,n,r){var s,l=JSON.parse(r),g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(s=new Pe(l.error.code,l.error.message)),g?new t(e,n,l.state,s):(Br("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),L8=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,s=JSON.parse(n),l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(r=new Pe(s.error.code,s.error.message)),l?new t(e,s.state,r):(Br("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),f9=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),s="object"==typeof r&&r.activeTargetIds instanceof Array,l=T8(),g=0;s&&g<r.activeTargetIds.length;++g)s=E7(r.activeTargetIds[g]),l=l.add(r.activeTargetIds[g]);return s?new t(e,l):(Br("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),h9=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Br("SharedClientState","Failed to parse online state: "+e),null)},t}(),d9=function(){function t(){this.activeTargetIds=T8()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),p9=function(){function t(e,n,r,s,l){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Xo(Y),this.started=!1,this.$s=[];var g=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Os=iv(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new d9),this.Ls=new RegExp("^firestore_clients_"+g+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+g+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+g+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(_){return"firestore_bundle_loaded_"+_}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,l,g,_,E,x,N,H=this;return(0,L.__generator)(this,function(K){switch(K.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=K.sent(),n=0,r=e;n<r.length;n++)(s=r[n])!==this.Ns&&(l=this.getItem(iv(this.persistenceKey,s)))&&(g=f9.Vs(s,l))&&(this.Fs=this.Fs.insert(g.clientId,g));for(this.Qs(),(_=this.storage.getItem(this.Us))&&(E=this.js(_))&&this.Ws(E),x=0,N=this.$s;x<N.length;x++)this.ks(N[x]);return this.$s=[],this.window.addEventListener("pagehide",function(){return H.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,s){s.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(l9(this.persistenceKey,e));if(r){var s=L8.Vs(e,r);s&&(n=s.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(l9(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var s=this;n.forEach(function(l){s.Hs(l)}),this.currentUser=e,r.forEach(function(l){s.addPendingMutation(l)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return tt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){tt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(tt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s,l,g,_,E,x;return(0,L.__generator)(this,function(N){if(this.started){if(null!==r.key)if(this.Ls.test(r.key)){if(null==r.newValue)return s=this.ti(r.key),[2,this.ei(s,null)];if(l=this.ni(r.key,r.newValue))return[2,this.ei(l.clientId,l)]}else if(this.Bs.test(r.key)){if(null!==r.newValue&&(g=this.si(r.key,r.newValue)))return[2,this.ii(g)]}else if(this.qs.test(r.key)){if(null!==r.newValue&&(_=this.ri(r.key,r.newValue)))return[2,this.oi(_)]}else if(r.key===this.Us){if(null!==r.newValue&&(E=this.js(r.newValue)))return[2,this.Ws(E)]}else if(r.key===this.Ms)(x=function(R){var H=io.o;if(null!=R)try{var K=JSON.parse(R);T("number"==typeof K),H=K}catch(te){Br("SharedClientState","Failed to read sequence number from WebStorage",te)}return H}(r.newValue))!==io.o&&this.sequenceNumberHandler(x);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var s=new O5(this.currentUser,e,n,r),l=ov(this.persistenceKey,this.currentUser,e);this.setItem(l,s.Ss())},t.prototype.Hs=function(e){var n=ov(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,n,r){var s=l9(this.persistenceKey,e),l=new L8(e,n,r);this.setItem(s,l.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return f9.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),s=Number(r[1]);return O5.Vs(new ao(void 0!==r[2]?r[2]:null),s,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),s=Number(r[1]);return L8.Vs(s,n)},t.prototype.js=function(e){return h9.Vs(e)},t.prototype.ii=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(tt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,s=n?this.Fs.insert(e,n):this.Fs.remove(e),l=this.Gs(this.Fs),g=this.Gs(s),_=[],E=[];return g.forEach(function(x){l.has(x)||_.push(x)}),l.forEach(function(x){g.has(x)||E.push(x)}),this.syncEngine.hi(_,E).then(function(){r.Fs=s})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=T8();return e.forEach(function(r,s){n=n.unionWith(s.activeTargetIds)}),n},t}(),R5=function(){function t(){this.li=new d9,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new d9,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),Pb=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),m9=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sv=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),av=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return(0,L.__extends)(e,t),e.prototype.Fi=function(n,r,s,l){return new Promise(function(g,_){var E=new Fu;E.listenOnce(pf.COMPLETE,function(){try{switch(E.getLastErrorCode()){case Qo.NO_ERROR:var N=E.getResponseJson();tt("Connection","XHR received:",JSON.stringify(N)),g(N);break;case Qo.TIMEOUT:tt("Connection",'RPC "'+n+'" timed out'),_(new Pe(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:var R=E.getStatus();if(tt("Connection",'RPC "'+n+'" failed with status:',R,"response text:",E.getResponseText()),R>0){var H=E.getResponseJson().error;if(H&&H.status&&H.message){var K=(he=H.status.toLowerCase().replace(/_/g,"-"),Object.values(Ce).indexOf(he)>=0?he:Ce.UNKNOWN);_(new Pe(K,H.message))}else _(new Pe(Ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else _(new Pe(Ce.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{tt("Connection",'RPC "'+n+'" completed.')}var he});var x=JSON.stringify(l);E.send(r,"POST",x,s,15)})},e.prototype.Oi=function(n,r){var s=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=new o6,g=Ql(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new D2({})),this.ki(_.initMessageHeaders,r),(0,ut.isMobileCordova)()||(0,ut.isReactNative)()||(0,ut.isElectron)()||(0,ut.isIE)()||(0,ut.isUWP)()||(0,ut.isBrowserExtension)()||(_.httpHeadersOverwriteParam="$httpHeaders");var E=s.join("");tt("Connection","Creating WebChannel: "+E,_);var x=l.createWebChannel(E,_),N=!1,R=!1,H=new sv({Ei:function(te){R?tt("Connection","Not sending because WebChannel is closed:",te):(N||(tt("Connection","Opening WebChannel transport."),x.open(),N=!0),tt("Connection","WebChannel sending:",te),x.send(te))},Ti:function(){return x.close()}}),K=function(te,he,Ie){te.listen(he,function(Oe){try{Ie(Oe)}catch(Be){setTimeout(function(){throw Be},0)}})};return K(x,d4.EventType.OPEN,function(){R||tt("Connection","WebChannel transport opened.")}),K(x,d4.EventType.CLOSE,function(){R||(R=!0,tt("Connection","WebChannel transport closed"),H.Vi())}),K(x,d4.EventType.ERROR,function(te){R||(R=!0,a("Connection","WebChannel transport errored:",te),H.Vi(new Pe(Ce.UNAVAILABLE,"The operation could not be completed")))}),K(x,d4.EventType.MESSAGE,function(te){var he;if(!R){var Ie=te.data[0];T(!!Ie);var Be=Ie.error||(null===(he=Ie[0])||void 0===he?void 0:he.error);if(Be){tt("Connection","WebChannel received error:",Be);var $e=Be.status,gt=function(Ut){var fr=si[Ut];if(void 0!==fr)return H7(fr)}($e),Je=Be.message;void 0===gt&&(gt=Ce.INTERNAL,Je="Unknown error status: "+$e+" with message "+Be.message),R=!0,H.Vi(new Pe(gt,Je)),x.close()}else tt("Connection","WebChannel received:",Ie),H.Si(Ie)}}),K(g,n5.STAT_EVENT,function(te){te.stat===s6_PROXY?tt("Connection","Detected buffering proxy"):te.stat===s6_NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(function(){H.Pi()},0),H},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,s){var l=this.xi(e,n);tt("RestConnection","Sending: ",l,r);var g={};return this.ki(g,s),this.Fi(e,l,g,r).then(function(_){return tt("RestConnection","Received: ",_),_},function(_){throw a("RestConnection",e+" failed with error: ",_,"url: ",l,"request:",r),_})},t.prototype.$i=function(e,n,r,s){return this.Ni(e,n,r,s)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){return this.Di+"/v1/"+n+":"+zb[e]},t}());function g9(){return"undefined"!=typeof window?window:null}function v9(){return"undefined"!=typeof document?document:null}function O8(t){return new cb(t,!0)}var A4=function(){function t(e,n,r,s,l){void 0===r&&(r=1e3),void 0===s&&(s=1.5),void 0===l&&(l=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=s,this.Bi=l,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),l=Math.max(0,r-s);l>0&&tt("ExponentialBackoff","Backing off for "+l+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,l,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Vb=function(){function t(e,n,r,s,l,g){this.Se=e,this.zi=r,this.Hi=s,this.Ji=l,this.listener=g,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new A4(e,n)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===Ce.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(s){e.Yi===r&&e.lr(s)},function(s){n(function(){var l=new Pe(Ce.UNKNOWN,"Fetching auth token failed: "+s.message);return e.dr(l)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(s){r(function(){return n.dr(s)})}),this.stream.onMessage(function(s){r(function(){return n.onMessage(s)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return tt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),y9=function(t){function e(n,r,s,l,g){var _=this;return(_=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,s,g)||this).R=l,_}return(0,L.__extends)(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(l,g){var _,Ie;if("targetChange"in g){var E="NO_CHANGE"===(Ie=g.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ie?1:"REMOVE"===Ie?2:"CURRENT"===Ie?3:"RESET"===Ie?4:b(),x=g.targetChange.targetIds||[],N=function(Ie,Oe){return Ie.I?(T(void 0===Oe||"string"==typeof Oe),Jo.fromBase64String(Oe||"")):(T(void 0===Oe||Oe instanceof Uint8Array),Jo.fromUint8Array(Oe||new Uint8Array))}(l,g.targetChange.resumeToken),R=(H=g.targetChange.cause)&&function(Ie){var Oe=void 0===Ie.code?Ce.UNKNOWN:H7(Ie.code);return new Pe(Oe,Ie.message||"")}(H);_=new Tg(E,x,N,R||null)}else if("documentChange"in g){x=Dc(l,(E=g.documentChange).document.name),N=_i(E.document.updateTime);var H=new Va({mapValue:{fields:E.document.fields}}),K=(R=No.newFoundDocument(x,N,H),E.targetIds||[]);_=new wf(K,E.removedTargetIds||[],R.key,R)}else if("documentDelete"in g)x=Dc(l,(E=g.documentDelete).document),N=E.readTime?_i(E.readTime):ht.min(),H=No.newNoDocument(x,N),_=new wf([],R=E.removedTargetIds||[],H.key,H);else if("documentRemove"in g)x=Dc(l,(E=g.documentRemove).document),_=new wf([],N=E.removedTargetIds||[],x,null);else{if(!("filter"in g))return b();var he=g.filter;x=new ob(E=he.count||0),_=new L2(N=he.targetId,x)}return _}(this.R,n),s=function(l){if(!("targetChange"in l))return ht.min();var g=l.targetChange;return g.targetIds&&g.targetIds.length?ht.min():g.readTime?_i(g.readTime):ht.min()}(n);return this.listener._r(r,s)},e.prototype.mr=function(n){var l,g,_,E,r={};r.database=v4(this.R),r.addTarget=(l=this.R,(_=x7(E=(g=n).target)?{documents:q7(l,E)}:{query:Z7(l,E)}).targetId=g.targetId,g.resumeToken.approximateByteSize()>0?_.resumeToken=Sg(l,g.resumeToken):g.snapshotVersion.compareTo(ht.min())>0&&(_.readTime=M8(l,g.snapshotVersion.toTimestamp())),_);var s=function(l,g){var _=function(E,x){switch(x){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,g.purpose);return null==_?null:{"goog-listen-tags":_}}(0,n);s&&(r.labels=s),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=v4(this.R),r.removeTarget=n,this.cr(r)},e}(Vb),P5=function(t){function e(n,r,s,l,g){var _=this;return(_=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,s,g)||this).R=l,_.gr=!1,_}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(T(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=(g=n.commitTime,(l=n.writeResults)&&l.length>0?(T(void 0!==g),l.map(function(_){return x=g,(N=_i((E=_).updateTime?E.updateTime:x)).isEqual(ht.min())&&(N=_i(x)),new gg(N,E.transformResults||[]);var E,x,N})):[]),s=_i(n.commitTime);return this.listener.Tr(s,r)}var l,g;return T(!n.writeResults||0===n.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=v4(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,s={streamToken:this.lastStreamToken,writes:n.map(function(l){return Af(r.R,l)})};this.cr(s)},e}(Vb),Fb=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).credentials=n,l.Hi=r,l.R=s,l.Rr=!1,l}return(0,L.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new Pe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,s){var l=this;return this.br(),this.credentials.getToken().then(function(g){return l.Hi.Ni(n,r,s,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===Ce.UNAUTHENTICATED&&l.credentials.invalidateToken(),g):new Pe(Ce.UNKNOWN,g.toString())})},e.prototype.$i=function(n,r,s){var l=this;return this.br(),this.credentials.getToken().then(function(g){return l.Hi.$i(n,r,s,g)}).catch(function(g){throw"FirebaseError"===g.name?(g.code===Ce.UNAUTHENTICATED&&l.credentials.invalidateToken(),g):new Pe(Ce.UNKNOWN,g.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),zf=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Br(n),this.Vr=!1):tt("OnlineStateTracker",n)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Hb=function(t,e,n,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(g){n.enqueueAndForget(function(){return(0,L.__awaiter)(l,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return w6(this)?(tt("RemoteStore","Restarting streams for network reachability change."),[4,function(E){return(0,L.__awaiter)(this,void 0,void 0,function(){var x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return(x=S(E)).Or.add(4),[4,Vf(x)];case 1:return N.sent(),x.Br.set("Unknown"),x.Or.delete(4),[4,z5(x)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})})}),this.Br=new zf(n,r)};function z5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(!w6(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Vf(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ha(t,e){var n=S(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),b9(n)?_9(n):A6(n).er()&&cv(n,e))}function Ff(t,e){var n=S(t),r=A6(n);n.$r.delete(e),r.er()&&R8(n,e),0===n.$r.size&&(r.er()?r.ir():w6(n)&&n.Br.set("Unknown"))}function cv(t,e){t.qr.U(e.targetId),A6(t).mr(e)}function R8(t,e){t.qr.U(e),A6(t).yr(e)}function _9(t){t.qr=new Sc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),A6(t).start(),t.Br.Sr()}function b9(t){return w6(t)&&!A6(t).tr()&&t.$r.size>0}function w6(t){return 0===S(t).Or.size}function uv(t){t.qr=void 0}function Ub(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return t.$r.forEach(function(n,r){cv(t,n)}),[2]})})}function Bb(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return uv(t),b9(t)?(t.Br.Nr(e),_9(t)):t.Br.set("Unknown"),[2]})})}function C9(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:if(t.Br.set("Online"),!(e instanceof Tg&&2===e.state&&e.cause))return[3,6];g.label=1;case 1:return g.trys.push([1,3,,5]),[4,function(_,E){return(0,L.__awaiter)(this,void 0,void 0,function(){var x,N,R,H;return(0,L.__generator)(this,function(K){switch(K.label){case 0:x=E.cause,N=0,R=E.targetIds,K.label=1;case 1:return N<R.length?_.$r.has(H=R[N])?[4,_.remoteSyncer.rejectListen(H,x)]:[3,3]:[3,5];case 2:K.sent(),_.$r.delete(H),_.qr.removeTarget(H),K.label=3;case 3:K.label=4;case 4:return N++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return g.sent(),[3,5];case 3:return r=g.sent(),tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,P8(t,r)];case 4:return g.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wf?t.qr.X(e):e instanceof L2?t.qr.rt(e):t.qr.et(e),n.isEqual(ht.min()))return[3,13];g.label=7;case 7:return g.trys.push([7,11,,13]),[4,N5(t.localStore)];case 8:return s=g.sent(),n.compareTo(s)>=0?[4,(_=t,E=n,x=_.qr.ut(E),x.targetChanges.forEach(function(N,R){if(N.resumeToken.approximateByteSize()>0){var H=_.$r.get(R);H&&_.$r.set(R,H.withResumeToken(N.resumeToken,E))}}),x.targetMismatches.forEach(function(N){var R=_.$r.get(N);if(R){_.$r.set(N,R.withResumeToken(Jo.EMPTY_BYTE_STRING,R.snapshotVersion)),R8(_,N);var H=new M5(R.target,N,1,R.sequenceNumber);cv(_,H)}}),_.remoteSyncer.applyRemoteEvent(x))]:[3,10];case 9:g.sent(),g.label=10;case 10:return[3,13];case 11:return tt("RemoteStore","Failed to raise snapshot:",l=g.sent()),[4,P8(t,l)];case 12:return g.sent(),[3,13];case 13:return[2]}var _,E,x})})}function P8(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:if(!If(e))throw e;return t.Or.add(1),[4,Vf(t)];case 1:return s.sent(),t.Br.set("Offline"),n||(n=function(){return N5(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){return(0,L.__generator)(this,function(l){switch(l.label){case 0:return tt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return l.sent(),t.Or.delete(1),[4,z5(t)];case 2:return l.sent(),[2]}})})}),[2]}})})}function V5(t,e){return e().catch(function(n){return P8(t,n,e)})}function E6(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:e=S(t),n=T4(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,g.label=1;case 1:if(!(w6(_=e)&&_.Fr.length<10))return[3,7];g.label=2;case 2:return g.trys.push([2,4,,6]),[4,Xg(e.localStore,r)];case 3:return null===(s=g.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=s.batchId,function(_,E){_.Fr.push(E);var x=T4(_);x.er()&&x.pr&&x.Er(E.mutations)}(e,s),[3,6]);case 4:return l=g.sent(),[4,P8(e,l)];case 5:return g.sent(),[3,6];case 6:return[3,1];case 7:return lv(e)&&jb(e),[2]}var _})})}function lv(t){return w6(t)&&!T4(t).tr()&&t.Fr.length>0}function jb(t){T4(t).start()}function qb(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return T4(t).Ar(),[2]})})}function Zb(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(l){for(e=T4(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Gb(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return r=t.Fr.shift(),s=T5.from(r,e,n),[4,V5(t,function(){return t.remoteSyncer.applySuccessfulWrite(s)})];case 1:return l.sent(),[4,E6(t)];case 2:return l.sent(),[2]}})})}function fv(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return e&&T4(t).pr?[4,function(r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return _g(g=s.code)&&g!==Ce.ABORTED?(l=r.Fr.shift(),T4(r).sr(),[4,V5(r,function(){return r.remoteSyncer.rejectFailedWrite(l.batchId,s)})]):[3,3];case 1:return _.sent(),[4,E6(r)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lv(t)&&jb(t),[2]}})})}function F5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n=S(t),e?(n.Or.delete(2),[4,z5(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Vf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function A6(t){var n,r,s,l,e=this;return t.Ur||(t.Ur=(n=t.datastore,r=t.asyncQueue,s={Ii:Ub.bind(null,t),Ri:Bb.bind(null,t),_r:C9.bind(null,t)},(l=S(n)).br(),new y9(r,l.Hi,l.credentials,l.R,s)),t.Mr.push(function(n){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),b9(t)?_9(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),uv(t),r.label=3;case 3:return[2]}})})})),t.Ur}function T4(t){var n,r,s,l,e=this;return t.Kr||(t.Kr=(n=t.datastore,r=t.asyncQueue,s={Ii:qb.bind(null,t),Ri:fv.bind(null,t),Ir:Zb.bind(null,t),Tr:Gb.bind(null,t)},(l=S(n)).br(),new P5(r,l.Hi,l.credentials,l.R,s)),t.Mr.push(function(n){return(0,L.__awaiter)(e,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,E6(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(tt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var $b=function(){function t(e,n,r,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(g){})}return t.createAndSchedule=function(e,n,r,s,l){var g=new t(e,n,Date.now()+r,s,l);return g.start(r),g},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function T6(t,e){if(Br("AsyncQueue",e+": "+t),If(t))return new Pe(Ce.UNAVAILABLE,e+": "+t);throw t}var z8=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||St.comparator(n.key,r.key)}:function(n,r){return St.comparator(n.key,r.key)},this.keyedMap=C5(),this.sortedSet=new Xo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),hv=function(){function t(){this.Qr=new Xo(St.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?0!==e.type&&3===r.type?this.Qr=this.Qr.insert(n,e):3===e.type&&1!==r.type?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Qr=this.Qr.remove(n):1===e.type&&2===r.type?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):b():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),V8=function(){function t(e,n,r,s,l,g,_,E){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=g,this.syncStateChanged=_,this.excludesMetadataChanges=E}return t.fromInitialDocuments=function(e,n,r,s){var l=[];return n.forEach(function(g){l.push({type:0,doc:g})}),new t(e,n,z8.emptySet(n),l,r,s,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0},t}(),H5=function(){this.Wr=void 0,this.listeners=[]},U5=function(){this.queries=new C6(function(t){return nb(t)},b8),this.onlineState="Unknown",this.Gr=new Set};function M6(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:if(n=S(t),s=!1,(l=n.queries.get(r=e.query))||(s=!0,l=new H5),!s)return[3,4];x.label=1;case 1:return x.trys.push([1,3,,4]),g=l,[4,n.onListen(r)];case 2:return g.Wr=x.sent(),[3,4];case 3:return _=x.sent(),E=T6(_,"Initialization of query '"+h6(e.query)+"' failed"),[2,void e.onError(E)];case 4:return n.queries.set(r,l),l.listeners.push(e),e.zr(n.onlineState),l.Wr&&e.Hr(l.Wr)&&E9(n),[2]}})})}function w9(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g;return(0,L.__generator)(this,function(_){return n=S(t),s=!1,(l=n.queries.get(r=e.query))&&(g=l.listeners.indexOf(e))>=0&&(l.listeners.splice(g,1),s=0===l.listeners.length),s?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Wb(t,e){for(var n=S(t),r=!1,s=0,l=e;s<l.length;s++){var g=l[s],E=n.queries.get(g.query);if(E){for(var x=0,N=E.listeners;x<N.length;x++)N[x].Hr(g)&&(r=!0);E.Wr=g}}r&&E9(n)}function sA(t,e,n){var r=S(t),s=r.queries.get(e);if(s)for(var l=0,g=s.listeners;l<g.length;l++)g[l].onError(n);r.queries.delete(e)}function E9(t){t.Gr.forEach(function(e){e.next()})}var A9=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,s=e.docChanges;r<s.length;r++){var l=s[r];3!==l.type&&n.push(l)}e=new V8(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var g=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),g=!0):this.eo(e,this.onlineState)&&(this.no(e),g=!0),this.Xr=e,g},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){return!e.fromCache||!(this.options.so&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=V8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),Kb=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dv=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Dc(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?j7(this.R,e.document,!1):No.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return _i(e)},t}(),Yb=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=pv(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new dv(this.R),s=0,l=e;s<l.length;s++){var g=l[s];if(g.metadata.queries)for(var _=r.qn(g.metadata.name),E=0,x=g.metadata.queries;E<x.length;E++){var N=x[E],R=(n.get(N)||Wn()).add(_);n.set(N,R)}}return n},t.prototype.complete=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return[4,xb(this.localStore,new dv(this.R),this.documents,this.ro.id)];case 1:e=g.sent(),n=this.co(this.documents),r=0,s=this.queries,g.label=2;case 2:return r<s.length?[4,Sb(this.localStore,l=s[r],n.get(l.name))]:[3,5];case 3:g.sent(),g.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Of(Object.assign({},this.progress),e))]}})})},t}();function pv(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var mv=function(t){this.key=t},gv=function(t){this.key=t},vv=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=Wn(),this.mutatedKeys=Wn(),this.lo=m5(e),this.fo=new z8(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,s=n?n.mo:new hv,l=n?n.fo:this.fo,g=n?n.mutatedKeys:this.mutatedKeys,_=l,E=!1,x=f5(this.query)&&l.size===this.query.limit?l.last():null,N=_8(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(function(H,K){var te=l.get(H),he=C8(r.query,K)?K:null,Ie=!!te&&r.mutatedKeys.has(te.key),Oe=!!he&&(he.hasLocalMutations||r.mutatedKeys.has(he.key)&&he.hasCommittedMutations),Be=!1;te&&he?te.data.isEqual(he.data)?Ie!==Oe&&(s.track({type:3,doc:he}),Be=!0):r.yo(te,he)||(s.track({type:2,doc:he}),Be=!0,(x&&r.lo(he,x)>0||N&&r.lo(he,N)<0)&&(E=!0)):!te&&he?(s.track({type:0,doc:he}),Be=!0):te&&!he&&(s.track({type:1,doc:te}),Be=!0,(x||N)&&(E=!0)),Be&&(he?(_=_.add(he),g=Oe?g.add(H):g.delete(H)):(_=_.delete(H),g=g.delete(H)))}),f5(this.query)||_8(this.query))for(;_.size>this.query.limit;){var R=f5(this.query)?_.last():_.first();_=_.delete(R.key),g=g.delete(R.key),s.track({type:1,doc:R})}return{fo:_,mo:s,Nn:E,mutatedKeys:g}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var s=this,l=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var g=e.mo.jr();g.sort(function(N,R){return K=R.type,(te=function(he){switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}})(N.type)-te(K)||s.lo(N.doc,R.doc);var K,te}),this.po(r);var _=n?this.Eo():[],E=0===this.ho.size&&this.current?1:0,x=E!==this.ao;return this.ao=E,0!==g.length||x?{snapshot:new V8(this.query,e.fo,l,g,e.mutatedKeys,0===E,x,!1),To:_}:{To:_}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Wn(),this.fo.forEach(function(s){e.Io(s.key)&&(e.ho=e.ho.add(s.key))});var r=[];return n.forEach(function(s){e.ho.has(s)||r.push(new gv(s))}),this.ho.forEach(function(s){n.has(s)||r.push(new mv(s))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Wn();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return V8.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),aA=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Qb=function(t){this.key=t,this.bo=!1},F8=function(){function t(e,n,r,s,l,g){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=g,this.vo={},this.Po=new C6(function(_){return nb(_)},b8),this.Vo=new Map,this.So=new Set,this.Do=new Xo(St.comparator),this.Co=new Map,this.No=new u9,this.xo={},this.ko=new Map,this.Fo=x5.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Jb(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,l,g,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return n=x6(t),(l=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ro(),[3,4]):[3,1];case 1:return[4,Rf(n.localStore,k2(e))];case 2:return g=E.sent(),_=n.sharedClientState.addLocalQueryTarget(g.targetId),[4,T9(n,e,g.targetId,"current"===_)];case 3:s=E.sent(),n.isPrimaryClient&&Ha(n.remoteStore,g),E.label=4;case 4:return[2,s]}})})}function T9(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,_,E,x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return t.Oo=function(R,H,K){return function(te,he,Ie,Oe){return(0,L.__awaiter)(this,void 0,void 0,function(){var Be,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return(Be=he.view._o(Ie)).Nn?[4,k5(te.localStore,he.query,!1).then(function(Ut){return he.view._o(Ut.documents,Be)})]:[3,2];case 1:Be=Je.sent(),Je.label=2;case 2:return $e=Oe&&Oe.targetChanges.get(he.targetId),gt=he.view.applyChanges(Be,te.isPrimaryClient,$e),[2,(H8(te,he.targetId,gt.To),gt.snapshot)]}})})}(t,R,H,K)},[4,k5(t.localStore,e,!0)];case 1:return s=N.sent(),l=new vv(e,s.Bn),g=l._o(s.documents),_=w5.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),E=l.applyChanges(g,t.isPrimaryClient,_),H8(t,n,E.To),x=new aA(e,n,l),[2,(t.Po.set(e,x),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),E.snapshot)]}})})}function Xb(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return n=S(t),r=n.Po.get(e),(s=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,s.filter(function(g){return!b8(g,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ff(n.remoteStore,r.targetId),I6(n,r.targetId)}).catch(E4)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return I6(n,r.targetId),[4,Pf(n.localStore,r.targetId,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})}function B5(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:r=Cv(t),_.label=1;case 1:return _.trys.push([1,5,,6]),[4,(E=r.localStore,x=e,R=S(E),H=bt.now(),K=x.reduce(function(te,he){return te.add(he.key)},Wn()),R.persistence.runTransaction("Locally write mutations","readwrite",function(te){return R.Mn.pn(te,K).next(function(he){N=he;for(var Ie=[],Oe=0,Be=x;Oe<Be.length;Oe++){var $e=Be[Oe],gt=vg($e,N.get($e.key));null!=gt&&Ie.push(new Zu($e.key,gt,K_(gt.value.mapValue),ko.exists(!0)))}return R._n.addMutationBatch(te,H,Ie,x)})}).then(function(te){return te.applyToLocalDocumentSet(N),{batchId:te.batchId,changes:N}}))];case 2:return s=_.sent(),r.sharedClientState.addPendingMutation(s.batchId),function(E,x,N){var R=E.xo[E.currentUser.toKey()];R||(R=new Xo(Y)),R=R.insert(x,N),E.xo[E.currentUser.toKey()]=R}(r,s.batchId,n),[4,Wu(r,s.changes)];case 3:return _.sent(),[4,E6(r.remoteStore)];case 4:return _.sent(),[3,6];case 5:return l=_.sent(),g=T6(l,"Failed to persist write"),n.reject(g),[3,6];case 6:return[2]}var E,x,N,R,H,K})})}function M4(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:n=S(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Ib(n.localStore,e)];case 2:return r=s.sent(),e.targetChanges.forEach(function(l,g){var _=n.Co.get(g);_&&(T(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.bo=!0:l.modifiedDocuments.size>0?T(_.bo):l.removedDocuments.size>0&&(T(_.bo),_.bo=!1))}),[4,Wu(n,r,e)];case 3:return s.sent(),[3,6];case 4:return[4,E4(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function M9(t,e,n){var r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var s=[];r.Po.forEach(function(l,g){var _=g.view.zr(e);_.snapshot&&s.push(_.snapshot)}),function(l,g){var _=S(l);_.onlineState=g;var E=!1;_.queries.forEach(function(x,N){for(var R=0,H=N.listeners;R<H.length;R++)H[R].zr(g)&&(E=!0)}),E&&E9(_)}(r.eventManager,e),s.length&&r.vo._r(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return(r=S(t)).sharedClientState.updateQueryState(e,"rejected",n),s=r.Co.get(e),(l=s&&s.key)?(g=(g=new Xo(St.comparator)).insert(l,No.newNoDocument(l,ht.min())),_=Wn().add(l),E=new Ag(ht.min(),new Map,new Fi(Y),g,_),[4,M4(r,E)]):[3,2];case 1:return x.sent(),r.Do=r.Do.remove(l),r.Co.delete(e),q5(r),[3,4];case 2:return[4,Pf(r.localStore,e,!1).then(function(){return I6(r,e,n)}).catch(E4)];case 3:x.sent(),x.label=4;case 4:return[2]}})})}function cA(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:n=S(t),r=e.batch.batchId,l.label=1;case 1:return l.trys.push([1,4,,6]),[4,Mb(n.localStore,e)];case 2:return s=l.sent(),x9(n,r,null),I9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Wu(n,s)];case 3:return l.sent(),[3,6];case 4:return[4,E4(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}})})}function tC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:r=S(t),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,(g=r.localStore,_=e,E=S(g),E.persistence.runTransaction("Reject batch","readwrite-primary",function(x){var N;return E._n.lookupMutationBatch(x,_).next(function(R){return T(null!==R),N=R.keys(),E._n.removeMutationBatch(x,R)}).next(function(){return E._n.performConsistencyCheck(x)}).next(function(){return E.Mn.pn(x,N)})}))];case 2:return s=l.sent(),x9(r,e,n),I9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Wu(r,s)];case 3:return l.sent(),[3,6];case 4:return[4,E4(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}var g,_,E})})}function j5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:w6((n=S(t)).remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,(E=n.localStore,x=S(E),x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(N){return x._n.getHighestUnacknowledgedBatchId(N)}))];case 2:return-1===(r=_.sent())?[2,void e.resolve()]:((s=n.ko.get(r)||[]).push(e),n.ko.set(r,s),[3,4]);case 3:return l=_.sent(),g=T6(l,"Initialization of waitForPendingWrites() operation failed"),e.reject(g),[3,4];case 4:return[2]}var E,x})})}function I9(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function x9(t,e,n){var r=S(t),s=r.xo[r.currentUser.toKey()];if(s){var l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),r.xo[r.currentUser.toKey()]=s}}function I6(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,s=t.Vo.get(e);r<s.length;r++){var l=s[r];t.Po.delete(l),n&&t.vo.Mo(l,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(g){t.No.containsKey(g)||S9(t,g)})}function S9(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ff(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),q5(t))}function H8(t,e,n){for(var r=0,s=n;r<s.length;r++){var l=s[r];l instanceof mv?(t.No.addReference(l.key,e),yv(t,l)):l instanceof gv?(tt("SyncEngine","Document no longer in limbo: "+l.key),t.No.removeReference(l.key,e),t.No.containsKey(l.key)||S9(t,l.key)):b()}}function yv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(tt("SyncEngine","New document in limbo: "+n),t.So.add(r),q5(t))}function q5(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new St(gn.fromString(e)),r=t.Fo.next();t.Co.set(r,new Qb(n)),t.Do=t.Do.insert(n,r),Ha(t.remoteStore,new M5(k2(vf(n.path)),r,2,io.o))}}function Wu(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r=S(t),s=[],l=[],g=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(E,x){g.push(r.Oo(x,e,n).then(function(N){if(N){r.isPrimaryClient&&r.sharedClientState.updateQueryState(x.targetId,N.fromCache?"not-current":"current"),s.push(N);var R=Kg.Pn(x.targetId,N);l.push(R)}}))}),[4,Promise.all(g)]);case 1:return _.sent(),r.vo._r(s),[4,function(E,x){return(0,L.__awaiter)(this,void 0,void 0,function(){var N,R,H,K,te,he,Ie,Be;return(0,L.__generator)(this,function($e){switch($e.label){case 0:N=S(E),$e.label=1;case 1:return $e.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gt){return et.forEach(x,function(Je){return et.forEach(Je.bn,function(Ut){return N.persistence.referenceDelegate.addReference(gt,Je.targetId,Ut)}).next(function(){return et.forEach(Je.vn,function(Ut){return N.persistence.referenceDelegate.removeReference(gt,Je.targetId,Ut)})})})})];case 2:return $e.sent(),[3,4];case 3:if(!If(R=$e.sent()))throw R;return tt("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(H=0,K=x;H<K.length;H++)he=(te=K[H]).targetId,te.fromCache||(Ie=N.kn.get(he),Be=Ie.withLastLimboFreeSnapshotVersion(Ie.snapshotVersion),N.kn=N.kn.insert(he,Be));return[2]}})})}(r.localStore,l)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function nC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return(n=S(t)).currentUser.isEqual(e)?[3,3]:(tt("SyncEngine","User change. New user:",e.toKey()),[4,a9(n.localStore,e)]);case 1:return r=s.sent(),n.currentUser=e,(l=n).ko.forEach(function(_){_.forEach(function(E){E.reject(new Pe(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Wu(n,r.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var l})})}function _v(t,e){var n=S(t),r=n.Co.get(e);if(r&&r.bo)return Wn().add(r.key);var s=Wn(),l=n.Vo.get(e);if(!l)return s;for(var g=0,_=l;g<_.length;g++){var x=n.Po.get(_[g]);s=s.unionWith(x.view.wo)}return s}function rC(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,k5((n=S(t)).localStore,e.query,!0)];case 1:return r=l.sent(),s=e.view.Ao(r),[2,(n.isPrimaryClient&&H8(n,e.targetId,s.To),s)]}})})}function bv(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){return[2,ev((e=S(t)).localStore).then(function(r){return Wu(e,r)})]})})}function Z5(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return[4,(_=(s=S(t)).localStore,E=e,x=S(_),N=S(x._n),x.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return N.jt(R,E).next(function(H){return H?x.Mn.pn(R,H):et.resolve(null)})}))];case 1:return null===(l=g.sent())?[3,6]:"pending"!==n?[3,3]:[4,E6(s.remoteStore)];case 2:return g.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(x9(s,e,r||null),I9(s,e),function(_,E){S(S(_)._n).Gt(E)}(s.localStore,e)):b(),g.label=4;case 4:return[4,Wu(s,l)];case 5:return g.sent(),[3,7];case 6:tt("SyncEngine","Cannot apply mutation batch with id: "+e),g.label=7;case 7:return[2]}var _,E,x,N})})}function G5(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g,E,x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return x6(n=S(t)),Cv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,iC(n,r.toArray())]);case 1:return s=N.sent(),n.$o=!0,[4,F5(n.remoteStore,!0)];case 2:for(N.sent(),l=0,g=s;l<g.length;l++)Ha(n.remoteStore,g[l]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(E=[],x=Promise.resolve(),n.Vo.forEach(function(R,H){n.sharedClientState.isLocalQueryTarget(H)?E.push(H):x=x.then(function(){return I6(n,H),Pf(n.localStore,H,!0)}),Ff(n.remoteStore,H)}),[4,x]);case 4:return N.sent(),[4,iC(n,E)];case 5:return N.sent(),(H=S(n)).Co.forEach(function(K,te){Ff(H.remoteStore,te)}),H.No.ts(),H.Co=new Map,H.Do=new Xo(St.comparator),n.$o=!1,[4,F5(n.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var H})})}function iC(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g,_,E,x,N,R,H,te,he,Ie;return(0,L.__generator)(this,function(Oe){switch(Oe.label){case 0:r=S(t),s=[],l=[],g=0,_=e,Oe.label=1;case 1:return g<_.length?(x=void 0,(N=r.Vo.get(E=_[g]))&&0!==N.length?[4,Rf(r.localStore,k2(N[0]))]:[3,7]):[3,13];case 2:x=Oe.sent(),R=0,H=N,Oe.label=3;case 3:return R<H.length?(te=r.Po.get(H[R]),[4,rC(r,te)]):[3,6];case 4:(he=Oe.sent()).snapshot&&l.push(he.snapshot),Oe.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,L5(r.localStore,E)];case 8:return Ie=Oe.sent(),[4,Rf(r.localStore,Ie)];case 9:return x=Oe.sent(),[4,T9(r,Hf(Ie),E,!1)];case 10:Oe.sent(),Oe.label=11;case 11:s.push(x),Oe.label=12;case 12:return g++,[3,1];case 13:return[2,(r.vo._r(l),s)]}})})}function Hf(t){return pg(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Kn(t){var e=S(t);return S(S(e.localStore).persistence).fn()}function I4(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return(s=S(t)).$o?(tt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ev(s.localStore)];case 3:return l=_.sent(),g=Ag.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Wu(s,l,g)];case 4:return _.sent(),[3,8];case 5:return[4,Pf(s.localStore,e,!0)];case 6:return _.sent(),I6(s,e,r),[3,8];case 7:b(),_.label=8;case 8:return[2]}})})}function Uf(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g,_,E,x,N,R;return(0,L.__generator)(this,function(K){switch(K.label){case 0:if(!(r=x6(t)).$o)return[3,10];s=0,l=e,K.label=1;case 1:return s<l.length?r.Vo.has(g=l[s])?(tt("SyncEngine","Adding an already active target "+g),[3,5]):[4,L5(r.localStore,g)]:[3,6];case 2:return _=K.sent(),[4,Rf(r.localStore,_)];case 3:return E=K.sent(),[4,T9(r,Hf(_),E.targetId,!1)];case 4:K.sent(),Ha(r.remoteStore,E),K.label=5;case 5:return s++,[3,1];case 6:x=function(te){return(0,L.__generator)(this,function(he){switch(he.label){case 0:return r.Vo.has(te)?[4,Pf(r.localStore,te,!1).then(function(){Ff(r.remoteStore,te),I6(r,te)}).catch(E4)]:[3,2];case 1:he.sent(),he.label=2;case 2:return[2]}})},N=0,R=n,K.label=7;case 7:return N<R.length?[5,x(R[N])]:[3,10];case 8:K.sent(),K.label=9;case 9:return N++,[3,7];case 10:return[2]}})})}function x6(t){var e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_v.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eC.bind(null,e),e.vo._r=Wb.bind(null,e.eventManager),e.vo.Mo=sA.bind(null,e.eventManager),e}function Cv(t){var e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,e),e}function Qt(t,e,n){var r=S(t);(function(s,l,g){return(0,L.__awaiter)(this,void 0,void 0,function(){var _,E,x,N,R,H;return(0,L.__generator)(this,function(K){switch(K.label){case 0:return K.trys.push([0,14,,15]),[4,l.getMetadata()];case 1:return _=K.sent(),[4,(te=s.localStore,he=_,Ie=S(te),Oe=_i(he.createTime),Ie.persistence.runTransaction("hasNewerBundle","readonly",function(Be){return Ie.Ke.getBundleMetadata(Be,he.id)}).then(function(Be){return!!Be&&Be.createTime.compareTo(Oe)>=0}))];case 2:return K.sent()?[4,l.close()]:[3,4];case 3:return[2,(K.sent(),void g._completeWith(function(te){return{taskState:"Success",documentsLoaded:te.totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}}(_)))];case 4:return g._updateProgress(pv(_)),E=new Yb(_,s.localStore,l.R),[4,l.Lo()];case 5:x=K.sent(),K.label=6;case 6:return x?[4,E.oo(x)]:[3,10];case 7:return(N=K.sent())&&g._updateProgress(N),[4,l.Lo()];case 8:x=K.sent(),K.label=9;case 9:return[3,6];case 10:return[4,E.complete()];case 11:return R=K.sent(),[4,Wu(s,R.wn,void 0)];case 12:return K.sent(),[4,function(te,he){var Ie=S(te);return Ie.persistence.runTransaction("Save bundle","readwrite",function(Oe){return Ie.Ke.saveBundleMetadata(Oe,he)})}(s.localStore,_)];case 13:return K.sent(),g._completeWith(R.progress),[3,15];case 14:return a("SyncEngine","Loading bundle failed with "+(H=K.sent())),g._failWith(H),[3,15];case 15:return[2]}var te,he,Ie,Oe})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Ua=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return this.R=O8(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return Jg(this.persistence,new Yg,e.initialUser,this.R)},t.prototype.qo=function(e){return new rv(Rb.bs,this.R)},t.prototype.Bo=function(e){return new R5},t.prototype.terminate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),$5=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).Qo=n,l.cacheSizeBytes=r,l.forceOwnership=s,l.synchronizeTabs=!1,l}return(0,L.__extends)(e,t),e.prototype.initialize=function(n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),[4,tv(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,n)];case 3:return s.sent(),[4,Cv(this.Qo.syncEngine)];case 4:return s.sent(),[4,E6(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},e.prototype.Ko=function(n){return Jg(this.persistence,new Yg,n.initialUser,this.R)},e.prototype.Uo=function(n){return new rA(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)},e.prototype.qo=function(n){var r=s9(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?z2.withCacheSize(this.cacheSizeBytes):z2.DEFAULT;return new Tb(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,g9(),v9(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new R5},e}(Ua),S6=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r,!1)||this).Qo=n,s.cacheSizeBytes=r,s.synchronizeTabs=!0,s}return(0,L.__extends)(e,t),e.prototype.initialize=function(n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s=this;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return l.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof p9?(this.sharedClientState.syncEngine={ui:Z5.bind(null,r),ai:I4.bind(null,r),hi:Uf.bind(null,r),fn:Kn.bind(null,r),ci:bv.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:l.sent(),l.label=3;case 3:return[4,this.persistence.He(function(g){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,G5(this.Qo.syncEngine,g)];case 1:return _.sent(),this.gcScheduler&&(g&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):g||this.gcScheduler.stop()),[2]}})})})];case 4:return l.sent(),[2]}})})},e.prototype.Bo=function(n){var r=g9();if(!p9.yt(r))throw new Pe(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=s9(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new p9(r,n.asyncQueue,s,n.clientId,n.initialUser)},e}($5),wv=function(){function t(){}return t.prototype.initialize=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return M9(r.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),[4,F5(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new U5},t.prototype.createDatastore=function(e){var r=O8(e.databaseInfo.databaseId),s=new av(e.databaseInfo);return new Fb(e.credentials,s,r)},t.prototype.createRemoteStore=function(e){var n,r,s,l,g,_=this;return n=this.localStore,r=this.datastore,s=e.asyncQueue,l=function(E){return M9(_.syncEngine,E,0)},g=m9.yt()?new m9:new Pb,new Hb(n,r,s,l,g)},t.prototype.createSyncEngine=function(e,n){return x=n,N=new F8(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),x&&(N.$o=!0),N;var x,N},t.prototype.terminate=function(){return function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return n=S(e),tt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Vf(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function D9(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var U8=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),uA=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Zr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?r.metadata.resolve(s.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return r.metadata.reject(s)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,this.Jo()];case 1:return null===(e=l.sent())?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return s=l.sent(),[2,new Kb(JSON.parse(s),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),oC=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Pe(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(l,g){return(0,L.__awaiter)(this,void 0,void 0,function(){var _,E,x,N,R,H;return(0,L.__generator)(this,function(K){switch(K.label){case 0:return _=S(l),E=v4(_.R)+"/documents",x={documents:g.map(function(te){return Ef(_.R,te)})},[4,_.$i("BatchGetDocuments",E,x)];case 1:return N=K.sent(),R=new Map,N.forEach(function(te){var Ie,Oe,he=(Ie=_.R,"found"in(Oe=te)?function(Be,$e){T(!!$e.found);var gt=Dc(Be,$e.found.name),Je=_i($e.found.updateTime),Ut=new Va({mapValue:{fields:$e.found.fields}});return No.newFoundDocument(gt,Je,Ut)}(Ie,Oe):"missing"in Oe?function(Be,$e){T(!!$e.missing),T(!!$e.readTime);var gt=Dc(Be,$e.missing),Je=_i($e.readTime);return No.newNoDocument(gt,Je)}(Ie,Oe):b());R.set(he.key.toString(),he)}),H=[],[2,(g.forEach(function(te){var he=R.get(te.toString());T(!!he),H.push(he)}),H)]}})})}(this.datastore,e)];case 1:return[2,((n=s.sent()).forEach(function(l){return r.recordVersion(l)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(s){e.delete(s.key.toString())}),e.forEach(function(s,l){var g=St.fromPath(l);n.mutations.push(new yg(g,n.precondition(g)))}),[4,function(s,l){return(0,L.__awaiter)(this,void 0,void 0,function(){var g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return g=S(s),_=v4(g.R)+"/documents",E={writes:l.map(function(N){return Af(g.R,N)})},[4,g.Ni("Commit",_,E)];case 1:return x.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw b();n=ht.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Pe(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ko.updateTime(n):ko.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ht.min()))throw new Pe(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ko.updateTime(n)}return ko.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),sC=function(){function t(e,n,r,s){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=s,this.ec=5,this.Zi=new A4(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){var n,r,s=this;return(0,L.__generator)(this,function(l){return n=new oC(this.datastore),(r=this.sc(n))&&r.then(function(g){s.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){s.deferred.resolve(g)}).catch(function(_){s.ic(_)})})}).catch(function(g){s.ic(g)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!p4(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var n=e.code;return"aborted"===n||"failed-precondition"===n||!_g(n)}return!1},t}(),H1=function(){function t(e,n,r){var s=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=ao.UNAUTHENTICATED,this.clientId=U.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(l){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(g){switch(g.label){case 0:return tt("FirestoreClient","Received user=",l.uid),[4,this.credentialListener(l)];case 1:return g.sent(),this.user=l,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,L.__awaiter)(e,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:l.sent(),l.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=l.sent(),s=T6(r,"Failed to shutdown persistence"),n.reject(s),[3,6];case 6:return[2]}})})}),n.promise},t}();function Ar(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s=this;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=l.sent(),[4,e.initialize(n)];case 2:return l.sent(),r=n.initialUser,t.setCredentialChangeListener(function(g){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r.isEqual(g)?[3,2]:[4,a9(e.localStore,g)];case 1:_.sent(),r=g,_.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function U1(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,W5(t)];case 1:return n=s.sent(),tt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=s.sent(),[4,e.initialize(n,r)];case 3:return s.sent(),t.setCredentialChangeListener(function(l){return function(g,_){return(0,L.__awaiter)(this,void 0,void 0,function(){var E,x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return(E=S(g)).asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials"),x=w6(E),E.Or.add(3),[4,Vf(E)];case 1:return N.sent(),x&&E.Br.set("Unknown"),[4,E.remoteSyncer.handleCredentialChange(_)];case 2:return N.sent(),E.Or.delete(3),[4,z5(E)];case 3:return N.sent(),[2]}})})}(e.remoteStore,l)}),t.onlineComponents=e,[2]}})})}function W5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tt("FirestoreClient","Using default OfflineComponentProvider"),[4,Ar(t,new Ua)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function K5(t){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tt("FirestoreClient","Using default OnlineComponentProvider"),[4,U1(t,new wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function N9(t){return W5(t).then(function(e){return e.persistence})}function B8(t){return W5(t).then(function(e){return e.localStore})}function D6(t){return K5(t).then(function(e){return e.remoteStore})}function N6(t){return K5(t).then(function(e){return e.syncEngine})}function Bf(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,K5(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Jb.bind(null,e.syncEngine),n.onUnlisten=Xb.bind(null,e.syncEngine),n)]}})})}function x4(t,e,n){var r=this;void 0===n&&(n={});var s=new Zr;return t.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return l=function(_,E,x,N,R){var H=new U8({next:function(te){E.enqueueAndForget(function(){return w9(_,K)});var he=te.docs.has(x);!he&&te.fromCache?R.reject(new Pe(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):he&&te.fromCache&&N&&"server"===N.source?R.reject(new Pe(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(te)},error:function(te){return R.reject(te)}}),K=new A9(vf(x.path),H,{includeMetadataChanges:!0,so:!0});return M6(_,K)},[4,Bf(t)];case 1:return[2,l.apply(void 0,[g.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}function Ev(t,e,n){var r=this;void 0===n&&(n={});var s=new Zr;return t.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return l=function(_,E,x,N,R){var H=new U8({next:function(te){E.enqueueAndForget(function(){return w9(_,K)}),te.fromCache&&"server"===N.source?R.reject(new Pe(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(te)},error:function(te){return R.reject(te)}}),K=new A9(x,H,{includeMetadataChanges:!0,so:!0});return M6(_,K)},[4,Bf(t)];case 1:return[2,l.apply(void 0,[g.sent(),t.asyncQueue,e,n,s])]}})})}),s.promise}var Av=function(t,e,n,r,s,l,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.useFetchStreams=_},jf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),qf=new Map,Y5=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},k9=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(ao.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zf=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),aC=function(){function t(e){var n=this;this.currentUser=ao.UNAUTHENTICATED,this.oc=new Zr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(s){tt("FirebaseCredentialsProvider","Auth detected"),n.auth=s,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(s){return r(s)}),setTimeout(function(){if(!n.auth){var s=e.getImmediate({optional:!0});s?r(s):(tt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(s){return e.cc!==n?(tt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):s?(T("string"==typeof s.accessToken),new Y5(s.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,n(this.currentUser)];case 2:return s.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return T(null===e||"string"==typeof e),new ao(e)},t}(),Q5=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=ao.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Tv=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new Q5(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(ao.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function J5(t,e,n){if(!n)throw new Pe(Ce.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function X5(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function j8(t,e,n,r){if(!0===e&&!0===r)throw new Pe(Ce.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Mv(t){if(!St.isDocumentKey(t))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ep(t){if(St.isDocumentKey(t))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Gf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Gf(t);throw new Pe(Ce.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cC(t,e){if(e<=0)throw new Pe(Ce.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Zt=function(){function t(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,j8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),tp=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zt({}),this._settingsFrozen=!1,e instanceof jf?(this._databaseId=e,this._credentials=new k9):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Pe(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jf(r.options.projectId)}(e),this._credentials=new aC(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Pe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Pe(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zt(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new k9;switch(n.type){case"gapi":var r=n.client;return T(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Tv(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Pe(Ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(n=qf.get(this))&&(tt("ComponentProvider","Removing Datastore"),qf.delete(this),n.terminate()),Promise.resolve();var n},t}(),ur=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new S4(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),aa=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),S4=function(t){function e(n,r,s){var l=this;return(l=t.call(this,n,r,vf(s))||this)._path=s,l.type="collection",l}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ur(this.firestore,null,new St(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(aa);function Iv(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,ut.getModularInstance)(t),J5("collection","path",e),t instanceof tp)return ep(n=gn.fromString.apply(gn,(0,L.__spreadArray)([e],r))),new S4(t,null,n);if(!(t instanceof ur||t instanceof S4))throw new Pe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ep(n=gn.fromString.apply(gn,(0,L.__spreadArray)([t.path],r)).child(gn.fromString(e))),new S4(t.firestore,null,n)}function L9(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,ut.getModularInstance)(t),1===arguments.length&&(e=U.u()),J5("doc","path",e),t instanceof tp)return Mv(n=gn.fromString.apply(gn,(0,L.__spreadArray)([e],r))),new ur(t,null,new St(n));if(!(t instanceof ur||t instanceof S4))throw new Pe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mv(n=t._path.child(gn.fromString.apply(gn,(0,L.__spreadArray)([e],r)))),new ur(t.firestore,t instanceof S4?t.converter:null,new St(n))}function uC(t,e){return t=(0,ut.getModularInstance)(t),e=(0,ut.getModularInstance)(e),(t instanceof ur||t instanceof S4)&&(e instanceof ur||e instanceof S4)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function xv(t,e){return t=(0,ut.getModularInstance)(t),e=(0,ut.getModularInstance)(e),t instanceof aa&&e instanceof aa&&t.firestore===e.firestore&&b8(t._query,e._query)&&t.converter===e.converter}var ts=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new A4(this,"async_queue_retry"),this.Ic=function(){var r=v9();r&&tt("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=v9();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=v9();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Zr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,L.__generator)(this,function(r){switch(r.label){case 0:if(0===this.wc.length)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!If(e=r.sent()))throw e;return tt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(s){throw n.yc=s,n.gc=!1,Br("INTERNAL UNHANDLED ERROR: ",(g=(l=s).message||"",l.stack&&(g=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),g)),s;var l,g}).then(function(s){return n.gc=!1,s})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var s=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var l=$b.createAndSchedule(this,e,n,r,function(g){return s.vc(g)});return this.mc.push(l),l},t.prototype.Ac=function(){this.yc&&b()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(g,_){return g.targetTimeMs-_.targetTimeMs});for(var r=0,s=n.mc;r<s.length;r++){var l=s[r];if(l.skipDelay(),"all"!==e&&l.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function $f(t){return function(e,n){if("object"!=typeof e||null===e)return!1;for(var r=e,s=0,l=["next","error","complete"];s<l.length;s++){var g=l[s];if(g in r&&"function"==typeof r[g])return!0}return!1}(t)}var lC=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),ai=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this).type="firestore",s._queue=new ts,s._persistenceKey="name"in n?n.name:"[DEFAULT]",s}return(0,L.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Sv(this),this._firestoreClient.terminate()},e}(tp);function co(t){return t._firestoreClient||Sv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sv(t){var e,l,_,n=t._freezeSettings(),r=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Av(t._databaseId,l,t._persistenceKey,(_=n).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));t._firestoreClient=new H1(t._credentials,t._queue,r)}function Dv(t,e,n){var r=this,s=new Zr;return t.asyncQueue.enqueue(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),[4,Ar(t,n)];case 1:return g.sent(),[4,U1(t,e)];case 2:return g.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(_=l=g.sent()).name?_.code===Ce.FAILED_PRECONDITION||_.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw l;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l),[3,4];case 4:return[2]}var _})})}).then(function(){return s.promise})}function Nv(t){if(t._initialized||t._terminated)throw new Pe(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kc=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(0===e[r].length)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L1(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Ku=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Jo.fromBase64String(e))}catch(n){throw new Pe(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Jo.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),k6=function(t){this._methodName=t},np=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)},t}(),kv=/^__.*__$/,R9=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,n,this.fieldTransforms):new _f(e,this.data,n,this.fieldTransforms)},t}(),Lv=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Zu(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var Ov=function(){function t(e,n,r,s,l,g){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=s,void 0===l&&this.Cc(),this.fieldTransforms=l||[],this.fieldMask=g||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.xc({path:r,Fc:!1});return s.$c(e),s},t.prototype.Oc=function(e){var n,r=null===(n=this.path)||void 0===n?void 0:n.child(e),s=this.xc({path:r,Fc:!1});return s.Cc(),s},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return ip(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(n){return e.isPrefixOf(n)})||void 0!==this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(fC(this.Nc)&&kv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),hC=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||O8(e)}return t.prototype.Uc=function(e,n,r,s){return void 0===s&&(s=!1),new Ov({Nc:e,methodName:n,qc:r,path:L1.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function L6(t){var e=t._freezeSettings(),n=O8(t._databaseId);return new hC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rp(t,e,n,r,s,l){void 0===l&&(l={});var g=t.Uc(l.merge||l.mergeFields?2:0,e,n,s);V9("Data must be an object, but it was:",g,r);var _,E,x=Vv(r,g);if(l.merge)_=new a6(g.fieldMask),E=g.fieldTransforms;else if(l.mergeFields){for(var N=[],R=0,H=l.mergeFields;R<H.length;R++){var K=F9(e,H[R],n);if(!g.contains(K))throw new Pe(Ce.INVALID_ARGUMENT,"Field '"+K+"' is specified in your field mask but missing from your input data.");mC(N,K)||N.push(K)}_=new a6(N),E=g.fieldTransforms.filter(function(te){return _.covers(te.field)})}else _=null,E=g.fieldTransforms;return new R9(new Va(x),_,E)}var P9=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){if(2!==n.Nc)throw n.Lc(1===n.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(k6);function Rv(t,e,n){return new Ov({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var q8=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){return new E8(n.path,new d6)},e.prototype.isEqual=function(n){return n instanceof e},e}(k6),dC=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Kc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=Rv(this,n,!0),s=this.Kc.map(function(g){return R6(g,r)}),l=new p6(s);return new E8(n.path,l)},e.prototype.isEqual=function(n){return this===n},e}(k6),pC=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Kc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=Rv(this,n,!0),s=this.Kc.map(function(g){return R6(g,r)}),l=new qu(s);return new E8(n.path,l)},e.prototype.isEqual=function(n){return this===n},e}(k6),Pv=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).Qc=r,s}return(0,L.__extends)(e,t),e.prototype._toFieldTransform=function(n){var r=new g4(n.R,v5(n.R,this.Qc));return new E8(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(k6);function O6(t,e,n,r){var s=t.Uc(1,e,n);V9("Data must be an object, but it was:",s,r);var l=[],g=Va.empty();Fn(r,function(E,x){var N=H9(e,E,n);x=(0,ut.getModularInstance)(x);var R=s.Oc(N);if(x instanceof P9)l.push(N);else{var H=R6(x,R);null!=H&&(l.push(N),g.set(N,H))}});var _=new a6(l);return new Lv(g,_,s.fieldTransforms)}function zv(t,e,n,r,s,l){var g=t.Uc(1,e,n),_=[F9(e,r,n)],E=[s];if(l.length%2!=0)throw new Pe(Ce.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var x=0;x<l.length;x+=2)_.push(F9(e,l[x])),E.push(l[x+1]);for(var N=[],R=Va.empty(),H=_.length-1;H>=0;--H)if(!mC(N,_[H])){var K=_[H],te=E[H];te=(0,ut.getModularInstance)(te);var he=g.Oc(K);if(te instanceof P9)N.push(K);else{var Ie=R6(te,he);null!=Ie&&(N.push(K),R.set(K,Ie))}}var Oe=new a6(N);return new Lv(R,Oe,g.fieldTransforms)}function z9(t,e,n,r){return void 0===r&&(r=!1),R6(n,t.Uc(r?4:3,e))}function R6(t,e){if(Fv(t=(0,ut.getModularInstance)(t)))return V9("Unsupported field value:",e,t),Vv(t,e);if(t instanceof k6)return function(n,r){if(!fC(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var s=[],l=0,g=0,_=n;g<_.length;g++){var E=R6(_[g],r.Mc(l));null==E&&(E={nullValue:"NULL_VALUE"}),s.push(E),l++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(null===(n=(0,ut.getModularInstance)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return v5(r.R,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){var s=bt.fromDate(n);return{timestampValue:M8(r.R,s)}}if(n instanceof bt)return s=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:M8(r.R,s)};if(n instanceof np)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ku)return{bytesValue:Sg(r.R,n._byteString)};if(n instanceof ur){var l=n.firestore._databaseId;if(!l.isEqual(s=r.databaseId))throw r.Lc("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:m6(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Gf(n))}(t,e)}function Vv(t,e){var n={};return Do(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fn(t,function(r,s){var l=R6(s,e.kc(r));null!=l&&(n[r]=l)}),{mapValue:{fields:n}}}function Fv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof np||t instanceof Ku||t instanceof ur||t instanceof k6)}function V9(t,e,n){if(!Fv(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var r=Gf(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}var s}function F9(t,e,n){if((e=(0,ut.getModularInstance)(e))instanceof kc)return e._internalPath;if("string"==typeof e)return H9(t,e);throw ip("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Hv=new RegExp("[~\\*/\\[\\]]");function H9(t,e,n){if(e.search(Hv)>=0)throw ip("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(kc.bind.apply(kc,(0,L.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw ip("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ip(t,e,n,r,s){var l=r&&!r.isEmpty(),g=void 0!==s,_="Function "+e+"() called with invalid data";n&&(_+=" (via `toFirestore()`)");var E="";return(l||g)&&(E+=" (found",l&&(E+=" in field "+r),g&&(E+=" in document "+s),E+=")"),new Pe(Ce.INVALID_ARGUMENT,(_+=". ")+t+E)}function mC(t,e){return t.some(function(n){return n.isEqual(e)})}var op=function(){function t(e,n,r,s,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ur(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new lA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}},t}(),lA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(op);function Wf(t,e){return"string"==typeof e?H9(t,e):e instanceof kc?e._internalPath:e._delegate._internalPath}var P6=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Yu=function(t){function e(n,r,s,l,g,_){var E=this;return(E=t.call(this,n,r,s,l,_)||this)._firestore=n,E._firestoreImpl=n,E.metadata=g,E}return(0,L.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(void 0===n&&(n={}),this._document){if(this._converter){var r=new Z8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(void 0===r&&(r={}),this._document){var s=this._document.data.field(Wf("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}},e}(op),Z8=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(n){return void 0===n&&(n={}),t.prototype.data.call(this,n)},e}(Yu),D4=function(){function t(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new P6(s.hasPendingWrites,s.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(s){e.call(n,new Z8(r._firestore,r._userDataWriter,s.key,s,new P6(r._snapshot.mutatedKeys.has(s.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){var l=0;return r._snapshot.docChanges.map(function(_){return{type:"added",doc:new Z8(r._firestore,r._userDataWriter,_.doc.key,_.doc,new P6(r._snapshot.mutatedKeys.has(_.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}})}var g=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(_){return s||3!==_.type}).map(function(_){var E=new Z8(r._firestore,r._userDataWriter,_.doc.key,_.doc,new P6(r._snapshot.mutatedKeys.has(_.doc.key),r._snapshot.fromCache),r.query.converter),x=-1,N=-1;return 0!==_.type&&(x=g.indexOf(_.doc.key),g=g.delete(_.doc.key)),1!==_.type&&(N=(g=g.add(_.doc)).indexOf(_.doc.key)),{type:gC(_.type),doc:E,oldIndex:x,newIndex:N}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function gC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function Uv(t,e){return t instanceof Yu&&e instanceof Yu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof D4&&e instanceof D4&&t._firestore===e._firestore&&xv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function U9(t){if(_8(t)&&0===t.explicitOrderBy.length)throw new Pe(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var z6=function(){};function N4(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,s=e;r<s.length;r++){var l=s[r];t=l._apply(t)}return t}var Kf=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).jc=n,l.Wc=r,l.Gc=s,l.type="where",l}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var l,_,r=L6(n.firestore),s=function(l,g,_,E,x,N,R){var H;if(x.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+N+"' queries on FieldPath.documentId().");if("in"===N||"not-in"===N){q9(R,N);for(var K=[],te=0,he=R;te<he.length;te++)K.push(j9(E,l,he[te]));H={arrayValue:{values:K}}}else H=j9(E,l,R)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||q9(R,N),H=z9(_,"where",R,"in"===N||"not-in"===N);var Oe=O1.create(x,N,H);return function(Be,$e){if($e.g()){var gt=h5(Be);if(null!==gt&&!gt.isEqual($e.field))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+gt.toString()+"' and '"+$e.field.toString()+"'");var Je=D7(Be);null!==Je&&Z9(0,$e.field,Je)}var Ut=function(fr,rs){for(var Gr=0,KI=fr.filters;Gr<KI.length;Gr++){var YI=KI[Gr];if(rs.indexOf(YI.op)>=0)return YI.op}return null}(Be,function(fr){switch(fr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($e.op));if(null!==Ut)throw new Pe(Ce.INVALID_ARGUMENT,Ut===$e.op?"Invalid query. You cannot use more than one '"+$e.op.toString()+"' filter.":"Invalid query. You cannot use '"+$e.op.toString()+"' filters with '"+Ut.toString()+"' filters.")}(l,Oe),Oe}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new aa(n.firestore,n.converter,(_=(l=n._query).filters.concat([s]),new ju(l.path,l.collectionGroup,l.explicitOrderBy.slice(),_,l.limit,l.limitType,l.startAt,l.endAt)))},e}(z6),ns=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).jc=n,s.zc=r,s.type="orderBy",s}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,g,r=function(s,l,g){if(null!==s.startAt)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var _=new Bu(l,g);return function(E,x){if(null===D7(E)){var N=h5(E);null!==N&&Z9(0,N,x.field)}}(s,_),_}(n._query,this.jc,this.zc);return new aa(n.firestore,n.converter,(g=(s=n._query).explicitOrderBy.concat([r]),new ju(s.path,s.collectionGroup,g,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},e}(z6),B9=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).type=n,l.Hc=r,l.Jc=s,l}return(0,L.__extends)(e,t),e.prototype._apply=function(n){return new aa(n.firestore,n.converter,p5(n._query,this.Hc,this.Jc))},e}(z6),B1=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).type=n,l.Yc=r,l.Xc=s,l}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,l,r=Bv(n,this.type,this.Yc,this.Xc);return new aa(n.firestore,n.converter,(l=r,new ju((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)))},e}(z6),sp=function(t){function e(n,r,s){var l=this;return(l=t.call(this)||this).type=n,l.Yc=r,l.Xc=s,l}return(0,L.__extends)(e,t),e.prototype._apply=function(n){var s,l,r=Bv(n,this.type,this.Yc,this.Xc);return new aa(n.firestore,n.converter,(l=r,new ju((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)))},e}(z6);function Bv(t,e,n,r){if(n[0]=(0,ut.getModularInstance)(n[0]),n[0]instanceof op)return function(l,g,_,E,x){if(!E)throw new Pe(Ce.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+_+"().");for(var N=[],R=0,H=m4(l);R<H.length;R++){var K=H[R];if(K.field.isKeyField())N.push(a5(g,E.key));else{var te=E.data.field(K.field);if(i5(te))throw new Pe(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+K.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===te){var he=K.field.canonicalString();throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+he+"' (used as the orderBy) does not exist.")}N.push(te)}}return new v8(N,x)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var s=L6(t.firestore);return function(l,g,_,E,x,N){var R=l.explicitOrderBy;if(x.length>R.length)throw new Pe(Ce.INVALID_ARGUMENT,"Too many arguments provided to "+E+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var H=[],K=0;K<x.length;K++){var te=x[K];if(R[K].field.isKeyField()){if("string"!=typeof te)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+E+"(), but got a "+typeof te);if(!d5(l)&&-1!==te.indexOf("/"))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+E+"() must be a plain document ID, but '"+te+"' contains a slash.");var he=l.path.child(gn.fromString(te));if(!St.isDocumentKey(he))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+E+"() must result in a valid document path, but '"+he+"' is not because it contains an odd number of segments.");var Ie=new St(he);H.push(a5(g,Ie))}else{var Oe=z9(_,E,te);H.push(Oe)}}return new v8(H,N)}(t._query,t.firestore._databaseId,s,e,n,r)}function j9(t,e,n){if("string"==typeof(n=(0,ut.getModularInstance)(n))){if(""===n)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!d5(e)&&-1!==n.indexOf("/"))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gn.fromString(n));if(!St.isDocumentKey(r))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return a5(t,new St(r))}if(n instanceof ur)return a5(t,n._key);throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Gf(n)+".")}function q9(t,e){if(!Array.isArray(t)||0===t.length)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Z9(t,e,n){if(!n.isEqual(e))throw new Pe(Ce.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var G9=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(void 0===n&&(n="none"),u6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(c6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw b()}},t.prototype.convertObject=function(e,n){var r=this,s={};return Fn(e.fields,function(l,g){s[l]=r.convertValue(g,n)}),s},t.prototype.convertGeoPoint=function(e){return new np(oi(e.latitude),oi(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(s){return r.convertValue(s,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=w7(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(m8(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Hu(e);return new bt(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=gn.fromString(e);T(Og(r));var s=new jf(r.get(1),r.get(3)),l=new St(r.popFirst(5));return s.isEqual(n)||Br("Document "+l+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),l},t}();function ap(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var vC=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Ku(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ur(this.firestore,null,r)},e}(G9),jv=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=L6(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var s=k4(e,this._firestore),l=ap(s.converter,n,r),g=rp(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,r);return this._mutations.push(g.toMutation(s._key,ko.none())),this},t.prototype.update=function(e,n,r){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];this._verifyNotCommitted();var g,_=k4(e,this._firestore);return g="string"==typeof(n=(0,ut.getModularInstance)(n))||n instanceof kc?zv(this._dataReader,"WriteBatch.update",_._key,n,r,s):O6(this._dataReader,"WriteBatch.update",_._key,n),this._mutations.push(g.toMutation(_._key,ko.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=k4(e,this._firestore);return this._mutations=this._mutations.concat(new bf(n._key,ko.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pe(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function k4(t,e){if((t=(0,ut.getModularInstance)(t)).firestore!==e)throw new Pe(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yf=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Ku(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ur(this.firestore,null,r)},e}(G9);function qv(t,e,n){t=Hn(t,ur);var r=Hn(t.firestore,ai),s=ap(t.converter,e,n);return cp(r,[rp(L6(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,ko.none())])}function Zv(t,e,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];t=Hn(t,ur);var l=Hn(t.firestore,ai),g=L6(l);return cp(l,[("string"==typeof(e=(0,ut.getModularInstance)(e))||e instanceof kc?zv(g,"updateDoc",t._key,e,n,r):O6(g,"updateDoc",t._key,e)).toMutation(t._key,ko.exists(!0))])}function V6(t){for(var e,n,r,s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];t=(0,ut.getModularInstance)(t);var g={includeMetadataChanges:!1},_=0;"object"!=typeof s[_]||$f(s[_])||(g=s[_],_++);var E,x,N,R={includeMetadataChanges:g.includeMetadataChanges};if($f(s[_])){var H=s[_];s[_]=null===(e=H.next)||void 0===e?void 0:e.bind(H),s[_+1]=null===(n=H.error)||void 0===n?void 0:n.bind(H),s[_+2]=null===(r=H.complete)||void 0===r?void 0:r.bind(H)}if(t instanceof ur)x=Hn(t.firestore,ai),N=vf(t._key.path),E={next:function(he){s[_]&&s[_](up(x,t,he))},error:s[_+1],complete:s[_+2]};else{var K=Hn(t,aa);x=Hn(K.firestore,ai),N=K._query;var te=new Yf(x);E={next:function(he){s[_]&&s[_](new D4(x,te,K,he))},error:s[_+1],complete:s[_+2]},U9(t._query)}return function(he,Ie,Oe,Be){var $e=this,gt=new U8(Be),Je=new A9(Ie,gt,Oe);return he.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)($e,void 0,void 0,function(){var Ut;return(0,L.__generator)(this,function(fr){switch(fr.label){case 0:return Ut=M6,[4,Bf(he)];case 1:return[2,Ut.apply(void 0,[fr.sent(),Je])]}})})}),function(){gt.Wo(),he.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)($e,void 0,void 0,function(){var Ut;return(0,L.__generator)(this,function(fr){switch(fr.label){case 0:return Ut=w9,[4,Bf(he)];case 1:return[2,Ut.apply(void 0,[fr.sent(),Je])]}})})})}}(co(x),N,R,E)}function cp(t,e){return function(n,r){var s=this,l=new Zr;return n.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(s,void 0,void 0,function(){var g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return g=B5,[4,N6(n)];case 1:return[2,g.apply(void 0,[_.sent(),r,l])]}})})}),l.promise}(co(t),e)}function up(t,e,n){var r=n.docs.get(e._key),s=new Yf(t);return new Yu(t,s,e._key,r,new P6(n.hasPendingWrites,n.fromCache),e.converter)}var yC=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this)._firestore=n,s}return(0,L.__extends)(e,t),e.prototype.get=function(n){var r=this,s=k4(n,this._firestore),l=new Yf(this._firestore);return t.prototype.get.call(this,n).then(function(g){return new Yu(r._firestore,l,s._key,g._document,new P6(!1,!1),s.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=L6(e)}return t.prototype.get=function(e){var n=this,r=k4(e,this._firestore),s=new vC(this._firestore);return this._transaction.lookup([r._key]).then(function(l){if(!l||1!==l.length)return b();var g=l[0];if(g.isFoundDocument())return new op(n._firestore,s,g.key,g,r.converter);if(g.isNoDocument())return new op(n._firestore,s,r._key,null,r.converter);throw b()})},t.prototype.set=function(e,n,r){var s=k4(e,this._firestore),l=ap(s.converter,n,r),g=rp(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,g),this},t.prototype.update=function(e,n,r){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];var g,_=k4(e,this._firestore);return g="string"==typeof(n=(0,ut.getModularInstance)(n))||n instanceof kc?zv(this._dataReader,"Transaction.update",_._key,n,r,s):O6(this._dataReader,"Transaction.update",_._key,n),this._transaction.update(_._key,g),this},t.prototype.delete=function(e){var n=k4(e,this._firestore);return this._transaction.delete(n._key),this},t}());function _C(){if("undefined"==typeof Uint8Array)throw new Pe(Ce.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $9(){if("undefined"==typeof atob)throw new Pe(Ce.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gv=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return $9(),new t(Ku.fromBase64String(e))},t.fromUint8Array=function(e){return _C(),new t(Ku.fromUint8Array(e))},t.prototype.toBase64=function(){return $9(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return _C(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),W9=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,s){Nv(r=Hn(r,ai));var l=co(r),g=r._freezeSettings(),_=new wv;return Dv(l,_,new $5(_,g.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){Nv(n=Hn(n,ai));var r=co(n),s=n._freezeSettings(),l=new wv;return Dv(r,l,new S6(l,s.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Pe(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,L.__awaiter)(r,void 0,void 0,function(){var l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,function(_){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(x){switch(x.label){case 0:return P2.yt()?[4,P2.delete(_+"main")]:[2,Promise.resolve()];case 1:return x.sent(),[2]}})})}(s9(n._databaseId,n._persistenceKey))];case 1:return g.sent(),s.resolve(),[3,3];case 2:return l=g.sent(),s.reject(l),[3,3];case 3:return[2]}})})}),s.promise}(e._delegate)},t}(),lp=function(){function t(e,n,r){var s=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return s.terminate()}},e instanceof jf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){void 0===r&&(r={}),function(s,l,g,_){var E;void 0===_&&(_={});var x=(s=Hn(s,tp))._getSettings();if("firestore.googleapis.com"!==x.host&&x.host!==l&&a("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},x),{host:l+":"+g,ssl:!1})),_.mockUserToken){var N,R;if("string"==typeof _.mockUserToken)N=_.mockUserToken,R=ao.MOCK_USER;else{N=(0,ut.createMockUserToken)(_.mockUserToken,null===(E=s._app)||void 0===E?void 0:E.options.projectId);var H=_.mockUserToken.sub||_.mockUserToken.user_id;if(!H)throw new Pe(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ao(H)}s._credentials=new Zf(new Y5(N,R))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,N9(e)];case 1:return r=l.sent(),[4,D6(e)];case 2:return s=l.sent(),[2,(r.setNetworkEnabled(!0),g=s,_=S(g),_.Or.delete(0),z5(_))]}var g,_})})})}(co(Hn(this._delegate,ai)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,N9(e)];case 1:return r=l.sent(),[4,D6(e)];case 2:return s=l.sent(),[2,(r.setNetworkEnabled(!1),function(g){return(0,L.__awaiter)(this,void 0,void 0,function(){var _;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return(_=S(g)).Or.add(0),[4,Vf(_)];case 1:return E.sent(),_.Br.set("Offline"),[2]}})})}(s))]}})})})}(co(Hn(this._delegate,ai)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&j8("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Zr;return e.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(n,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return s=j5,[4,N6(e)];case 1:return[2,s.apply(void 0,[l.sent(),r])]}})})}),r.promise}(co(Hn(this._delegate,ai)))},t.prototype.onSnapshotsInSync=function(e){return r=e,function(s,l){var g=this,_=new U8(l);return s.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(g,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return E=function(N,R){S(N).Gr.add(R),R.next()},[4,Bf(s)];case 1:return[2,E.apply(void 0,[x.sent(),_])]}})})}),function(){_.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(g,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return E=function(N,R){S(N).Gr.delete(R)},[4,Bf(s)];case 1:return[2,E.apply(void 0,[x.sent(),_])]}})})})}}(co(Hn(this._delegate,ai)),$f(r)?r:{next:r});var r},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Pe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new $8(this,Iv(this._delegate,e))}catch(n){throw Is(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new F6(this,L9(this._delegate,e))}catch(n){throw Is(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Jf(this,function(n,r){if(n=Hn(n,tp),J5("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new aa(n,null,(s=r,new ju(gn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw Is(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var r,n=this;return function(l,g){var _=this,E=new Zr;return l.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(_,void 0,void 0,function(){var x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return[4,(R=l,K5(R).then(function(H){return H.datastore}))];case 1:return x=N.sent(),new sC(l.asyncQueue,x,g,E).run(),[2]}var R})})}),E.promise}(co(r=this._delegate),function(l){return function(r){return e(new K9(n,r))}(new yC(r,l))})},t.prototype.batch=function(){var e=this;return co(this._delegate),new $v(new jv(this._delegate,function(n){return cp(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Pe(Ce.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Pe(Ce.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),G8=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return(0,L.__extends)(e,t),e.prototype.convertBytes=function(n){return new Gv(new Ku(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return F6.eu(r,this.firestore,null)},e}(G9),K9=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new G8(e)}return t.prototype.get=function(e){var n=this,r=L4(e);return this._delegate.get(r).then(function(s){return new Qu(n._firestore,new Yu(n._firestore._delegate,n._userDataWriter,s._key,s._document,s.metadata,r.converter))})},t.prototype.set=function(e,n,r){var s=L4(e);return r?(X5("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this},t.prototype.update=function(e,n,r){for(var s,l=[],g=3;g<arguments.length;g++)l[g-3]=arguments[g];var _=L4(e);return 2===arguments.length?this._delegate.update(_,n):(s=this._delegate).update.apply(s,(0,L.__spreadArray)([_,n,r],l)),this},t.prototype.delete=function(e){var n=L4(e);return this._delegate.delete(n),this},t}(),$v=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var s=L4(e);return r?(X5("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this},t.prototype.update=function(e,n,r){for(var s,l=[],g=3;g<arguments.length;g++)l[g-3]=arguments[g];var _=L4(e);return 2===arguments.length?this._delegate.update(_,n):(s=this._delegate).update.apply(s,(0,L.__spreadArray)([_,n,r],l)),this},t.prototype.delete=function(e){var n=L4(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),fp=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Z8(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qf(this._firestore,r),null!=n?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,s=r.get(e);s||(s=new WeakMap,r.set(e,s));var l=s.get(n);return l||(l=new t(e,new G8(e),n),s.set(n,l)),l},t}();fp.su=new WeakMap;var F6=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G8(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Pe(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ur(n._delegate,r,new St(e)))},t.eu=function(e,n,r){return new t(n,new ur(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $8(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new $8(this.firestore,Iv(this._delegate,e))}catch(n){throw Is(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,ut.getModularInstance)(e))instanceof ur&&uC(this._delegate,e)},t.prototype.set=function(e,n){n=X5("DocumentReference.set",n);try{return n?qv(this._delegate,e,n):qv(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];try{return 1===arguments.length?Zv(this._delegate,e):Zv.apply(void 0,(0,L.__spreadArray)([this._delegate,e,n],r))}catch(l){throw Is(l,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cp(Hn((e=this._delegate).firestore,ai),[new bf(e._key,ko.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=Wv(n),l=Kv(n,function(g){return new Qu(e.firestore,new Yu(e.firestore._delegate,e._userDataWriter,g._key,g._document,g.metadata,e._delegate.converter))});return V6(this._delegate,s,l)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(r){r=Hn(r,ur);var s=Hn(r.firestore,ai),l=co(s),g=new Yf(s);return function(_,E){var x=this,N=new Zr;return _.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(x,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=function(K,te,he){return(0,L.__awaiter)(this,void 0,void 0,function(){var Ie,Oe;return(0,L.__generator)(this,function(Be){switch(Be.label){case 0:return Be.trys.push([0,2,,3]),[4,($e=K,gt=te,Je=S($e),Je.persistence.runTransaction("read document","readonly",function(Ut){return Je.Mn.mn(Ut,gt)}))];case 1:return(Oe=Be.sent()).isFoundDocument()?he.resolve(Oe):Oe.isNoDocument()?he.resolve(null):he.reject(new Pe(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ie=Be.sent(),Oe=T6(Ie,"Failed to get document '"+te+" from cache"),he.reject(Oe),[3,3];case 3:return[2]}var $e,gt,Je})})},[4,B8(_)];case 1:return[2,R.apply(void 0,[H.sent(),E,N])]}})})}),N.promise}(l,r._key).then(function(_){return new Yu(s,g,r._key,_,new P6(null!==_&&_.hasLocalMutations,!0),r.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=Hn(r,ur);var s=Hn(r.firestore,ai);return x4(co(s),r._key,{source:"server"}).then(function(l){return up(s,r,l)})}(this._delegate):function(r){r=Hn(r,ur);var s=Hn(r.firestore,ai);return x4(co(s),r._key).then(function(l){return up(s,r,l)})}(this._delegate)).then(function(r){return new Qu(n.firestore,new Yu(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fp.nu(this.firestore,e):null))},t}();function Is(t,e,n){return t.message=t.message.replace(e,n),t}function Wv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$f(r))return r}return{}}function Kv(t,e){var n,r,s;return{next:function(l){s.next&&s.next(e(l))},error:null===(n=(s=$f(t[0])?t[0]:$f(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}var Qu=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new F6(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return Uv(this._delegate,e._delegate)},t}(),Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,L.__extends)(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Qu),Jf=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G8(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,N4(this._delegate,(g=r,_=n,E=Wf("where",s=e),new Kf(E,_,g))))}catch(s){throw Is(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,g,_,E},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,N4(this._delegate,function(r,s){void 0===s&&(s="asc");var l=s,g=Wf("orderBy",r);return new ns(g,l)}(e,n)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,N4(this._delegate,(cC("limit",n=e),new B9("limit",n,"F"))))}catch(n){throw Is(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,N4(this._delegate,(cC("limitToLast",n=e),new B9("limitToLast",n,"L"))))}catch(n){throw Is(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,N4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new B1("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw Is(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,N4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new B1("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw Is(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,N4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new sp("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw Is(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,N4(this._delegate,function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new sp("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw Is(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return xv(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(r){r=Hn(r,aa);var s=Hn(r.firestore,ai),l=co(s),g=new Yf(s);return function(_,E){var x=this,N=new Zr;return _.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(x,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=function(K,te,he){return(0,L.__awaiter)(this,void 0,void 0,function(){var Ie,Oe,Be,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return Je.trys.push([0,2,,3]),[4,k5(K,te,!0)];case 1:return gt=Je.sent(),Ie=new vv(te,gt.Bn),Oe=Ie._o(gt.documents),Be=Ie.applyChanges(Oe,!1),he.resolve(Be.snapshot),[3,3];case 2:return $e=Je.sent(),gt=T6($e,"Failed to execute query '"+te+" against cache"),he.reject(gt),[3,3];case 3:return[2]}})})},[4,B8(_)];case 1:return[2,R.apply(void 0,[H.sent(),E,N])]}})})}),N.promise}(l,r._query).then(function(_){return new D4(s,g,r,_)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(r){r=Hn(r,aa);var s=Hn(r.firestore,ai),l=co(s),g=new Yf(s);return Ev(l,r._query,{source:"server"}).then(function(_){return new D4(s,g,r,_)})}(this._delegate):function(r){r=Hn(r,aa);var s=Hn(r.firestore,ai),l=co(s),g=new Yf(s);return U9(r._query),Ev(l,r._query).then(function(_){return new D4(s,g,r,_)})}(this._delegate)).then(function(r){return new hp(n.firestore,new D4(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=Wv(n),l=Kv(n,function(g){return new hp(e.firestore,new D4(e.firestore._delegate,e._userDataWriter,e._delegate,g._snapshot))});return V6(this._delegate,s,l)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fp.nu(this.firestore,e):null))},t}(),Yv=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),hp=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Jf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Qf(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new Yv(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(s){e.call(n,new Qf(r._firestore,s))})},t.prototype.isEqual=function(e){return Uv(this._delegate,e._delegate)},t}(),$8=function(t){function e(n,r){var s=this;return(s=t.call(this,n,r)||this).firestore=n,s._delegate=r,s}return(0,L.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new F6(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new F6(this.firestore,void 0===n?L9(this._delegate):L9(this._delegate,n))}catch(r){throw Is(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var s,l,g,_,E,r=this;return(s=this._delegate,l=n,g=Hn(s.firestore,ai),_=L9(s),E=ap(s.converter,l),cp(g,[rp(L6(s.firestore),"addDoc",_._key,E,null!==s.converter,{}).toMutation(_._key,ko.exists(!1))]).then(function(){return _})).then(function(s){return new F6(r.firestore,s)})},e.prototype.isEqual=function(n){return uC(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,this._delegate.withConverter(n?fp.nu(this.firestore,n):null))},e}(Jf);function L4(t){return Hn(t,ur)}var CC=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(kc.bind.apply(kc,(0,L.__spreadArray)([void 0],e)))}return t.documentId=function(){return new t(L1.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,ut.getModularInstance)(e))instanceof kc&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),wC=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new q8("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new P9("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return new dC("arrayUnion",s)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return new pC("arrayRemove",s)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Pv("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function Qv(t){return function(e,n){var r=co(e=Hn(e,ai)),s=new lC;return function(l,g,_,E){var R,H,K,x=this,N=(R=_,H=O8(g),K=function(K,te){if(K instanceof Uint8Array)return D9(K,void 0);if(K instanceof ArrayBuffer)return D9(new Uint8Array(K),void 0);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof R?(new TextEncoder).encode(R):R),new uA(K,H));l.asyncQueue.enqueueAndForget(function(){return(0,L.__awaiter)(x,void 0,void 0,function(){var R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return R=Qt,[4,N6(l)];case 1:return R.apply(void 0,[H.sent(),N,E]),[2]}})})})}(r,e._databaseId,n,s),s}(this._delegate,t)}function EC(t){var e,n,r=this;return(e=this._delegate,n=t,function(s,l){var g=this;return s.asyncQueue.enqueue(function(){return(0,L.__awaiter)(g,void 0,void 0,function(){var _;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return _=function(x,N){var R=S(x);return R.persistence.runTransaction("Get named query","readonly",function(H){return R.Ke.getNamedQuery(H,N)})},[4,B8(s)];case 1:return[2,_.apply(void 0,[E.sent(),l])]}})})})}(co(e=Hn(e,ai)),n).then(function(s){return s?new aa(e,null,s.query):null})).then(function(s){return s?new Jf(r,s):null})}var AC={Firestore:lp,GeoPoint:np,Timestamp:bt,Blob:Gv,Transaction:K9,WriteBatch:$v,DocumentReference:F6,DocumentSnapshot:Qu,Query:Jf,QueryDocumentSnapshot:Qf,QuerySnapshot:hp,CollectionReference:$8,FieldPath:CC,FieldValue:wC,setLogLevel:function(t){Ts.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Xf(t,e){return function(t,e=e2.z){return new ar.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function K8(t,e){return Xf(t,e).pipe((0,Nt.U)(n=>({payload:n,type:"query"})))}function Ba(t,e){return K8(t,e).pipe(O(void 0),j(),(0,Nt.U)(([n,r])=>{const s=r.payload.docChanges(),l=s.map(g=>({type:g.type,payload:g}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((g,_)=>{const E=s.find(N=>N.doc.ref.isEqual(g.ref)),x=null==n?void 0:n.payload.docs.find(N=>N.ref.isEqual(g.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(g.metadata)||!E&&x&&JSON.stringify(x.metadata)===JSON.stringify(g.metadata)||l.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:g}})}),l}))}function Jv(t,e,n){return Ba(t,n).pipe(ft((r,s)=>function(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y9(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Y9(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y9(t,e.oldIndex,1)}return t}(t,r))}),t}(r,s.map(l=>l.payload),e),[]),a0(),(0,Nt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function Y9(t,e,n,...r){const s=t.slice();return s.splice(e,n,...r),s}function xC(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){(function(e,n){e.INTERNAL.registerComponent(new Ia.Component("firestore",function(r){return function(e,n){return new lp(e,new ai(e,n),new W9)}(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},AC)))})(t),t.registerVersion("@firebase/firestore","2.4.1")}(Dn.default);class pp{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Ba(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Nt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),n.pipe(O(void 0),j(),Yr(([r,s])=>s.length>0||!r),(0,Nt.U)(([r,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ft((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=xC(e);return Jv(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return K8(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,qn.D)(this.query.get(e)).pipe((0,Ws.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new mp(this.ref.doc(e),this.afs)}}class mp{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:s,query:l}=ny(r,n);return new pp(s,l,this.afs)}snapshotChanges(){return function(t,e){return Xf(t,e).pipe(O(void 0),j(),(0,Nt.U)(([n,r])=>r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,qn.D)(this.ref.get(e)).pipe((0,Ws.QV)(this.afs.schedulers.insideAngular))}}class Xv{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Ba(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Yr(n=>n.length>0),this.afs.keepUnstableUntilFirst):Ba(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ft((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=xC(e);return Jv(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return K8(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,qn.D)(this.query.get(e)).pipe((0,Ws.QV)(this.afs.schedulers.insideAngular))}}const Y8=new u.OlP("angularfire2.enableFirestorePersistence"),Q8=new u.OlP("angularfire2.firestore.persistenceSettings"),ey=new u.OlP("angularfire2.firestore.settings"),ty=new u.OlP("angularfire2.firestore.use-emulator");function ny(t,e=(n=>n)){return{query:e(t),ref:t}}let V2=(()=>{class t{constructor(n,r,s,l,g,_,E,x,N){this.schedulers=new Xt.HU(_),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const R=(0,Xt.on)(n,_,r);!Ys.Z.auth&&N&&(0,Xt.yq)();const H=x;[this.firestore,this.persistenceEnabled$]=(0,Xt.sI)(`${R.name}.firestore`,"AngularFirestore",R,()=>{const K=_.runOutsideAngular(()=>R.firestore());if(l&&K.settings(l),H&&K.useEmulator(...H),s&&!ol(g)){const te=()=>{try{return(0,qn.D)(K.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(he){return"undefined"!=typeof console&&console.warn(he),(0,It.of)(!1)}};return[K,_.runOutsideAngular(te)]}return[K,(0,It.of)(!1)]},[l,H,s])}collection(n,r){let s;s="string"==typeof n?this.firestore.collection(n):n;const{ref:l,query:g}=ny(s,r),_=this.schedulers.ngZone.run(()=>l);return new pp(_,g,this)}collectionGroup(n,r){const s=r||(g=>g),l=this.firestore.collectionGroup(n);return new Xv(s(l),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const s=this.schedulers.ngZone.run(()=>r);return new mp(s,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(Y8,8),u.LFG(ey,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Q8,8),u.LFG(ty,8),u.LFG(nc,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(Xt.Dh),u.LFG(Xt.xv,8),u.LFG(Y8,8),u.LFG(ey,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Q8,8),u.LFG(ty,8),u.LFG(nc,8))},token:t,providedIn:"any"}),t})(),ry=(()=>{class t{static enablePersistence(n){return{ngModule:t,providers:[{provide:Y8,useValue:!0},{provide:Q8,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[V2]}),t})();const gp_firebaseConfig={apiKey:"AIzaSyDyawPquR9k41-4DIY1YX2cnCZhtvlPfbo",authDomain:"go2parts-senior-3490d.firebaseapp.com",projectId:"go2parts-senior-3490d",storageBucket:"go2parts-senior-3490d.appspot.com",messagingSenderId:"225368192480",appId:"1:225368192480:web:ee2fa075afd79ef20aa785"};function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){DC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J8(t){return(J8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function J9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var g,_,r=[],s=!0,l=!1;try{for(n=n.call(t);!(s=(g=n.next()).done)&&(r.push(g.value),!e||r.length!==e);s=!0);}catch(E){l=!0,_=E}finally{try{!s&&null!=n.return&&n.return()}finally{if(l)throw _}}return r}}(t,e)||nh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(t){return function(t){if(Array.isArray(t))return X9(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nh(t,e){if(t){if("string"==typeof t)return X9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X9(t,e)}}function X9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tm=function(){},nm={},ay={},yp=null,rm={mark:tm,measure:tm};try{"undefined"!=typeof window&&(nm=window),"undefined"!=typeof document&&(ay=document),"undefined"!=typeof MutationObserver&&(yp=MutationObserver),"undefined"!=typeof performance&&(rm=performance)}catch(t){}var X8=(nm.navigator||{}).userAgent,_p=void 0===X8?"":X8,H6=nm,vr=ay,uy=yp,ed=rm,Lc=!!vr.documentElement&&!!vr.head&&"function"==typeof vr.addEventListener&&"function"==typeof vr.createElement,ly=~_p.indexOf("MSIE")||~_p.indexOf("Trident/"),F2="___FONT_AWESOME___",hy="svg-inline--fa",O4="data-fa-i2svg",bp="data-fa-pseudo-element",om="data-prefix",Cp="data-icon",sm="fontawesome-i2svg",RC=["HTML","HEAD","STYLE","SCRIPT"],am=function(){try{return!0}catch(t){return!1}}(),cm={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},nd={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},um={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},py={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},my=/fa[srltdbk\-\ ]/,gy="fa-layers-text",PC=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,zC={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},lm=[1,2,3,4,5,6,7,8,9,10],hA=lm.concat([11,12,13,14,15,16,17,18,19,20]),dA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],pA=[].concat(uo(Object.keys(nd)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(lm.map(function(t){return"".concat(t,"x")})).concat(hA.map(function(t){return"w-".concat(t)})),VC=H6.FontAwesomeConfig||{};vr&&"function"==typeof vr.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=sy(t,2),r=e[1],s=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=vr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=s&&(VC[r]=s)});var wp=yt(yt({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:hy,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),VC);wp.autoReplaceSvg||(wp.observeMutations=!1);var Rt={};Object.keys(wp).forEach(function(t){Object.defineProperty(Rt,t,{enumerable:!0,set:function(n){wp[t]=n,fm.forEach(function(r){return r(Rt)})},get:function(){return wp[t]}})}),H6.FontAwesomeConfig=Rt;var fm=[],Ju={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function rd(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function ih(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function hm(t){return t.classList?ih(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function FC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dm(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function pm(t){return t.size!==Ju.size||t.x!==Ju.x||t.y!==Ju.y||t.rotate!==Ju.rotate||t.flipX||t.flipY}function BC(){var t="fa",e=hy,n=Rt.familyPrefix,r=Rt.replacementClass,s=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==t||r!==e){var l=new RegExp("\\.".concat(t,"\\-"),"g"),g=new RegExp("\\--".concat(t,"\\-"),"g"),_=new RegExp("\\.".concat(e),"g");s=s.replace(l,".".concat(n,"-")).replace(g,"--".concat(n,"-")).replace(_,".".concat(r))}return s}var jC=!1;function vy(){Rt.autoAddCss&&!jC&&(function(t){if(t&&Lc){var e=vr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=vr.head.childNodes,r=null,s=n.length-1;s>-1;s--){var l=n[s],g=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(g)>-1&&(r=l)}vr.head.insertBefore(e,r)}}(BC()),jC=!0)}var qC={mixout:function(){return{dom:{css:BC,insertCss:vy}}},hooks:function(){return{beforeDOMElementCreation:function(){vy()},beforeI2svg:function(){vy()}}}},R4=H6||{};R4[F2]||(R4[F2]={}),R4[F2].styles||(R4[F2].styles={}),R4[F2].hooks||(R4[F2].hooks={}),R4[F2].shims||(R4[F2].shims=[]);var H2=R4[F2],Ep=[],id=!1;function ZC(t){!Lc||(id?setTimeout(t,0):Ep.push(t))}function od(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,s=t.children,l=void 0===s?[]:s;return"string"==typeof t?FC(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(FC(t[n]),'" ')},"").trim()}(r),">").concat(l.map(od).join(""),"</").concat(e,">")}function Ap(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Lc&&((id=(vr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(vr.readyState))||vr.addEventListener("DOMContentLoaded",function t(){vr.removeEventListener("DOMContentLoaded",t),id=1,Ep.map(function(e){return e()})}));var Tp=function(e,n,r,s){var E,x,N,l=Object.keys(e),g=l.length,_=void 0!==s?function(e,n){return function(r,s,l,g){return e.call(n,r,s,l,g)}}(n,s):n;for(void 0===r?(E=1,N=e[l[0]]):(E=0,N=r);E<g;E++)N=_(N,e[x=l[E]],x,e);return N};function by(t){var e=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var l=t.charCodeAt(n++);56320==(64512&l)?e.push(((1023&s)<<10)+(1023&l)+65536):(e.push(s),n--)}else e.push(s)}return e}(t);return 1===e.length?e[0].toString(16):null}function sd(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Mp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,s=void 0!==r&&r,l=sd(e);"function"!=typeof H2.hooks.addPack||s?H2.styles[t]=yt(yt({},H2.styles[t]||{}),l):H2.hooks.addPack(t,sd(e)),"fas"===t&&Mp("fa",e)}var Ip=H2.styles,AA=H2.shims,GC=Object.values(um),wy=null,ad={},Ey={},$C={},WC={},xp={},KC=Object.keys(cm);function MA(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r!==t||""===s||function(t){return~pA.indexOf(t)}(s)?null:s}var Ay=function(){var e=function(l){return Tp(Ip,function(g,_,E){return g[E]=Tp(_,l,{}),g},{})};ad=e(function(s,l,g){return l[3]&&(s[l[3]]=g),l[2]&&l[2].filter(function(E){return"number"==typeof E}).forEach(function(E){s[E.toString(16)]=g}),s}),Ey=e(function(s,l,g){return s[g]=g,l[2]&&l[2].filter(function(E){return"string"==typeof E}).forEach(function(E){s[E]=g}),s}),xp=e(function(s,l,g){var _=l[2];return s[g]=g,_.forEach(function(E){s[E]=g}),s});var n="far"in Ip||Rt.autoFetchSvg,r=Tp(AA,function(s,l){var g=l[0],_=l[1],E=l[2];return"far"===_&&!n&&(_="fas"),"string"==typeof g&&(s.names[g]={prefix:_,iconName:E}),"number"==typeof g&&(s.unicodes[g.toString(16)]={prefix:_,iconName:E}),s},{names:{},unicodes:{}});$C=r.names,WC=r.unicodes,wy=Sp(Rt.styleDefault)};function Ty(t,e){return(ad[t]||{})[e]}function sh(t,e){return(xp[t]||{})[e]}function YC(t){return $C[t]||{prefix:null,iconName:null}}function P4(){return wy}function Sp(t){return nd[t]||nd[cm[t]]||(t in H2.styles?t:null)||null}function Dp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.skipLookups,r=void 0!==n&&n,s=null,l=t.reduce(function(g,_){var E=MA(Rt.familyPrefix,_);if(Ip[_]?(_=GC.includes(_)?py[_]:_,s=_,g.prefix=_):KC.indexOf(_)>-1?(s=_,g.prefix=Sp(_)):E?g.iconName=E:_!==Rt.replacementClass&&g.rest.push(_),!r&&g.prefix&&g.iconName){var x="fa"===s?YC(g.iconName):{},N=sh(g.prefix,g.iconName);x.prefix&&(s=null),g.iconName=x.iconName||N||g.iconName,g.prefix=x.prefix||g.prefix,"far"===g.prefix&&!Ip.far&&Ip.fas&&!Rt.autoFetchSvg&&(g.prefix="fas")}return g},{prefix:null,iconName:null,rest:[]});return("fa"===l.prefix||"fa"===s)&&(l.prefix=P4()||"fas"),l}fm.push(function(t){wy=Sp(t.styleDefault)}),Ay();var QC=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function(t,e,n){e&&J9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];var g=s.reduce(this._pullDefinitions,{});Object.keys(g).forEach(function(_){n.definitions[_]=yt(yt({},n.definitions[_]||{}),g[_]),Mp(_,g[_]);var E=um[_];E&&Mp(E,g[_]),Ay()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(l){var g=s[l],_=g.prefix,E=g.iconName,x=g.icon,N=x[2];n[_]||(n[_]={}),N.length>0&&N.forEach(function(R){"string"==typeof R&&(n[_][R]=x)}),n[_][E]=x}),n}}]),t}(),Np=[],ah={},lo={},JC=Object.keys(lo);function gm(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var l=ah[t]||[];return l.forEach(function(g){e=g.apply(null,[e].concat(r))}),e}function j6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=ah[t]||[];s.forEach(function(l){l.apply(null,n)})}function U2(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return lo[t]?lo[t].apply(null,e):void 0}function kp(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||P4();if(e)return e=sh(n,e)||e,Ap(vm.definitions,n,e)||Ap(H2.styles,n,e)}var vm=new QC,Iy={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lc?(j6("beforeI2svg",e),U2("pseudoElements2svg",e),U2("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Rt.autoReplaceSvg&&(Rt.autoReplaceSvg=!0),Rt.observeMutations=!0,ZC(function(){ew({autoReplaceSvgRoot:n}),j6("watch",e)})}},ja={noAuto:function(){Rt.autoReplaceSvg=!1,Rt.observeMutations=!1,j6("noAuto")},config:Rt,dom:Iy,parse:{icon:function(e){if(null===e)return null;if("object"===J8(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:sh(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Sp(e[0]);return{prefix:r,iconName:sh(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Rt.familyPrefix,"-"))>-1||e.match(my))){var s=Dp(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||P4(),iconName:sh(s.prefix,s.iconName)||s.iconName}}if("string"==typeof e){var l=P4();return{prefix:l,iconName:sh(l,e)||e}}}},library:vm,findIconDefinition:kp,toHtml:od},ew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot,r=void 0===n?vr:n;(Object.keys(H2.styles).length>0||Rt.autoFetchSvg)&&Lc&&Rt.autoReplaceSvg&&ja.dom.i2svg({node:r})};function ch(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return od(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Lc){var r=vr.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function cd(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,l=t.iconName,g=t.transform,_=t.symbol,E=t.title,x=t.maskId,N=t.titleId,R=t.extra,H=t.watchable,K=void 0!==H&&H,te=r.found?r:n,he=te.width,Ie=te.height,Oe="fak"===s,Be=[Rt.replacementClass,l?"".concat(Rt.familyPrefix,"-").concat(l):""].filter(function(Gr){return-1===R.classes.indexOf(Gr)}).filter(function(Gr){return""!==Gr||!!Gr}).concat(R.classes).join(" "),$e={children:[],attributes:yt(yt({},R.attributes),{},{"data-prefix":s,"data-icon":l,class:Be,role:R.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(he," ").concat(Ie)})},gt=Oe&&!~R.classes.indexOf("fa-fw")?{width:"".concat(he/Ie*16*.0625,"em")}:{};K&&($e.attributes[O4]=""),E&&($e.children.push({tag:"title",attributes:{id:$e.attributes["aria-labelledby"]||"title-".concat(N||rd())},children:[E]}),delete $e.attributes.title);var Je=yt(yt({},$e),{},{prefix:s,iconName:l,main:n,mask:r,maskId:x,transform:g,symbol:_,styles:yt(yt({},gt),R.styles)}),Ut=r.found&&n.found?U2("generateAbstractMask",Je)||{children:[],attributes:{}}:U2("generateAbstractIcon",Je)||{children:[],attributes:{}},rs=Ut.attributes;return Je.children=Ut.children,Je.attributes=rs,_?function(t){var n=t.iconName,r=t.children,s=t.attributes,l=t.symbol,g=!0===l?"".concat(t.prefix,"-").concat(Rt.familyPrefix,"-").concat(n):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yt(yt({},s),{},{id:g}),children:r}]}]}(Je):function(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,l=t.styles,g=t.transform;if(pm(g)&&n.found&&!r.found){var x={x:n.width/n.height/2,y:.5};s.style=dm(yt(yt({},l),{},{"transform-origin":"".concat(x.x+g.x/16,"em ").concat(x.y+g.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}(Je)}function Ny(t){var e=t.content,n=t.width,r=t.height,s=t.transform,l=t.title,g=t.extra,_=t.watchable,E=void 0!==_&&_,x=yt(yt(yt({},g.attributes),l?{title:l}:{}),{},{class:g.classes.join(" ")});E&&(x[O4]="");var N=yt({},g.styles);pm(s)&&(N.transform=function(t){var e=t.transform,n=t.width,s=t.height,l=void 0===s?16:s,g=t.startCentered,_=void 0!==g&&g,E="";return E+=_&&ly?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-l/2,"em) "):_?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(E+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:s,startCentered:!0,width:n,height:r}),N["-webkit-transform"]=N.transform);var R=dm(N);R.length>0&&(x.style=R);var H=[];return H.push({tag:"span",attributes:x,children:[e]}),l&&H.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),H}function B2(t){var e=t.content,n=t.title,r=t.extra,s=yt(yt(yt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),l=dm(r.styles);l.length>0&&(s.style=l);var g=[];return g.push({tag:"span",attributes:s,children:[e]}),n&&g.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),g}var ym=H2.styles;function ky(t){var e=t[0],n=t[1],l=sy(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(l)?{tag:"g",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:l[0]}},{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:l[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:l}}}}var tw={found:!1,width:512,height:512};function _m(t,e){var n=e;return"fa"===e&&null!==Rt.styleDefault&&(e=P4()),new Promise(function(r,s){if(U2("missingIconAbstract"),"fa"===n){var g=YC(t)||{};t=g.iconName||t,e=g.prefix||e}if(t&&e&&ym[e]&&ym[e][t])return r(ky(ym[e][t]));(function(t,e){!am&&!Rt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(yt(yt({},tw),{},{icon:Rt.showMissingIcons&&t&&U2("missingIconAbstract")||{}}))})}var Ly=function(){},bm=Rt.measurePerformance&&ed&&ed.mark&&ed.measure?ed:{mark:Ly,measure:Ly},Lp='FA "6.0.0"',wm_begin=function(e){return bm.mark("".concat(Lp," ").concat(e," begins")),function(){return function(e){bm.mark("".concat(Lp," ").concat(e," ends")),bm.measure("".concat(Lp," ").concat(e),"".concat(Lp," ").concat(e," begins"),"".concat(Lp," ").concat(e," ends"))}(e)}},Op=function(){};function Em(t){return"string"==typeof(t.getAttribute?t.getAttribute(O4):null)}function Ry(t){return vr.createElementNS("http://www.w3.org/2000/svg",t)}function iw(t){return vr.createElement(t)}function Py(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ceFn,r=void 0===n?"svg"===t.tag?Ry:iw:n;if("string"==typeof t)return vr.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(g){s.setAttribute(g,t.attributes[g])});var l=t.children||[];return l.forEach(function(g){s.appendChild(Py(g,{ceFn:r}))}),s}var z4={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(Py(s),n)}),null===n.getAttribute(O4)&&Rt.keepOriginalSource){var r=vr.createComment(function(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~hm(n).indexOf(Rt.replacementClass))return z4.replace(e);var s=new RegExp("".concat(Rt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var l=r[0].attributes.class.split(" ").reduce(function(_,E){return E===Rt.replacementClass||E.match(s)?_.toSvg.push(E):_.toNode.push(E),_},{toNode:[],toSvg:[]});r[0].attributes.class=l.toSvg.join(" "),0===l.toNode.length?n.removeAttribute("class"):n.setAttribute("class",l.toNode.join(" "))}var g=r.map(function(_){return od(_)}).join("\n");n.setAttribute(O4,""),n.innerHTML=g}};function Rp(t){t()}function Am(t,e){var n="function"==typeof e?e:Op;if(0===t.length)n();else{var r=Rp;"async"===Rt.mutateApproach&&(r=H6.requestAnimationFrame||Rp),r(function(){var s=!0===Rt.autoReplaceSvg?z4.replace:z4[Rt.autoReplaceSvg]||z4.replace,l=wm_begin("mutate");t.map(s),l(),n()})}}var Tm=!1;function Vy(){Tm=!0}function Fy(){Tm=!1}var Mm=null;function ow(t){if(uy&&Rt.observeMutations){var e=t.treeCallback,n=void 0===e?Op:e,r=t.nodeCallback,s=void 0===r?Op:r,l=t.pseudoElementsCallback,g=void 0===l?Op:l,_=t.observeMutationsRoot,E=void 0===_?vr:_;Mm=new uy(function(x){if(!Tm){var N=P4();ih(x).forEach(function(R){if("childList"===R.type&&R.addedNodes.length>0&&!Em(R.addedNodes[0])&&(Rt.searchPseudoElements&&g(R.target),n(R.target)),"attributes"===R.type&&R.target.parentNode&&Rt.searchPseudoElements&&g(R.target.parentNode),"attributes"===R.type&&Em(R.target)&&~dA.indexOf(R.attributeName))if("class"===R.attributeName&&function(t){var e=t.getAttribute?t.getAttribute(om):null,n=t.getAttribute?t.getAttribute(Cp):null;return e&&n}(R.target)){var H=Dp(hm(R.target)),te=H.iconName;R.target.setAttribute(om,H.prefix||N),te&&R.target.setAttribute(Cp,te)}else(function(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Rt.replacementClass)})(R.target)&&s(R.target)})}}),Lc&&Mm.observe(E,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Uy(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var l=s.split(":"),g=l[0],_=l.slice(1);return g&&_.length>0&&(r[g]=_.join(":").trim()),r},{})),n}function sw(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",s=Dp(hm(t));return s.prefix||(s.prefix=P4()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||s.prefix&&r.length>0&&(s.iconName=function(t,e){return(Ey[t]||{})[e]}(s.prefix,t.innerText)||Ty(s.prefix,by(t.innerText))),s}function aw(t){var e=ih(t.attributes).reduce(function(s,l){return"class"!==s.name&&"style"!==s.name&&(s[l.name]=l.value),s},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Rt.autoA11y&&(n?e["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(r||rd()):(e["aria-hidden"]="true",e.focusable="false")),e}function By(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=sw(t),r=n.iconName,s=n.prefix,l=n.rest,g=aw(t),_=gm("parseNodeAttributes",{},t),E=e.styleParser?Uy(t):[];return yt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:Ju,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:l,styles:E,attributes:g}},_)}var jy=H2.styles;function uw(t){var e="nest"===Rt.autoReplaceSvg?By(t,{styleParser:!1}):By(t);return~e.extra.classes.indexOf(gy)?U2("generateLayersText",t,e):U2("generateSvgReplacementMutation",t,e)}function lw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Lc)return Promise.resolve();var n=vr.documentElement.classList,r=function(R){return n.add("".concat(sm,"-").concat(R))},s=function(R){return n.remove("".concat(sm,"-").concat(R))},l=Object.keys(Rt.autoFetchSvg?cm:jy),g=[".".concat(gy,":not([").concat(O4,"])")].concat(l.map(function(N){return".".concat(N,":not([").concat(O4,"])")})).join(", ");if(0===g.length)return Promise.resolve();var _=[];try{_=ih(t.querySelectorAll(g))}catch(N){}if(!(_.length>0))return Promise.resolve();r("pending"),s("complete");var E=wm_begin("onTree"),x=_.reduce(function(N,R){try{var H=uw(R);H&&N.push(H)}catch(K){am||"MissingIcon"===K.name&&console.error(K)}return N},[]);return new Promise(function(N,R){Promise.all(x).then(function(H){Am(H,function(){r("active"),r("complete"),s("pending"),"function"==typeof e&&e(),E(),N()})}).catch(function(H){E(),R(H)})})}function fw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;uw(t).then(function(n){n&&Am([n],e)})}function Im(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:kp(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:kp(s||{})),t(r,yt(yt({},n),{},{mask:s}))}}var fo=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,s=void 0===r?Ju:r,l=n.symbol,g=void 0!==l&&l,_=n.mask,E=void 0===_?null:_,x=n.maskId,N=void 0===x?null:x,R=n.title,H=void 0===R?null:R,K=n.titleId,te=void 0===K?null:K,he=n.classes,Ie=void 0===he?[]:he,Oe=n.attributes,Be=void 0===Oe?{}:Oe,$e=n.styles,gt=void 0===$e?{}:$e;if(e){var Je=e.prefix,Ut=e.iconName,fr=e.icon;return ch(yt({type:"icon"},e),function(){return j6("beforeDOMElementCreation",{iconDefinition:e,params:n}),Rt.autoA11y&&(H?Be["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(te||rd()):(Be["aria-hidden"]="true",Be.focusable="false")),cd({icons:{main:ky(fr),mask:E?ky(E.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Je,iconName:Ut,transform:yt(yt({},Ju),s),symbol:g,title:H,maskId:N,titleId:te,extra:{attributes:Be,styles:gt,classes:Ie}})})}},DA={mixout:function(){return{icon:Im(fo)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=lw,n.nodeCallback=fw,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,l=n.callback;return lw(void 0===r?vr:r,void 0===l?function(){}:l)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,l=r.title,g=r.titleId,_=r.prefix,E=r.transform,x=r.symbol,N=r.mask,R=r.maskId,H=r.extra;return new Promise(function(K,te){Promise.all([_m(s,_),N.iconName?_m(N.iconName,N.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(he){var Ie=sy(he,2);K([n,cd({icons:{main:Ie[0],mask:Ie[1]},prefix:_,iconName:s,transform:E,symbol:x,maskId:R,title:l,titleId:g,extra:H,watchable:!0})])}).catch(te)})},e.generateAbstractIcon=function(n){var x,r=n.children,s=n.attributes,l=n.main,g=n.transform,E=dm(n.styles);return E.length>0&&(s.style=E),pm(g)&&(x=U2("generateAbstractTransformGrouping",{main:l,transform:g,containerWidth:l.width,iconWidth:l.width})),r.push(x||l.icon),{children:r,attributes:s}}}},qy={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.classes,l=void 0===s?[]:s;return ch({type:"layer"},function(){j6("beforeDOMElementCreation",{assembler:n,params:r});var g=[];return n(function(_){Array.isArray(_)?_.map(function(E){g=g.concat(E.abstract)}):g=g.concat(_.abstract)}),[{tag:"span",attributes:{class:["".concat(Rt.familyPrefix,"-layers")].concat(uo(l)).join(" ")},children:g}]})}}}},Zy={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.title,l=void 0===s?null:s,g=r.classes,_=void 0===g?[]:g,E=r.attributes,x=void 0===E?{}:E,N=r.styles,R=void 0===N?{}:N;return ch({type:"counter",content:n},function(){return j6("beforeDOMElementCreation",{content:n,params:r}),B2({content:n.toString(),title:l,extra:{attributes:x,styles:R,classes:["".concat(Rt.familyPrefix,"-layers-counter")].concat(uo(_))}})})}}}},hw={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.transform,l=void 0===s?Ju:s,g=r.title,_=void 0===g?null:g,E=r.classes,x=void 0===E?[]:E,N=r.attributes,R=void 0===N?{}:N,H=r.styles,K=void 0===H?{}:H;return ch({type:"text",content:n},function(){return j6("beforeDOMElementCreation",{content:n,params:r}),Ny({content:n,transform:yt(yt({},Ju),l),title:_,extra:{attributes:R,styles:K,classes:["".concat(Rt.familyPrefix,"-layers-text")].concat(uo(x))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.title,l=r.transform,g=r.extra,_=null,E=null;if(ly){var x=parseInt(getComputedStyle(n).fontSize,10),N=n.getBoundingClientRect();_=N.width/x,E=N.height/x}return Rt.autoA11y&&!s&&(g.attributes["aria-hidden"]="true"),Promise.resolve([n,Ny({content:n.innerHTML,width:_,height:E,transform:l,title:s,extra:g,watchable:!0})])}}},Pp=new RegExp('"',"ug"),Gy=[1105920,1112319];function xm(t,e){var n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,s){if(null!==t.getAttribute(n))return r();var g=ih(t.children).filter(function(Ut){return Ut.getAttribute(bp)===e})[0],_=H6.getComputedStyle(t,e),E=_.getPropertyValue("font-family").match(PC),x=_.getPropertyValue("font-weight"),N=_.getPropertyValue("content");if(g&&!E)return t.removeChild(g),r();if(E&&"none"!==N&&""!==N){var R=_.getPropertyValue("content"),H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(E[2])?nd[E[2].toLowerCase()]:zC[x],K=function(t){var e=t.replace(Pp,""),n=function(t,e){var s,n=t.length,r=t.charCodeAt(0);return r>=55296&&r<=56319&&n>1&&(s=t.charCodeAt(1))>=56320&&s<=57343?1024*(r-55296)+s-56320+65536:r}(e),r=n>=Gy[0]&&n<=Gy[1],s=2===e.length&&e[0]===e[1];return{value:by(s?e[0]:e),isSecondary:r||s}}(R),te=K.value,he=K.isSecondary,Ie=E[0].startsWith("FontAwesome"),Oe=Ty(H,te),Be=Oe;if(Ie){var $e=function(t){var e=WC[t],n=Ty("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(te);$e.iconName&&$e.prefix&&(Oe=$e.iconName,H=$e.prefix)}if(!Oe||he||g&&g.getAttribute(om)===H&&g.getAttribute(Cp)===Be)r();else{t.setAttribute(n,Be),g&&t.removeChild(g);var gt={iconName:null,title:null,titleId:null,prefix:null,transform:Ju,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},Je=gt.extra;Je.attributes[bp]=e,_m(Oe,H).then(function(Ut){var fr=cd(yt(yt({},gt),{},{icons:{main:Ut,mask:{prefix:null,iconName:null,rest:[]}},prefix:H,iconName:Be,extra:Je,watchable:!0})),rs=vr.createElement("svg");"::before"===e?t.insertBefore(rs,t.firstChild):t.appendChild(rs),rs.outerHTML=fr.map(function(Gr){return od(Gr)}).join("\n"),t.removeAttribute(n),r()}).catch(s)}}else r()})}function q6(t){return Promise.all([xm(t,"::before"),xm(t,"::after")])}function $y(t){return!(t.parentNode===document.head||~RC.indexOf(t.tagName.toUpperCase())||t.getAttribute(bp)||t.parentNode&&"svg"===t.parentNode.tagName)}function zp(t){if(Lc)return new Promise(function(e,n){var r=ih(t.querySelectorAll("*")).filter($y).map(q6),s=wm_begin("searchPseudoElements");Vy(),Promise.all(r).then(function(){s(),Fy(),e()}).catch(function(){s(),Fy(),n()})})}var Wy=!1,Ky=function(e){return e.toLowerCase().split(" ").reduce(function(r,s){var l=s.toLowerCase().split("-"),g=l[0],_=l.slice(1).join("-");if(g&&"h"===_)return r.flipX=!0,r;if(g&&"v"===_)return r.flipY=!0,r;if(_=parseFloat(_),isNaN(_))return r;switch(g){case"grow":r.size=r.size+_;break;case"shrink":r.size=r.size-_;break;case"left":r.x=r.x-_;break;case"right":r.x=r.x+_;break;case"up":r.y=r.y-_;break;case"down":r.y=r.y+_;break;case"rotate":r.rotate=r.rotate+_}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Fp={x:0,y:0,width:"100%",height:"100%"};function Hi(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function NA(t){return"g"===t.tag?t.children:[t]}!function(t,e){var n=e.mixoutsTo;Np=t,ah={},Object.keys(lo).forEach(function(r){-1===JC.indexOf(r)&&delete lo[r]}),Np.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(g){"function"==typeof s[g]&&(n[g]=s[g]),"object"===J8(s[g])&&Object.keys(s[g]).forEach(function(_){n[g]||(n[g]={}),n[g][_]=s[g][_]})}),r.hooks){var l=r.hooks();Object.keys(l).forEach(function(g){ah[g]||(ah[g]=[]),ah[g].push(l[g])})}r.provides&&r.provides(lo)})}([qC,DA,qy,Zy,hw,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=zp,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Rt.searchPseudoElements&&zp(void 0===r?vr:r)}}},{mixout:function(){return{dom:{unwatch:function(){Vy(),Wy=!0}}}},hooks:function(){return{bootstrap:function(){ow(gm("mutationObserverCallbacks",{}))},noAuto:function(){!Mm||Mm.disconnect()},watch:function(n){var r=n.observeMutationsRoot;Wy?Fy():ow(gm("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return Ky(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=Ky(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,g=n.iconWidth,_={transform:"translate(".concat(n.containerWidth/2," 256)")},E="translate(".concat(32*s.x,", ").concat(32*s.y,") "),x="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),N="rotate(".concat(s.rotate," 0 0)"),K={outer:_,inner:{transform:"".concat(E," ").concat(x," ").concat(N)},path:{transform:"translate(".concat(g/2*-1," -256)")}};return{tag:"g",attributes:yt({},K.outer),children:[{tag:"g",attributes:yt({},K.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:yt(yt({},r.icon.attributes),K.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),l=s?Dp(s.split(" ").map(function(g){return g.trim()})):{prefix:null,iconName:null,rest:[]};return l.prefix||(l.prefix=P4()),n.mask=l,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,l=n.main,g=n.mask,_=n.maskId,N=l.icon,H=g.icon,K=function(t){var e=t.transform,r=t.iconWidth,s={transform:"translate(".concat(t.containerWidth/2," 256)")},l="translate(".concat(32*e.x,", ").concat(32*e.y,") "),g="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),_="rotate(".concat(e.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(l," ").concat(g," ").concat(_)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:g.width,iconWidth:l.width}),te={tag:"rect",attributes:yt(yt({},Fp),{},{fill:"white"})},he=N.children?{children:N.children.map(Hi)}:{},Ie={tag:"g",attributes:yt({},K.inner),children:[Hi(yt({tag:N.tag,attributes:yt(yt({},N.attributes),K.path)},he))]},Oe={tag:"g",attributes:yt({},K.outer),children:[Ie]},Be="mask-".concat(_||rd()),$e="clip-".concat(_||rd()),gt={tag:"mask",attributes:yt(yt({},Fp),{},{id:Be,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[te,Oe]},Je={tag:"defs",children:[{tag:"clipPath",attributes:{id:$e},children:NA(H)},gt]};return r.push(Je,{tag:"rect",attributes:yt({fill:"currentColor","clip-path":"url(#".concat($e,")"),mask:"url(#".concat(Be,")")},Fp)}),{children:r,attributes:s}}}},{provides:function(e){var n=!1;H6.matchMedia&&(n=H6.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},l={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:yt(yt({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var g=yt(yt({},l),{},{attributeName:"opacity"}),_={tag:"circle",attributes:yt(yt({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||_.children.push({tag:"animate",attributes:yt(yt({},l),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yt(yt({},g),{},{values:"1;0;1;1;0;1;"})}),r.push(_),r.push({tag:"path",attributes:yt(yt({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:yt(yt({},g),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:yt(yt({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yt(yt({},g),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol");return n.symbol=null!==s&&(""===s||s),n}}}}],{mixoutsTo:ja});var gw=ja.parse,vw=ja.icon;const yw=["*"],FA=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let ww=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ew=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(const r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const s of r.icon[2])"string"==typeof s&&(this.definitions[r.prefix][s]=r)}}addIconPacks(...n){for(const r of n){const s=Object.keys(r).map(l=>r[l]);this.addIcons(...s)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Aw=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=u.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[u.TTD]}),t})(),j2=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(null!=n.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),null!=n.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275cmp=u.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[u.TTD],ngContentSelectors:yw,decls:1,vars:0,template:function(n,r){1&n&&(u.F$t(),u.Hsn(0))},encapsulation:2}),t})(),Up=(()=>{class t{constructor(n,r,s,l,g){this.sanitizer=n,this.config=r,this.iconLibrary=s,this.stackItem=l,this.classes=[],null!=g&&null==l&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,n){const s=this.findIconDefinition(r);if(null!=s){const l=this.buildParams();this.renderIcon(s,l)}}}render(){this.ngOnChanges({})}findIconDefinition(n){const r=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0)(n,this.config.defaultPrefix);if("icon"in r)return r;const s=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=s?s:((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const n={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?gw.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...FA(n),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(n,r){const s=vw(n,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Wi),u.Y36(ww),u.Y36(Ew),u.Y36(Aw,8),u.Y36(j2,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(n,r){2&n&&(u.Ikx("innerHTML",r.renderedIconHTML,u.oJD),u.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[u.TTD],decls:0,vars:0,template:function(n,r){},encapsulation:2}),t})(),Tw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();class q2 extends xt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l0.N;return this._value}next(e){super.next(this._value=e)}}var Z6=J(9796),Yy=J(6693);const Mw={};class qA{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new ZA(e,this.resultSelector))}}class ZA extends wa{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Mw),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(Ea(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const s=this.values,g=this.toRespond?s[r]===Mw?--this.toRespond:this.toRespond:0;s[r]=n,0===g&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}function xw(t){return new ar.y(e=>{let n;try{n=t()}catch(s){return void e.error(s)}return(n?(0,qn.D)(n):(0,h1.c)()).subscribe(e)})}var Nm=J(2441);function G6(t){return function(n){const r=new Sw(t),s=n.lift(r);return r.caught=s}}class Sw{constructor(e){this.selector=e}call(e,n){return n.subscribe(new Dw(e,this.selector,this.caught))}}class Dw extends Gs.Ds{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new Gs.IY(this);this.add(r);const s=(0,Gs.ft)(n,r);s!==r&&this.add(s)}}}var ca=J(9773);function ud(t,e){return(0,ca.zg)(t,e,1)}function km(t){return function(n){return 0===t?(0,h1.c)():n.lift(new Nw(t))}}class Nw{constructor(e){if(this.total=e,this.total<0)throw new cu}call(e,n){return n.subscribe(new Z2(e,this.total))}}class Z2 extends Di.L{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,s=this.count++;n.length<r?n.push(e):n[s%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,s=this.ring;for(let l=0;l<r;l++){const g=n++%r;e.next(s[g])}}e.complete()}}var ua=J(3342),kw=J(1307);class Jy{constructor(e){this.callback=e}call(e,n){return n.subscribe(new Xy(e,this.callback))}}class Xy extends Di.L{constructor(e,n){super(e),this.add(new u0.w(n))}}class G2{constructor(e,n){this.id=e,this.url=n}}class ld extends G2{constructor(e,n,r="imperative",s=null){super(e,n),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $6 extends G2{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fd extends G2{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bp extends G2{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e_ extends G2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t_ extends G2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lw extends G2{constructor(e,n,r,s,l){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ow extends G2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n_ extends G2{constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r_{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class i_{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rw{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uh{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cn="primary";class o_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xu(t){return new o_(t)}const jp="ngNavigationCancelingError";function qp(t){const e=Error("NavigationCancelingError: "+t);return e[jp]=!0,e}function zw(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let l=0;l<r.length;l++){const g=r[l],_=t[l];if(g.startsWith(":"))s[g.substring(1)]=_;else if(g!==_.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function Oc(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let l=0;l<n.length;l++)if(s=n[l],!s_(t[s],e[s]))return!1;return!0}function s_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,l)=>r[l]===s)}return t===e}function Om(t){return Array.prototype.concat.apply([],t)}function a_(t){return t.length>0?t[t.length-1]:null}function Lo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Oo(t){return(0,u.CqO)(t)?t:(0,u.QGY)(t)?(0,qn.D)(Promise.resolve(t)):(0,It.of)(t)}const Rm={exact:function Gp(t,e,n){if(!j1(t.segments,e.segments)||!$p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Gp(t.children[r],e.children[r],n))return!1;return!0},subset:Pm},c_={exact:function(t,e){return Oc(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>s_(t[n],e[n]))},ignored:()=>!0};function u_(t,e,n){return Rm[n.paths](t.root,e.root,n.matrixParams)&&c_[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Pm(t,e,n){return zm(t,e,e.segments,n)}function zm(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!j1(s,n)||e.hasChildren()||!$p(s,n,r))}if(t.segments.length===n.length){if(!j1(t.segments,n)||!$p(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!Pm(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),l=n.slice(t.segments.length);return!!(j1(t.segments,s)&&$p(t.segments,s,r)&&t.children[cn])&&zm(t.children[cn],e,l,r)}}function $p(t,e,n){return e.every((r,s)=>c_[n](t[s].parameters,r.parameters))}class W6{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return Uw.serialize(this)}}class wn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Lo(n,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kp(this)}}class qa{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xu(this.parameters)),this._parameterMap}toString(){return Fm(this)}}function j1(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class V4{}class l_{parse(e){const n=new jw(e);return new W6(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${lh(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(s=>`${pd(n)}=${pd(s)}`).join("&"):`${pd(n)}=${pd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Uw=new l_;function Kp(t){return t.segments.map(e=>Fm(e)).join("/")}function lh(t,e){if(!t.hasChildren())return Kp(t);if(e){const n=t.children[cn]?lh(t.children[cn],!1):"",r=[];return Lo(t.children,(s,l)=>{l!==cn&&r.push(`${l}:${lh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Lo(t.children,(r,s)=>{s===cn&&(n=n.concat(e(r,s)))}),Lo(t.children,(r,s)=>{s!==cn&&(n=n.concat(e(r,s)))}),n}(t,(r,s)=>s===cn?[lh(t.children[cn],!1)]:[`${s}:${lh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[cn]?`${Kp(t)}/${n[0]}`:`${Kp(t)}/(${n.join("//")})`}}function Vm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pd(t){return Vm(t).replace(/%3B/gi,";")}function md(t){return Vm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yp(t){return decodeURIComponent(t)}function h_(t){return Yp(t.replace(/\+/g,"%20"))}function Fm(t){return`${md(t.path)}${function(t){return Object.keys(t).map(e=>`;${md(e)}=${md(t[e])}`).join("")}(t.parameters)}`}const Bw=/^[^\/()?;=#]+/;function Qp(t){const e=t.match(Bw);return e?e[0]:""}const WA=/^[^=?&#]+/,YA=/^[^?&#]+/;class jw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[cn]=new wn(e,n)),r}parseSegment(){const e=Qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new qa(Yp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Qp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=Qp(this.remaining);s&&(r=s,this.capture(r))}e[Yp(n)]=Yp(r)}parseQueryParam(e){const n=function(t){const e=t.match(WA);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const g=function(t){const e=t.match(YA);return e?e[0]:""}(this.remaining);g&&(r=g,this.capture(r))}const s=h_(n),l=h_(r);if(e.hasOwnProperty(s)){let g=e[s];Array.isArray(g)||(g=[g],e[s]=g),g.push(l)}else e[s]=l}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qp(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=cn);const g=this.parseChildren();n[l]=1===Object.keys(g).length?g[cn]:new wn([],g),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class d_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=p_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=p_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=m_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return m_(e,this._root).map(n=>n.value)}}function p_(t,e){if(t===e.value)return e;for(const n of e.children){const r=p_(t,n);if(r)return r}return null}function m_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=m_(t,n);if(r.length)return r.unshift(e),r}return[]}class F4{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Jp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class g_ extends d_{constructor(e,n){super(e),this.snapshot=n,f(this,e)}toString(){return this.snapshot.toString()}}function qw(t,e){const n=function(t,e){const g=new o([],{},{},"",{},cn,e,null,t.root,-1,{});return new c("",new F4(g,[]))}(t,e),r=new q2([new qa("",{})]),s=new q2({}),l=new q2({}),g=new q2({}),_=new q2(""),E=new gd(r,s,g,_,l,cn,e,n.root);return E.snapshot=n.root,new g_(new F4(E,[]),n)}class gd{constructor(e,n,r,s,l,g,_,E){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=g,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>Xu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>Xu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const s=n[r],l=n[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(l.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class o{constructor(e,n,r,s,l,g,_,E,x,N,R){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=g,this.component=_,this.routeConfig=E,this._urlSegment=x,this._lastPathIndex=N,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c extends d_{constructor(e,n){super(n),this.url=e,f(this,n)}toString(){return m(this._root)}}function f(t,e){e.value._routerState=t,e.children.forEach(n=>f(t,n))}function m(t){const e=t.children.length>0?` { ${t.children.map(m).join(", ")} } `:"";return`${t.value}${e}`}function y(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Oc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Oc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Oc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Oc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function w(t,e){return Oc(t.params,e.params)&&function(t,e){return j1(t,e)&&t.every((n,r)=>Oc(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||w(t.parent,e.parent))}function I(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return I(t,r,s);return I(t,r)})}(t,e,n);return new F4(r,s)}{if(t.shouldAttach(e.value)){const l=t.retrieve(e.value);if(null!==l){const g=l.route;return k(e,g),g}}const r=function(t){return new gd(new q2(t.url),new q2(t.params),new q2(t.queryParams),new q2(t.fragment),new q2(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(l=>I(t,l));return new F4(r,s)}}function k(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)k(t.children[n],e.children[n])}function oe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function le(t){return"object"==typeof t&&null!=t&&t.outlets}function xe(t,e,n,r,s){let l={};return r&&Lo(r,(g,_)=>{l[_]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),new W6(n.root===t?e:ye(n.root,t,e),l,s)}function ye(t,e,n){const r={};return Lo(t.children,(s,l)=>{r[l]=s===e?n:ye(s,e,n)}),new wn(t.segments,r)}class Ye{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oe(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(le);if(s&&s!==a_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tt{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Za(t,e,n){if(t||(t=new wn([],{})),0===t.segments.length&&t.hasChildren())return H4(t,e,n);const r=function(t,e,n){let r=0,s=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return l;const g=t.segments[s],_=n[r];if(le(_))break;const E=`${_}`,x=r<n.length-1?n[r+1]:null;if(s>0&&void 0===E)break;if(E&&x&&"object"==typeof x&&void 0===x.outlets){if(!e7(E,x,g))return l;r+=2}else{if(!e7(E,{},g))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const l=new wn(t.segments.slice(0,r.pathIndex),{});return l.children[cn]=new wn(t.segments.slice(r.pathIndex),t.children),H4(l,0,s)}return r.match&&0===s.length?new wn(t.segments,{}):r.match&&!t.hasChildren()?U4(t,e,n):r.match?H4(t,0,s):U4(t,e,n)}function H4(t,e,n){if(0===n.length)return new wn(t.segments,{});{const r=function(t){return le(t[0])?t[0].outlets:{[cn]:t}}(n),s={};return Lo(r,(l,g)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[g]=Za(t.children[g],e,l))}),Lo(t.children,(l,g)=>{void 0===r[g]&&(s[g]=l)}),new wn(t.segments,s)}}function U4(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const l=n[s];if(le(l)){const E=hh(l.outlets);return new wn(r,E)}if(0===s&&oe(n[0])){r.push(new qa(t.segments[e].path,Xp(n[0]))),s++;continue}const g=le(l)?l.outlets[cn]:`${l}`,_=s<n.length-1?n[s+1]:null;g&&_&&oe(_)?(r.push(new qa(g,Xp(_))),s+=2):(r.push(new qa(g,{})),s++)}return new wn(r,{})}function hh(t){const e={};return Lo(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=U4(new wn([],{}),0,n))}),e}function Xp(t){const e={};return Lo(t,(n,r)=>e[r]=`${n}`),e}function e7(t,e,n){return t==n.path&&Oc(e,n.parameters)}class Bm{constructor(e,n,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),y(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=Jp(n);e.children.forEach(l=>{const g=l.value.outlet;this.deactivateRoutes(l,s[g],r),delete s[g]}),Lo(s,(l,g)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,n,r){const s=e.value,l=n?n.value:null;if(s===l)if(s.component){const g=r.getContext(s.outlet);g&&this.deactivateChildRoutes(e,n,g.children)}else this.deactivateChildRoutes(e,n,r);else l&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,l=Jp(e);for(const g of Object.keys(l))this.deactivateRouteAndItsChildren(l[g],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const s=Jp(n);e.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],r),this.forwardEvent(new xs(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Lm(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,l=n?n.value:null;if(y(s),s===l)if(s.component){const g=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,g.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const g=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const _=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),g.children.onOutletReAttached(_.contexts),g.attachRef=_.componentRef,g.route=_.route.value,g.outlet&&g.outlet.attach(_.componentRef,_.route.value),t7(_.route)}else{const _=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(s.snapshot),E=_?_.module.componentFactoryResolver:null;g.attachRef=null,g.route=s,g.resolver=E,g.outlet&&g.outlet.activateWith(s,E),this.activateChildRoutes(e,null,g.children)}}else this.activateChildRoutes(e,null,r)}}function t7(t){y(t.value),t.children.forEach(t7)}class Gw{constructor(e,n){this.routes=e,this.module=n}}function dh(t){return"function"==typeof t}function vd(t){return t instanceof W6}const jm=Symbol("INITIAL_VALUE");function qm(){return cr(t=>function(...t){let e,n;return(0,D.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Z6.k)(t[0])&&(t=t[0]),(0,Yy.n)(t,n).lift(new qA(e))}(t.map(e=>e.pipe(tc(1),O(jm)))).pipe(ft((e,n)=>{let r=!1;return n.reduce((s,l,g)=>s!==jm?s:(l===jm&&(r=!0),r||!1!==l&&g!==n.length-1&&!vd(l)?s:l),e)},jm),Yr(e=>e!==jm),(0,Nt.U)(e=>vd(e)?e:!0===e),tc(1)))}let XA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&u._UZ(0,"router-outlet")},directives:function(){return[Jw]},encapsulation:2}),t})();function eT(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ux(r,lx(e,r))}}function ux(t,e){t.children&&eT(t.children,e)}function lx(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $w(t){const e=t.children&&t.children.map($w),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=XA),n}function Rc(t){return t.outlet||cn}function tT(t,e){const n=t.filter(r=>Rc(r)===e);return n.push(...t.filter(r=>Rc(r)!==e)),n}const nT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function v_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},nT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||zw)(n,t,e);if(!l)return Object.assign({},nT);const g={};Lo(l.posParams,(E,x)=>{g[x]=E.path});const _=l.consumed.length>0?Object.assign(Object.assign({},g),l.consumed[l.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:_,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function y_(t,e,n,r,s="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>__(t,e,r)&&Rc(r)!==cn)}(t,n,r)){const g=new wn(e,function(t,e,n,r){const s={};s[cn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const l of n)if(""===l.path&&Rc(l)!==cn){const g=new wn([],{});g._sourceSegment=t,g._segmentIndexShift=e.length,s[Rc(l)]=g}return s}(t,e,r,new wn(n,t.children)));return g._sourceSegment=t,g._segmentIndexShift=e.length,{segmentGroup:g,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>__(t,e,r))}(t,n,r)){const g=new wn(t.segments,function(t,e,n,r,s,l){const g={};for(const _ of r)if(__(t,n,_)&&!s[Rc(_)]){const E=new wn([],{});E._sourceSegment=t,E._segmentIndexShift="legacy"===l?t.segments.length:e.length,g[Rc(_)]=E}return Object.assign(Object.assign({},s),g)}(t,e,n,r,t.children,s));return g._sourceSegment=t,g._segmentIndexShift=e.length,{segmentGroup:g,slicedSegments:n}}const l=new wn(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}function __(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function rT(t,e,n,r){return!!(Rc(t)===r||r!==cn&&__(e,n,t))&&("**"===t.path||v_(e,t,n).matched)}function iT(t,e,n){return 0===e.length&&!t.children[n]}class Zm{constructor(e){this.segmentGroup=e||null}}class oT{constructor(e){this.urlTree=e}}function b_(t){return new ar.y(e=>e.error(new Zm(t)))}function sT(t){return new ar.y(e=>e.error(new oT(t)))}function mx(t){return new ar.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yx{constructor(e,n,r,s,l){this.configLoader=n,this.urlSerializer=r,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=y_(this.urlTree.root,[],[],this.config).segmentGroup,n=new wn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,cn).pipe((0,Nt.U)(l=>this.createUrlTree(Ww(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(G6(l=>{if(l instanceof oT)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Zm?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,cn).pipe((0,Nt.U)(s=>this.createUrlTree(Ww(s),e.queryParams,e.fragment))).pipe(G6(s=>{throw s instanceof Zm?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const s=e.segments.length>0?new wn([],{[cn]:e}):e;return new W6(s,n,r)}expandSegmentGroup(e,n,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe((0,Nt.U)(l=>new wn([],l))):this.expandSegment(e,r,n,r.segments,s,!0)}expandChildren(e,n,r){const s=[];for(const l of Object.keys(r.children))"primary"===l?s.unshift(l):s.push(l);return(0,qn.D)(s).pipe(ud(l=>{const g=r.children[l],_=tT(n,l);return this.expandSegmentGroup(e,_,g,l).pipe((0,Nt.U)(E=>({segment:E,outlet:l})))}),ft((l,g)=>(l[g.outlet]=g.segment,l),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yr((s,l)=>t(s,l,r)):d0.y,km(1),n?Ks(e):h0(()=>new ps))}())}expandSegment(e,n,r,s,l,g){return(0,qn.D)(r).pipe(ud(_=>this.expandSegmentAgainstRoute(e,n,r,_,s,l,g).pipe(G6(x=>{if(x instanceof Zm)return(0,It.of)(null);throw x}))),Ki(_=>!!_),G6((_,E)=>{if(_ instanceof ps||"EmptyError"===_.name){if(iT(n,s,l))return(0,It.of)(new wn([],{}));throw new Zm(n)}throw _}))}expandSegmentAgainstRoute(e,n,r,s,l,g,_){return rT(s,n,l,g)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,n,s,l,g):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,s,l,g):b_(n):b_(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,l,g){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,g):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,l,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sT(l):this.lineralizeSegments(r,l).pipe((0,ca.zg)(g=>{const _=new wn(g,{});return this.expandSegment(e,_,n,g,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,s,l,g){const{matched:_,consumedSegments:E,lastChild:x,positionalParamSegments:N}=v_(n,s,l);if(!_)return b_(n);const R=this.applyRedirectCommands(E,s.redirectTo,N);return s.redirectTo.startsWith("/")?sT(R):this.lineralizeSegments(s,R).pipe((0,ca.zg)(H=>this.expandSegment(e,n,r,H.concat(l.slice(x)),g,!1)))}matchSegmentAgainstRoute(e,n,r,s,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,It.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Nt.U)(H=>(r._loadedConfig=H,new wn(s,{})))):(0,It.of)(new wn(s,{}));const{matched:g,consumedSegments:_,lastChild:E}=v_(n,r,s);if(!g)return b_(n);const x=s.slice(E);return this.getChildConfig(e,r,s).pipe((0,ca.zg)(R=>{const H=R.module,K=R.routes,{segmentGroup:te,slicedSegments:he}=y_(n,_,x,K),Ie=new wn(te.segments,te.children);if(0===he.length&&Ie.hasChildren())return this.expandChildren(H,K,Ie).pipe((0,Nt.U)(gt=>new wn(_,gt)));if(0===K.length&&0===he.length)return(0,It.of)(new wn(_,{}));const Oe=Rc(r)===l;return this.expandSegment(H,Ie,K,he,Oe?cn:l,!0).pipe((0,Nt.U)($e=>new wn(_.concat($e.segments),$e.children)))}))}getChildConfig(e,n,r){return n.children?(0,It.of)(new Gw(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?(0,It.of)(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe((0,ca.zg)(s=>s?this.configLoader.load(e.injector,n).pipe((0,Nt.U)(l=>(n._loadedConfig=l,l))):function(t){return new ar.y(e=>e.error(qp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):(0,It.of)(new Gw([],e))}runCanLoadGuards(e,n,r){const s=n.canLoad;if(!s||0===s.length)return(0,It.of)(!0);const l=s.map(g=>{const _=e.get(g);let E;if(function(t){return t&&dh(t.canLoad)}(_))E=_.canLoad(n,r);else{if(!dh(_))throw new Error("Invalid CanLoad guard");E=_(n,r)}return Oo(E)});return(0,It.of)(l).pipe(qm(),(0,ua.b)(g=>{if(!vd(g))return;const _=qp(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw _.url=g,_}),(0,Nt.U)(g=>!0===g))}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,It.of)(r);if(s.numberOfChildren>1||!s.children[cn])return mx(e.redirectTo);s=s.children[cn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,s){const l=this.createSegmentGroup(e,n.root,r,s);return new W6(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Lo(e,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const _=s.substring(1);r[l]=n[_]}else r[l]=s}),r}createSegmentGroup(e,n,r,s){const l=this.createSegments(e,n.segments,r,s);let g={};return Lo(n.children,(_,E)=>{g[E]=this.createSegmentGroup(e,_,r,s)}),new wn(l,g)}createSegments(e,n,r,s){return n.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,s):this.findOrReturn(l,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}function Ww(t){const e={};for(const r of Object.keys(t.children)){const l=Ww(t.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(t){if(1===t.numberOfChildren&&t.children[cn]){const e=t.children[cn];return new wn(t.segments.concat(e.segments),e.children)}return t}(new wn(t.segments,e))}class aT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class C_{constructor(e,n){this.component=e,this.route=n}}function Cx(t,e,n){const r=t._root;return Gm(r,e?e._root:null,n,[r.value])}function w_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Gm(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=Jp(e);return t.children.forEach(g=>{(function(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,g=e?e.value:null,_=n?n.getContext(t.value.outlet):null;if(g&&l.routeConfig===g.routeConfig){const E=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!j1(t.url,e.url);case"pathParamsOrQueryParamsChange":return!j1(t.url,e.url)||!Oc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w(t,e)||!Oc(t.queryParams,e.queryParams);case"paramsChange":default:return!w(t,e)}}(g,l,l.routeConfig.runGuardsAndResolvers);E?s.canActivateChecks.push(new aT(r)):(l.data=g.data,l._resolvedData=g._resolvedData),Gm(t,e,l.component?_?_.children:null:n,r,s),E&&_&&_.outlet&&_.outlet.isActivated&&s.canDeactivateChecks.push(new C_(_.outlet.component,g))}else g&&$m(e,_,s),s.canActivateChecks.push(new aT(r)),Gm(t,null,l.component?_?_.children:null:n,r,s)})(g,l[g.value.outlet],n,r.concat([g.value]),s),delete l[g.value.outlet]}),Lo(l,(g,_)=>$m(g,n.getContext(_),s)),s}function $m(t,e,n){const r=Jp(t),s=t.value;Lo(r,(l,g)=>{$m(l,s.component?e?e.children.getContext(g):null:e,n)}),n.canDeactivateChecks.push(new C_(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class Ox{}function cT(t){return new ar.y(e=>e.error(t))}class Px{constructor(e,n,r,s,l,g){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=g}recognize(){const e=y_(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,cn);if(null===n)return null;const r=new o([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new F4(r,n),l=new c(this.url,s);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const n=e.value,r=Zw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const l of Object.keys(n.children)){const g=n.children[l],_=tT(e,l),E=this.processSegmentGroup(_,g,l);if(null===E)return null;r.push(...E)}const s=uT(r);return function(t){t.sort((e,n)=>e.value.outlet===cn?-1:n.value.outlet===cn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}processSegment(e,n,r,s){for(const l of e){const g=this.processSegmentAgainstRoute(l,n,r,s);if(null!==g)return g}return iT(n,r,s)?[]:null}processSegmentAgainstRoute(e,n,r,s){if(e.redirectTo||!rT(e,n,r,s))return null;let l,g=[],_=[];if("**"===e.path){const K=r.length>0?a_(r).parameters:{};l=new o(r,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hT(e),Rc(e),e.component,e,lT(n),fT(n)+r.length,dT(e))}else{const K=v_(n,e,r);if(!K.matched)return null;g=K.consumedSegments,_=r.slice(K.lastChild),l=new o(g,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hT(e),Rc(e),e.component,e,lT(n),fT(n)+g.length,dT(e))}const E=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:N}=y_(n,g,_,E.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===N.length&&x.hasChildren()){const K=this.processChildren(E,x);return null===K?null:[new F4(l,K)]}if(0===E.length&&0===N.length)return[new F4(l,[])];const R=Rc(e)===s,H=this.processSegment(E,x,N,R?cn:s);return null===H?null:[new F4(l,H)]}}function Fx(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uT(t){const e=[],n=new Set;for(const r of t){if(!Fx(r)){e.push(r);continue}const s=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=uT(r.children);e.push(new F4(r.value,s))}return e.filter(r=>!n.has(r))}function lT(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fT(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hT(t){return t.data||{}}function dT(t){return t.resolve||{}}function Kw(t){return cr(e=>{const n=t(e);return n?(0,qn.D)(n).pipe((0,Nt.U)(()=>e)):(0,It.of)(e)})}class $x extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Yw=new u.OlP("ROUTES");class pT{constructor(e,n,r,s){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const s=this.loadModuleFactory(n.loadChildren).pipe((0,Nt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);const g=l.create(e);return new Gw(Om(g.injector.get(Yw,void 0,u.XFs.Self|u.XFs.Optional)).map($w),g)}),G6(l=>{throw n._loader$=void 0,l}));return n._loader$=new Nm.c(s,()=>new xt.xQ).pipe((0,kw.x)()),n._loader$}loadModuleFactory(e){return"string"==typeof e?(0,qn.D)(this.loader.load(e)):Oo(e()).pipe((0,ca.zg)(n=>n instanceof u.YKP?(0,It.of)(n):(0,qn.D)(this.compiler.compileModuleAsync(n))))}}class Wx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new n7,this.attachRef=null}}class n7{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Wx,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class Yx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Qx(t){throw t}function Jx(t,e,n){return e.parse("/")}function mT(t,e){return(0,It.of)(null)}const Xx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ho=(()=>{class t{constructor(n,r,s,l,g,_,E,x){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=s,this.location=l,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.xQ,this.errorHandler=Qx,this.malformedUriErrorHandler=Jx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mT,afterPreactivation:mT},this.urlHandlingStrategy=new Yx,this.routeReuseStrategy=new $x,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(u.h0i),this.console=g.get(u.c2e);const H=g.get(u.R0b);this.isNgZoneEnabled=H instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new W6(new wn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pT(_,E,K=>this.triggerEvent(new r_(K)),K=>this.triggerEvent(new i_(K))),this.routerState=qw(this.currentUrlTree,this.rootComponentType),this.transitions=new q2({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Yr(s=>0!==s.id),(0,Nt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),cr(s=>{let l=!1,g=!1;return(0,It.of)(s).pipe((0,ua.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cr(_=>{const E=this.browserUrlTree.toString(),x=!this.navigated||_.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return E_(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,It.of)(_).pipe(cr(R=>{const H=this.transitions.getValue();return r.next(new ld(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?h1.E:Promise.resolve(R)}),function(t,e,n,r){return cr(s=>function(t,e,n,r,s){return new yx(t,e,n,r,s).apply()}(t,e,n,s.extractedUrl,r).pipe((0,Nt.U)(l=>Object.assign(Object.assign({},s),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ua.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(t,e,n,r,s){return(0,ca.zg)(l=>function(t,e,n,r,s="emptyOnly",l="legacy"){try{const g=new Px(t,e,n,r,s,l).recognize();return null===g?cT(new Ox):(0,It.of)(g)}catch(g){return cT(g)}}(t,e,l.urlAfterRedirects,n(l.urlAfterRedirects),r,s).pipe((0,Nt.U)(g=>Object.assign(Object.assign({},l),{targetSnapshot:g}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ua.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const H=new e_(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(H)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:K,source:te,restoredState:he,extras:Ie}=_,Oe=new ld(H,this.serializeUrl(K),te,he);r.next(Oe);const Be=qw(K,this.rootComponentType).snapshot;return(0,It.of)(Object.assign(Object.assign({},_),{targetSnapshot:Be,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),h1.E}),Kw(_=>{const{targetSnapshot:E,id:x,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:K}}=_;return this.hooks.beforePreactivation(E,{navigationId:x,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!K})}),(0,ua.b)(_=>{const E=new t_(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,Nt.U)(_=>Object.assign(Object.assign({},_),{guards:Cx(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ca.zg)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:g}}=n;return 0===g.length&&0===l.length?(0,It.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,qn.D)(t).pipe((0,ca.zg)(s=>function(t,e,n,r,s){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,It.of)(!0);const g=l.map(_=>{const E=w_(_,e,s);let x;if(function(t){return t&&dh(t.canDeactivate)}(E))x=Oo(E.canDeactivate(t,e,n,r));else{if(!dh(E))throw new Error("Invalid CanDeactivate guard");x=Oo(E(t,e,n,r))}return x.pipe(Ki())});return(0,It.of)(g).pipe(qm())}(s.component,s.route,n,e,r)),Ki(s=>!0!==s,!0))}(g,r,s,t).pipe((0,ca.zg)(_=>_&&function(t){return"boolean"==typeof t}(_)?function(t,e,n,r){return(0,qn.D)(e).pipe(ud(s=>M(function(t,e){return null!==t&&e&&e(new Rw(t)),(0,It.of)(!0)}(s.route.parent,r),function(t,e){return null!==t&&e&&e(new Pw(t)),(0,It.of)(!0)}(s.route,r),function(t,e,n){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(g=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(g)).filter(g=>null!==g).map(g=>xw(()=>{const _=g.guards.map(E=>{const x=w_(E,g.node,n);let N;if(function(t){return t&&dh(t.canActivateChild)}(x))N=Oo(x.canActivateChild(r,t));else{if(!dh(x))throw new Error("Invalid CanActivateChild guard");N=Oo(x(r,t))}return N.pipe(Ki())});return(0,It.of)(_).pipe(qm())}));return(0,It.of)(l).pipe(qm())}(t,s.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,It.of)(!0);const s=r.map(l=>xw(()=>{const g=w_(l,e,n);let _;if(function(t){return t&&dh(t.canActivate)}(g))_=Oo(g.canActivate(e,t));else{if(!dh(g))throw new Error("Invalid CanActivate guard");_=Oo(g(e,t))}return _.pipe(Ki())}));return(0,It.of)(s).pipe(qm())}(t,s.route,n))),Ki(s=>!0!==s,!0))}(r,l,t,e):(0,It.of)(_)),(0,Nt.U)(_=>Object.assign(Object.assign({},n),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,ua.b)(_=>{if(vd(_.guardsResult)){const x=qp(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw x.url=_.guardsResult,x}const E=new Lw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),Yr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Kw(_=>{if(_.guards.canActivateChecks.length)return(0,It.of)(_).pipe((0,ua.b)(E=>{const x=new Ow(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}),cr(E=>{let x=!1;return(0,It.of)(E).pipe(function(t,e){return(0,ca.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return(0,It.of)(n);let l=0;return(0,qn.D)(s).pipe(ud(g=>function(t,e,n,r){return function(t,e,n,r){const s=Object.keys(t);if(0===s.length)return(0,It.of)({});const l={};return(0,qn.D)(s).pipe((0,ca.zg)(g=>function(t,e,n,r){const s=w_(t,e,r);return Oo(s.resolve?s.resolve(e,n):s(e,n))}(t[g],e,n,r).pipe((0,ua.b)(_=>{l[g]=_}))),km(1),(0,ca.zg)(()=>Object.keys(l).length===s.length?(0,It.of)(l):h1.E))}(t._resolve,t,e,r).pipe((0,Nt.U)(l=>(t._resolvedData=l,t.data=Object.assign(Object.assign({},t.data),Zw(t,n).resolve),null)))}(g.route,r,t,e)),(0,ua.b)(()=>l++),km(1),(0,ca.zg)(g=>l===s.length?(0,It.of)(n):h1.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ua.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ua.b)(E=>{const x=new n_(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}))}),Kw(_=>{const{targetSnapshot:E,id:x,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:K}}=_;return this.hooks.afterPreactivation(E,{navigationId:x,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!K})}),(0,Nt.U)(_=>{const E=function(t,e,n){const r=I(t,e._root,n?n._root:void 0);return new g_(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:E})}),(0,ua.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((t,e,n)=>(0,Nt.U)(r=>(new Bm(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,ua.b)({next(){l=!0},complete(){l=!0}}),function(t){return e=>e.lift(new Jy(t))}(()=>{var _;if(!l&&!g){const E=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,E)):this.cancelNavigationTransition(s,E)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===s.id&&(this.currentNavigation=null)}),G6(_=>{if(g=!0,function(t){return t&&t[jp]}(_)){const E=vd(_.url);E||(this.navigated=!0,this.restoreHistory(s,!0));const x=new fd(s.id,this.serializeUrl(s.extractedUrl),_.message);r.next(x),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||E_(s.source)};this.scheduleNavigation(N,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const E=new Bp(s.id,this.serializeUrl(s.extractedUrl),_);r.next(E);try{s.resolve(this.errorHandler(_))}catch(x){s.reject(x)}}return h1.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:s,state:l,urlTree:g}=r,_={replaceUrl:!0};if(l){const E=Object.assign({},l);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(_.state=E)}this.scheduleNavigation(g,s,l,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const s=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!s||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){eT(n),this.config=n.map($w),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:s,queryParams:l,fragment:g,queryParamsHandling:_,preserveFragment:E}=r,x=s||this.routerState.root,N=E?this.currentUrlTree.fragment:g;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function(t,e,n,r,s){if(0===n.length)return xe(e.root,e.root,e,r,s);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ye(!0,0,t);let e=0,n=!1;const r=t.reduce((s,l,g)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return Lo(l.outlets,(E,x)=>{_[x]="string"==typeof E?E.split("/"):E}),[...s,{outlets:_}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===g?(l.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?n=!0:".."===_?e++:""!=_&&s.push(_))}),s):[...s,l]},[]);return new Ye(n,e,r)}(n);if(l.toRoot())return xe(e.root,new wn([],{}),e,r,s);const g=function(t,e,n){if(t.isAbsolute)return new Tt(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const l=n.snapshot._urlSegment;return new Tt(l,l===e.root,0)}const r=oe(t.commands[0])?0:1;return function(t,e,n){let r=t,s=e,l=n;for(;l>s;){if(l-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Tt(r,!1,s-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(l,e,t),_=g.processChildren?H4(g.segmentGroup,g.index,l.commands):Za(g.segmentGroup,g.index,l.commands);return xe(g.segmentGroup,_,e,r,s)}(x,this.currentUrlTree,n,R,null!=N?N:null)}navigateByUrl(n,r={skipLocationChange:!1}){const s=vd(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return r}isActive(n,r){let s;if(s=!0===r?Object.assign({},Xx):!1===r?Object.assign({},eS):r,vd(n))return u_(this.currentUrlTree,n,s);const l=this.parseUrl(n);return u_(this.currentUrlTree,l,s)}removeEmptyProps(n){return Object.keys(n).reduce((r,s)=>{const l=n[s];return null!=l&&(r[s]=l),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new $6(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,s,l,g){var _,E;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),N=E_(r)&&x&&!E_(x.source),K=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===n.toString();if(N&&K)return Promise.resolve(!0);let te,he,Ie;g?(te=g.resolve,he=g.reject,Ie=g.promise):Ie=new Promise(($e,gt)=>{te=$e,he=gt});const Oe=++this.navigationId;let Be;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Be=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Be=0,this.setTransition({id:Oe,targetPageId:Be,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:te,reject:he,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch($e=>Promise.reject($e))}setBrowserUrl(n,r){const s=this.urlSerializer.serialize(n),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(n,r=!1){var s,l;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===g?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===g&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const s=new fd(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(u.DyG),u.LFG(V4),u.LFG(n7),u.LFG(Qe),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();function E_(t){return"imperative"!==t}let r7=(()=>{class t{constructor(n,r,s){this.router=n,this.route=r,this.locationStrategy=s,this.commands=[],this.onChanges=new xt.xQ,this.subscription=n.events.subscribe(l=>{l instanceof $6&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,s,l,g){if(0!==n||r||s||l||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:i7(this.skipLocationChange),replaceUrl:i7(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:i7(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(ho),u.Y36(gd),u.Y36(De))},t.\u0275dir=u.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&(u.Ikx("href",r.href,u.LSH),u.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),t})();function i7(t){return""===t||!!t}let Jw=(()=>{class t{constructor(n,r,s,l,g){this.parentContexts=n,this.location=r,this.resolver=s,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=l||cn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const g=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new iS(n,_,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(n7),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},t.\u0275dir=u.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class iS{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gd?this.route:e===n7?this.childContexts:this.parent.get(e,n)}}class gT{}class vT{preload(e,n){return(0,It.of)(null)}}let yT=(()=>{class t{constructor(n,r,s,l,g){this.router=n,this.injector=l,this.preloadingStrategy=g,this.loader=new pT(r,s,x=>n.triggerEvent(new r_(x)),x=>n.triggerEvent(new i_(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(n=>n instanceof $6),ud(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(u.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const s=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const g=l._loadedConfig;s.push(this.processRoutes(g.module,g.routes))}else l.loadChildren&&!l.canLoad?s.push(this.preloadConfig(n,l)):l.children&&s.push(this.processRoutes(n,l.children));return(0,qn.D)(s).pipe((0,v.J)(),(0,Nt.U)(l=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,It.of)(r._loadedConfig):this.loader.load(n.injector,r)).pipe((0,ca.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ho),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(gT))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Xw=(()=>{class t{constructor(n,r,s={}){this.router=n,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ld?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $6&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof uh&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new uh(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ho),u.LFG(On),u.LFG(void 0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const yd=new u.OlP("ROUTER_CONFIGURATION"),_T=new u.OlP("ROUTER_FORROOT_GUARD"),aS=[Qe,{provide:V4,useClass:l_},{provide:ho,useFactory:function(t,e,n,r,s,l,g,_={},E,x){const N=new ho(null,t,e,n,r,s,l,Om(g));return E&&(N.urlHandlingStrategy=E),x&&(N.routeReuseStrategy=x),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(R=>{var H,K;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(K=console.groupEnd)||void 0===K||K.call(console)}),N},deps:[V4,n7,Qe,u.zs3,u.v3s,u.Sil,Yw,yd,[class{},new u.FiY],[class{},new u.FiY]]},n7,{provide:gd,useFactory:function(t){return t.routerState.root},deps:[ho]},{provide:u.v3s,useClass:u.EAV},yT,vT,class{preload(e,n){return n().pipe(G6(()=>(0,It.of)(null)))}},{provide:yd,useValue:{enableTracing:!1}}];function cS(){return new u.PXZ("Router",ho)}let bT=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[aS,CT(n),{provide:_T,useFactory:fS,deps:[[ho,new u.FiY,new u.tp0]]},{provide:yd,useValue:r||{}},{provide:De,useFactory:lS,deps:[me,[new u.tBr(Le),new u.FiY],yd]},{provide:Xw,useFactory:uS,deps:[ho,On,yd]},{provide:gT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:vT},{provide:u.PXZ,multi:!0,useFactory:cS},[eE,{provide:u.ip1,multi:!0,useFactory:mS,deps:[eE]},{provide:wT,useFactory:gS,deps:[eE]},{provide:u.tb,multi:!0,useExisting:wT}]]}}static forChild(n){return{ngModule:t,providers:[CT(n)]}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(_T,8),u.LFG(ho,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();function uS(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xw(t,e,n)}function lS(t,e,n={}){return n.useHash?new nt(t,e):new Ze(t,e)}function fS(t){return"guarded"}function CT(t){return[{provide:u.deG,multi:!0,useValue:t},{provide:Yw,multi:!0,useValue:t}]}let eE=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(_=>r=_),l=this.injector.get(ho),g=this.injector.get(yd);return"disabled"===g.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,It.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),s})}bootstrapListener(n){const r=this.injector.get(yd),s=this.injector.get(yT),l=this.injector.get(Xw),g=this.injector.get(ho),_=this.injector.get(u.z2F);n===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&g.initialNavigation(),s.setUpPreloading(),l.init(),g.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();function mS(t){return t.appInitializer.bind(t)}function gS(t){return t.bootstrapListener.bind(t)}const wT=new u.OlP("Router Initializer");var tE={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},ET={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},AT={prefix:"fas",iconName:"bell",icon:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"]},TT={prefix:"fas",iconName:"car",icon:[512,512,[],"f1b9","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"]},MT={prefix:"fas",iconName:"comment",icon:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"]},A_={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},IT={prefix:"fas",iconName:"hand-holding-heart",icon:[576,512,[],"f4be","M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"]},xT={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},ST={prefix:"fas",iconName:"magnet",icon:[512,512,[],"f076","M164.07 148.1H12a12 12 0 0 1-12-12v-80a36 36 0 0 1 36-36h104a36 36 0 0 1 36 36v80a11.89 11.89 0 0 1-11.93 12zm347.93-12V56a36 36 0 0 0-36-36H372a36 36 0 0 0-36 36v80a12 12 0 0 0 12 12h152a11.89 11.89 0 0 0 12-11.9zm-164 44a12 12 0 0 0-12 12v52c0 128.1-160 127.9-160 0v-52a12 12 0 0 0-12-12H12.1a12 12 0 0 0-12 12.1c.1 21.4.6 40.3 0 53.3 0 150.6 136.17 246.6 256.75 246.6s255-96 255-246.7c-.6-12.8-.2-33 0-53.2a12 12 0 0 0-12-12.1z"]},DT={prefix:"fas",iconName:"receipt",icon:[384,512,[],"f543","M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"]},NT={prefix:"fas",iconName:"shopping-basket",icon:[576,512,[],"f291","M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"]},kT={prefix:"fas",iconName:"user-alt",icon:[512,512,[],"f406","M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"]};function P$(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"ul",14),u.TgZ(1,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().setFilterBy("orderedtAtTimestamp")}),u._uU(2,"Time"),u.qZA(),u.TgZ(3,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().setFilterBy("totalPrice")}),u._uU(4,"Price"),u.qZA(),u.TgZ(5,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().setFilterBy("orderingToAddress")}),u._uU(6,"Adress"),u.qZA(),u.TgZ(7,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().setFilterBy("status")}),u._uU(8,"Status"),u.qZA(),u.qZA()}}function z$(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"ul",14),u.TgZ(1,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().additemModal("discounts")}),u._uU(2,"Discounts"),u.qZA(),u.TgZ(3,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().additemModal("upcoming")}),u._uU(4,"Upcoming"),u.qZA(),u.TgZ(5,"li",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().additemModal("new")}),u._uU(6,"New"),u.qZA(),u.qZA()}}function V$(t,e){1&t&&u._UZ(0,"input",21)}function F$(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",22),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).showInput=!1}),u.qZA()}}function H$(t,e){if(1&t&&(u.TgZ(0,"div",16),u.TgZ(1,"div",17),u.YNc(2,V$,1,0,"input",18),u.YNc(3,F$,1,0,"button",19),u.qZA(),u._UZ(4,"div",20),u.qZA()),2&t){const n=u.oxw();u.xp6(2),u.Q6J("ngIf",1==n.showInput),u.xp6(1),u.Q6J("ngIf",1==n.showInput)}}function U$(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"li"),u.TgZ(1,"p",11),u._uU(2),u.qZA(),u.TgZ(3,"p",12),u._uU(4),u.qZA(),u.TgZ(5,"p",12),u._uU(6),u.qZA(),u.TgZ(7,"p",12),u._uU(8),u.qZA(),u.TgZ(9,"div",23),u.TgZ(10,"p",24),u.NdJ("click",function(){u.CHM(n);const s=u.oxw();return s.cancelOrder(s.order.id)}),u._uU(11,"Edit"),u.qZA(),u.TgZ(12,"p",25),u.NdJ("click",function(){u.CHM(n);const s=u.oxw();return s.cancelOrder(s.order.id)}),u._uU(13,"Freeze"),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=e.$implicit;u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.phonenumber),u.xp6(2),u.Oqu(n.address)}}let B$=(()=>{class t{constructor(n){this.database=n,this.faEdit=A_,this.showInput=!1,this.showSeacrhSpace=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.loading=!0}ngOnInit(){this.database.list("users").valueChanges().subscribe(n=>{this.customers=n})}showInputMeth(){this.showInput=!this.showInput}setFilterBy(n){this.filterBy=n,this.dropDownOn1=!1}filter(n){this.database.list("orders/",r=>r.orderByChild(`${this.filterBy}`).equalTo(n)).valueChanges().subscribe(r=>{this.customers=r,this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Vr))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-customers"]],decls:33,vars:6,consts:[[1,"main-customers"],[1,"top-bar","primary"],[1,"toggle-details"],[1,"showDetails"],[1,"filter-dropdown"],[1,"filterBy-span",3,"click"],["class","drop-down-container",4,"ngIf"],[1,"search-button",3,"click"],["class","search-space",4,"ngIf"],[1,"customers"],[1,"top-table"],[1,"customers-individual",2,"width","14rem"],[1,"customers-individual"],[4,"ngFor","ngForOf"],[1,"drop-down-container"],[3,"click"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],[1,"customers-individual",2,"display","flex","flex-direction","row","justify-content","center","gap","0.5rem","width","15rem"],[1,"edit",3,"click"],[1,"freeze",3,"click"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3"),u._uU(3,"Customers"),u.qZA(),u.TgZ(4,"div",2),u.TgZ(5,"p",3),u._uU(6,"Filter by"),u.qZA(),u.TgZ(7,"div",4),u.TgZ(8,"div",5),u.NdJ("click",function(){return r.dropDownOn1=!r.dropDownOn1}),u._uU(9),u.qZA(),u.YNc(10,P$,9,0,"ul",6),u.qZA(),u.qZA(),u.TgZ(11,"div",2),u.TgZ(12,"p",3),u._uU(13,"Add new item"),u.qZA(),u.TgZ(14,"div",4),u.TgZ(15,"div",5),u.NdJ("click",function(){return r.dropDownOn2=!r.dropDownOn2}),u._uU(16),u.qZA(),u.YNc(17,z$,7,0,"ul",6),u.qZA(),u.qZA(),u.TgZ(18,"button",7),u.NdJ("click",function(){return r.showInputMeth()}),u._uU(19,"Search Customer"),u.qZA(),u.qZA(),u.YNc(20,H$,5,2,"div",8),u.TgZ(21,"div",9),u.TgZ(22,"ul"),u.TgZ(23,"div",10),u.TgZ(24,"p",11),u._uU(25,"UID"),u.qZA(),u.TgZ(26,"p",12),u._uU(27,"Display name"),u.qZA(),u.TgZ(28,"p",12),u._uU(29,"Phone number"),u.qZA(),u.TgZ(30,"p",12),u._uU(31,"Address"),u.qZA(),u.qZA(),u.YNc(32,U$,14,4,"li",13),u.qZA(),u.qZA(),u.qZA()),2&n&&(u.xp6(9),u.Oqu(r.filterBy),u.xp6(1),u.Q6J("ngIf",1==r.dropDownOn1),u.xp6(6),u.Oqu(r.chosenTopic),u.xp6(1),u.Q6J("ngIf",1==r.dropDownOn2),u.xp6(3),u.Q6J("ngIf",1==r.showInput),u.xp6(12),u.Q6J("ngForOf",r.customers))},directives:[Jt,pt],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0}.customers[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-top:1.5%}.customers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:84vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.customers-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.edit[_ngcontent-%COMP%]{background-color:#d3fd85;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.edit[_ngcontent-%COMP%]:hover{background-color:#694b13;color:#fff}.freeze[_ngcontent-%COMP%]{background-color:#47f3ff;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.freeze[_ngcontent-%COMP%]:hover{background-color:#21487c;color:#fff}"]}),t})();function po(t){return e=>e.lift(new j$(t))}class j${constructor(e){this.notifier=e}call(e,n){const r=new q$(e),s=(0,Gs.ft)(this.notifier,new Gs.IY(r));return s&&!r.seenValue?(r.add(s),n.subscribe(r)):r}}class q$ extends Gs.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Z$(t,e){if(1&t&&(u.TgZ(0,"li"),u.TgZ(1,"div"),u.TgZ(2,"h1"),u._uU(3,"Order id"),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div"),u.TgZ(7,"h1"),u._uU(8,"Username"),u.qZA(),u.TgZ(9,"p"),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div"),u.TgZ(12,"h1"),u._uU(13,"Adress"),u.qZA(),u.TgZ(14,"p"),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"div"),u.TgZ(17,"h1"),u._uU(18,"Ordered at"),u.qZA(),u.TgZ(19,"p"),u._uU(20),u.ALo(21,"date"),u.qZA(),u.qZA(),u.qZA()),2&t){const n=e.$implicit;u.xp6(5),u.hij("",n.orderid.substring(0,13),"..."),u.xp6(5),u.Oqu(n.username),u.xp6(5),u.Oqu(n.adress),u.xp6(5),u.Oqu(u.xi3(21,4,n.timestamp,"shortTime"))}}function G$(t,e){if(1&t&&(u.TgZ(0,"div",18),u.TgZ(1,"h1",19),u._uU(2),u.qZA(),u.TgZ(3,"p",19),u._uU(4),u.qZA(),u.qZA()),2&t){const n=u.oxw(3);u.xp6(2),u.hij(" ",n.topItems.title,""),u.xp6(2),u.hij("",n.topItems.ordertimes," times")}}const $$=function(t){return{"background-image":t}};function W$(t,e){if(1&t&&(u.TgZ(0,"div",16),u.YNc(1,G$,5,2,"div",17),u.qZA()),2&t){const n=u.oxw(2);u.Q6J("ngStyle",u.VKq(2,$$,"url("+n.topItems.url[0]+")")),u.xp6(1),u.Q6J("ngIf",n.topItems)}}function K$(t,e){if(1&t&&(u.TgZ(0,"div",3),u.TgZ(1,"div",4),u.TgZ(2,"h1",5),u._uU(3,"Latest Orders"),u.qZA(),u.TgZ(4,"ul"),u.YNc(5,Z$,22,7,"li",6),u.qZA(),u.qZA(),u.TgZ(6,"div",7),u.TgZ(7,"ul"),u.TgZ(8,"li",8),u.TgZ(9,"h1"),u._uU(10,"Total Clients"),u.qZA(),u.TgZ(11,"h1"),u._uU(12),u.qZA(),u.TgZ(13,"a",9),u._uU(14,"More"),u.qZA(),u.qZA(),u.TgZ(15,"li",10),u.TgZ(16,"h1"),u._uU(17,"Total Orders"),u.qZA(),u.TgZ(18,"h1"),u._uU(19),u.qZA(),u.TgZ(20,"a",9),u._uU(21,"More"),u.qZA(),u.qZA(),u.TgZ(22,"li",11),u.TgZ(23,"h1"),u._uU(24,"Total Sellings"),u.qZA(),u.TgZ(25,"h1"),u._uU(26),u.qZA(),u.TgZ(27,"a",9),u._uU(28,"More"),u.qZA(),u.qZA(),u.TgZ(29,"li",12),u.TgZ(30,"h1"),u._uU(31,"Total Clients"),u.qZA(),u.TgZ(32,"h1"),u._uU(33),u.qZA(),u.TgZ(34,"a",9),u._uU(35,"More"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(36,"h1",13),u._uU(37,"Top selling item"),u.qZA(),u.YNc(38,W$,2,4,"div",14),u.qZA(),u.TgZ(39,"div",15),u.TgZ(40,"h1",5),u._uU(41,"Latest Clients"),u.qZA(),u.TgZ(42,"ul"),u.TgZ(43,"li"),u.TgZ(44,"div"),u.TgZ(45,"h1"),u._uU(46,"Abdel Bacet"),u.qZA(),u.TgZ(47,"p"),u._uU(48,"03550704"),u.qZA(),u.TgZ(49,"p"),u._uU(50,"01/02/2022"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"li"),u.TgZ(52,"div"),u.TgZ(53,"h1"),u._uU(54,"Abdel Bacet"),u.qZA(),u.TgZ(55,"p"),u._uU(56,"03550704"),u.qZA(),u.TgZ(57,"p"),u._uU(58,"01/02/2022"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(59,"li"),u.TgZ(60,"div"),u.TgZ(61,"h1"),u._uU(62,"Abdel Bacet"),u.qZA(),u.TgZ(63,"p"),u._uU(64,"03550704"),u.qZA(),u.TgZ(65,"p"),u._uU(66,"01/02/2022"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(67,"li"),u.TgZ(68,"div"),u.TgZ(69,"h1"),u._uU(70,"Abdel Bacet"),u.qZA(),u.TgZ(71,"p"),u._uU(72,"03550704"),u.qZA(),u.TgZ(73,"p"),u._uU(74,"01/02/2022"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(75,"li"),u.TgZ(76,"div"),u.TgZ(77,"h1"),u._uU(78,"Abdel Bacet"),u.qZA(),u.TgZ(79,"p"),u._uU(80,"03550704"),u.qZA(),u.TgZ(81,"p"),u._uU(82,"01/02/2022"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const n=u.oxw();u.xp6(5),u.Q6J("ngForOf",n.latestOrders),u.xp6(7),u.Oqu(n.userData.totalclients),u.xp6(7),u.Oqu(n.userData.totalorders),u.xp6(7),u.hij("",n.userData.totalsellings,"$"),u.xp6(7),u.Oqu(n.userData.totalclients),u.xp6(5),u.Q6J("ngIf",n.topItems)}}let LT=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.destroy2$=new xt.xQ,this.destroy3$=new xt.xQ}ngOnInit(){this.getUser().then(()=>{this.getUserData(),this.getLatestOrders(),this.getTopItem()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete(),this.destroy3$.next(),this.destroy3$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.subscribe(l=>{l&&(this.user=l,r())})})}getUserData(){return new Promise((r,s)=>{this.firestore.collection("shopOwners").doc(this.user.uid).valueChanges().pipe(po(this.destroy$)).subscribe(l=>{this.userData=l})})}getTopItem(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("items",n=>n.orderBy("ordertimes").limitToLast(1)).valueChanges().pipe(po(this.destroy1$)).subscribe(n=>{this.topItems=n[0]})})}getLatestOrders(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("shopOwners").doc(this.user.uid).collection("orders",n=>n.orderBy("timestamp").limitToLast(3)).valueChanges().pipe(po(this.destroy2$)).subscribe(n=>{this.latestOrders=n})})}getLatestClients(){return(0,L.__awaiter)(this,void 0,void 0,function*(){this.firestore.collection("clients",n=>n.orderBy("timestamp").limitToLast(8)).valueChanges().pipe(po(this.destroy3$)).subscribe(n=>{this.latestClients=n})})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[[1,"main-dashboard"],[1,"top-bar","primary"],["class","container",4,"ngIf"],[1,"container"],[1,"left"],[2,"margin-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"middle"],[2,"background-color","rgb(211, 192, 111)","color","white"],["href",""],[2,"background-color","rgb(167, 255, 189)"],[2,"background-color","rgb(177, 239, 255)"],[2,"background-color","rgb(255, 167, 126)","color","white"],[2,"margin-left","5%","margin-bottom","0.5rem"],["class","middle-div",3,"ngStyle",4,"ngIf"],[1,"right"],[1,"middle-div",3,"ngStyle"],["style","padding: 0.5rem;background-color: rgba(54, 54, 54, 0.74);\n                display: flex;flex-direction: row;justify-content: space-between;",4,"ngIf"],[2,"padding","0.5rem","background-color","rgba(54, 54, 54, 0.74)","display","flex","flex-direction","row","justify-content","space-between"],[2,"color","white"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3"),u._uU(3,"Dashboard"),u.qZA(),u.qZA(),u.YNc(4,K$,83,6,"div",2),u.qZA()),2&n&&(u.xp6(4),u.Q6J("ngIf",r.userData))},directives:[Jt,pt,Yn],pipes:[zs],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}.container[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:row;flex-wrap:nowrap;padding-top:1rem;padding-left:.4rem}h1[_ngcontent-%COMP%]{font-weight:bold}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.left[_ngcontent-%COMP%]{width:25%;height:91.5vh}.left[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%}.left[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#ced3d649;width:100%;display:flex;flex-direction:column;justify-content:center;padding-left:5%;padding-right:5%;height:8rem;border-radius:.3rem;margin-bottom:2rem}.left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.middle[_ngcontent-%COMP%]{width:40%;margin-right:2.5%;margin-left:2.5%;height:91.5vh}.middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%;display:flex;flex-direction:row;flex-wrap:wrap;padding-top:8.5%}.middle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:40%;margin-right:5%;margin-left:5%;height:6rem;border-radius:.3rem;margin-bottom:1.5rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.middle-div[_ngcontent-%COMP%]{width:90%;margin-right:5%;margin-left:5%;height:13rem;background-position:center;background-size:cover;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:flex-end;background-color:#c0bfbf;border-radius:.3rem;transition:.3s ease-in-out}.middle-div[_ngcontent-%COMP%]:hover{transform:scale(105%);cursor:pointer}.right[_ngcontent-%COMP%]{width:30%;height:91.5vh}.right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:100%}.right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#ced3d649;width:95%;width:100%;display:flex;flex-direction:column;justify-content:center;padding-left:5%;padding-right:5%;height:2.5rem;border-radius:.3rem;margin-bottom:1.5rem}.right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}li[_ngcontent-%COMP%]{transition:.3s ease-in-out}li[_ngcontent-%COMP%]:hover{transform:scale(102%);cursor:default;box-shadow:0 1px 2px 2px #80808027}"]}),t})();function Y$(t,e){1&t&&u._UZ(0,"input",14)}function Q$(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",15),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).showInput=!1}),u.qZA()}}function J$(t,e){if(1&t&&(u.TgZ(0,"div",9),u.TgZ(1,"div",10),u.YNc(2,Y$,1,0,"input",11),u.YNc(3,Q$,1,0,"button",12),u.qZA(),u._UZ(4,"div",13),u.qZA()),2&t){const n=u.oxw();u.xp6(2),u.Q6J("ngIf",1==n.showInput),u.xp6(1),u.Q6J("ngIf",1==n.showInput)}}const X$=function(){return{color:"orange"}};function eW(t,e){if(1&t&&(u.TgZ(0,"p",19),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.Q6J("ngStyle",u.DdM(2,X$)),u.xp6(1),u.hij(" ",n.orderstatus,"")}}function tW(t,e){if(1&t&&(u.TgZ(0,"p",20),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.xp6(1),u.hij(" ",n.orderstatus,"")}}function nW(t,e){if(1&t&&(u.TgZ(0,"p",21),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.xp6(1),u.hij(" ",n.orderstatus,"")}}function rW(t,e){if(1&t&&(u.TgZ(0,"li"),u.TgZ(1,"p",7),u._uU(2),u.qZA(),u.TgZ(3,"p",7),u._uU(4),u.qZA(),u.TgZ(5,"p",7),u._uU(6),u.qZA(),u.TgZ(7,"p",7),u._uU(8),u.qZA(),u.YNc(9,eW,2,3,"p",16),u.YNc(10,tW,2,1,"p",17),u.YNc(11,nW,2,1,"p",18),u.TgZ(12,"p",7),u._uU(13),u.qZA(),u.qZA()),2&t){const n=e.$implicit;u.xp6(2),u.Oqu(n.orderid),u.xp6(2),u.Oqu(n.username),u.xp6(2),u.Oqu(n.phonenumber),u.xp6(2),u.Oqu(n.adress),u.xp6(1),u.Q6J("ngIf","pending"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","canceled"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","started"==n.orderstatus),u.xp6(2),u.Oqu(n.totlaprice)}}let iW=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.showInput=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.loading=!0,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.destroy2$=new xt.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("orders",n=>n.where("orderstatus","==","started")).valueChanges().pipe(po(this.destroy2$)).subscribe(n=>{this.orders=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.uid=l.uid,r()})})}showInputMeth(){this.showInput=!this.showInput}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-deliveries"]],decls:25,vars:3,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-space",4,"ngIf"],[1,"orders"],[2,"margin-top","1rem","margin-left","0.5rem"],[2,"font-weight","bold","margin-right","2rem","margin-bottom","1rem","text-align","right"],[1,"top-table"],[1,"order-individual"],[4,"ngFor","ngForOf"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],["class","order-individual",3,"ngStyle",4,"ngIf"],["class","order-individual","style","color: tomato;",4,"ngIf"],["class","order-individual","style","color: rgb(68, 172, 70);",4,"ngIf"],[1,"order-individual",3,"ngStyle"],[1,"order-individual",2,"color","tomato"],[1,"order-individual",2,"color","rgb(68, 172, 70)"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3"),u._uU(3,"Orders"),u.qZA(),u.qZA(),u.YNc(4,J$,5,2,"div",2),u.TgZ(5,"div",3),u.TgZ(6,"h3",4),u._uU(7,"Today's orders"),u.qZA(),u.TgZ(8,"h1",5),u._uU(9),u.qZA(),u.TgZ(10,"ul"),u.TgZ(11,"div",6),u.TgZ(12,"p",7),u._uU(13,"Id"),u.qZA(),u.TgZ(14,"p",7),u._uU(15,"To name"),u.qZA(),u.TgZ(16,"p",7),u._uU(17,"To phone number"),u.qZA(),u.TgZ(18,"p",7),u._uU(19,"To Address"),u.qZA(),u.TgZ(20,"p",7),u._uU(21,"Order status"),u.qZA(),u.TgZ(22,"p",7),u._uU(23,"Total Price $"),u.qZA(),u.qZA(),u.YNc(24,rW,14,8,"li",8),u.qZA(),u.qZA(),u.qZA()),2&n&&(u.xp6(4),u.Q6J("ngIf",1==r.showInput),u.xp6(5),u.hij("",r.orders.length," concurrent deliveries"),u.xp6(15),u.Q6J("ngForOf",r.orders))},directives:[Jt,pt,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0;background-color:#e5e9ecd3}.orders[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-bottom:10%}.orders[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:65vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.order-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.Start[_ngcontent-%COMP%]{background-color:#4bce5f;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.Start[_ngcontent-%COMP%]:hover{background-color:#2aa580;color:#000}.Started[_ngcontent-%COMP%]{background-color:#3eaba7;width:5rem;cursor:default;border-radius:.5rem;color:#000;opacity:.4}"]}),t})(),Wm=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,console.log("yes iam run"),this.getUserId().then(s=>{this.user=this.getUser()})}getUserId(){return new Promise((r,s)=>{this.auth.authState.subscribe(g=>{g&&(this.uid=g.uid,r())})})}getUser(){return this.firestore.collection("shopOwners").doc(this.uid).valueChanges()}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(_r),u.LFG(V2))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oW=J(1555);function T_(t,e){return new ar.y(n=>{const r=t.length;if(0===r)return void n.complete();const s=new Array(r);let l=0,g=0;for(let _=0;_<r;_++){const E=(0,qn.D)(t[_]);let x=!1;n.add(E.subscribe({next:N=>{x||(x=!0,g++),s[_]=N},error:N=>n.error(N),complete:()=>{l++,(l===r||!x)&&(g===r&&n.next(e?e.reduce((N,R,H)=>(N[R]=s[H],N),{}):s),n.complete())}}))}})}let OT=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t}),t})(),_d=(()=>{class t extends OT{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,features:[u.qOj]}),t})();const B4=new u.OlP("NgValueAccessor"),cW={provide:B4,useExisting:(0,u.Gpc)(()=>Km),multi:!0},lW=new u.OlP("CompositionEventMode");let Km=(()=>{class t extends OT{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=V()?V().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(lW,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([cW]),u.qOj]}),t})();const la=new u.OlP("NgValidators"),mh=new u.OlP("NgAsyncValidators");function ZT(t){return null!=t}function GT(t){const e=(0,u.QGY)(t)?(0,qn.D)(t):t;return(0,u.CqO)(e),e}function $T(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function WT(t,e){return e.map(n=>n(t))}function KT(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function nE(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ZT);return 0==e.length?null:function(n){return $T(WT(n,e))}}(KT(t)):null}function rE(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ZT);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if((0,Z6.k)(e))return T_(e,null);if((0,oW.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return T_(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return T_(t=1===t.length&&(0,Z6.k)(t[0])?t[0]:t,null).pipe((0,Nt.U)(n=>e(...n)))}return T_(t,null)}(WT(n,e).map(GT)).pipe((0,Nt.U)($T))}}(KT(t)):null}function JT(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iE(t){return t?Array.isArray(t)?t:[t]:[]}function M_(t,e){return Array.isArray(t)?t.includes(e):t===e}function tM(t,e){const n=iE(e);return iE(t).forEach(s=>{M_(n,s)||n.push(s)}),n}function nM(t,e){return iE(e).filter(n=>!M_(t,n))}let rM=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=nE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=u.lG2({type:t}),t})(),Ga=(()=>{class t extends rM{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,features:[u.qOj]}),t})();class vh extends rM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iM{constructor(e){this._cd=e}is(e){var n,r,s;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let oE=(()=>{class t extends iM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(vh,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),t})(),I_=(()=>{class t extends iM{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Ga,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),t})();function Ym(t,e){cE(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oM(t,e)})}(t,e),function(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oM(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function N_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cE(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(JT(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(JT(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();N_(e._rawValidators,s),N_(e._rawAsyncValidators,s)}function oM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function L_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qm="VALID",O_="INVALID",o7="PENDING",Jm="DISABLED";function fE(t){return(dE(t)?t.validators:t)||null}function cM(t){return Array.isArray(t)?nE(t):t||null}function hE(t,e){return(dE(e)?e.asyncValidators:t)||null}function uM(t){return Array.isArray(t)?rE(t):t||null}function dE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pE{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=cM(this._rawValidators),this._composedAsyncValidatorFn=uM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qm}get invalid(){return this.status===O_}get pending(){return this.status==o7}get disabled(){return this.status===Jm}get enabled(){return this.status!==Jm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uM(e)}addValidators(e){this.setValidators(tM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nM(e,this._rawAsyncValidators))}hasValidator(e){return M_(this._rawValidators,e)}hasAsyncValidator(e){return M_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=o7,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jm,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Qm,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qm||this.status===o7)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jm:Qm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=o7,this._hasOwnPendingAsyncValidator=!0;const n=GT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(s=>{r=r instanceof mE?r.controls.hasOwnProperty(s)?r.controls[s]:null:r instanceof AW&&r.at(s)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Jm:this.errors?O_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o7)?o7:this._anyControlsHaveStatus(O_)?O_:Qm}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class R_ extends pE{constructor(e=null,n,r){super(fE(n),hE(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class mE extends pE{constructor(e,n,r){super(fE(n),hE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof R_?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((s,l)=>{r=n(r,s,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class AW extends pE{constructor(e,n,r){super(fE(n),hE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof R_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const TW={provide:Ga,useExisting:(0,u.Gpc)(()=>s7)},Xm=(()=>Promise.resolve(null))();let s7=(()=>{class t extends Ga{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new mE({},nE(n),rE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xm.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ym(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xm.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),L_(this._directives,n)})}addFormGroup(n){Xm.then(()=>{const r=this._findContainer(n.path),s=new mE({});(function(t,e){cE(t,e)})(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xm.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xm.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(la,10),u.Y36(mh,10))},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([TW]),u.qOj]}),t})();const IW={provide:vh,useExisting:(0,u.Gpc)(()=>P_)},hM=(()=>Promise.resolve(null))();let P_=(()=>{class t extends vh{constructor(n,r,s,l){super(),this.control=new R_,this._registered=!1,this.update=new u.vpe,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Km?n=l:function(t){return Object.getPrototypeOf(t.constructor)===_d}(l)?r=l:s=l}),s||r||n||null}(0,l)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ym(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){hM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,s=""===r||r&&"false"!==r;hM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Ga,9),u.Y36(la,10),u.Y36(mh,10),u.Y36(B4,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([IW]),u.qOj,u.TTD]}),t})(),z_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),pM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t})();const zW={provide:B4,useExisting:(0,u.Gpc)(()=>bE),multi:!0};function bM(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bE=(()=>{class t extends _d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=this._getOptionId(n);null==r&&this.setProperty("selectedIndex",-1);const s=bM(r,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([zW]),u.qOj]}),t})(),CM=(()=>{class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(bM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(bE,9))},t.\u0275dir=u.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const FW={provide:B4,useExisting:(0,u.Gpc)(()=>CE),multi:!0};function wM(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let CE=(()=>{class t extends _d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const s=n.map(l=>this._getOptionId(l));r=(l,g)=>{l._setSelected(s.indexOf(g.toString())>-1)}}else r=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const s=[];if(void 0!==r.selectedOptions){const l=r.selectedOptions;for(let g=0;g<l.length;g++){const _=l.item(g),E=this._getOptionValue(_.value);s.push(E)}}else{const l=r.options;for(let g=0;g<l.length;g++){const _=l.item(g);if(_.selected){const E=this._getOptionValue(_.value);s.push(E)}}}this.value=s,n(s)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([FW]),u.qOj]}),t})(),EM=(()=>{class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(wM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(wM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(CE,9))},t.\u0275dir=u.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),LM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[pM]]}),t})(),KW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[LM]}),t})();function YW(t,e){if(1&t&&(u.TgZ(0,"p",23),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopname)}}function QW(t,e){if(1&t&&(u.TgZ(0,"p",23),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopnameData)}}function JW(t,e){if(1&t&&(u.TgZ(0,"p",24),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopAdress)}}function XW(t,e){if(1&t&&(u.TgZ(0,"p",24),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopAdressData)}}function eK(t,e){if(1&t&&(u.TgZ(0,"p",25),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopDescription)}}function tK(t,e){if(1&t&&(u.TgZ(0,"p",25),u._uU(1),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Oqu(n.shopDescriptionData)}}const OM=function(t){return{"background-image":t}};function nK(t,e){if(1&t&&u._UZ(0,"div",26),2&t){const n=u.oxw();u.Q6J("ngStyle",u.VKq(1,OM,"url("+n.imagePreiviewUrl+")"))}}function rK(t,e){if(1&t&&u._UZ(0,"div",26),2&t){const n=u.oxw();u.Q6J("ngStyle",u.VKq(1,OM,"url("+n.imagePreiviewUrlData+")"))}}const iK=function(t){return{"is-loading":t}};let oK=(()=>{class t{constructor(n,r,s,l){this.auth=n,this.userdata=r,this.firestore=s,this.storage=l,this.faArrowLeft=tE,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.location=[],this.isLOading=!1,this.options={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},this.uploading=!1,this.uploadImageProgress=.1,this.uploaded=!1}clearWatch(n){throw new Error("Method not implemented.")}getCurrentPosition(n,r,s){throw new Error("Method not implemented.")}watchPosition(n,r,s){throw new Error("Method not implemented.")}success(n){var r=n.coords,l=r.longitude;this.location.push(r.latitude),this.location.push(l),console.log("Your current position is:"),console.log(`Latitude : ${r.latitude}`),console.log(`Longitude: ${r.longitude}`),console.log(`More or less ${r.accuracy} meters.`)}error(n){console.warn(`ERROR(${n.code}): ${n.message}`)}getLocation(){navigator.geolocation.getCurrentPosition(this.success,this.error,this.options)}ngOnInit(){this.getUser().then(()=>{this.userdata.user.pipe(po(this.destroy1$)).subscribe(n=>{n&&(this.shopnameData=n.shopname,this.shopDescriptionData=n.Description,this.shopAdressData=n.Address,this.imagePreiviewUrlData=n.infoimage)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.uid=l.uid,r()})})}changeName(n){this.shopname=n}changeAddress(n){this.shopAdress=n}changeDescription(n){this.shopDescription=n}previewImage(n){this.imagePath=n.target.files[0];const r=new FileReader;r.onload=()=>{this.imagePreiviewUrl=r.result},r.readAsDataURL(this.imagePath)}uploadImgae(){return new Promise((r,s)=>{var l=this.firestore.createId();const g=this.storage.upload(`/shopOwners/${this.uid}/${l}`,this.imagePath);g.then(_=>{_.ref.getDownloadURL().then(E=>{this.shopImageToUploadURl=E,r()})}).catch(_=>console.log("image not uploaded")),g.percentageChanges().subscribe(_=>{this.uploading=!0,this.uploadImageProgress=null==_?void 0:_.valueOf(),100==_&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}save(){this.imagePath?null!=this.shopname&&null!=this.shopAdress&&null!=this.shopDescription&&this.location.length>0?(this.isLOading=!0,this.uploadImgae().then(n=>{this.firestore.collection("shopOwners").doc(this.uid).update({shopname:this.shopname,Description:this.shopDescription,Address:this.shopAdress,infoimage:this.shopImageToUploadURl,location:this.location})}).catch(n=>{n&&alert(n)}).then(()=>{this.isLOading=!1})):alert("Empty Fields"):null!=this.shopname&&null!=this.shopAdress&&null!=this.shopDescription&&this.location.length>0?(this.isLOading=!0,this.firestore.collection("shopOwners").doc(this.uid).update({shopname:this.shopname,Description:this.shopDescription,Address:this.shopAdress,location:this.location}).catch(n=>{n&&alert(n)}).then(()=>{this.isLOading=!1})):alert("Empty Fields")}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(Wm),u.Y36(V2),u.Y36(wu))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-edit-shop"]],decls:45,vars:12,consts:[[1,"main-dashboard"],[1,"top-bar","primary"],[1,"container"],[1,"left"],[2,"background-color","#ced3d649","margin","1rem","margin-left","0","margin-top","0","padding","1rem"],[2,"margin-bottom","20px"],["type","text",3,"keypress"],["name",""],["adress",""],["description",""],["type","file",3,"change"],[3,"click"],[1,"button",2,"background-color","black","color","white","margin-left","45%",3,"ngClass","click"],[1,"right"],[2,"background-color","#ced3d649","margin","1rem","margin-left","0","margin-top","0","padding","1rem","display","flex","flex-direction","column","align-items","center","padding-top","1rem"],[2,"margin-bottom","1rem"],[1,"mobile"],[1,"mobile-top-bar"],[3,"icon"],["class","mobile-shop-title",4,"ngIf"],["class","moble-shop-address",4,"ngIf"],["class","mobile-shop-description",4,"ngIf"],["class","mobile-shop-news-image",3,"ngStyle",4,"ngIf"],[1,"mobile-shop-title"],[1,"moble-shop-address"],[1,"mobile-shop-description"],[1,"mobile-shop-news-image",3,"ngStyle"]],template:function(n,r){if(1&n){const s=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"Edit How you want your shop page to look like"),u.qZA(),u.TgZ(7,"form"),u.TgZ(8,"label"),u._uU(9,"Shop Name"),u.qZA(),u.TgZ(10,"input",6,7),u.NdJ("keypress",function(){u.CHM(s);const g=u.MAs(11);return r.changeName(g.value)}),u.qZA(),u.TgZ(12,"label"),u._uU(13,"Address"),u.qZA(),u.TgZ(14,"input",6,8),u.NdJ("keypress",function(){u.CHM(s);const g=u.MAs(15);return r.changeAddress(g.value)}),u.qZA(),u.TgZ(16,"label"),u._uU(17,"Description"),u.qZA(),u.TgZ(18,"textarea",6,9),u.NdJ("keypress",function(){u.CHM(s);const g=u.MAs(19);return r.changeDescription(g.value)}),u.qZA(),u.TgZ(20,"label"),u._uU(21,"News Image"),u.qZA(),u.TgZ(22,"input",10),u.NdJ("change",function(g){return r.previewImage(g)}),u.qZA(),u.TgZ(23,"label"),u._uU(24,"Set current Location"),u.qZA(),u.TgZ(25,"button",11),u.NdJ("click",function(){return r.getLocation()}),u._uU(26,"Get Location"),u.qZA(),u._UZ(27,"br"),u.qZA(),u.TgZ(28,"button",12),u.NdJ("click",function(){return r.save()}),u._uU(29,"Save"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"div",13),u.TgZ(31,"div",14),u.TgZ(32,"h1",15),u._uU(33,"This is how your shop will look like for clients"),u.qZA(),u.TgZ(34,"div",16),u.TgZ(35,"div",17),u._UZ(36,"fa-icon",18),u.qZA(),u.YNc(37,YW,2,1,"p",19),u.YNc(38,QW,2,1,"p",19),u.YNc(39,JW,2,1,"p",20),u.YNc(40,XW,2,1,"p",20),u.YNc(41,eK,2,1,"p",21),u.YNc(42,tK,2,1,"p",21),u.YNc(43,nK,1,3,"div",22),u.YNc(44,rK,1,3,"div",22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&n&&(u.xp6(28),u.Q6J("ngClass",u.VKq(10,iK,!0===r.isLOading)),u.xp6(8),u.Q6J("icon",r.faArrowLeft),u.xp6(1),u.Q6J("ngIf",r.shopname),u.xp6(1),u.Q6J("ngIf",!r.shopname&&r.shopnameData),u.xp6(1),u.Q6J("ngIf",r.shopAdress),u.xp6(1),u.Q6J("ngIf",!r.shopAdress&&r.shopAdressData),u.xp6(1),u.Q6J("ngIf",r.shopDescription),u.xp6(1),u.Q6J("ngIf",!r.shopDescription&&r.shopDescriptionData),u.xp6(1),u.Q6J("ngIf",r.imagePreiviewUrl),u.xp6(1),u.Q6J("ngIf",!r.imagePreiviewUrl&&r.imagePreiviewUrlData))},directives:[z_,I_,s7,pa,Up,Jt,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.container[_ngcontent-%COMP%]{width:90%;display:flex;flex-direction:row;flex-wrap:nowrap;padding-top:1rem}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-bottom:3rem;height:2rem;width:100%;text-align:center}.left[_ngcontent-%COMP%]{width:50%;height:91.5vh;border-right:solid 1px rgba(128,128,128,.247);padding-top:1rem;padding-right:20px}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{font-weight:bold;margin-top:.3rem;margin-bottom:.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:.3rem;background-color:#fff;border:none;padding:8px;width:70%}.right[_ngcontent-%COMP%]{width:50%;height:91.5vh;display:flex;flex-direction:column;align-items:center;padding-top:1rem}.mobile[_ngcontent-%COMP%]{width:15rem;height:25rem;border:solid 1px grey;border-radius:1rem;padding:1.5%;background-color:#fff}.mobile-top-bar[_ngcontent-%COMP%]{width:100%;height:5%}.mobile-shop-title[_ngcontent-%COMP%]{padding:0;font-size:14px;margin-top:.3rem;font-weight:bold;word-break:break-all}.moble-shop-address[_ngcontent-%COMP%]{font-size:10px;word-break:break-all}.mobile-shop-description[_ngcontent-%COMP%]{font-size:12px;font-weight:lighter;line-height:.85rem;margin-top:.3rem;word-break:break-all}.mobile-shop-news-image[_ngcontent-%COMP%]{width:100%;height:7rem;margin-top:.7rem;border-radius:.3rem;background-position:center;background-size:cover}"]}),t})();const sK=function(t){return{"background-image":t}};function aK(t,e){if(1&t&&(u.TgZ(0,"li"),u.TgZ(1,"div",3),u._UZ(2,"div",4),u.TgZ(3,"div",5),u.TgZ(4,"p",6),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"p",7),u._uU(7),u.ALo(8,"date"),u.qZA(),u.qZA()),2&t){const n=e.$implicit;u.xp6(2),u.Q6J("ngStyle",u.VKq(6,sK,"url("+n.userUrl+")")),u.xp6(3),u.Oqu(n.username),u.xp6(2),u.Oqu(u.xi3(8,3,n.at,"medium"))}}function cK(t,e){if(1&t&&(u.TgZ(0,"ul"),u.YNc(1,aK,9,8,"li",2),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Q6J("ngForOf",n.followers)}}function uK(t,e){1&t&&(u.TgZ(0,"ul",8),u._uU(1,"No followers yet!"),u.qZA())}let RM=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.destroy2$=new xt.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("followers").valueChanges().pipe(po(this.destroy2$)).subscribe(n=>{this.followers=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.uid=l.uid,r()})})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-followers"]],decls:2,vars:2,consts:[[4,"ngIf"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n  font-weight: 400;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","gap","0.5rem","align-items","center"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[2,"display","flex","flex-direction","column"],[2,"font-size","12px","font-weight","bold"],[2,"font-size","8px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"]],template:function(n,r){1&n&&(u.YNc(0,cK,2,1,"ul",0),u.YNc(1,uK,2,0,"ul",1)),2&n&&(u.Q6J("ngIf",r.followers),u.xp6(1),u.Q6J("ngIf",!r.followers||0==r.followers.length))},directives:[Jt,pt,Yn],pipes:[zs],styles:["ul[_ngcontent-%COMP%]{width:100%;max-height:80vh}li[_ngcontent-%COMP%]{background-color:#fff;width:100%;padding:.5rem;border-radius:.3rem;margin-bottom:.5rem;transition:.3s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]:hover{background-color:#c7c7c7}"]}),t})();J(6423),function(t){t.prototype.loadBundle=Qv,t.prototype.namedQuery=EC}(lp);var PM={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},a7=function(t){function e(n,r,s){var l=t.call(this,r)||this;return Object.setPrototypeOf(l,e.prototype),l.code=n,l.details=s,l}return(0,L.__extends)(e,t),e}(Error),dK=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(s){return r.auth=s},function(){}),this.messaging||n.get().then(function(s){return r.messaging=s},function(){})}return t.prototype.getAuthToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=n.sent())?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();function zM(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var gK=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if("function"==typeof e||"object"==typeof e)return zM(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(s){return n.decode(s)}):"function"==typeof e||"object"==typeof e?zM(e,function(s){return n.decode(s)}):e},t}(),VM=function(){function t(e,n,r,s,l,g){var _=this;void 0===l&&(l="us-central1"),this.app_=e,this.appCheckProvider=s,this.fetchImpl=g,this.serializer=new gK,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(_.deleteService())}},this.contextProvider=new dK(n,r),this.cancelAllRequests=new Promise(function(x){_.deleteService=function(){return x()}});try{var E=new URL(l);this.customDomain=E.origin,this.region="us-central1"}catch(x){this.customDomain=null,this.region=l}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+n+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(s){return r.call(e,s,n||{})}},t.prototype.postJSON=function(e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(s=_.sent())&&(r["X-Firebase-AppCheck"]=s),_.label=2;case 2:return _.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return l=_.sent(),[3,5];case 4:return _.sent(),[2,{status:0,json:null}];case 5:g=null,_.label=6;case 6:return _.trys.push([6,8,,9]),[4,l.json()];case 7:return g=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:return[2,{status:l.status,json:g}]}})})},t.prototype.getAppCheckToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,r.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,_,x,N,R,H,K,te;return(0,L.__generator)(this,function(Ie){switch(Ie.label){case 0:return s=this._url(e),n=this.serializer.encode(n),l={data:n},g={},[4,this.contextProvider.getContext()];case 1:return(_=Ie.sent()).authToken&&(g.Authorization="Bearer "+_.authToken),_.instanceIdToken&&(g["Firebase-Instance-ID-Token"]=_.instanceIdToken),x=function(t){var e,n=new Promise(function(r,s){e=setTimeout(function(){s(new a7("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(r.timeout||7e4),N=x.timer,R=x.promise,[4,Promise.race([FM(N,this.postJSON(s,l,g)),R,FM(N,this.cancelAllRequests)])];case 2:if(!(H=Ie.sent()))throw new a7("cancelled","Firebase Functions instance was deleted.");if(K=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),s=r,l=void 0;try{var g=e&&e.error;if(g){var _=g.status;if("string"==typeof _){if(!PM[_])return new a7("internal","internal");r=PM[_],s=_}var E=g.message;"string"==typeof E&&(s=E),void 0!==(l=g.details)&&(l=n.decode(l))}}catch(x){}return"ok"===r?null:new a7(r,s,l)}(H.status,H.json,this.serializer))throw K;if(!H.json)throw new a7("internal","Response is not valid JSON object.");if(void 0===(te=H.json.data)&&(te=H.json.result),void 0===te)throw new a7("internal","Response is missing data field.");return[2,{data:this.serializer.decode(te)}]}})})},t}();function FM(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}(function(t,e){var n={Functions:VM};t.INTERNAL.registerComponent(new Ia.Component("functions",function(s,l){var g=l.instanceIdentifier,_=s.getProvider("app").getImmediate(),E=s.getProvider("auth-internal"),x=s.getProvider("app-check-internal"),N=s.getProvider("messaging");return new VM(_,E,N,x,g,e)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))})(Dn.default,fetch.bind(self)),Dn.default.registerVersion("@firebase/functions","0.6.16");var yh,c7=J(6676),BM="w:0.4.32",IK=((yh={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',yh["not-registered"]="Firebase Installation is not registered.",yh["installation-not-found"]="Firebase Installation not found.",yh["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',yh["app-offline"]="Could not process request. Application offline.",yh["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",yh),Y6=new ut.ErrorFactory("installations","Installations",IK);function qM(t){return t instanceof ut.FirebaseError&&t.code.includes("request-failed")}function EE(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function ZM(t){return{token:t.token,requestStatus:2,expiresIn:xK(t.expiresIn),creationTime:Date.now()}}function AE(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,e.json()];case 1:return n=s.sent(),[2,Y6.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function GM(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function $M(t,e){var n=e.refreshToken,r=GM(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function TE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function xK(t){return Number(t.replace("s","000"))}function DK(t,e){var n=e.fid;return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,g,_,E;return(0,L.__generator)(this,function(N){switch(N.label){case 0:return r=EE(t),s=GM(t),g={method:"POST",headers:s,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:BM})},[4,TE(function(){return fetch(r,g)})];case 1:return(_=N.sent()).ok?[4,_.json()]:[3,3];case 2:return[2,{fid:(E=N.sent()).fid||n,registrationStatus:2,refreshToken:E.refreshToken,authToken:ZM(E.authToken)}];case 3:return[4,AE("Create Installation",_)];case 4:throw N.sent()}})})}function WM(t){return new Promise(function(e){setTimeout(e,t)})}var kK=/^[cdef][\w-]{21}$/;function LK(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=function(t){return function(t){return btoa(String.fromCharCode.apply(String,(0,L.__spreadArray)([],(0,L.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kK.test(n)?n:""}catch(r){return""}}function u7(t){return t.appName+"!"+t.appId}var l7=new Map;function KM(t,e){var n=u7(t);YM(n,e),function(t,e){var n=QM();n&&n.postMessage({key:t,fid:e}),JM()}(n,e)}function YM(t,e){var n,r,s=l7.get(t);if(s)try{for(var l=(0,L.__values)(s),g=l.next();!g.done;g=l.next())(0,g.value)(e)}catch(E){n={error:E}}finally{try{g&&!g.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}var bd=null;function QM(){return!bd&&"BroadcastChannel"in self&&((bd=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){YM(t.data.key,t.data.fid)}),bd}function JM(){0===l7.size&&bd&&(bd.close(),bd=null)}var Cd="firebase-installations-store",IE=null;function xE(){return IE||(IE=(0,c7.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Cd)}})),IE}function V_(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return n=u7(t),[4,xE()];case 1:return r=_.sent(),s=r.transaction(Cd,"readwrite"),[4,(l=s.objectStore(Cd)).get(n)];case 2:return g=_.sent(),[4,l.put(e,n)];case 3:return _.sent(),[4,s.complete];case 4:return _.sent(),(!g||g.fid!==e.fid)&&KM(t,e.fid),[2,e]}})})}function SE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return e=u7(t),[4,xE()];case 1:return n=s.sent(),[4,(r=n.transaction(Cd,"readwrite")).objectStore(Cd).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function eg(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return n=u7(t),[4,xE()];case 1:return r=E.sent(),s=r.transaction(Cd,"readwrite"),[4,(l=s.objectStore(Cd)).get(n)];case 2:return g=E.sent(),void 0!==(_=e(g))?[3,4]:[4,l.delete(n)];case 3:return E.sent(),[3,6];case 4:return[4,l.put(_,n)];case 5:E.sent(),E.label=6;case 6:return[4,s.complete];case 7:return E.sent(),_&&(!g||g.fid!==_.fid)&&KM(t,_.fid),[2,_]}})})}function DE(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,eg(t,function(l){var g=function(t){return eI(t||{fid:LK(),registrationStatus:0})}(l),_=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Y6.create("app-offline"))};var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,DK(t,e)];case 1:return n=s.sent(),[2,V_(t,n)];case 2:return qM(r=s.sent())&&409===r.customData.serverCode?[4,SE(t)]:[3,4];case 3:return s.sent(),[3,6];case 4:return[4,V_(t,{fid:e.fid,registrationStatus:0})];case 5:s.sent(),s.label=6;case 6:throw r;case 7:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jK(t)}:{installationEntry:e}}(t,g);return e=_.registrationPromise,_.installationEntry})];case 1:return""!==(n=s.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=s.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function jK(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,XM(t)];case 1:e=l.sent(),l.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,WM(100)];case 3:return l.sent(),[4,XM(t)];case 4:return e=l.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,DE(t)];case 6:return n=l.sent(),r=n.installationEntry,(s=n.registrationPromise)?[2,s]:[2,r];case 7:return[2,e]}})})}function XM(t){return eg(t,function(e){if(!e)throw Y6.create("installation-not-found");return eI(e)})}function eI(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function ZK(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,E,x;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return s=function(t,e){var n=e.fid;return EE(t)+"/"+n+"/authTokens:generate"}(n,e),l=$M(n,e),(g=r.getImmediate({optional:!0}))&&l.append("x-firebase-client",g.getPlatformInfoString()),E={method:"POST",headers:l,body:JSON.stringify({installation:{sdkVersion:BM}})},[4,TE(function(){return fetch(s,E)})];case 1:return(x=H.sent()).ok?[4,x.json()]:[3,3];case 2:return[2,ZM(H.sent())];case 3:return[4,AE("Generate Auth Token",x)];case 4:throw H.sent()}})})}function NE(t,e){return void 0===e&&(e=!1),(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return[4,eg(t.appConfig,function(_){if(!nI(_))throw Y6.create("not-registered");var E=_.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(E))return _;if(1===E.requestStatus)return n=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,tI(t.appConfig)];case 1:n=s.sent(),s.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,WM(100)];case 3:return s.sent(),[4,tI(t.appConfig)];case 4:return n=s.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,NE(t,e)]:[2,r]}})})}(t,e),_;if(!navigator.onLine)throw Y6.create("app-offline");var x=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,L.__assign)((0,L.__assign)({},t),{authToken:e})}(_);return n=function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,r;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,8]),[4,ZK(t,e)];case 1:return n=l.sent(),r=(0,L.__assign)((0,L.__assign)({},e),{authToken:n}),[4,V_(t.appConfig,r)];case 2:return l.sent(),[2,n];case 3:return!qM(s=l.sent())||401!==s.customData.serverCode&&404!==s.customData.serverCode?[3,5]:[4,SE(t.appConfig)];case 4:return l.sent(),[3,7];case 5:return r=(0,L.__assign)((0,L.__assign)({},e),{authToken:{requestStatus:0}}),[4,V_(t.appConfig,r)];case 6:l.sent(),l.label=7;case 7:throw s;case 8:return[2]}})})}(t,x),x})];case 1:return r=g.sent(),n?[4,n]:[3,3];case 2:return l=g.sent(),[3,4];case 3:l=r.authToken,g.label=4;case 4:return[2,l]}})})}function tI(t){return eg(t,function(e){if(!nI(e))throw Y6.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?(0,L.__assign)((0,L.__assign)({},e),{authToken:{requestStatus:0}}):e})}function nI(t){return void 0!==t&&2===t.registrationStatus}function tY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return[4,DE(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function nY(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return n=function(t,e){var n=e.fid;return EE(t)+"/"+n}(t,e),r=$M(t,e),s={method:"DELETE",headers:r},[4,TE(function(){return fetch(n,s)})];case 1:return(l=g.sent()).ok?[3,3]:[4,AE("Delete Installation",l)];case 2:throw g.sent();case 3:return[2]}})})}function kE(t){return Y6.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Ia.Component("installations",function(n){var r=n.getProvider("app").getImmediate(),g={appConfig:function(t){var e,n;if(!t||!t.options)throw kE("App Configuration");if(!t.name)throw kE("App Name");try{for(var s=(0,L.__values)(["projectId","apiKey","appId"]),l=s.next();!l.done;l=s.next()){var g=l.value;if(!t.options[g])throw kE(g)}}catch(_){e={error:_}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(r),platformLoggerProvider:n.getProvider("platform-logger")};return{app:r,getId:function(){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,DE(t.appConfig)];case 1:return e=s.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):NE(t).catch(console.error),[2,n.fid]}})})}(g)},getToken:function(E){return function(t,e){return void 0===e&&(e=!1),(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,tY(t.appConfig)];case 1:return r.sent(),[4,NE(t,e)];case 2:return[2,r.sent().token]}})})}(g,E)},delete:function(){return function(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,eg(e=t.appConfig,function(s){if(!s||0!==s.registrationStatus)return s})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Y6.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Y6.create("app-offline");case 3:return[4,nY(e,n)];case 4:return r.sent(),[4,SE(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(g)},onIdChange:function(E){return function(t,e){var n=t.appConfig;return function(t,e){QM();var n=u7(t),r=l7.get(n);r||(r=new Set,l7.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=u7(t),r=l7.get(n);!r||(r.delete(e),0===r.size&&l7.delete(n),JM())}(n,e)}}(g,E)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(Dn.default);var Ro,cY=((Ro={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ro["only-available-in-window"]="This method is available in a Window context.",Ro["only-available-in-sw"]="This method is available in a service worker context.",Ro["permission-default"]="The notification permission was not granted and dismissed instead.",Ro["permission-blocked"]="The notification permission was not granted and blocked instead.",Ro["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Ro["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Ro["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Ro["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Ro["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Ro["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Ro["token-update-no-token"]="FCM returned no token when updating the user to push.",Ro["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Ro["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Ro["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Ro["invalid-vapid-key"]="The public VAPID key must be a string.",Ro["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Ro),lr=new ut.ErrorFactory("messaging","Messaging",cY),F_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rI="FCM_MSG",iI="google.c.a.c_id",_h=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(_h||(_h={})),_h))();function Q6(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,L.__spreadArray)([],(0,L.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yY(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length),l=0;l<r.length;++l)s[l]=r.charCodeAt(l);return s}var LE="fcm_token_details_db",oI="fcm_token_object_Store";function bY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,l=this;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!g.sent().map(function(_){return _.name}).includes(LE))return[2,null];g.label=2;case 2:return r=null,[4,(0,c7.openDb)(LE,5,function(_){return(0,L.__awaiter)(l,void 0,void 0,function(){var E,x,N,R;return(0,L.__generator)(this,function(H){switch(H.label){case 0:return _.oldVersion<2?[2]:_.objectStoreNames.contains(oI)?[4,(E=_.transaction.objectStore(oI)).index("fcmSenderId").get(t)]:[2];case 1:return x=H.sent(),[4,E.clear()];case 2:if(H.sent(),!x)return[2];if(2===_.oldVersion){if(!(N=x).auth||!N.p256dh||!N.endpoint)return[2];r={token:N.fcmToken,createTime:null!==(R=N.createTime)&&void 0!==R?R:Date.now(),subscriptionOptions:{auth:N.auth,p256dh:N.p256dh,endpoint:N.endpoint,swScope:N.swScope,vapidKey:"string"==typeof N.vapidKey?N.vapidKey:Q6(N.vapidKey)}}}else(3===_.oldVersion||4===_.oldVersion)&&(r={token:(N=x).fcmToken,createTime:N.createTime,subscriptionOptions:{auth:Q6(N.auth),p256dh:Q6(N.p256dh),endpoint:N.endpoint,swScope:N.swScope,vapidKey:Q6(N.vapidKey)}});return[2]}})})})];case 3:return g.sent().close(),[4,(0,c7.deleteDb)(LE)];case 4:return g.sent(),[4,(0,c7.deleteDb)("fcm_vapid_details_db")];case 5:return g.sent(),[4,(0,c7.deleteDb)("undefined")];case 6:return g.sent(),[2,CY(r)?r:null]}})})}function CY(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var wd="firebase-messaging-store",OE=null;function RE(){return OE||(OE=(0,c7.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(wd)}})),OE}function H_(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return e=zE(t),[4,RE()];case 1:return[4,l.sent().transaction(wd).objectStore(wd).get(e)];case 2:return(r=l.sent())?[2,r]:[3,3];case 3:return[4,bY(t.appConfig.senderId)];case 4:return(s=l.sent())?[4,PE(t,s)]:[3,6];case 5:return l.sent(),[2,s];case 6:return[2]}})})}function PE(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return n=zE(t),[4,RE()];case 1:return r=l.sent(),[4,(s=r.transaction(wd,"readwrite")).objectStore(wd).put(e,n)];case 2:return l.sent(),[4,s.complete];case 3:return l.sent(),[2,e]}})})}function AY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return e=zE(t),[4,RE()];case 1:return n=s.sent(),[4,(r=n.transaction(wd,"readwrite")).objectStore(wd).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function zE(t){return t.appConfig.appId}function TY(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,_;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return[4,FE(t)];case 1:n=x.sent(),r=aI(e),s={method:"POST",headers:n,body:JSON.stringify(r)},x.label=2;case 2:return x.trys.push([2,5,,6]),[4,fetch(VE(t.appConfig),s)];case 3:return[4,x.sent().json()];case 4:return l=x.sent(),[3,6];case 5:throw _=x.sent(),lr.create("token-subscribe-failed",{errorInfo:_});case 6:if(l.error)throw lr.create("token-subscribe-failed",{errorInfo:l.error.message});if(!l.token)throw lr.create("token-subscribe-no-token");return[2,l.token]}})})}function MY(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,_;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return[4,FE(t)];case 1:n=x.sent(),r=aI(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)},x.label=2;case 2:return x.trys.push([2,5,,6]),[4,fetch(VE(t.appConfig)+"/"+e.token,s)];case 3:return[4,x.sent().json()];case 4:return l=x.sent(),[3,6];case 5:throw _=x.sent(),lr.create("token-update-failed",{errorInfo:_});case 6:if(l.error)throw lr.create("token-update-failed",{errorInfo:l.error.message});if(!l.token)throw lr.create("token-update-no-token");return[2,l.token]}})})}function sI(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,l,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,FE(t)];case 1:n=E.sent(),r={method:"DELETE",headers:n},E.label=2;case 2:return E.trys.push([2,5,,6]),[4,fetch(VE(t.appConfig)+"/"+e,r)];case 3:return[4,E.sent().json()];case 4:if((l=E.sent()).error)throw lr.create("token-unsubscribe-failed",{errorInfo:l.error.message});return[3,6];case 5:throw _=E.sent(),lr.create("token-unsubscribe-failed",{errorInfo:_});case 6:return[2]}})})}function VE(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function FE(t){var e=t.appConfig,n=t.installations;return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,n.getToken()];case 1:return r=s.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function aI(t){var s=t.vapidKey,l={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return s!==F_&&(l.web.applicationPubKey=s),l}function HE(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:if("granted"!==Notification.permission)throw lr.create("permission-blocked");return[4,SY(e,n)];case 1:return r=_.sent(),[4,H_(t)];case 2:return s=_.sent(),l={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Q6(r.getKey("auth")),p256dh:Q6(r.getKey("p256dh"))},s?[3,3]:[2,cI(t,l)];case 3:if(function(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(s.subscriptionOptions,l))return[3,8];_.label=4;case 4:return _.trys.push([4,6,,7]),[4,sI(t,s.token)];case 5:return _.sent(),[3,7];case 6:return g=_.sent(),console.warn(g),[3,7];case 7:return[2,cI(t,l)];case 8:return Date.now()>=s.createTime+6048e5?[2,xY({token:s.token,createTime:Date.now(),subscriptionOptions:l},t,e)]:[2,s.token];case 9:return[2]}})})}function tg(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,H_(t)];case 1:return(n=s.sent())?[4,sI(t,n.token)]:[3,4];case 2:return s.sent(),[4,AY(t)];case 3:s.sent(),s.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=s.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function xY(t,e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,5]),[4,MY(e,t)];case 1:return r=g.sent(),s=(0,L.__assign)((0,L.__assign)({},t),{token:r,createTime:Date.now()}),[4,PE(e,s)];case 2:return g.sent(),[2,r];case 3:return l=g.sent(),[4,tg(e,n)];case 4:throw g.sent(),l;case 5:return[2]}})})}function cI(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,TY(t,e)];case 1:return n=s.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,PE(t,r)];case 2:return s.sent(),[2,r.token]}})})}function SY(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yY(e)})]}})})}function uI(t){return"object"==typeof t&&!!t&&iI in t}function lI(t){return new Promise(function(e){setTimeout(e,t)})}var RY=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw lr.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return this.vapidKey?[3,2]:[4,H_(this.firebaseDependencies)];case 1:r=s.sent(),this.vapidKey=null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:F_,s.label=2;case 2:return[2,HE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return tg(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw lr.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw lr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw lr.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw lr.create("only-available-in-window")},t.prototype.onMessage=function(){throw lr.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw lr.create("only-available-in-window")},t.prototype.onPush=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return(n=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(e))?[4,fI()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(r=g.sent())?[2,HY(r,n)]:(s=!1,n.notification?[4,UY(PY(n))]:[3,3]);case 2:g.sent(),s=!0,g.label=3;case 3:return!0===s&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(l=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var s=e.notification.image;s&&(t.notification.image=s)}}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(n),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(l):this.bgMessageHandler.next(l)),[4,lI(1e3)]);case 4:return g.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return(0,L.__awaiter)(this,void 0,void 0,function(){var l;return(0,L.__generator)(this,function(g){switch(g.label){case 0:return e.newSubscription?[3,2]:[4,tg(this.firebaseDependencies,self.registration)];case 1:return g.sent(),[2];case 2:return[4,H_(this.firebaseDependencies)];case 3:return l=g.sent(),[4,tg(this.firebaseDependencies,self.registration)];case 4:return g.sent(),[4,HE(this.firebaseDependencies,self.registration,null!==(r=null===(n=null==l?void 0:l.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:F_)];case 5:return g.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return(s=null===(r=null===(n=e.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[rI])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(l=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(uI(t.data)?self.location.origin:null)}(s))?(g=new URL(l,self.location.href),_=new URL(self.location.origin),g.host!==_.host?[2]:[4,VY(g)]):[2]):[2];case 1:return(E=x.sent())?[3,4]:[4,self.clients.openWindow(l)];case 2:return E=x.sent(),[4,lI(3e3)];case 3:return x.sent(),[3,6];case 4:return[4,E.focus()];case 5:E=x.sent(),x.label=6;case 6:return E?(s.messageType=_h.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,[2,E.postMessage(s)]):[2]}})})},t}();function PY(t){var e,n=(0,L.__assign)({},t.notification);return n.data=((e={})[rI]=t,e),n}function VY(t){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,l,g,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,fI()];case 1:e=E.sent();try{for(n=(0,L.__values)(e),r=n.next();!r.done;r=n.next())if(s=r.value,l=new URL(s.url,self.location.href),t.host===l.host)return[2,s]}catch(x){g={error:x}}finally{try{r&&!r.done&&(_=n.return)&&_.call(n)}finally{if(g)throw g.error}}return[2,null]}})})}function HY(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=_h.PUSH_RECEIVED;try{for(var s=(0,L.__values)(t),l=s.next();!l.done;l=s.next())l.value.postMessage(e)}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function fI(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function UY(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var jY=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return(n=e.data).isFirebaseMessaging?(this.onMessageCallback&&n.messageType===_h.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),uI(r=n.data)&&"1"===r["google.c.a.e"]?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if("granted"!==Notification.permission)throw lr.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,HE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=F_),[2]})})},t.prototype.updateSwReg=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(n){switch(n.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),lr.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,tg(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e;return(0,L.__generator)(this,function(n){switch(n.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=n.sent()))return[2];throw lr.create("denied"===e?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw lr.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw lr.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");if(this.swRegistration)throw lr.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw lr.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw lr.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return r=function(t){switch(t){case _h.NOTIFICATION_CLICKED:return"notification_open";case _h.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return l.sent().logEvent(r,{message_id:n[iI],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function UE(t){return lr.create("missing-app-config-values",{valueName:t})}var KY={isSupported:hI};function hI(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Dn.default.INTERNAL.registerComponent(new Ia.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n=function(t){var e,n;if(!t||!t.options)throw UE("App Configuration Object");if(!t.name)throw UE("App Name");var s=t.options;try{for(var l=(0,L.__values)(["projectId","apiKey","appId","messagingSenderId"]),g=l.next();!g.done;g=l.next()){var _=g.value;if(!s[_])throw UE(_)}}catch(E){e={error:E}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return{appName:t.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}(e),l={app:e,appConfig:n,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!hI())throw lr.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new RY(l):new jY(l)},"PUBLIC").setServiceProps(KY));var Ss,BE="FB-PERF-TRACE-MEASURE",_I="@firebase/performance/config",bI="@firebase/performance/configexpire",CI="Performance",nQ=((Ss={})["trace started"]="Trace {$traceName} was started before.",Ss["trace stopped"]="Trace {$traceName} is not running.",Ss["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ss["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ss["no window"]="Window is not available.",Ss["no app id"]="App id is not available.",Ss["no project id"]="Project id is not available.",Ss["no api key"]="Api key is not available.",Ss["invalid cc log"]="Attempted to queue invalid cc event",Ss["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ss["RC response not ok"]="RC response is not ok",Ss["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ss["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ss["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ss["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ss),fa=new ut.ErrorFactory("performance",CI,nQ),J6=new ne.Logger(CI);J6.logLevel=ne.LogLevel.INFO;var jE,wI,ha=function(){function t(e){if(this.window=e,!e)throw fa.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},t.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,ut.isIndexedDBAvailable)()||(J6.info("IndexedDB is not supported by current browswer"),!1):(J6.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(e,n){this.PerformanceObserver&&new this.PerformanceObserver(function(s){for(var l=0,g=s.getEntries();l<g.length;l++)n(g[l])}).observe({entryTypes:[e]})},t.getInstance=function(){return void 0===jE&&(jE=new t(wI)),jE},t}();function EI(t,e){var n=t.length-e.length;if(n<0||n>1)throw fa.create("invalid String merger input");for(var r=[],s=0;s<t.length;s++)r.push(t.charAt(s)),e.length>s&&r.push(e.charAt(s));return r.join("")}var qE,AI,Po=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=EI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=EI("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw fa.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw fa.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw fa.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===qE&&(qE=new t),qE},t}();function ZE(){return AI}var Ed=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Ed||(Ed={})),Ed))(),sQ=["firebase_","google_","ga_"],aQ=new RegExp("^[a-zA-Z]\\w*$");function lQ(){var t=ha.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function TI(){switch(ha.getInstance().document.visibilityState){case"visible":return Ed.VISIBLE;case"hidden":return Ed.HIDDEN;default:return Ed.UNKNOWN}}function fQ(){var e=ha.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var bQ="Could not fetch config, will use default configs";function MI(t){if(!t)return t;var e=Po.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=II(e.tracesSamplingRate),e.logNetworkAfterSampling=II(e.networkRequestsSamplingRate),t}function II(t){return Math.random()<=t}var $E,GE=1;function xI(){return GE=2,$E=$E||function(){var t=ha.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return function(){var t=Po.getInstance().installationsService.getId();return t.then(function(e){AI=e}),t}()}).then(function(t){return function(t){var e=function(){var t=ha.getInstance().localStorage;if(t){var e=t.getItem(bI);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(_I);if(n)try{return JSON.parse(n)}catch(s){return}}}}();return e?(MI(e),Promise.resolve()):function(t){return function(){var t=Po.getInstance().installationsService.getToken();return t.then(function(e){}),t}().then(function(e){var r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Po.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Po.getInstance().getApiKey(),s=new Request(r,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Po.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(s).then(function(l){if(l.ok)return l.json();throw fa.create("RC response not ok")})}).catch(function(){J6.info(bQ)})}(t).then(MI).then(function(n){return function(t){var e=ha.getInstance().localStorage;!t||!e||(e.setItem(_I,JSON.stringify(t)),e.setItem(bI,String(Date.now()+60*Po.getInstance().configTimeToLive*60*1e3)))}(n)},function(){})}(t)}).then(function(){return SI()},function(){return SI()})}function SI(){GE=3}var KE,U_=3,bh=[],NI=!1;function B_(t){setTimeout(function(){if(0!==U_){if(!bh.length)return B_(1e4);!function(){var t=bh.splice(0,1e3),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}});(function(t,e){return function(t){var e=Po.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(n){return n.ok||J6.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),s=1e4;isNaN(r)||(s=Math.max(r,s));var l=n.logResponseDetails;Array.isArray(l)&&l.length>0&&"RETRY_REQUEST_LATER"===l[0].responseAction&&(bh=(0,L.__spreadArray)((0,L.__spreadArray)([],e),bh),J6.info("Retry transport request later.")),U_=3,B_(s)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Po.getInstance().logSource,log_event:e},t).catch(function(){bh=(0,L.__spreadArray)((0,L.__spreadArray)([],t),bh),U_--,J6.info("Tries left: "+U_+"."),B_(1e4)})}()}},t)}function kQ(t){if(!t.eventTime||!t.message)throw fa.create("invalid cc log");bh=(0,L.__spreadArray)((0,L.__spreadArray)([],bh),[t])}function kI(t,e){KE||(KE=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];kQ({message:t.apply(void 0,e),eventTime:Date.now()})}}(RQ)),KE(t,e)}function j_(t){var e=Po.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!ha.getInstance().requiredApisAvailable()||t.isAuto&&TI()!==Ed.VISIBLE||(3===GE?YE(t):xI().then(function(){return YE(t)},function(){return YE(t)}))}function YE(t){if(ZE()){var e=Po.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return kI(t,1)},0)}}function RQ(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:LI(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:LI(),trace_metric:e};return JSON.stringify(r)}(t)}function LI(){return{google_app_id:Po.getInstance().getAppId(),app_instance_id:ZE(),web_app_info:{sdk_version:"0.4.18",page_url:ha.getInstance().getUrl(),service_worker_status:lQ(),visibility_state:TI(),effective_connection_type:fQ()},application_process_state:0}}var HQ=["_fp","_fcp","_fid"],ng=function(){function t(e,n,r){void 0===n&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=ha.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=r||BE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw fa.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw fa.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),j_(this)},t.prototype.record=function(e,n,r){if(e<=0)throw fa.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw fa.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=(0,L.__assign)({},r.attributes)),r&&r.metrics)for(var s=0,l=Object.keys(r.metrics);s<l.length;s++){var g=l[s];isNaN(Number(r.metrics[g]))||(this.counters[g]=Number(Math.floor(r.metrics[g])))}j_(this)},t.prototype.incrementMetric=function(e,n){void 0===n&&(n=1),this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&HQ.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw fa.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function(t){var e=Math.floor(t);return e<t&&J6.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(n)},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=function(t){return!(0===t.length||t.length>40||sQ.some(function(n){return t.startsWith(n)})||!t.match(aQ))}(e),s=function(t){return 0!==t.length&&t.length<=100}(n);if(r&&s)this.customAttributes[e]=n;else{if(!r)throw fa.create("invalid attribute name",{attributeName:e});if(!s)throw fa.create("invalid attribute value",{attributeValue:n})}},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return(0,L.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var s=ha.getInstance().getUrl();if(s){var l=new t("_wt_"+s,!0),g=Math.floor(1e3*ha.getInstance().getTimeOrigin());if(l.setStartTime(g),e&&e[0]&&(l.setDuration(Math.floor(1e3*e[0].duration)),l.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),l.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),l.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var x=n.find(function(R){return"first-paint"===R.name});x&&x.startTime&&l.putMetric("_fp",Math.floor(1e3*x.startTime));var N=n.find(function(R){return"first-contentful-paint"===R.name});N&&N.startTime&&l.putMetric("_fcp",Math.floor(1e3*N.startTime)),r&&l.putMetric("_fid",Math.floor(1e3*r))}j_(l)}},t.createUserTimingTrace=function(e){j_(new t(e,!1,e))},t}();function OI(t){var e=t;if(e&&void 0!==e.responseStart){var n=ha.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),s=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,l=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Po.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],s=e.flTransportEndpointUrl.split("?")[0];n===r||n===s||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return kI(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:l})}}function RI(){!ZE()||(setTimeout(function(){return function(){var t=ha.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){ng.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(s){r&&(clearTimeout(r),ng.createOobTrace(e,n,s))})}else ng.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=ha.getInstance(),n=0,r=t.getEntriesByType("resource");n<r.length;n++)OI(r[n]);t.setupObserver("resource",OI)}()},0),setTimeout(function(){return function(){for(var t=ha.getInstance(),n=0,r=t.getEntriesByType("measure");n<r.length;n++)PI(r[n]);t.setupObserver("measure",PI)}()},0))}function PI(t){var e=t.name;e.substring(0,BE.length)!==BE&&ng.createUserTimingTrace(e)}var $Q=function(){function t(e){this.app=e,ha.getInstance().requiredApisAvailable()&&(0,ut.validateIndexedDBOpenable)().then(function(n){n&&(NI||(B_(5500),NI=!0),xI().then(RI,RI))}).catch(function(n){J6.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new ng(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Po.getInstance().instrumentationEnabled},set:function(e){Po.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Po.getInstance().dataCollectionEnabled},set:function(e){Po.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Ia.Component("performance",function(n){return function(n,r){if("[DEFAULT]"!==n.name)throw fa.create("FB not default");if("undefined"==typeof window)throw fa.create("no window");return function(t){wI=t}(window),Po.getInstance().firebaseAppInstance=n,Po.getInstance().installationsService=r,new $Q(n)}(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(Dn.default);var zI="https://www.googletagmanager.com/gtag/js",Ds=(()=>(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Ds||(Ds={})),Ds))(),q_=(()=>(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(q_||(q_={})),q_))(),Ns=new ne.Logger("@firebase/analytics");function aJ(t,e,n,r,s,l){return(0,L.__awaiter)(this,void 0,void 0,function(){var g,_,E,x;return(0,L.__generator)(this,function(N){switch(N.label){case 0:g=r[s],N.label=1;case 1:return N.trys.push([1,7,,8]),g?[4,e[g]]:[3,3];case 2:return N.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return _=N.sent(),(E=_.find(function(R){return R.measurementId===s}))?[4,e[E.appId]]:[3,6];case 5:N.sent(),N.label=6;case 6:return[3,8];case 7:return x=N.sent(),Ns.error(x),[3,8];case 8:return t(Ds.CONFIG,s,l),[2]}})})}function cJ(t,e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var l,g,_,E,x,N,K;return(0,L.__generator)(this,function(te){switch(te.label){case 0:return te.trys.push([0,4,,5]),l=[],s&&s.send_to?(g=s.send_to,Array.isArray(g)||(g=[g]),[4,Promise.all(n)]):[3,2];case 1:for(_=te.sent(),E=function(he){var Ie=_.find(function(Be){return Be.measurementId===he}),Oe=Ie&&e[Ie.appId];if(!Oe)return l=[],"break";l.push(Oe)},x=0,N=g;x<N.length&&"break"!==E(N[x]);x++);te.label=2;case 2:return 0===l.length&&(l=Object.values(e)),[4,Promise.all(l)];case 3:return te.sent(),t(Ds.EVENT,r,s||{}),[3,5];case 4:return K=te.sent(),Ns.error(K),[3,5];case 5:return[2]}})})}var el,hJ=((el={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",el["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",el["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",el["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",el["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",el["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",el["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",el["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',el["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',el),Pc=new ut.ErrorFactory("analytics","Analytics",hJ),VI=new(function(){function t(e,n){void 0===e&&(e={}),void 0===n&&(n=1e3),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}());function gJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function vJ(t){var e;return(0,L.__awaiter)(this,void 0,void 0,function(){var n,s,l,g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return n=t.appId,s={method:"GET",headers:gJ(t.apiKey)},l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(l,s)];case 1:if(200===(g=x.sent()).status||304===g.status)return[3,6];_="",x.label=2;case 2:return x.trys.push([2,4,,5]),[4,g.json()];case 3:return E=x.sent(),(null===(e=E.error)||void 0===e?void 0:e.message)&&(_=E.error.message),[3,5];case 4:return x.sent(),[3,5];case 5:throw Pc.create("config-fetch-failed",{httpStatus:g.status,responseMessage:_});case 6:return[2,g.json()]}})})}function FI(t,e,n,r){var s=e.throttleEndTimeMillis,l=e.backoffCount;return void 0===r&&(r=VI),(0,L.__awaiter)(this,void 0,void 0,function(){var g,_,E,x,N,R,H;return(0,L.__generator)(this,function(K){switch(K.label){case 0:g=t.appId,_=t.measurementId,K.label=1;case 1:return K.trys.push([1,3,,4]),[4,_J(n,s)];case 2:return K.sent(),[3,4];case 3:if(E=K.sent(),_)return Ns.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+_+' provided in the "measurementId" field in the local Firebase config. ['+E.message+"]"),[2,{appId:g,measurementId:_}];throw E;case 4:return K.trys.push([4,6,,7]),[4,vJ(t)];case 5:return x=K.sent(),r.deleteThrottleMetadata(g),[2,x];case 6:if(!function(t){if(!(t instanceof ut.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(N=K.sent())){if(r.deleteThrottleMetadata(g),_)return Ns.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+_+' provided in the "measurementId" field in the local Firebase config. ['+N.message+"]"),[2,{appId:g,measurementId:_}];throw N}return R=503===Number(N.customData.httpStatus)?(0,ut.calculateBackoffMillis)(l,r.intervalMillis,30):(0,ut.calculateBackoffMillis)(l,r.intervalMillis),H={throttleEndTimeMillis:Date.now()+R,backoffCount:l+1},r.setThrottleMetadata(g,H),Ns.debug("Calling attemptFetch again in "+R+" millis"),[2,FI(t,H,n,r)];case 7:return[2]}})})}function _J(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),l=setTimeout(n,s);t.addEventListener(function(){clearTimeout(l),r(Pc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var CJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var UI,ig,tl={},Z_=[],HI={},rg="dataLayer",QE="gtag",G_=!1;function AJ(t){if(G_)throw Pc.create("already-initialized");t.dataLayerName&&(rg=t.dataLayerName),t.gtagName&&(QE=t.gtagName)}function MJ(t,e){!function(){var t=[];if((0,ut.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,ut.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,s){return"("+(s+1)+") "+r}).join(" "),n=Pc.create("invalid-analytics-context",{errorInfo:e});Ns.warn(n.message)}}();var n=t.options.appId;if(!n)throw Pc.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Pc.create("no-api-key");Ns.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=tl[n])throw Pc.create("already-exists",{id:n});if(!G_){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(rg);var r=function(t,e,n,r,s){var l=function(){for(var g=[],_=0;_<arguments.length;_++)g[_]=arguments[_];window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(l=window[s]),window[s]=function(t,e,n,r){return function(l,g,_){return(0,L.__awaiter)(this,void 0,void 0,function(){var E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:return x.trys.push([0,6,,7]),l!==Ds.EVENT?[3,2]:[4,cJ(t,e,n,g,_)];case 1:return x.sent(),[3,5];case 2:return l!==Ds.CONFIG?[3,4]:[4,aJ(t,e,n,r,g,_)];case 3:return x.sent(),[3,5];case 4:t(Ds.SET,g),x.label=5;case 5:return[3,7];case 6:return E=x.sent(),Ns.error(E),[3,7];case 7:return[2]}})})}}(l,t,e,n),{gtagCore:l,wrappedGtag:window[s]}}(tl,Z_,HI,rg,QE);ig=r.wrappedGtag,UI=r.gtagCore,G_=!0}return tl[n]=function(t,e,n,r,s,l){return(0,L.__awaiter)(this,void 0,void 0,function(){var g,_,E,x,N,R,H;return(0,L.__generator)(this,function(K){switch(K.label){case 0:return(g=function(t,e,n){return void 0===e&&(e=VI),(0,L.__awaiter)(this,void 0,void 0,function(){var r,s,l,g,_,E,x=this;return(0,L.__generator)(this,function(N){if(l=(r=t.options).apiKey,g=r.measurementId,!(s=r.appId))throw Pc.create("no-app-id");if(!l){if(g)return[2,{measurementId:g,appId:s}];throw Pc.create("no-api-key")}return _=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},E=new CJ,setTimeout(function(){return(0,L.__awaiter)(x,void 0,void 0,function(){return(0,L.__generator)(this,function(R){return E.abort(),[2]})})},6e4),[2,FI({appId:s,apiKey:l,measurementId:g},_,E,e)]})})}(t)).then(function(te){n[te.measurementId]=te.appId,t.options.measurementId&&te.measurementId!==t.options.measurementId&&Ns.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+te.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(te){return Ns.error(te)}),e.push(g),_=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var t;return(0,L.__generator)(this,function(e){switch(e.label){case 0:return(0,ut.isIndexedDBAvailable)()?[3,1]:(Ns.warn(Pc.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,ut.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Ns.warn(Pc.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(te){if(te)return r.getId()}),[4,Promise.all([g,_])];case 1:return E=K.sent(),x=E[0],N=E[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(zI))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=zI+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(l,x.measurementId),s("js",new Date),(H={}).origin="firebase",H.update=!0,R=H,null!=N&&(R.firebase_id=N),s(Ds.CONFIG,x.measurementId,R),[2,x.measurementId]}})})}(t,Z_,HI,e,UI,rg),{app:t,logEvent:function(_,E,x){(function(t,e,n,r,s){return(0,L.__awaiter)(this,void 0,void 0,function(){var l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return s&&s.global?(t(Ds.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:l=_.sent(),g=(0,L.__assign)((0,L.__assign)({},r),{send_to:l}),t(Ds.EVENT,n,g),_.label=3;case 3:return[2]}})})})(ig,tl[n],_,E,x).catch(function(N){return Ns.error(N)})},setCurrentScreen:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return r&&r.global?(t(Ds.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=l.sent(),t(Ds.CONFIG,s,{update:!0,screen_name:n}),l.label=3;case 3:return[2]}})})})(ig,tl[n],_,E).catch(function(x){return Ns.error(x)})},setUserId:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return r&&r.global?(t(Ds.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=l.sent(),t(Ds.CONFIG,s,{update:!0,user_id:n}),l.label=3;case 3:return[2]}})})})(ig,tl[n],_,E).catch(function(x){return Ns.error(x)})},setUserProperties:function(_,E){(function(t,e,n,r){return(0,L.__awaiter)(this,void 0,void 0,function(){var s,l,g,_,E;return(0,L.__generator)(this,function(x){switch(x.label){case 0:if(!r||!r.global)return[3,1];for(s={},l=0,g=Object.keys(n);l<g.length;l++)s["user_properties."+(_=g[l])]=n[_];return t(Ds.SET,s),[2,Promise.resolve()];case 1:return[4,e];case 2:E=x.sent(),t(Ds.CONFIG,E,{update:!0,user_properties:n}),x.label=3;case 3:return[2]}})})})(ig,tl[n],_,E).catch(function(x){return Ns.error(x)})},setAnalyticsCollectionEnabled:function(_){(function(t,e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(tl[n],_).catch(function(E){return Ns.error(E)})},INTERNAL:{delete:function(){return delete tl[n],Promise.resolve()}}}}var BI="analytics";function DJ(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:if((0,ut.isBrowserExtension)())return[2,!1];if(!(0,ut.areCookiesEnabled)())return[2,!1];if(!(0,ut.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,ut.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new Ia.Component(BI,function(n){return MJ(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:AJ,EventName:q_,isSupported:DJ})),t.INTERNAL.registerComponent(new Ia.Component("analytics-internal",function(n){try{return{logEvent:n.getProvider(BI).getImmediate().logEvent}}catch(s){throw Pc.create("interop-component-reg-failed",{reason:s})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(Dn.default);var $a,NJ=function(){function t(e,n,r,s){this.client=e,this.storage=n,this.storageCache=r,this.logger=s}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,s=r<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+s+"."),s},t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=_.sent(),r=n[0],(s=n[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,s]:(e.eTag=s&&s.eTag,[4,this.client.fetch(e)]);case 2:return l=_.sent(),g=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===l.status&&g.push(this.storage.setLastSuccessfulFetchResponse(l)),[4,Promise.all(g)];case 3:return _.sent(),[2,l]}})})},t}(),kJ=(($a={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",$a["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",$a["registration-api-key"]="Undefined API key. Check Firebase app initialization.",$a["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",$a["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",$a["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",$a["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",$a["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",$a["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",$a["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',$a["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',$a["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",$a["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",$a),zc=new ut.ErrorFactory("remoteconfig","Remote Config",kJ);function OJ(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}var RJ=function(){function t(e,n,r,s,l,g){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=s,this.apiKey=l,this.appId=g}return t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,l,g,_,E,x,N,R,H,K,te,he,Ie,Oe,Be,$e,gt;return(0,L.__generator)(this,function(Je){switch(Je.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=Je.sent(),l=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",g=l+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,_={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},E={sdk_version:this.sdkVersion,app_instance_id:n[0],app_instance_id_token:n[1],app_id:this.appId,language_code:OJ()},x={method:"POST",headers:_,body:JSON.stringify(E)},N=fetch(g,x),R=new Promise(function(Ut,fr){e.signal.addEventListener(function(){var rs=new Error("The operation was aborted.");rs.name="AbortError",fr(rs)})}),Je.label=2;case 2:return Je.trys.push([2,5,,6]),[4,Promise.race([N,R])];case 3:return Je.sent(),[4,N];case 4:return H=Je.sent(),[3,6];case 5:throw K=Je.sent(),te="fetch-client-network","AbortError"===K.name&&(te="fetch-timeout"),zc.create(te,{originalErrorMessage:K.message});case 6:if(he=H.status,Ie=H.headers.get("ETag")||void 0,200!==H.status)return[3,11];$e=void 0,Je.label=7;case 7:return Je.trys.push([7,9,,10]),[4,H.json()];case 8:return $e=Je.sent(),[3,10];case 9:throw gt=Je.sent(),zc.create("fetch-client-parse",{originalErrorMessage:gt.message});case 10:Oe=$e.entries,Be=$e.state,Je.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Be?he=500:"NO_CHANGE"===Be?he=304:("NO_TEMPLATE"===Be||"EMPTY_CONFIG"===Be)&&(Oe={}),304!==he&&200!==he)throw zc.create("fetch-status",{httpStatus:he});return[2,{status:he,eTag:Ie,config:Oe}]}})})},t}(),PJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}(),FJ=["1","true","t","yes","y","on"],JE=function(){function t(e,n){void 0===n&&(n=""),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&FJ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},t.prototype.getSource=function(){return this._source},t}(),BJ=function(){function t(e,n,r,s,l){this.app=e,this._client=n,this._storageCache=r,this._storage=s,this._logger=l,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ne.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=ne.LogLevel.SILENT;break;default:this._logger.logLevel=ne.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=s.sent(),r=e[1],(n=e[0])&&n.config&&n.eTag&&n.eTag!==r?[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])]:[2,!1];case 2:return s.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s=this;return(0,L.__generator)(this,function(l){switch(l.label){case 0:e=new PJ,setTimeout(function(){return(0,L.__awaiter)(s,void 0,void 0,function(){return(0,L.__generator)(this,function(g){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return l.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return l.sent(),[3,6];case 4:return n=l.sent(),r=function(t,e){return t instanceof ut.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(n)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw l.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){return(0,L.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,L.__assign)((0,L.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&void 0!==n[e]?new JE("remote",n[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new JE("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new JE("static"))},t}();function $_(t,e){var n=t.target.error||void 0;return zc.create(e,{originalErrorMessage:n&&n.message})}var Ad="app_namespace_store",$J=function(){function t(e,n,r,s){void 0===s&&(s=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(r){e($_(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Ad,{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=s}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(l,g){var E=n.transaction([Ad],"readonly").objectStore(Ad),x=r.createCompositeKey(e);try{var N=E.get(x);N.onerror=function(R){g($_(R,"storage-get"))},N.onsuccess=function(R){var H=R.target.result;l(H?H.value:void 0)}}catch(R){g(zc.create("storage-get",{originalErrorMessage:R&&R.message}))}})]}})})},t.prototype.set=function(e,n){return(0,L.__awaiter)(this,void 0,void 0,function(){var r,s=this;return(0,L.__generator)(this,function(l){switch(l.label){case 0:return[4,this.openDbPromise];case 1:return r=l.sent(),[2,new Promise(function(g,_){var x=r.transaction([Ad],"readwrite").objectStore(Ad),N=s.createCompositeKey(e);try{var R=x.put({compositeKey:N,value:n});R.onerror=function(H){_($_(H,"storage-set"))},R.onsuccess=function(){g()}}catch(H){_(zc.create("storage-set",{originalErrorMessage:H&&H.message}))}})]}})})},t.prototype.delete=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,L.__generator)(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(l,g){var E=n.transaction([Ad],"readwrite").objectStore(Ad),x=r.createCompositeKey(e);try{var N=E.delete(x);N.onerror=function(R){g($_(R,"storage-delete"))},N.onsuccess=function(){l()}}catch(R){g(zc.create("storage-delete",{originalErrorMessage:R&&R.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}(),WJ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var e,n,r,s,l,g;return(0,L.__generator)(this,function(_){switch(_.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return(s=_.sent())&&(this.lastFetchStatus=s),[4,n];case 2:return(l=_.sent())&&(this.lastSuccessfulFetchTimestampMillis=l),[4,r];case 3:return(g=_.sent())&&(this.activeConfig=g),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function KJ(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),l=setTimeout(n,s);t.addEventListener(function(){clearTimeout(l),r(zc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var QJ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return(0,L.__awaiter)(this,void 0,void 0,function(){var n;return(0,L.__generator)(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,s=n.backoffCount;return(0,L.__awaiter)(this,void 0,void 0,function(){var l,g,_;return(0,L.__generator)(this,function(E){switch(E.label){case 0:return[4,KJ(e.signal,r)];case 1:E.sent(),E.label=2;case 2:return E.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return l=E.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return E.sent(),[2,l];case 5:if(!function(t){if(!(t instanceof ut.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(g=E.sent()))throw g;return _={throttleEndTimeMillis:Date.now()+(0,ut.calculateBackoffMillis)(s),backoffCount:s+1},[4,this.storage.setThrottleMetadata(_)];case 6:return E.sent(),[2,this.attemptFetch(e,_)];case 7:return[2]}})})},t}(),qI="@firebase/remote-config";!function(t){t.INTERNAL.registerComponent(new Ia.Component("remoteConfig",function(n,r){var s=r.instanceIdentifier,l=n.getProvider("app").getImmediate(),g=n.getProvider("installations").getImmediate();if("undefined"==typeof window)throw zc.create("registration-window");var _=l.options,E=_.projectId,x=_.apiKey,N=_.appId;if(!E)throw zc.create("registration-project-id");if(!x)throw zc.create("registration-api-key");if(!N)throw zc.create("registration-app-id");var R=new $J(N,l.name,s=s||"firebase"),H=new WJ(R),K=new ne.Logger(qI);K.logLevel=ne.LogLevel.ERROR;var te=new RJ(g,t.SDK_VERSION,s,E,x,N),he=new QJ(te,R),Ie=new NJ(he,R,H,K),Oe=new BJ(l,Ie,H,R,K);return Oe.ensureInitialized(),Oe},"PUBLIC").setMultipleInstances(!0)),t.registerVersion(qI,"0.1.43")}(Dn.default),J(7367),Dn.default.registerVersion("firebase","8.10.1","app"),Dn.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Dn.default.registerVersion("firebase","8.10.1");const rX=["newIngredient"],iX=function(t){return{"background-image":t}};function oX(t,e){1&t&&u._UZ(0,"div",12),2&t&&u.Q6J("ngStyle",u.VKq(1,iX,"url("+e.$implicit+")"))}let sX=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.destroy$=new xt.xQ}ngOnInit(){this.itemId?this.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId).valueChanges().pipe(po(this.destroy$)).subscribe(n=>{n&&(this.item=n)}):alert("something went wrong! ")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}editPrice(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{price:+n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{price:+n}),r.commit().catch(g=>{g&&alert(g)})}editQuantity(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{quantity:+n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{quantity:+n}),r.commit().catch(g=>{g&&alert(g)})}editCategory(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{category:n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{category:n}),r.commit().catch(g=>{g&&alert(g)}),this.firestore.collection("items").doc(this.itemId).update({category:n}).catch(g=>alert(g))}editCarBrand(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{brand:n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{brand:n}),r.commit().catch(g=>{g&&alert(g)}),this.firestore.collection("items").doc(this.itemId).update({brand:n}).catch(g=>alert(g))}editTopic(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{topics:n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{topics:n}),r.commit().catch(g=>{g&&alert(g)})}editDescription(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{description:n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{description:n}),r.commit().catch(g=>{g&&alert(g)})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-inside-item"]],viewQuery:function(n,r){if(1&n&&u.Gf(rX,5),2&n){let s;u.iGM(s=u.CRH())&&(r.ingredientHTML=s.first)}},inputs:{itemId:"itemId",uid:"uid"},decls:38,vars:7,consts:[[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[2,"font-size","20px"],["type","text",3,"ngModel","keyUp.enter"],["itemPrice",""],["itemQuantity",""],["type","text",2,"width","10rem",3,"ngModel","keyUp.enter"],["itemCategory",""],["carBrand",""],["itemTopics",""],["type","text",2,"width","100%",3,"ngModel","keyUp.enter"],["itemDescription",""],[1,"prviewImage",3,"ngStyle"]],template:function(n,r){if(1&n){const s=u.EpF();u.TgZ(0,"div",0),u.YNc(1,oX,1,3,"div",1),u.qZA(),u.TgZ(2,"div"),u.TgZ(3,"p",2),u.TgZ(4,"strong"),u._uU(5,"Item Price $"),u.qZA(),u.qZA(),u.TgZ(6,"input",3,4),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(7);return r.editPrice(g.value)}),u.qZA(),u.qZA(),u.TgZ(8,"div"),u.TgZ(9,"p",2),u.TgZ(10,"strong"),u._uU(11,"Item Quantity"),u.qZA(),u.qZA(),u.TgZ(12,"input",3,5),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(13);return r.editQuantity(g.value)}),u.qZA(),u.qZA(),u.TgZ(14,"div"),u.TgZ(15,"p",2),u.TgZ(16,"strong"),u._uU(17,"Item Category"),u.qZA(),u.qZA(),u.TgZ(18,"input",6,7),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(19);return r.editCategory(g.value)}),u.qZA(),u.qZA(),u.TgZ(20,"div"),u.TgZ(21,"p",2),u.TgZ(22,"strong"),u._uU(23,"Car Brand"),u.qZA(),u.qZA(),u.TgZ(24,"input",6,8),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(25);return r.editCarBrand(g.value)}),u.qZA(),u.qZA(),u.TgZ(26,"div"),u.TgZ(27,"p",2),u.TgZ(28,"strong"),u._uU(29,"Item Topic"),u.qZA(),u.qZA(),u.TgZ(30,"input",6,9),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(31);return r.editTopic(g.value)}),u.qZA(),u.qZA(),u.TgZ(32,"div"),u.TgZ(33,"p",2),u.TgZ(34,"strong"),u._uU(35,"Item Description"),u.qZA(),u.qZA(),u.TgZ(36,"textarea",10,11),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(37);return r.editDescription(g.value)}),u.qZA(),u.qZA()}2&n&&(u.xp6(1),u.Q6J("ngForOf",r.item.url),u.xp6(5),u.Q6J("ngModel",r.item.price),u.xp6(6),u.Q6J("ngModel",r.item.quantity),u.xp6(6),u.Q6J("ngModel",r.item.category),u.xp6(6),u.Q6J("ngModel",r.item.brand),u.xp6(6),u.Q6J("ngModel",r.item.topics),u.xp6(6),u.Q6J("ngModel",r.item.description))},directives:[pt,Km,oE,P_,Yn],styles:[".info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:4rem;margin-right:1%;border-radius:.5rem;border:solid 1px grey;font-size:16px;padding:4px 4px 4px 10px;margin-top:.25rem;margin-bottom:.5rem}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:20rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-bottom:.7rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}"]}),t})(),aX=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"cell"],[1,"pl","pl-hourglass"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.qZA())},styles:['.cell[_ngcontent-%COMP%]{flex-basis:50%}.pl[_ngcontent-%COMP%], .pl[_ngcontent-%COMP%]:before, .pl[_ngcontent-%COMP%]:after{animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.pl[_ngcontent-%COMP%]{margin:0 auto;position:relative;width:1.2em;height:1.2em}.pl[_ngcontent-%COMP%]:before, .pl[_ngcontent-%COMP%]:after{background:currentColor;content:"";display:block;position:absolute;top:0;left:0;width:100%;height:50%;transform-origin:50% 100%;clip-path:polygon(0 0,100% 0,50% 100%);-webkit-clip-path:polygon(0 0,100% 0,50% 100%)}.pl-hourglass[_ngcontent-%COMP%]{animation-name:hourglassA;background:#a3a3a3;clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%);-webkit-clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%)}.pl-hourglass[_ngcontent-%COMP%]:before, .pl-hourglass[_ngcontent-%COMP%]:after{position:static;clip-path:none;-webkit-clip-path:none}.pl-hourglass[_ngcontent-%COMP%]:before{animation-name:hourglassB}.pl-hourglass[_ngcontent-%COMP%]:after{animation-name:hourglassC}@keyframes hourglassA{0%,75%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes hourglassB{0%{transform:scaleY(1)}50%,to{transform:scaleY(0)}}@keyframes hourglassC{0%{transform:scaleY(0)}50%,to{transform:scaleY(1)}}']}),t})();function cX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",47),u.NdJ("click",function(){return u.CHM(n),u.oxw().showInputMeth()}),u._uU(1,"Search Item"),u.qZA()}}function uX(t,e){1&t&&u._UZ(0,"input",48)}function lX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",49),u.NdJ("click",function(){return u.CHM(n),u.oxw().showInput=!1}),u.qZA()}}function fX(t,e){1&t&&u._UZ(0,"div",50)}function hX(t,e){if(1&t&&(u.TgZ(0,"option",51),u._uU(1),u.qZA()),2&t){const n=e.$implicit;u.Q6J("value",n.category)("selected",n.category),u.xp6(1),u.Oqu(n.category)}}function dX(t,e){if(1&t&&(u.TgZ(0,"option",51),u._uU(1),u.qZA()),2&t){const n=e.$implicit;u.Q6J("value",n.brand)("selected",n.brand),u.xp6(1),u.Oqu(n.brand)}}const GI=function(t){return{"background-image":t}};function pX(t,e){1&t&&u._UZ(0,"div",52),2&t&&u.Q6J("ngStyle",u.VKq(1,GI,"url("+e.$implicit+")"))}function mX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",53),u.NdJ("click",function(){u.CHM(n);const s=u.oxw(),l=u.MAs(24),g=u.MAs(29),_=u.MAs(34),E=u.MAs(49);return s.uplaodItem(l.value,g.value,_.value,E.value)}),u._uU(1,"Add item"),u.qZA()}}function gX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",10),u._UZ(1,"div",11),u.TgZ(2,"div",12),u.TgZ(3,"header",13),u.TgZ(4,"input",54,55),u.NdJ("keyUp.enter",function(){u.CHM(n);const s=u.MAs(5);return u.oxw().editTitle(s.value)}),u.qZA(),u.TgZ(6,"button",15),u.NdJ("click",function(){return u.CHM(n),u.oxw().showItemModal=!1}),u.qZA(),u.qZA(),u.TgZ(7,"section",16),u._UZ(8,"app-inside-item",56),u.qZA(),u.TgZ(9,"footer",34),u.TgZ(10,"button",35),u.NdJ("click",function(){return u.CHM(n),u.oxw().showItemModal=!1}),u._uU(11,"Cancel"),u.qZA(),u.TgZ(12,"button",57),u.NdJ("click",function(){return u.CHM(n),u.oxw().deleteItem()}),u._uU(13,"Delete This Item"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=u.oxw();u.ekj("is-active",1==n.showItemModal),u.xp6(4),u.Q6J("ngModel",n.itemTitle),u.xp6(4),u.Q6J("uid",n.uid)("itemId",n.itemId)}}function vX(t,e){if(1&t&&(u.TgZ(0,"div",58),u.TgZ(1,"p",59),u._uU(2),u.qZA(),u._UZ(3,"app-loader"),u.qZA()),2&t){const n=u.oxw();u.xp6(2),u.hij("uploading ",n.uploadImageProgress,"%")}}function yX(t,e){1&t&&(u.TgZ(0,"div",58),u.TgZ(1,"p",60),u._uU(2,"Uploaded "),u.qZA(),u.qZA())}function _X(t,e){1&t&&(u.TgZ(0,"div",61),u.TgZ(1,"p",60),u._uU(2,"Deleted "),u.qZA(),u.qZA())}const $I=function(t){return{color:t}};function bX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"li",41),u.NdJ("click",function(){const l=u.CHM(n).$implicit;return u.oxw().getCategData(l)}),u._uU(1),u.qZA()}if(2&t){const n=e.$implicit,r=u.oxw();u.Q6J("ngStyle",u.VKq(2,$I,r.selectedCateg==n?"blue":"grey")),u.xp6(1),u.Oqu(n)}}function CX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"li",62),u.NdJ("click",function(){const l=u.CHM(n).$implicit;return u.oxw().itemModal(l.id,l.title)}),u._UZ(1,"div",63),u.TgZ(2,"div",64),u.TgZ(3,"p",65),u._uU(4),u.qZA(),u.qZA(),u.TgZ(5,"div",66),u.TgZ(6,"div",64),u.TgZ(7,"p",67),u._uU(8,"Price"),u.qZA(),u.TgZ(9,"p"),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"div",64),u.TgZ(12,"p",67),u._uU(13,"Quantity"),u.qZA(),u.TgZ(14,"p"),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"div",64),u.TgZ(17,"p",67),u._uU(18,"Category"),u.qZA(),u.TgZ(19,"p"),u._uU(20),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=e.$implicit;u.xp6(1),u.Q6J("ngStyle",u.VKq(5,GI,"url("+n.url[0]+")")),u.xp6(3),u.Oqu(n.title),u.xp6(6),u.hij("$",n.price,""),u.xp6(5),u.Oqu(n.quantity),u.xp6(5),u.Oqu(n.category)}}function wX(t,e){1&t&&(u.TgZ(0,"div",68),u.TgZ(1,"h4"),u._uU(2,"No items yet! Add Some"),u.qZA(),u.qZA())}function EX(t,e){1&t&&(u.TgZ(0,"div",68),u._UZ(1,"app-loader"),u.qZA())}let AX=(()=>{class t{constructor(n,r,s,l){this.auth=n,this.firestore=r,this.storage=s,this.userData=l,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.destroy2$=new xt.xQ,this.destroy3$=new xt.xQ,this.showInput=!1,this.faPlus=A_,this.showInfo=!1,this.showAddItemModal=!1,this.showItemModal=!1,this.loading=!0,this.categories=[{category:"Engines",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750039/icons8-engine-64_gsoosy.png"},{category:"Mirrors",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750923/imgbin_car-computer-icons-rear-view-mirror-png_eejgds.png"},{category:"Wheels",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651749962/icons8-tire-64_zcoajv.png"},{category:"Oils",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750159/icons8-engine-oil-65_h570ph.png"},{category:"Doors",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750225/icons8-car-door-65_ixwcfm.png"},{category:"Accessories",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750313/icons8-accessories-65_qldvci.png"},{category:"Roofs",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651750416/icons8-convertible-roof-warning-65_xbb8kk.png"},{category:"Lights",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1651751076/icons8-lights-65_sdmont.png"},{category:"Brakes",url:"https://res.cloudinary.com/dmyspflyi/image/upload/v1645529554/disc-brake_odgqlr.png"}],this.brands=[{brand:"Rover",url:"https://cdn.pixabay.com/photo/2020/11/04/13/41/car-5712395_960_720.jpg"},{brand:"Tesla",url:"https://www.nerdwallet.com/assets/blog/wp-content/uploads/2020/05/david-von-diemar-ZBWn5DvO0hg-unsplash-1920x1152.jpg"},{brand:"BMW",url:"https://cloudfront-us-east-2.images.arcpublishing.com/reuters/U6DU4EGVOZNXPHXTMIPF7B5C64.jpg"},{brand:"Honda",url:"https://cdn.carbuzz.com/gallery-images/840x560/743000/500/743560.jpg"},{brand:"Porche",url:"https://files.porsche.com/filestore/image/usa/none/PressReleases-XLe/normal/c1f013b0-0b52-11e4-8b02-001a64c55f5c/porsche-normal.jpg"},{brand:"Renault",url:"https://www.btgunlugu.com/wp-content/uploads/2021/01/Renault-Logo-2_1200x600.jpg"},{brand:"Toyota",url:"https://images.unsplash.com/photo-1581862142388-23e1c52ca091?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8dG95b3RhfGVufDB8fDB8fA%3D%3D&w=1000&q=80"},{brand:"Mercedes",url:"https://di-uploads-pod7.dealerinspire.com/mercedesbenzofwarwickredesign/uploads/2020/07/Mercedes-Benz-Logo.png"}],this.categs=[],this.selectedCateg="All",this.previewUrls=[],this.paths=[],this.uploading=!1,this.uploadImageProgress=.1,this.uploaded=!1,this.toUplaodURLS=[],this.itemdeleted=!1}ngOnInit(){this.getUser().then(()=>{this.getUserData().then(()=>{this.getCategs().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("items").valueChanges().pipe(po(this.destroy1$)).subscribe(n=>{this.items=n,this.tempItems=this.items,this.loading=!1})})})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete(),this.destroy3$.next(),this.destroy3$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.uid=l.uid,r()})})}getUserData(){return new Promise((r,s)=>{this.userData.user.pipe(po(this.destroy3$)).subscribe(l=>{this.shopname=l.shopname,r()})})}getCategs(){return new Promise((r,s)=>{this.userData.user.pipe(po(this.destroy2$)).subscribe(l=>{this.categs=l.categories,this.shopLocation=l.areaLocation,r()})})}getCategData(n){return this.loading=!0,this.selectedCateg=n,new Promise((s,l)=>{this.firestore.collection("shopOwners").doc(this.uid).collection("itemsCat").doc("categories").collection(n).valueChanges().pipe(po(this.destroy1$)).subscribe(g=>{this.items=g,this.loading=!1,s()})})}all(){return this.selectedCateg="All",this.items=this.tempItems}showInputMeth(){this.showInput=!this.showInput}additemModal(){this.showAddItemModal=!0}itemModal(n,r){this.itemId=n,this.showItemModal=!0,this.itemTitle=r}uploadImage(n){this.imagePath=n.target.files[0],this.paths.push(this.imagePath);const r=new FileReader;r.onload=()=>{this.imagePreiviewUrl=r.result,this.previewUrls.push(this.imagePreiviewUrl)},r.readAsDataURL(this.imagePath)}uplaodItem(n,r,s,l){return(0,L.__awaiter)(this,void 0,void 0,function*(){if(this.imagePath)if(""!=n&&0!=r&&0!=s&&""!=this.selectedCateg&&null!=this.selectedCateg&&null!=this.selectedCateg&&""!=this.selectedBrand&&null!=this.selectedBrand&&null!=this.selectedBrand&&""!=l){let R=this.firestore.createId();this.showAddItemModal=!1;for(let K=0;K<this.paths.length;K++)yield this.uploadIndividualImgae(R,this.paths[K]);const H={id:R,title:n,price:r,discount:0,quantity:s,category:this.selectedcat,brand:this.selectedBrand,description:l,url:this.toUplaodURLS,shopname:this.shopname,shopLocation:this.shopLocation,addedAt:Dn.default.firestore.FieldValue.serverTimestamp(),ordertimes:0,hearts:0,rating:0,shopId:this.uid};-1==this.categs.indexOf(this.selectedCateg)&&this.categs.push(this.selectedCateg);var g=this.firestore.firestore.batch(),_=this.firestore.firestore.collection("items").doc(R);g.set(_,H);var E=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(R);g.set(E,H);var x=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("itemsCat").doc("categories").collection(this.selectedcat).doc(R);g.set(x,H);var N=this.firestore.firestore.collection("shopOwners").doc(this.uid);-1==this.categs.indexOf(this.selectedCateg)&&g.update(N,{categories:this.categs}),g.commit().catch(K=>alert(K))}else alert("Empty field");else alert("You need to add an item image")})}uploadIndividualImgae(n,r){return new Promise((l,g)=>{var _=this.firestore.createId();const E=this.storage.upload(`/items/${n}/${_}`,r);E.then(x=>{x.ref.getDownloadURL().then(N=>{this.toUplaodURLS.push(N),l()})}).catch(x=>console.log("image not uploaded")),E.percentageChanges().subscribe(x=>{this.uploading=!0,this.uploadImageProgress=null==x?void 0:x.valueOf(),100==x&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}editTitle(n){var r=this.firestore.firestore.batch(),s=this.firestore.firestore.collection("items").doc(this.itemId);r.update(s,{title:n});var l=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);r.update(l,{title:n}),r.commit().catch(g=>{g&&alert(g)})}deleteItem(){var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("items").doc(this.itemId);n.delete(r);var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);n.delete(s),n.commit().catch(l=>{l&&alert(l)}).then(l=>{this.showItemModal=!1,this.itemdeleted=!0,this.deleteImages(this.itemId),setInterval(()=>{this.itemdeleted=!1},3e3)})}deleteImages(n){return(0,L.__awaiter)(this,void 0,void 0,function*(){yield this.storage.ref(`/items/${n}`).listAll().forEach(r=>{r.items.forEach(s=>{s.delete().catch(l=>{l&&alert(l)})})})})}filter(n){}selectOptionCat(n){this.selectedcat=n}selectOptionBrand(n){this.selectedBrand=n}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2),u.Y36(wu),u.Y36(Wm))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-items"]],decls:77,vars:21,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-button",3,"click",4,"ngIf"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"toggle-details",3,"click"],[1,"showDetails"],[2,"font-size","26px","color","white"],["class","search-space",4,"ngIf"],[2,"margin-left","1%"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"input-container"],[1,"add-item-modal-label"],["type","text",1,"add-item-modal-input"],["title",""],["type","number",1,"add-item-modal-input"],["price",""],["quantity",""],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["type","text",1,"add-item-modal-textarea"],["description",""],[1,"input-container","image-file-input"],[2,"display","flex","flex-direction","column","align-items","center","gap","0.5rem"],[1,"button","is-warning","is-small"],["type","file","accept","*.png.jpg",2,"display","none",3,"change"],[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[1,"modal-card-foot"],[1,"button",3,"click"],["class","button","style","background-color: black;color: white;",3,"click",4,"ngIf"],["class","modal",3,"is-active",4,"ngIf"],["class","upload-progress-container",4,"ngIf"],["class","upload-progress-container","style","background-color: rgb(247, 42, 6);",4,"ngIf"],[1,"Top-Options"],[3,"ngStyle","click"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"mock-line"],[1,"items"],[3,"click",4,"ngFor","ngForOf"],["style","width: 95%;height: 60vh;display: flex;flex-direction: column;align-items: center;justify-content: center;",4,"ngIf"],[1,"search-button",3,"click"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],[1,"search-space"],[3,"value","selected"],[1,"prviewImage",3,"ngStyle"],[1,"button",2,"background-color","black","color","white",3,"click"],["type","text",1,"modal-card-title",2,"font-weight","bold","font-size","22px",3,"ngModel","keyUp.enter"],["itemTit",""],[3,"uid","itemId"],[1,"button","is-danger",3,"click"],[1,"upload-progress-container"],[2,"color","rgb(255, 255, 255)","font-size","14px"],[2,"color","rgb(255, 255, 255)","font-size","16px"],[1,"upload-progress-container",2,"background-color","rgb(247, 42, 6)"],[3,"click"],[1,"poster",3,"ngStyle"],[1,"info"],[2,"font-weight","bold","font-size","18px"],[1,"bottom-info"],[2,"font-weight","bold"],[2,"width","95%","height","60vh","display","flex","flex-direction","column","align-items","center","justify-content","center"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,cX,2,0,"button",2),u.YNc(3,uX,1,0,"input",3),u.YNc(4,lX,1,0,"button",4),u.TgZ(5,"div",5),u.NdJ("click",function(){return r.additemModal()}),u.TgZ(6,"p",6),u._uU(7,"Add new item"),u.qZA(),u.TgZ(8,"p",7),u._uU(9,"+"),u.qZA(),u.qZA(),u.qZA(),u.YNc(10,fX,1,0,"div",8),u.TgZ(11,"div",9),u.TgZ(12,"div",10),u._UZ(13,"div",11),u.TgZ(14,"div",12),u.TgZ(15,"header",13),u.TgZ(16,"p",14),u._uU(17,"Adding a new item"),u.qZA(),u.TgZ(18,"button",15),u.NdJ("click",function(){return r.showAddItemModal=!1}),u.qZA(),u.qZA(),u.TgZ(19,"section",16),u.TgZ(20,"div",17),u.TgZ(21,"label",18),u._uU(22,"Item Title"),u.qZA(),u._UZ(23,"input",19,20),u.qZA(),u.TgZ(25,"div",17),u.TgZ(26,"label",18),u._uU(27,"Item Price ($ - LBP)"),u.qZA(),u._UZ(28,"input",21,22),u.qZA(),u.TgZ(30,"div",17),u.TgZ(31,"label",18),u._uU(32,"Item Quantity"),u.qZA(),u._UZ(33,"input",21,23),u.qZA(),u.TgZ(35,"div",17),u.TgZ(36,"label",18),u._uU(37,"Item Category"),u.qZA(),u.TgZ(38,"select",24),u.NdJ("change",function(l){return r.selectOptionCat(l.target.value)}),u.YNc(39,hX,2,3,"option",25),u.qZA(),u.qZA(),u.TgZ(40,"div",17),u.TgZ(41,"label",18),u._uU(42,"Car Brand"),u.qZA(),u.TgZ(43,"select",24),u.NdJ("change",function(l){return r.selectOptionBrand(l.target.value)}),u.YNc(44,dX,2,3,"option",25),u.qZA(),u.qZA(),u.TgZ(45,"div",17),u.TgZ(46,"label",18),u._uU(47,"Item Description"),u.qZA(),u._UZ(48,"textarea",26,27),u.qZA(),u.TgZ(50,"div",28),u.TgZ(51,"div",29),u.TgZ(52,"h3"),u._uU(53,"You can add multiple images"),u.qZA(),u.TgZ(54,"label",30),u.TgZ(55,"input",31),u.NdJ("change",function(l){return r.uploadImage(l)}),u.qZA(),u._uU(56," Add image "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(57,"div",32),u.YNc(58,pX,1,3,"div",33),u.qZA(),u.qZA(),u.TgZ(59,"footer",34),u.TgZ(60,"button",35),u.NdJ("click",function(){return r.showAddItemModal=!1}),u._uU(61,"Cancel"),u.qZA(),u.YNc(62,mX,2,0,"button",36),u.qZA(),u.qZA(),u.qZA(),u.YNc(63,gX,14,5,"div",37),u.YNc(64,vX,4,1,"div",38),u.YNc(65,yX,3,0,"div",38),u.YNc(66,_X,3,0,"div",39),u.TgZ(67,"div",40),u.TgZ(68,"ul"),u.TgZ(69,"li",41),u.NdJ("click",function(){return r.all()}),u._uU(70,"All"),u.qZA(),u.YNc(71,bX,2,4,"li",42),u.qZA(),u.qZA(),u._UZ(72,"div",43),u.TgZ(73,"ul",44),u.YNc(74,CX,21,7,"li",45),u.YNc(75,wX,3,0,"div",46),u.YNc(76,EX,2,0,"div",46),u.qZA(),u.qZA(),u.qZA()),2&n&&(u.xp6(2),u.Q6J("ngIf",0==r.showInput),u.xp6(1),u.Q6J("ngIf",1==r.showInput),u.xp6(1),u.Q6J("ngIf",1==r.showInput),u.xp6(6),u.Q6J("ngIf",1==r.showInput),u.xp6(2),u.ekj("is-active",1==r.showAddItemModal),u.xp6(27),u.Q6J("ngForOf",r.categories),u.xp6(5),u.Q6J("ngForOf",r.brands),u.xp6(14),u.Q6J("ngForOf",r.previewUrls),u.xp6(4),u.Q6J("ngIf",0==r.uploading),u.xp6(1),u.Q6J("ngIf",1==r.showItemModal),u.xp6(1),u.Q6J("ngIf",1==r.uploading),u.xp6(1),u.Q6J("ngIf",1==r.uploaded),u.xp6(1),u.Q6J("ngIf",1==r.itemdeleted),u.xp6(3),u.Q6J("ngStyle",u.VKq(19,$I,"All"==r.selectedCateg?"blue":"grey")),u.xp6(2),u.Q6J("ngForOf",r.categs),u.xp6(3),u.Q6J("ngForOf",r.items),u.xp6(1),u.Q6J("ngIf",0==r.items.length&&0==r.loading),u.xp6(1),u.Q6J("ngIf",1==r.loading))},directives:[Jt,pt,Yn,CM,EM,Km,oE,P_,sX,aX],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:92.5%;margin-left:1.25%;margin-top:.5rem;margin-bottom:.5rem;height:1px}ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:row;width:100%;flex-wrap:wrap;overflow:hidden;padding:1rem;height:91.5vh}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.2rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#3d8ed0;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:8.5vh;background-color:#f3f3f3;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;height:91.5vh;box-shadow:2px 2px 3px #7e7c7c5f}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{height:0}to{height:100Vh}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:1rem;font-weight:bold}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem;cursor:pointer}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem;color:#fff;font-size:14px}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.Top-Options[_ngcontent-%COMP%]{width:100%;height:2rem}.Top-Options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:.5rem;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:1rem;cursor:pointer;transition:.5s ease-in-out;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.4}.items[_ngcontent-%COMP%]{overflow-y:scroll;padding-bottom:10%}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:1.5rem;transition:.3s ease-in-out;padding-bottom:1rem;border-radius:1rem;box-shadow:0 4px 2px 2px #5a59592a;max-height:18rem}.poster[_ngcontent-%COMP%]{width:15rem;height:10rem;background-position:center;background-repeat:no-repeat;background-size:cover;border-top-left-radius:.5rem;border-top-right-radius:.5rem;transition:.3s ease-in-out;margin-bottom:.5rem}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(102%);cursor:pointer;background-color:#b2daface}.info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:1rem;padding-right:1rem}@keyframes bottom-info-anim-in{0%{height:1rem}to{height:4rem}}.bottom-info[_ngcontent-%COMP%]{animation-name:bottom-info-anim-in;animation-duration:.5s;transition:ease-in-out;height:4rem}.is-active[_ngcontent-%COMP%]{animation-name:add-item-modal-fade-in;animation-duration:.5s;transition:ease-in-out}@keyframes add-item-modal-fade-in{0%{opacity:0}to{opacity:1}}.input-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:1rem}.add-item-modal-input[_ngcontent-%COMP%]{border:solid 1px grey}.add-item-modal-input-special[_ngcontent-%COMP%]{width:15.25rem;animation-name:input-anim-special;border:solid 1px grey}@keyframes input-anim-special{0%{width:1rem}to{width:15.25rem}}.image-file-input[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;margin-top:2.5rem}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:15rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-top:2rem;margin-bottom:3rem;border:solid 1px grey;border-radius:.5rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}.add-item-modal-textarea[_ngcontent-%COMP%]{border:solid 1px grey;min-height:6rem}.add-item-modal-label[_ngcontent-%COMP%]{font-weight:bold}.add-modal-ingred-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:4px}.ingredients-container[_ngcontent-%COMP%]{width:100%;min-height:2rem;padding-top:5px}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.upload-progress-container[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:#2f302f;position:fixed;bottom:4%;right:2.5%;border-radius:.5rem;animation-name:upload-progress-in;animation-duration:.7s;transition:ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;cursor:default;box-shadow:0 5px 4px 2px #aaa9a949}@keyframes upload-progress-in{0%{width:1rem}to{width:10rem}}"]}),t})();const TX=function(t){return{"is-loading":t}};let MX=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.isLOading=!1}ngOnInit(){}login(n,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){""!=n&&""!=r?(this.isLOading=!0,yield this.auth.signInWithEmailAndPassword(n,r).catch(s=>{alert(s)}).then(()=>{this.router.navigate(["dashboard"]),this.isLOading=!1})):alert("Empty Fields")})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(ho))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-login"]],decls:28,vars:3,consts:[[1,"main","is-info"],["routerLink","//register"],[1,"box",2,"width","20rem"],[1,"field"],[1,"label"],[1,"control"],["type","email","placeholder","e.g. alex@example.com",1,"input"],["email1",""],["type","password","placeholder","********",1,"input"],["pass1",""],[1,"button",2,"background-color","black","color","white",3,"ngClass","click"]],template:function(n,r){if(1&n){const s=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"h1"),u._uU(2,"Go2Parts"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"Login in with your shop Owner Account"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Not signed in? "),u.TgZ(7,"a",1),u._uU(8,"register here"),u.qZA(),u.qZA(),u.TgZ(9,"form",2),u.TgZ(10,"div",3),u.TgZ(11,"label",4),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"div",5),u._UZ(14,"input",6,7),u.qZA(),u.qZA(),u.TgZ(16,"div",3),u.TgZ(17,"label",4),u._uU(18,"Password"),u.qZA(),u.TgZ(19,"div",5),u._UZ(20,"input",8,9),u.qZA(),u.qZA(),u.TgZ(22,"button",10),u.NdJ("click",function(){u.CHM(s);const g=u.MAs(15),_=u.MAs(21);return r.login(g.value,_.value)}),u._uU(23,"Login"),u.qZA(),u.qZA(),u.TgZ(24,"p"),u._uU(25,"For further help "),u.TgZ(26,"a"),u._uU(27,"Reach Our Support"),u.qZA(),u.qZA(),u.qZA()}2&n&&(u.xp6(22),u.Q6J("ngClass",u.VKq(1,TX,!0===r.isLOading)))},directives:[r7,z_,I_,s7,pa],styles:[".main[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:1rem;gap:1rem;background-color:#f5f6f7}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:40px;padding-bottom:0}"]}),t})();function IX(t,e){1&t&&u._UZ(0,"input",15)}function xX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"button",16),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).showInput=!1}),u.qZA()}}function SX(t,e){if(1&t&&(u.TgZ(0,"div",10),u.TgZ(1,"div",11),u.YNc(2,IX,1,0,"input",12),u.YNc(3,xX,1,0,"button",13),u.qZA(),u._UZ(4,"div",14),u.qZA()),2&t){const n=u.oxw();u.xp6(2),u.Q6J("ngIf",1==n.showInput),u.xp6(1),u.Q6J("ngIf",1==n.showInput)}}const DX=function(){return{color:"orange"}};function NX(t,e){if(1&t&&(u.TgZ(0,"p",25),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.Q6J("ngStyle",u.DdM(2,DX)),u.xp6(1),u.hij(" ",n.orderstatus,"")}}function kX(t,e){if(1&t&&(u.TgZ(0,"p",26),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.xp6(1),u.hij(" ",n.orderstatus,"")}}function LX(t,e){if(1&t&&(u.TgZ(0,"p",27),u._uU(1),u.qZA()),2&t){const n=u.oxw().$implicit;u.xp6(1),u.hij(" ",n.orderstatus,"")}}function OX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"p",28),u.NdJ("click",function(){u.CHM(n);const s=u.oxw().$implicit;return u.oxw().setorderToCancel(s.orderid,s.userid,s.username,s.shopname,s.shopid)}),u._uU(1,"Cancel"),u.qZA()}}function RX(t,e){1&t&&(u.TgZ(0,"p",29),u._uU(1,"Cancel"),u.qZA())}function PX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"p",30),u.NdJ("click",function(){u.CHM(n);const s=u.oxw().$implicit;return u.oxw().setorderToStart(s.orderid,s.userid,s.username,s.shopname,s.shopid)}),u._uU(1,"Start"),u.qZA()}}function zX(t,e){1&t&&(u.TgZ(0,"p",31),u._uU(1,"Start"),u.qZA())}function VX(t,e){if(1&t&&(u.TgZ(0,"li"),u.TgZ(1,"p",7),u._uU(2),u.qZA(),u.TgZ(3,"p",7),u._uU(4),u.qZA(),u.TgZ(5,"p",7),u._uU(6),u.qZA(),u.TgZ(7,"p",7),u._uU(8),u.qZA(),u.YNc(9,NX,2,3,"p",17),u.YNc(10,kX,2,1,"p",18),u.YNc(11,LX,2,1,"p",19),u.TgZ(12,"p",7),u._uU(13),u.qZA(),u.TgZ(14,"div",20),u.YNc(15,OX,2,0,"p",21),u.YNc(16,RX,2,0,"p",22),u.qZA(),u.TgZ(17,"div",20),u.YNc(18,PX,2,0,"p",23),u.YNc(19,zX,2,0,"p",24),u.qZA(),u.qZA()),2&t){const n=e.$implicit;u.xp6(2),u.Oqu(n.orderid),u.xp6(2),u.Oqu(n.username),u.xp6(2),u.Oqu(n.phonenumber),u.xp6(2),u.Oqu(n.adress),u.xp6(1),u.Q6J("ngIf","pending"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","canceled"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","started"==n.orderstatus),u.xp6(2),u.Oqu(n.totlaprice),u.xp6(2),u.Q6J("ngIf","pending"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","canceled"==n.orderstatus||"delivered"==n.orderstatus||"started"==n.orderstatus),u.xp6(2),u.Q6J("ngIf","pending"==n.orderstatus),u.xp6(1),u.Q6J("ngIf","canceled"==n.orderstatus||"delivered"==n.orderstatus||"started"==n.orderstatus)}}function FX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",32),u.TgZ(1,"div",33),u.TgZ(2,"section",34),u.TgZ(3,"p"),u._uU(4,"This action can not be undone"),u.qZA(),u.TgZ(5,"div",35),u.TgZ(6,"button",36),u.NdJ("click",function(){return u.CHM(n),u.oxw().isCancelClicked=!1}),u._uU(7,"Go Back"),u.qZA(),u.TgZ(8,"button",37),u.NdJ("click",function(){return u.CHM(n),u.oxw().cancelOrder()}),u._uU(9,"Cancel Order"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=u.oxw();u.ekj("is-active",1==n.isCancelClicked)}}function HX(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",32),u.TgZ(1,"div",33),u.TgZ(2,"section",34),u.TgZ(3,"p"),u._uU(4,"This action can not be undone"),u.qZA(),u.TgZ(5,"div",35),u.TgZ(6,"button",37),u.NdJ("click",function(){return u.CHM(n),u.oxw().isStartClicked=!1}),u._uU(7,"Go Back"),u.qZA(),u.TgZ(8,"button",38),u.NdJ("click",function(){return u.CHM(n),u.oxw().startOrder()}),u._uU(9,"start Order"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=u.oxw();u.ekj("is-active",1==n.isStartClicked)}}let UX=(()=>{class t{constructor(n,r){this.auth=n,this.firestore=r,this.showInput=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.isCancelClicked=!1,this.isStartClicked=!1,this.orderToCancelId="",this.orderToStartId="",this.userid="",this.username="",this.shopname="",this.shopid="",this.loading=!0,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.destroy2$=new xt.xQ}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("shopOwners").doc(this.uid).collection("orders").valueChanges().pipe(po(this.destroy2$)).subscribe(n=>{this.orders=n})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.uid=l.uid,r()})})}showInputMeth(){this.showInput=!this.showInput}setorderToCancel(n,r,s,l,g){this.orderToCancelId=n,this.userid=r,this.username=s,this.shopname=l,this.shopid=g,this.isCancelClicked=!0}setorderToStart(n,r,s,l,g){this.orderToStartId=n,this.userid=r,this.username=s,this.shopname=l,this.shopid=g,this.isStartClicked=!0}cancelOrder(){if(""!=this.orderToCancelId){var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("users").doc(this.userid).collection("orders").doc(this.orderToCancelId);n.update(r,{orderstatus:"canceled"});var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("orders").doc(this.orderToCancelId);n.update(s,{orderstatus:"canceled"});var l=this.firestore.firestore.collection("orders").doc(this.orderToCancelId);n.update(l,{orderstatus:"canceled"});var g=this.firestore.firestore.collection("users").doc(this.userid).collection("notifications").doc();n.set(g,{shopname:this.shopname,content:"Youre order from "+this.shopname+" has been canceled!",at:Dn.default.firestore.FieldValue.serverTimestamp()});var _=this.firestore.firestore.collection("shopOwners").doc(this.shopid).collection("notifications").doc();n.set(_,{username:this.username,content:"you canceled "+this.username+" order!",at:Dn.default.firestore.FieldValue.serverTimestamp()}),n.commit().catch(E=>{alert(E)}).then(E=>{this.isCancelClicked=!1})}else alert("Specify Order to Delete")}startOrder(){if(""!=this.orderToStartId){var n=this.firestore.firestore.batch(),r=this.firestore.firestore.collection("users").doc(this.userid).collection("orders").doc(this.orderToStartId);n.update(r,{orderstatus:"started"});var s=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("orders").doc(this.orderToStartId);n.update(s,{orderstatus:"started"});var l=this.firestore.firestore.collection("orders").doc(this.orderToStartId);n.update(l,{orderstatus:"started"});var g=this.firestore.firestore.collection("users").doc(this.userid).collection("notifications").doc();n.set(g,{shopname:this.shopname,content:"Youre order from "+this.shopname+" has been started!",at:Dn.default.firestore.FieldValue.serverTimestamp()});var _=this.firestore.firestore.collection("shopOwners").doc(this.shopid).collection("notifications").doc();n.set(_,{username:this.username,content:"you started "+this.username+" order!",at:Dn.default.firestore.FieldValue.serverTimestamp()}),n.commit().catch(E=>{alert(E)}).then(E=>{this.isStartClicked=!1})}else alert("Specify Order to start")}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-orders"]],decls:30,vars:5,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-space",4,"ngIf"],[1,"orders"],[2,"margin-top","1rem","margin-left","0.5rem"],[2,"font-weight","bold","margin-right","2rem","margin-bottom","1rem","text-align","right"],[1,"top-table"],[1,"order-individual"],[4,"ngFor","ngForOf"],["class","modal",3,"is-active",4,"ngIf"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],["class","order-individual",3,"ngStyle",4,"ngIf"],["class","order-individual","style","color: tomato;",4,"ngIf"],["class","order-individual","style","color: rgb(68, 172, 70);",4,"ngIf"],[1,"order-individual",2,"display","flex","flex-direction","row","justify-content","center"],["class","cancel",3,"click",4,"ngIf"],["class","canceled",4,"ngIf"],["class","Start",3,"click",4,"ngIf"],["class","Started",4,"ngIf"],[1,"order-individual",3,"ngStyle"],[1,"order-individual",2,"color","tomato"],[1,"order-individual",2,"color","rgb(68, 172, 70)"],[1,"cancel",3,"click"],[1,"canceled"],[1,"Start",3,"click"],[1,"Started"],[1,"modal"],[1,"modal-card",2,"width","18rem","box-shadow","0 3px 3px 3px grey","border-radius","0.5rem"],[1,"modal-card-body",2,"display","flex","flex-direction","column","justify-content","center"],[2,"display","flex","flex-direction","row","justify-content","space-evenly","margin-top","1rem"],[1,"button","is-primary",3,"click"],[1,"button","is-danger",3,"click"],[1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h3"),u._uU(3,"Orders"),u.qZA(),u.qZA(),u.YNc(4,SX,5,2,"div",2),u.TgZ(5,"div",3),u.TgZ(6,"h3",4),u._uU(7,"Today's orders"),u.qZA(),u.TgZ(8,"h1",5),u._uU(9),u.qZA(),u.TgZ(10,"ul"),u.TgZ(11,"div",6),u.TgZ(12,"p",7),u._uU(13,"Id"),u.qZA(),u.TgZ(14,"p",7),u._uU(15,"To name"),u.qZA(),u.TgZ(16,"p",7),u._uU(17,"To phone number"),u.qZA(),u.TgZ(18,"p",7),u._uU(19,"To Address"),u.qZA(),u.TgZ(20,"p",7),u._uU(21,"Order status"),u.qZA(),u.TgZ(22,"p",7),u._uU(23,"Total Price $"),u.qZA(),u.TgZ(24,"p",7),u._uU(25,"Manage"),u.qZA(),u._UZ(26,"p",7),u.qZA(),u.YNc(27,VX,20,12,"li",8),u.qZA(),u.YNc(28,FX,10,2,"div",9),u.YNc(29,HX,10,2,"div",9),u.qZA(),u.qZA()),2&n&&(u.xp6(4),u.Q6J("ngIf",1==r.showInput),u.xp6(5),u.hij("",r.orders.length," total Orders"),u.xp6(18),u.Q6J("ngForOf",r.orders),u.xp6(1),u.Q6J("ngIf",1==r.isCancelClicked),u.xp6(1),u.Q6J("ngIf",1==r.isStartClicked))},directives:[Jt,pt,Yn],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:#8080806c;width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:bold;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px gray;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;grid-gap:.5rem;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:solid 1px grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0rem}}h3[_ngcontent-%COMP%]{padding-left:0;font-weight:bold;color:#fff}.toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff;font-size:14px;text-align:center;font-weight:bold;cursor:pointer}.drop-down-container[_ngcontent-%COMP%]{width:5rem;background-color:#fff;display:flex;list-style-type:none;padding:4px;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px #80808071}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:solid 1px rgba(128,128,128,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(128,128,128,.848);padding-top:5px;padding-bottom:5px;font-weight:bold;text-align:center;position:sticky;top:0;background-color:#e5e9ecd3}.orders[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-bottom:10%}.orders[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:65vh;overflow-y:scroll;background-color:#e5e9ecd3;border-radius:.5rem;box-shadow:2px 2px 5px 2px #14141418}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;grid-gap:1rem;gap:1rem;flex-wrap:nowrap;border-bottom:solid 1px rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#cccaca5d}.order-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}.Start[_ngcontent-%COMP%]{background-color:#4bce5f;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.Start[_ngcontent-%COMP%]:hover{background-color:#2aa580;color:#000}.Started[_ngcontent-%COMP%]{background-color:#3eaba7;width:5rem;cursor:default;border-radius:.5rem;color:#000;opacity:.4}"]}),t})();const BX=function(t){return{"is-loading":t}};let jX=(()=>{class t{constructor(n,r,s){this.auth=n,this.router=r,this.firestore=s,this.isLOading=!1}ngOnInit(){}signup(n,r,s,l,g,_,E){return(0,L.__awaiter)(this,void 0,void 0,function*(){""!=r&&""!=s&&""!=l&&""!=n?s==l?(this.isLOading=!0,yield this.auth.createUserWithEmailAndPassword(r,s).catch(x=>{alert(x)}).then(()=>{this.auth.currentUser.then(x=>x.updateProfile({displayName:n}).then(()=>{let N=x.uid;this.firestore.collection("shopOwners").doc(N).set({isverified:!1,uid:N,shopname:n,Address:g,Description:_,areaLocation:E,categories:[],infoimage:"",profileurl:"",shopurl:"",rating:0,totalclients:0,totalorders:0,totalselllings:0,location:[]}).catch(R=>{R&&alert(R)}).then(()=>{this.router.navigate(["dashboard"]),this.isLOading=!1})}))})):alert("Confirm password does not match password"):alert("Empty Fields")})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(ho),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-register"]],decls:58,vars:3,consts:[[1,"main","is-info"],["routerLink","//login"],[1,"box",2,"width","25rem","padding-left","2.5rem","padding-right","2.5rem"],[1,"field"],[1,"label"],[1,"control"],["type","email","placeholder","e.g. example",1,"input"],["shopName",""],["type","email","placeholder","e.g. alex@example.com",1,"input"],["email1",""],["type","email","placeholder","e.g. street",1,"input"],["adress1",""],["type","email","placeholder","e.g. place",1,"input"],["areLocation",""],["type","email","placeholder","e.g. wheels shop",1,"input"],["shopInfo1",""],["type","password","placeholder","********",1,"input"],["pass1",""],["Cpass1",""],[1,"button",2,"background-color","black","color","white",3,"ngClass","click"]],template:function(n,r){if(1&n){const s=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"h1"),u._uU(2,"Go2Parts"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"Send us your shop information , we will send you a verification as soon as possible"),u.qZA(),u.TgZ(5,"p"),u._uU(6,"Already signed in? "),u.TgZ(7,"a",1),u._uU(8,"Login here"),u.qZA(),u.qZA(),u.TgZ(9,"form",2),u.TgZ(10,"div",3),u.TgZ(11,"label",4),u._uU(12,"Shop name"),u.qZA(),u.TgZ(13,"div",5),u._UZ(14,"input",6,7),u.qZA(),u.qZA(),u.TgZ(16,"div",3),u.TgZ(17,"label",4),u._uU(18,"Email"),u.qZA(),u.TgZ(19,"div",5),u._UZ(20,"input",8,9),u.qZA(),u.qZA(),u.TgZ(22,"div",3),u.TgZ(23,"label",4),u._uU(24,"Adress"),u.qZA(),u.TgZ(25,"div",5),u._UZ(26,"input",10,11),u.qZA(),u.qZA(),u.TgZ(28,"div",3),u.TgZ(29,"label",4),u._uU(30,"Region"),u.qZA(),u.TgZ(31,"div",5),u._UZ(32,"input",12,13),u.qZA(),u.qZA(),u.TgZ(34,"div",3),u.TgZ(35,"label",4),u._uU(36,"Shop info"),u.qZA(),u.TgZ(37,"div",5),u._UZ(38,"input",14,15),u.qZA(),u.qZA(),u.TgZ(40,"div",3),u.TgZ(41,"label",4),u._uU(42,"Password"),u.qZA(),u.TgZ(43,"div",5),u._UZ(44,"input",16,17),u.qZA(),u.qZA(),u.TgZ(46,"div",3),u.TgZ(47,"label",4),u._uU(48,"Confirm password"),u.qZA(),u.TgZ(49,"div",5),u._UZ(50,"input",16,18),u.qZA(),u.qZA(),u.TgZ(52,"button",19),u.NdJ("click",function(){u.CHM(s);const g=u.MAs(15),_=u.MAs(21),E=u.MAs(45),x=u.MAs(51),N=u.MAs(27),R=u.MAs(39),H=u.MAs(33);return r.signup(g.value,_.value,E.value,x.value,N.value,R.value,H.value)}),u._uU(53,"Submit"),u.qZA(),u.qZA(),u.TgZ(54,"p"),u._uU(55,"For further help "),u.TgZ(56,"a"),u._uU(57,"Reach Our Support"),u.qZA(),u.qZA(),u.qZA()}2&n&&(u.xp6(52),u.Q6J("ngClass",u.VKq(1,BX,!0===r.isLOading)))},directives:[r7,z_,I_,s7,pa],styles:[".main[_ngcontent-%COMP%]{position:absolute;left:0;padding-top:22.5rem;padding-bottom:5rem;width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;grid-gap:1rem;gap:1rem;background-color:#f5f6f7;overflow-y:scroll}h1[_ngcontent-%COMP%]{font-weight:bold;font-size:40px;padding-bottom:0}"]}),t})(),WI=(()=>{class t{constructor(n){this.router=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(ho))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-verify-wait"]],decls:12,vars:0,consts:[[1,"main-customers"],[1,"top-bar","primary"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center","height","91.5","padding-top","17%"],["href",""],["routerLink","//dashboard"],[1,"button",2,"background-color","black","margin-top","1rem","color","white"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"h2"),u._uU(4,"Kindly wait until we verify your profile"),u.qZA(),u.TgZ(5,"h2"),u._uU(6,"Taking too long? "),u.TgZ(7,"a",3),u._uU(8,"Reach our support"),u.qZA(),u.qZA(),u.TgZ(9,"a",4),u.TgZ(10,"button",5),u._uU(11,"Reload"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[r7],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:1.5rem;padding-right:1.5rem}"]}),t})(),Ch=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){return new Promise((l,g)=>{this.auth.authState.subscribe(_=>{_?l(!0):(this.router.navigate(["login"]),l(!1))})})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(_r),u.LFG(ho))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Td=(()=>{class t{constructor(n,r){this.data=n,this.router=r}canActivate(n,r){return new Promise((l,g)=>{this.data.user.subscribe(_=>{_?1==_.isverified?l(!0):(l(!1),console.log("not verified"),this.router.navigate(["//verify"])):(l(!1),console.log("no such user"),this.router.navigate(["//login"]))})})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Wm),u.LFG(ho))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qX=[{path:"login",component:MX},{path:"register",component:jX},{path:"verify",component:WI,canActivate:[Ch]},{path:"dashboard",component:LT,canActivate:[Ch,Td]},{path:"customers",component:B$,canActivate:[Ch,Td]},{path:"deliveries",component:iW,canActivate:[Ch,Td]},{path:"followers",component:RM,canActivate:[Ch,Td]},{path:"orders",component:UX,canActivate:[Ch,Td]},{path:"items",component:AX,canActivate:[Ch,Td]},{path:"editshop",component:oK,canActivate:[Ch,Td]},{path:"",component:LT}];let ZX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[bT.forRoot(qX)],bT]}),t})();const GX=["scrollMe"],$X=["message"],WX=function(t){return{"justify-content":t}},KX=function(t,e,n){return{"background-color":t,color:e,"text-allign":n}};function YX(t,e){if(1&t&&(u.TgZ(0,"li",12),u.TgZ(1,"div",13),u.TgZ(2,"p",14),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"p",15),u._uU(5),u.ALo(6,"date"),u.qZA(),u.qZA()),2&t){const n=e.$implicit,r=u.oxw(2);u.Q6J("ngStyle",u.VKq(7,WX,n.senderid===r.shopUserid?"right":"left")),u.xp6(1),u.Q6J("ngStyle",u.kEZ(9,KX,n.senderid===r.shopUserid?"white":"grey",n.senderid===r.shopUserid?"black":"white",n.senderid===r.shopUserid?"right":"left")),u.xp6(2),u.Oqu(n.text),u.xp6(2),u.Oqu(u.xi3(6,4,n.createdAt,"shortTime"))}}function QX(t,e){if(1&t&&(u.TgZ(0,"ul"),u.YNc(1,YX,7,13,"li",11),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Q6J("ngForOf",n.messages)}}function JX(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1,"No messages yet"),u.qZA())}const XX=function(t){return{"background-image":t}};let eee=(()=>{class t{constructor(n,r){this.auth=n,this.database=r,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ,this.messages=[],this.faArrowRight=ET}ngOnInit(){this.getUser().then(()=>{this.chatId=this.concat(this.shopUserid,this.userID),this.database.list(`chats/${this.chatId}/messages`).query.orderByChild("createdAt").limitToLast(50).on("value",n=>{this.messages.splice(0),n.forEach(r=>{this.messages.push(r.val())}),this.scrollToBottom()})})}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.shopUser=l,this.shopUserid=l.uid,r()})})}concat(n,r){return n+r}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(n){}}send(n){if(""!=n){let r=Date.now(),s=this.database.createPushId();this.database.list(`chats/${this.chatId}/messages`).set(s,{senderId:this.shopUserid,recieverId:this.userID,createdAt:r,id:s,text:n}).catch(l=>{if(l)return alert(l),null}).then(()=>{this.mess.nativeElement.value="",this.scrollToBottom()})}}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(Vr))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-insidechat"]],viewQuery:function(n,r){if(1&n&&(u.Gf(GX,5),u.Gf($X,5)),2&n){let s;u.iGM(s=u.CRH())&&(r.myScrollContainer=s.first),u.iGM(s=u.CRH())&&(r.mess=s.first)}},inputs:{userID:"userID",username:"username",userUrl:"userUrl"},decls:14,vars:7,consts:[[1,"main-ins-chat"],[1,"top"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[1,"middle",3,"scrollTop"],["scrollMe",""],[4,"ngIf"],[1,"input-field"],["type","text","placeholder","Type message..",3,"keyUp.enter"],["message",""],[2,"padding","2px","border-radius","40%","background-color","white"],[2,"cursor","pointer","color","goldenrod",3,"icon","click"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"display","flex","flex-direction","row","border-radius","0.3rem","padding","5px","width","fit-content",3,"ngStyle"],[2,"font-size","13px"],[2,"font-size","8px","margin-left","5px","align-self","flex-end"]],template:function(n,r){if(1&n){const s=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"p"),u._uU(4,"person"),u.qZA(),u.qZA(),u.TgZ(5,"div",3,4),u.YNc(7,QX,2,1,"ul",5),u.YNc(8,JX,2,0,"p",5),u.qZA(),u.TgZ(9,"div",6),u.TgZ(10,"input",7,8),u.NdJ("keyUp.enter",function(){u.CHM(s);const g=u.MAs(11);return r.send(g.value)}),u.qZA(),u.TgZ(12,"div",9),u.TgZ(13,"fa-icon",10),u.NdJ("click",function(){u.CHM(s);const g=u.MAs(11);return r.send(g.value)}),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const s=u.MAs(6);u.xp6(2),u.Q6J("ngStyle",u.VKq(5,XX,r.userUrl?"url("+r.userUrl+")":"none")),u.xp6(3),u.Q6J("scrollTop",s.scrollHeight),u.xp6(2),u.Q6J("ngIf",r.messages),u.xp6(1),u.Q6J("ngIf",!r.messages||0==r.messages.length),u.xp6(5),u.Q6J("icon",r.faArrowRight)}},directives:[Yn,Jt,Up,pt],pipes:[zs],styles:[".main-ins-chat[_ngcontent-%COMP%]{width:100%;height:80vh}.top[_ngcontent-%COMP%]{height:8vh;display:flex;flex-direction:row;grid-gap:1rem;gap:1rem;border-bottom:solid .5px rgba(128,128,128,.242);align-items:center}.middle[_ngcontent-%COMP%]{height:64vh;overflow-y:scroll;margin-top:10px;margin-bottom:10px}.input-field[_ngcontent-%COMP%]{height:8vh;width:100%;display:flex;flex-direction:row;grid-gap:10px;gap:10px;align-items:center}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;border-radius:.3rem;border:none;background-color:#fff;font-size:14px;padding-left:10px;height:6vh}ul[_ngcontent-%COMP%]{width:100%}li[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;display:flex;flex-direction:row;padding-right:10px}"]}),t})();function tee(t,e){1&t&&(u.TgZ(0,"h3",3),u._uU(1,"Messages"),u.qZA())}function nee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"fa-icon",4),u.NdJ("click",function(){return u.CHM(n),u.oxw().back()}),u.qZA()}if(2&t){const n=u.oxw();u.Q6J("icon",n.faArrowLeft)}}const ree=function(t){return{"background-image":t}};function iee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"li",7),u.NdJ("click",function(){const l=u.CHM(n).$implicit;return u.oxw(3).selectChat(l.userid,l.username,l.userUrl)}),u.TgZ(1,"div",8),u._UZ(2,"div",9),u.TgZ(3,"div",10),u.TgZ(4,"p",11),u._uU(5),u.qZA(),u.TgZ(6,"p",12),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"p",13),u._uU(9),u.ALo(10,"date"),u.qZA(),u.qZA()}if(2&t){const n=e.$implicit;u.xp6(2),u.Q6J("ngStyle",u.VKq(7,ree,n.userUrl?"url("+n.userUrl+")":"none")),u.xp6(3),u.Oqu(n.username),u.xp6(2),u.Oqu(n.latestmessage),u.xp6(2),u.hij("at ",u.xi3(10,4,n.updatedat,"medium"),"")}}function oee(t,e){if(1&t&&(u.TgZ(0,"ul"),u.YNc(1,iee,11,9,"li",6),u.qZA()),2&t){const n=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",n.chats)}}function see(t,e){1&t&&(u.TgZ(0,"ul",14),u._uU(1,"No chats yet!"),u.qZA())}function aee(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,oee,2,1,"ul",2),u.YNc(2,see,2,0,"ul",5),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.chats),u.xp6(1),u.Q6J("ngIf",!n.chats||0==n.chats.length)}}function cee(t,e){if(1&t&&(u.TgZ(0,"div"),u._UZ(1,"app-insidechat",15),u.qZA()),2&t){const n=u.oxw();u.xp6(1),u.Q6J("userID",n.selectedchatuid)}}let uee=(()=>{class t{constructor(n,r){this.auth=n,this.databse=r,this.chats=[],this.ischatClicked=!1,this.selectedchatuid="",this.selectedchatusername="",this.selectedchatuserurl="",this.faArrowLeft=tE,this.destroy$=new xt.xQ,this.destroy1$=new xt.xQ}ngOnInit(){this.getUser().then(()=>{this.getChats()})}getUser(){return new Promise((r,s)=>{this.auth.authState.pipe(po(this.destroy$)).subscribe(l=>{this.user=l,this.uid=l.uid,r()})})}getChats(){this.chats.splice(0),this.databse.list("chats").query.orderByChild("shopid").equalTo(this.uid).on("value",n=>{n.forEach(r=>{this.chats.push(r.val())})})}selectChat(n,r,s){this.selectedchatuid=n,this.selectedchatusername=r,this.selectedchatuserurl=s,this.ischatClicked=!0}back(){this.selectedchatuid="",this.ischatClicked=!1}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(_r),u.Y36(Vr))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-chats"]],decls:4,vars:4,consts:[["style","margin-bottom: 0.5rem;font-size: 16px;color: black;",4,"ngIf"],["style","cursor: pointer;",3,"icon","click",4,"ngIf"],[4,"ngIf"],[2,"margin-bottom","0.5rem","font-size","16px","color","black"],[2,"cursor","pointer",3,"icon","click"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n      font-weight: 400;",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"display","flex","flex-direction","row","gap","0.5rem","align-items","center"],[1,"avatar",2,"width","30px","height","30px","background-color","goldenrod",3,"ngStyle"],[2,"display","flex","flex-direction","column"],[2,"font-size","12px","font-weight","bold"],[2,"font-size","10px"],[2,"font-size","8px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"],[3,"userID","username","userUrl"]],template:function(n,r){1&n&&(u.YNc(0,tee,2,0,"h3",0),u.YNc(1,nee,1,1,"fa-icon",1),u.YNc(2,aee,3,2,"div",2),u.YNc(3,cee,2,1,"div",2)),2&n&&(u.Q6J("ngIf",0==r.ischatClicked),u.xp6(1),u.Q6J("ngIf",1==r.ischatClicked),u.xp6(1),u.Q6J("ngIf",0==r.ischatClicked),u.xp6(1),u.Q6J("ngIf",1==r.ischatClicked))},directives:[Jt,Up,pt,Yn,eee],pipes:[zs],styles:["ul[_ngcontent-%COMP%]{width:100%;max-height:80vh}li[_ngcontent-%COMP%]{background-color:#fff;width:100%;padding:.5rem;border-radius:.3rem;margin-bottom:.5rem;transition:.3s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]:hover{background-color:#c7c7c7;cursor:pointer}"]}),t})();const lee=function(t){return{"background-image":t}},fee=function(t){return{opacity:t}};function hee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",15),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).clickedUserDrop()}),u.qZA()}if(2&t){const n=u.oxw(2);u.Q6J("ngStyle",u.VKq(2,lee,"url("+n.userData.profileURL+")"))("ngStyle",u.VKq(4,fee,1==n.isUserDropClickedd?"0.5":"1"))}}const dee=function(t){return{"background-color":t}};function pee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",15),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).clickedUserDrop()}),u.qZA()}if(2&t){const n=u.oxw(2);u.Q6J("ngStyle",u.VKq(1,dee,1==n.isUserDropClickedd?"grey":"white"))}}function mee(t,e){if(1&t&&(u.TgZ(0,"h2",21),u._uU(1),u.qZA()),2&t){const n=u.oxw(3);u.xp6(1),u.Oqu(n.userData.shopname)}}function gee(t,e){if(1&t&&(u.TgZ(0,"h2",21),u._uU(1),u.qZA()),2&t){const n=u.oxw(3);u.xp6(1),u.hij(" ",n.user.displayName,"")}}function vee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"h2",13),u.NdJ("click",function(){return u.CHM(n),u.oxw(3).toEditshop()}),u._uU(1,"Edit Shop Page"),u.qZA()}}function yee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",16),u.YNc(1,mee,2,1,"h2",17),u.YNc(2,gee,2,1,"h2",17),u.TgZ(3,"div",18),u.YNc(4,vee,2,0,"h2",19),u._UZ(5,"fa-icon",14),u.qZA(),u.TgZ(6,"h2",20),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).signOut()}),u._uU(7,"Log out"),u.qZA(),u.qZA()}if(2&t){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",n.userData),u.xp6(1),u.Q6J("ngIf",!n.userData&&n.user),u.xp6(2),u.Q6J("ngIf",n.user),u.xp6(1),u.Q6J("icon",n.faEdit)}}function _ee(t,e){if(1&t&&(u.TgZ(0,"li",26),u.TgZ(1,"div",27),u.TgZ(2,"p",28),u._uU(3),u.qZA(),u.TgZ(4,"p",29),u._uU(5),u.ALo(6,"date"),u.qZA(),u.qZA(),u.qZA()),2&t){const n=e.$implicit;u.xp6(3),u.hij(" ",n.content," "),u.xp6(2),u.Oqu(u.xi3(6,2,n.at,"shortTime"))}}function bee(t,e){1&t&&(u.TgZ(0,"li",30),u._uU(1,"No notifications yet!"),u.qZA())}function Cee(t,e){if(1&t&&(u.TgZ(0,"div",22),u.TgZ(1,"h3",23),u._uU(2,"Notifications"),u.qZA(),u.TgZ(3,"ul"),u.YNc(4,_ee,7,5,"li",24),u.YNc(5,bee,2,0,"li",25),u.qZA(),u.qZA()),2&t){const n=u.oxw(2);u.xp6(4),u.Q6J("ngForOf",n.notifs),u.xp6(1),u.Q6J("ngIf",0==n.notifs.length)}}function wee(t,e){1&t&&(u.TgZ(0,"div",22),u._UZ(1,"app-chats"),u.qZA())}function Eee(t,e){1&t&&(u.TgZ(0,"div",22),u.TgZ(1,"h3",23),u._uU(2,"Followers"),u.qZA(),u._UZ(3,"app-followers"),u.qZA())}const XE=function(t){return{color:t}};function Aee(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",3),u.TgZ(1,"div",4),u.TgZ(2,"fa-icon",5),u.NdJ("click",function(){return u.CHM(n),u.oxw().clickedChat()}),u.qZA(),u.TgZ(3,"fa-icon",6),u.NdJ("click",function(){return u.CHM(n),u.oxw().clickedFollowers()}),u.qZA(),u.TgZ(4,"fa-icon",5),u.NdJ("click",function(){return u.CHM(n),u.oxw().clickedNotif()}),u.qZA(),u.YNc(5,hee,1,6,"div",7),u.YNc(6,pee,1,3,"div",7),u.qZA(),u.YNc(7,yee,8,4,"div",8),u.YNc(8,Cee,6,2,"div",9),u.YNc(9,wee,2,0,"div",9),u.YNc(10,Eee,4,0,"div",9),u.TgZ(11,"div",10),u.TgZ(12,"h3"),u._uU(13,"Go2Parts "),u.TgZ(14,"span",11),u._uU(15,"Shop"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",12),u.TgZ(17,"ul"),u.TgZ(18,"li",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().toDashboard()}),u._UZ(19,"fa-icon",14),u._uU(20,"\xa0 \xa0Dashboard "),u.qZA(),u.TgZ(21,"li",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().toCustomers()}),u._UZ(22,"fa-icon",14),u._uU(23,"\xa0 \xa0Customers "),u.qZA(),u.TgZ(24,"li",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().toItems()}),u._UZ(25,"fa-icon",14),u._uU(26,"\xa0 \xa0Items "),u.qZA(),u.TgZ(27,"li",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().toOrders()}),u._UZ(28,"fa-icon",14),u._uU(29,"\xa0 \xa0Orders "),u.qZA(),u.TgZ(30,"li",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().toDeliveries()}),u._UZ(31,"fa-icon",14),u._uU(32,"\xa0 \xa0Deliveries "),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const n=u.oxw();u.xp6(2),u.Q6J("icon",n.faComment)("ngStyle",u.VKq(17,XE,1==n.isChatClicked?"grey":"white")),u.xp6(1),u.Q6J("icon",n.faReceipt)("ngStyle",u.VKq(19,XE,1==n.isFollowersClicked?"grey":"white")),u.xp6(1),u.Q6J("icon",n.faBell)("ngStyle",u.VKq(21,XE,1==n.isNotifClicked?"grey":"white")),u.xp6(1),u.Q6J("ngIf",n.userData),u.xp6(1),u.Q6J("ngIf",!n.userData&&n.user),u.xp6(1),u.Q6J("ngIf",1==n.isUserDropClickedd),u.xp6(1),u.Q6J("ngIf",1==n.isNotifClicked),u.xp6(1),u.Q6J("ngIf",1==n.isChatClicked),u.xp6(1),u.Q6J("ngIf",1==n.isFollowersClicked),u.xp6(9),u.Q6J("icon",n.faHome),u.xp6(3),u.Q6J("icon",n.faUserAlt),u.xp6(3),u.Q6J("icon",n.faCar),u.xp6(3),u.Q6J("icon",n.faShoppingBasket),u.xp6(3),u.Q6J("icon",n.faHandHoldingHeart)}}function Tee(t,e){1&t&&(u.TgZ(0,"div",31),u._UZ(1,"router-outlet"),u.qZA())}function Mee(t,e){1&t&&(u.TgZ(0,"div",31),u._UZ(1,"app-verify-wait"),u.qZA())}function Iee(t,e){1&t&&(u.TgZ(0,"div",31),u._UZ(1,"router-outlet"),u.qZA())}let xee=(()=>{class t{constructor(n,r,s,l){this.router=n,this.auth=r,this.userdata=s,this.Firestore=l,this.title="rabi3AdminApp",this.faEdit=A_,this.faBell=AT,this.faHome=xT,this.faComment=MT,this.faReceipt=DT,this.faShoppingBasket=NT,this.faHandHoldingHeart=IT,this.faCar=TT,this.faMagnet=ST,this.faUserAlt=kT,this.isUserDropClickedd=!1,this.isNotifClicked=!1,this.isChatClicked=!1,this.isFollowersClicked=!1,this.getUser().then(()=>{this.getUserData().then(()=>{this.getNotifications()})})}getUser(){return new Promise((r,s)=>{this.auth.authState.subscribe(l=>{l&&(this.user=l,r())})})}getUserData(){return new Promise((r,s)=>{this.userdata.user.subscribe(l=>{this.userData=l,r()})})}getNotifications(){this.Firestore.collection("shopOwners").doc(this.user.uid).collection("notifications",n=>n.orderBy("at","desc").limitToLast(10)).valueChanges().subscribe(n=>{n&&(this.notifs=n)})}clickedUserDrop(){this.isUserDropClickedd=!this.isUserDropClickedd,1==this.isNotifClicked&&(this.isNotifClicked=!1),1==this.isChatClicked&&(this.isChatClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedNotif(){this.isNotifClicked=!this.isNotifClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isChatClicked&&(this.isChatClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedChat(){this.isChatClicked=!this.isChatClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isNotifClicked&&(this.isNotifClicked=!1),this.isFollowersClicked&&(this.isFollowersClicked=!1)}clickedFollowers(){this.isFollowersClicked=!this.isFollowersClicked,1==this.isUserDropClickedd&&(this.isUserDropClickedd=!1),1==this.isNotifClicked&&(this.isNotifClicked=!1),this.isChatClicked&&(this.isChatClicked=!1)}toDashboard(){this.router.navigate(["dashboard"])}toCustomers(){this.router.navigate(["customers"])}toFollowers(){this.router.navigate(["followers"])}toItems(){this.router.navigate(["items"])}toOrders(){this.router.navigate(["orders"])}toDeliveries(){this.router.navigate(["deliveries"])}toEditshop(){this.isUserDropClickedd=!1,this.router.navigate(["editshop"])}signOut(){this.auth.signOut().catch(n=>alert(n)).then(()=>{window.location.reload()})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(ho),u.Y36(_r),u.Y36(Wm),u.Y36(V2))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:5,vars:4,consts:[[1,"main"],["class","left-bar",4,"ngIf"],["class","right-content",4,"ngIf"],[1,"left-bar"],[1,"user-infos-container"],[2,"transform","scale(140%)","cursor","pointer",3,"icon","ngStyle","click"],[2,"color","white","transform","scale(140%)","cursor","pointer",3,"icon","ngStyle","click"],["class","avatar",3,"ngStyle","click",4,"ngIf"],["class","user-info-dropDown",4,"ngIf"],["class","chat-space",4,"ngIf"],[1,"top-bar","primary"],[2,"font-size","10px","color","rgb(209, 206, 206)"],[2,"margin-left","10%","margin-top","1rem"],[3,"click"],[3,"icon"],[1,"avatar",3,"ngStyle","click"],[1,"user-info-dropDown"],["style","font-weight: bold;text-decoration: none;cursor: default;",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[3,"click",4,"ngIf"],[1,"signOut",3,"click"],[2,"font-weight","bold","text-decoration","none","cursor","default"],[1,"chat-space"],[2,"margin-bottom","0.5rem","font-size","16px","color","black"],["style","font-size: 14px;font-weight: 400;background-color: white;padding: 0.5rem;border-radius: 0.3rem;margin-bottom: 0.5rem;\n        padding-left: 0.5rem;padding-right: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;",4,"ngFor","ngForOf"],["style","display: flex;flex-direction: column;padding-top: 2rem;align-items: center;\n        font-weight: 400;",4,"ngIf"],[2,"font-size","14px","font-weight","400","background-color","white","padding","0.5rem","border-radius","0.3rem","margin-bottom","0.5rem","padding-left","0.5rem","padding-right","0.5rem","padding-top","0.5rem","padding-bottom","0.5rem"],[2,"display","flex","flex-direction","column"],[2,"font-size","14px"],[2,"font-size","10px","align-self","flex-end"],[2,"display","flex","flex-direction","column","padding-top","2rem","align-items","center","font-weight","400"],[1,"right-content"]],template:function(n,r){1&n&&(u.TgZ(0,"div",0),u.YNc(1,Aee,33,23,"div",1),u.YNc(2,Tee,2,0,"div",2),u.YNc(3,Mee,2,0,"div",2),u.YNc(4,Iee,2,0,"div",2),u.qZA()),2&n&&(u.xp6(1),u.Q6J("ngIf",r.user),u.xp6(1),u.Q6J("ngIf",r.userData),u.xp6(1),u.Q6J("ngIf",!r.userData&&r.user),u.xp6(1),u.Q6J("ngIf",!r.userData&&!r.user))},directives:[Jt,Up,Yn,pt,uee,RM,Jw,WI],pipes:[zs],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:row}.left-bar[_ngcontent-%COMP%]{width:12.5%;height:100vh;overflow:hidden;background-color:#e5e9ec49;box-shadow:3px 0 5px #7e7c7c5f}.user-infos-container[_ngcontent-%COMP%]{position:absolute;top:1%;right:1.5%;display:flex;flex-direction:row;align-items:center;justify-content:center;grid-gap:1.5rem;gap:1.5rem}.user-info-dropDown[_ngcontent-%COMP%]{position:absolute;top:8.5vh;right:0;width:15rem;height:10rem;background-color:#f3f3f3;animation-name:user-info-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-2px 2px 3px #7e7c7c5f;padding:1rem 2rem 1rem 1rem;z-index:10}.user-info-dropDown[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation-name:p-anim-in;animation-duration:1s;transition:ease-in-out}@keyframes user-info-anim-in{0%{height:1rem}to{height:10rem}}@keyframes p-anim-in{0%{opacity:0}to{opacity:1}}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;padding-left:10%}h1[_ngcontent-%COMP%]{color:#fff}h2[_ngcontent-%COMP%]{transition:.5s ease-in-out}h2[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}h3[_ngcontent-%COMP%]{cursor:default;font-weight:bold;color:#fff}ul[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]{transition:.3s ease-in-out;font-weight:bold;margin-bottom:.5rem;cursor:pointer}li[_ngcontent-%COMP%]:hover{opacity:.4}.chat-space[_ngcontent-%COMP%]{position:absolute;width:22.5rem;top:8.5vh;right:0;background-color:#f3f3f3!important;animation-name:chat-space-anim-in;animation-duration:.5s;transition:ease-in-out;height:91.5vh;box-shadow:2px 2px 3px #7e7c7c5f;z-index:10;padding:1rem;overflow-y:scroll}@keyframes chat-space-anim-in{0%{height:0}to{height:100Vh}}@keyframes chat-space-anim-out{0%{width:21.5rem}to{width:0rem}}.right-content[_ngcontent-%COMP%]{width:87.5%;height:100vh;overflow:hidden}.signOut[_ngcontent-%COMP%]:hover{color:#f53e1e}"]}),t})(),See=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[xee]}),t.\u0275inj=u.cJS({providers:[Wm,zs],imports:[[r0,ZX,KW,Xt.hO.initializeApp(gp_firebaseConfig),r2,ry,du,d,Tw]]}),t})();(0,u.G48)(),hs().bootstrapModule(See).catch(t=>console.error(t))},4762:(wt,je,J)=>{"use strict";J.r(je),J.d(je,{__extends:()=>B,__assign:()=>V,__rest:()=>fe,__decorate:()=>Se,__param:()=>ge,__metadata:()=>ze,__awaiter:()=>me,__generator:()=>pe,__createBinding:()=>F,__exportStar:()=>ae,__values:()=>ee,__read:()=>se,__spread:()=>ue,__spreadArrays:()=>Te,__spreadArray:()=>Ne,__await:()=>De,__asyncGenerator:()=>Me,__asyncDelegator:()=>Le,__asyncValues:()=>Ze,__makeTemplateObject:()=>nt,__importStar:()=>Bt,__importDefault:()=>ot,__classPrivateFieldGet:()=>Gt,__classPrivateFieldSet:()=>yn});var u=function(de,Ae){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,we){G.__proto__=we}||function(G,we){for(var Ue in we)Object.prototype.hasOwnProperty.call(we,Ue)&&(G[Ue]=we[Ue])})(de,Ae)};function B(de,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function G(){this.constructor=de}u(de,Ae),de.prototype=null===Ae?Object.create(Ae):(G.prototype=Ae.prototype,new G)}var V=function(){return(V=Object.assign||function(Ae){for(var G,we=1,Ue=arguments.length;we<Ue;we++)for(var Ee in G=arguments[we])Object.prototype.hasOwnProperty.call(G,Ee)&&(Ae[Ee]=G[Ee]);return Ae}).apply(this,arguments)};function fe(de,Ae){var G={};for(var we in de)Object.prototype.hasOwnProperty.call(de,we)&&Ae.indexOf(we)<0&&(G[we]=de[we]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(we=Object.getOwnPropertySymbols(de);Ue<we.length;Ue++)Ae.indexOf(we[Ue])<0&&Object.prototype.propertyIsEnumerable.call(de,we[Ue])&&(G[we[Ue]]=de[we[Ue]])}return G}function Se(de,Ae,G,we){var Et,Ue=arguments.length,Ee=Ue<3?Ae:null===we?we=Object.getOwnPropertyDescriptor(Ae,G):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(de,Ae,G,we);else for(var Ct=de.length-1;Ct>=0;Ct--)(Et=de[Ct])&&(Ee=(Ue<3?Et(Ee):Ue>3?Et(Ae,G,Ee):Et(Ae,G))||Ee);return Ue>3&&Ee&&Object.defineProperty(Ae,G,Ee),Ee}function ge(de,Ae){return function(G,we){Ae(G,we,de)}}function ze(de,Ae){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(de,Ae)}function me(de,Ae,G,we){return new(G||(G=Promise))(function(Ee,Et){function Ct(mt){try{_t(we.next(mt))}catch(it){Et(it)}}function _n(mt){try{_t(we.throw(mt))}catch(it){Et(it)}}function _t(mt){mt.done?Ee(mt.value):function(Ee){return Ee instanceof G?Ee:new G(function(Et){Et(Ee)})}(mt.value).then(Ct,_n)}_t((we=we.apply(de,Ae||[])).next())})}function pe(de,Ae){var we,Ue,Ee,Et,G={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return Et={next:Ct(0),throw:Ct(1),return:Ct(2)},"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function Ct(_t){return function(mt){return function(_t){if(we)throw new TypeError("Generator is already executing.");for(;G;)try{if(we=1,Ue&&(Ee=2&_t[0]?Ue.return:_t[0]?Ue.throw||((Ee=Ue.return)&&Ee.call(Ue),0):Ue.next)&&!(Ee=Ee.call(Ue,_t[1])).done)return Ee;switch(Ue=0,Ee&&(_t=[2&_t[0],Ee.value]),_t[0]){case 0:case 1:Ee=_t;break;case 4:return G.label++,{value:_t[1],done:!1};case 5:G.label++,Ue=_t[1],_t=[0];continue;case 7:_t=G.ops.pop(),G.trys.pop();continue;default:if(!(Ee=(Ee=G.trys).length>0&&Ee[Ee.length-1])&&(6===_t[0]||2===_t[0])){G=0;continue}if(3===_t[0]&&(!Ee||_t[1]>Ee[0]&&_t[1]<Ee[3])){G.label=_t[1];break}if(6===_t[0]&&G.label<Ee[1]){G.label=Ee[1],Ee=_t;break}if(Ee&&G.label<Ee[2]){G.label=Ee[2],G.ops.push(_t);break}Ee[2]&&G.ops.pop(),G.trys.pop();continue}_t=Ae.call(de,G)}catch(mt){_t=[6,mt],Ue=0}finally{we=Ee=0}if(5&_t[0])throw _t[1];return{value:_t[0]?_t[1]:void 0,done:!0}}([_t,mt])}}}var F=Object.create?function(de,Ae,G,we){void 0===we&&(we=G),Object.defineProperty(de,we,{enumerable:!0,get:function(){return Ae[G]}})}:function(de,Ae,G,we){void 0===we&&(we=G),de[we]=Ae[G]};function ae(de,Ae){for(var G in de)"default"!==G&&!Object.prototype.hasOwnProperty.call(Ae,G)&&F(Ae,de,G)}function ee(de){var Ae="function"==typeof Symbol&&Symbol.iterator,G=Ae&&de[Ae],we=0;if(G)return G.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&we>=de.length&&(de=void 0),{value:de&&de[we++],done:!de}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(de,Ae){var G="function"==typeof Symbol&&de[Symbol.iterator];if(!G)return de;var Ue,Et,we=G.call(de),Ee=[];try{for(;(void 0===Ae||Ae-- >0)&&!(Ue=we.next()).done;)Ee.push(Ue.value)}catch(Ct){Et={error:Ct}}finally{try{Ue&&!Ue.done&&(G=we.return)&&G.call(we)}finally{if(Et)throw Et.error}}return Ee}function ue(){for(var de=[],Ae=0;Ae<arguments.length;Ae++)de=de.concat(se(arguments[Ae]));return de}function Te(){for(var de=0,Ae=0,G=arguments.length;Ae<G;Ae++)de+=arguments[Ae].length;var we=Array(de),Ue=0;for(Ae=0;Ae<G;Ae++)for(var Ee=arguments[Ae],Et=0,Ct=Ee.length;Et<Ct;Et++,Ue++)we[Ue]=Ee[Et];return we}function Ne(de,Ae,G){if(G||2===arguments.length)for(var Ee,we=0,Ue=Ae.length;we<Ue;we++)(Ee||!(we in Ae))&&(Ee||(Ee=Array.prototype.slice.call(Ae,0,we)),Ee[we]=Ae[we]);return de.concat(Ee||Array.prototype.slice.call(Ae))}function De(de){return this instanceof De?(this.v=de,this):new De(de)}function Me(de,Ae,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,we=G.apply(de,Ae||[]),Ee=[];return Ue={},Et("next"),Et("throw"),Et("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Et(at){we[at]&&(Ue[at]=function(Ot){return new Promise(function(En,rn){Ee.push([at,Ot,En,rn])>1||Ct(at,Ot)})})}function Ct(at,Ot){try{!function(at){at.value instanceof De?Promise.resolve(at.value.v).then(_t,mt):it(Ee[0][2],at)}(we[at](Ot))}catch(En){it(Ee[0][3],En)}}function _t(at){Ct("next",at)}function mt(at){Ct("throw",at)}function it(at,Ot){at(Ot),Ee.shift(),Ee.length&&Ct(Ee[0][0],Ee[0][1])}}function Le(de){var Ae,G;return Ae={},we("next"),we("throw",function(Ue){throw Ue}),we("return"),Ae[Symbol.iterator]=function(){return this},Ae;function we(Ue,Ee){Ae[Ue]=de[Ue]?function(Et){return(G=!G)?{value:De(de[Ue](Et)),done:"return"===Ue}:Ee?Ee(Et):Et}:Ee}}function Ze(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,Ae=de[Symbol.asyncIterator];return Ae?Ae.call(de):(de=ee(de),G={},we("next"),we("throw"),we("return"),G[Symbol.asyncIterator]=function(){return this},G);function we(Ee){G[Ee]=de[Ee]&&function(Et){return new Promise(function(Ct,_n){!function(Ee,Et,Ct,_n){Promise.resolve(_n).then(function(_t){Ee({value:_t,done:Ct})},Et)}(Ct,_n,(Et=de[Ee](Et)).done,Et.value)})}}}function nt(de,Ae){return Object.defineProperty?Object.defineProperty(de,"raw",{value:Ae}):de.raw=Ae,de}var Qe=Object.create?function(de,Ae){Object.defineProperty(de,"default",{enumerable:!0,value:Ae})}:function(de,Ae){de.default=Ae};function Bt(de){if(de&&de.__esModule)return de;var Ae={};if(null!=de)for(var G in de)"default"!==G&&Object.prototype.hasOwnProperty.call(de,G)&&F(Ae,de,G);return Qe(Ae,de),Ae}function ot(de){return de&&de.__esModule?de:{default:de}}function Gt(de,Ae,G,we){if("a"===G&&!we)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ae?de!==Ae||!we:!Ae.has(de))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===G?we:"a"===G?we.call(de):we?we.value:Ae.get(de)}function yn(de,Ae,G,we,Ue){if("m"===we)throw new TypeError("Private method is not writable");if("a"===we&&!Ue)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ae?de!==Ae||!Ue:!Ae.has(de))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===we?Ue.call(de,G):Ue?Ue.value=G:Ae.set(de,G),G}}},wt=>{wt(wt.s=9316)}]);